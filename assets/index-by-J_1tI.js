function TU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JR={exports:{}},Bp={},YR={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=Symbol.for("react.element"),SU=Symbol.for("react.portal"),bU=Symbol.for("react.fragment"),AU=Symbol.for("react.strict_mode"),IU=Symbol.for("react.profiler"),xU=Symbol.for("react.provider"),CU=Symbol.for("react.context"),PU=Symbol.for("react.forward_ref"),RU=Symbol.for("react.suspense"),NU=Symbol.for("react.memo"),kU=Symbol.for("react.lazy"),jS=Symbol.iterator;function MU(t){return t===null||typeof t!="object"?null:(t=jS&&t[jS]||t["@@iterator"],typeof t=="function"?t:null)}var XR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QR=Object.assign,ZR={};function al(t,e,n){this.props=t,this.context=e,this.refs=ZR,this.updater=n||XR}al.prototype.isReactComponent={};al.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};al.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eN(){}eN.prototype=al.prototype;function Q_(t,e,n){this.props=t,this.context=e,this.refs=ZR,this.updater=n||XR}var Z_=Q_.prototype=new eN;Z_.constructor=Q_;QR(Z_,al.prototype);Z_.isPureReactComponent=!0;var HS=Array.isArray,tN=Object.prototype.hasOwnProperty,ew={current:null},nN={key:!0,ref:!0,__self:!0,__source:!0};function rN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)tN.call(e,r)&&!nN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nf,type:t,key:o,ref:s,props:i,_owner:ew.current}}function OU(t,e){return{$$typeof:nf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tw(t){return typeof t=="object"&&t!==null&&t.$$typeof===nf}function DU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var GS=/\/+/g;function Vg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DU(""+t.key):e.toString(36)}function Id(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case nf:case SU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Vg(s,0):r,HS(i)?(n="",t!=null&&(n=t.replace(GS,"$&/")+"/"),Id(i,e,n,"",function(u){return u})):i!=null&&(tw(i)&&(i=OU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(GS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",HS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Vg(o,a);s+=Id(o,e,n,l,i)}else if(l=MU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Vg(o,a++),s+=Id(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function jf(t,e,n){if(t==null)return t;var r=[],i=0;return Id(t,r,"","",function(o){return e.call(n,o,i++)}),r}function LU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},xd={transition:null},$U={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:xd,ReactCurrentOwner:ew};function iN(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:jf,forEach:function(t,e,n){jf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jf(t,function(){e++}),e},toArray:function(t){return jf(t,function(e){return e})||[]},only:function(t){if(!tw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=al;Ee.Fragment=bU;Ee.Profiler=IU;Ee.PureComponent=Q_;Ee.StrictMode=AU;Ee.Suspense=RU;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$U;Ee.act=iN;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=QR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ew.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tN.call(e,l)&&!nN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nf,type:t.type,key:i,ref:o,props:r,_owner:s}};Ee.createContext=function(t){return t={$$typeof:CU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xU,_context:t},t.Consumer=t};Ee.createElement=rN;Ee.createFactory=function(t){var e=rN.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:PU,render:t}};Ee.isValidElement=tw;Ee.lazy=function(t){return{$$typeof:kU,_payload:{_status:-1,_result:t},_init:LU}};Ee.memo=function(t,e){return{$$typeof:NU,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=xd.transition;xd.transition={};try{t()}finally{xd.transition=e}};Ee.unstable_act=iN;Ee.useCallback=function(t,e){return hn.current.useCallback(t,e)};Ee.useContext=function(t){return hn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return hn.current.useEffect(t,e)};Ee.useId=function(){return hn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return hn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};Ee.useRef=function(t){return hn.current.useRef(t)};Ee.useState=function(t){return hn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return hn.current.useTransition()};Ee.version="18.3.1";YR.exports=Ee;var $=YR.exports;const F=Ge($),VU=TU({__proto__:null,default:F},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UU=$,FU=Symbol.for("react.element"),BU=Symbol.for("react.fragment"),qU=Object.prototype.hasOwnProperty,jU=UU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HU={key:!0,ref:!0,__self:!0,__source:!0};function oN(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)qU.call(e,r)&&!HU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FU,type:t,key:o,ref:s,props:i,_owner:jU.current}}Bp.Fragment=BU;Bp.jsx=oN;Bp.jsxs=oN;JR.exports=Bp;var O=JR.exports,Xy={},sN={exports:{}},On={},aN={exports:{}},lN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,H){var X=V.length;V.push(H);e:for(;0<X;){var te=X-1>>>1,Z=V[te];if(0<i(Z,H))V[te]=H,V[X]=Z,X=te;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var H=V[0],X=V.pop();if(X!==H){V[0]=X;e:for(var te=0,Z=V.length,le=Z>>>1;te<le;){var _e=2*(te+1)-1,Ve=V[_e],ze=_e+1,Jt=V[ze];if(0>i(Ve,X))ze<Z&&0>i(Jt,Ve)?(V[te]=Jt,V[ze]=X,te=ze):(V[te]=Ve,V[_e]=X,te=_e);else if(ze<Z&&0>i(Jt,X))V[te]=Jt,V[ze]=X,te=ze;else break e}}return H}function i(V,H){var X=V.sortIndex-H.sortIndex;return X!==0?X:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,g=!1,_=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=V)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function R(V){if(y=!1,S(V),!_)if(n(l)!==null)_=!0,G(A);else{var H=n(u);H!==null&&K(R,H.startTime-V)}}function A(V,H){_=!1,y&&(y=!1,v(I),I=-1),g=!0;var X=h;try{for(S(H),f=n(l);f!==null&&(!(f.expirationTime>H)||V&&!k());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var Z=te(f.expirationTime<=H);H=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),S(H)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var _e=n(u);_e!==null&&K(R,_e.startTime-H),le=!1}return le}finally{f=null,h=X,g=!1}}var x=!1,b=null,I=-1,C=5,M=-1;function k(){return!(t.unstable_now()-M<C)}function D(){if(b!==null){var V=t.unstable_now();M=V;var H=!0;try{H=b(!0,V)}finally{H?N():(x=!1,b=null)}}else x=!1}var N;if(typeof E=="function")N=function(){E(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,j=B.port2;B.port1.onmessage=D,N=function(){j.postMessage(null)}}else N=function(){w(D,0)};function G(V){b=V,x||(x=!0,N())}function K(V,H){I=w(function(){V(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,G(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var X=h;h=H;try{return V()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=h;h=V;try{return H()}finally{h=X}},t.unstable_scheduleCallback=function(V,H,X){var te=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?te+X:te):X=te,V){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,V={id:c++,callback:H,priorityLevel:V,startTime:X,expirationTime:Z,sortIndex:-1},X>te?(V.sortIndex=X,e(u,V),n(l)===null&&V===n(u)&&(y?(v(I),I=-1):y=!0,K(R,X-te))):(V.sortIndex=Z,e(l,V),_||g||(_=!0,G(A))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var H=h;return function(){var X=h;h=H;try{return V.apply(this,arguments)}finally{h=X}}}})(lN);aN.exports=lN;var GU=aN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zU=$,Mn=GU;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uN=new Set,Wu={};function ws(t,e){Aa(t,e),Aa(t+"Capture",e)}function Aa(t,e){for(Wu[t]=e,t=0;t<e.length;t++)uN.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qy=Object.prototype.hasOwnProperty,WU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zS={},WS={};function KU(t){return Qy.call(WS,t)?!0:Qy.call(zS,t)?!1:WU.test(t)?WS[t]=!0:(zS[t]=!0,!1)}function JU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YU(t,e,n,r){if(e===null||typeof e>"u"||JU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var nw=/[\-:]([a-z])/g;function rw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nw,rw);Wt[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nw,rw);Wt[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nw,rw);Wt[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function iw(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YU(e,n,i,r)&&(n=null),r||i===null?KU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gi=zU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hf=Symbol.for("react.element"),zs=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),Zy=Symbol.for("react.profiler"),cN=Symbol.for("react.provider"),fN=Symbol.for("react.context"),sw=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.suspense_list"),aw=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),dN=Symbol.for("react.offscreen"),KS=Symbol.iterator;function Jl(t){return t===null||typeof t!="object"?null:(t=KS&&t[KS]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Ug;function mu(t){if(Ug===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ug=e&&e[1]||""}return`
`+Ug+t}var Fg=!1;function Bg(t,e){if(!t||Fg)return"";Fg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Fg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mu(t):""}function XU(t){switch(t.tag){case 5:return mu(t.type);case 16:return mu("Lazy");case 13:return mu("Suspense");case 19:return mu("SuspenseList");case 0:case 2:case 15:return t=Bg(t.type,!1),t;case 11:return t=Bg(t.type.render,!1),t;case 1:return t=Bg(t.type,!0),t;default:return""}}function nv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ws:return"Fragment";case zs:return"Portal";case Zy:return"Profiler";case ow:return"StrictMode";case ev:return"Suspense";case tv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fN:return(t.displayName||"Context")+".Consumer";case cN:return(t._context.displayName||"Context")+".Provider";case sw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case aw:return e=t.displayName||null,e!==null?e:nv(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return nv(t(e))}catch{}}return null}function QU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nv(e);case 8:return e===ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZU(t){var e=hN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gf(t){t._valueTracker||(t._valueTracker=ZU(t))}function pN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rv(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function JS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ao(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mN(t,e){e=e.checked,e!=null&&iw(t,"checked",e,!1)}function iv(t,e){mN(t,e);var n=ao(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ov(t,e.type,n):e.hasOwnProperty("defaultValue")&&ov(t,e.type,ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function YS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ov(t,e,n){(e!=="number"||Yd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gu=Array.isArray;function la(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ao(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(gu(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ao(n)}}function gN(t,e){var n=ao(e.value),r=ao(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function QS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function av(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zf,vN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zf=zf||document.createElement("div"),zf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eF=["Webkit","ms","Moz","O"];Object.keys(Iu).forEach(function(t){eF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Iu[e]=Iu[t]})});function _N(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Iu.hasOwnProperty(t)&&Iu[t]?(""+e).trim():e+"px"}function wN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_N(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var tF=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lv(t,e){if(e){if(tF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function uv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cv=null;function lw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fv=null,ua=null,ca=null;function ZS(t){if(t=sf(t)){if(typeof fv!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=zp(e),fv(t.stateNode,t.type,e))}}function EN(t){ua?ca?ca.push(t):ca=[t]:ua=t}function TN(){if(ua){var t=ua,e=ca;if(ca=ua=null,ZS(t),e)for(t=0;t<e.length;t++)ZS(e[t])}}function SN(t,e){return t(e)}function bN(){}var qg=!1;function AN(t,e,n){if(qg)return t(e,n);qg=!0;try{return SN(t,e,n)}finally{qg=!1,(ua!==null||ca!==null)&&(bN(),TN())}}function Ju(t,e){var n=t.stateNode;if(n===null)return null;var r=zp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var dv=!1;if(ii)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){dv=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{dv=!1}function nF(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var xu=!1,Xd=null,Qd=!1,hv=null,rF={onError:function(t){xu=!0,Xd=t}};function iF(t,e,n,r,i,o,s,a,l){xu=!1,Xd=null,nF.apply(rF,arguments)}function oF(t,e,n,r,i,o,s,a,l){if(iF.apply(this,arguments),xu){if(xu){var u=Xd;xu=!1,Xd=null}else throw Error(Q(198));Qd||(Qd=!0,hv=u)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eb(t){if(Es(t)!==t)throw Error(Q(188))}function sF(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return eb(i),t;if(o===r)return eb(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function xN(t){return t=sF(t),t!==null?CN(t):null}function CN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CN(t);if(e!==null)return e;t=t.sibling}return null}var PN=Mn.unstable_scheduleCallback,tb=Mn.unstable_cancelCallback,aF=Mn.unstable_shouldYield,lF=Mn.unstable_requestPaint,pt=Mn.unstable_now,uF=Mn.unstable_getCurrentPriorityLevel,uw=Mn.unstable_ImmediatePriority,RN=Mn.unstable_UserBlockingPriority,Zd=Mn.unstable_NormalPriority,cF=Mn.unstable_LowPriority,NN=Mn.unstable_IdlePriority,qp=null,Cr=null;function fF(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(qp,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:pF,dF=Math.log,hF=Math.LN2;function pF(t){return t>>>=0,t===0?32:31-(dF(t)/hF|0)|0}var Wf=64,Kf=4194304;function yu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=yu(a):(o&=s,o!==0&&(r=yu(o)))}else s=n&~i,s!==0?r=yu(s):o!==0&&(r=yu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function mF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-hr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=mF(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function pv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kN(){var t=Wf;return Wf<<=1,!(Wf&4194240)&&(Wf=64),t}function jg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function yF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function cw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function MN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ON,fw,DN,LN,$N,mv=!1,Jf=[],Gi=null,zi=null,Wi=null,Yu=new Map,Xu=new Map,Di=[],vF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nb(t,e){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Yu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(e.pointerId)}}function Xl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=sf(e),e!==null&&fw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _F(t,e,n,r,i){switch(e){case"focusin":return Gi=Xl(Gi,t,e,n,r,i),!0;case"dragenter":return zi=Xl(zi,t,e,n,r,i),!0;case"mouseover":return Wi=Xl(Wi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Yu.set(o,Xl(Yu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Xu.set(o,Xl(Xu.get(o)||null,t,e,n,r,i)),!0}return!1}function VN(t){var e=jo(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=IN(n),e!==null){t.blockedOn=e,$N(t.priority,function(){DN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cv=r,n.target.dispatchEvent(r),cv=null}else return e=sf(n),e!==null&&fw(e),t.blockedOn=n,!1;e.shift()}return!0}function rb(t,e,n){Cd(t)&&n.delete(e)}function wF(){mv=!1,Gi!==null&&Cd(Gi)&&(Gi=null),zi!==null&&Cd(zi)&&(zi=null),Wi!==null&&Cd(Wi)&&(Wi=null),Yu.forEach(rb),Xu.forEach(rb)}function Ql(t,e){t.blockedOn===e&&(t.blockedOn=null,mv||(mv=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,wF)))}function Qu(t){function e(i){return Ql(i,t)}if(0<Jf.length){Ql(Jf[0],t);for(var n=1;n<Jf.length;n++){var r=Jf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gi!==null&&Ql(Gi,t),zi!==null&&Ql(zi,t),Wi!==null&&Ql(Wi,t),Yu.forEach(e),Xu.forEach(e),n=0;n<Di.length;n++)r=Di[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Di.length&&(n=Di[0],n.blockedOn===null);)VN(n),n.blockedOn===null&&Di.shift()}var fa=gi.ReactCurrentBatchConfig,th=!0;function EF(t,e,n,r){var i=Le,o=fa.transition;fa.transition=null;try{Le=1,dw(t,e,n,r)}finally{Le=i,fa.transition=o}}function TF(t,e,n,r){var i=Le,o=fa.transition;fa.transition=null;try{Le=4,dw(t,e,n,r)}finally{Le=i,fa.transition=o}}function dw(t,e,n,r){if(th){var i=gv(t,e,n,r);if(i===null)Zg(t,e,r,nh,n),nb(t,r);else if(_F(i,t,e,n,r))r.stopPropagation();else if(nb(t,r),e&4&&-1<vF.indexOf(t)){for(;i!==null;){var o=sf(i);if(o!==null&&ON(o),o=gv(t,e,n,r),o===null&&Zg(t,e,r,nh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zg(t,e,r,null,n)}}var nh=null;function gv(t,e,n,r){if(nh=null,t=lw(r),t=jo(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nh=t,null}function UN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uF()){case uw:return 1;case RN:return 4;case Zd:case cF:return 16;case NN:return 536870912;default:return 16}default:return 16}}var Fi=null,hw=null,Pd=null;function FN(){if(Pd)return Pd;var t,e=hw,n=e.length,r,i="value"in Fi?Fi.value:Fi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Pd=i.slice(t,1<r?1-r:void 0)}function Rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yf(){return!0}function ib(){return!1}function Dn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yf:ib,this.isPropagationStopped=ib,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yf)},persist:function(){},isPersistent:Yf}),e}var ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pw=Dn(ll),of=at({},ll,{view:0,detail:0}),SF=Dn(of),Hg,Gg,Zl,jp=at({},of,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zl&&(Zl&&t.type==="mousemove"?(Hg=t.screenX-Zl.screenX,Gg=t.screenY-Zl.screenY):Gg=Hg=0,Zl=t),Hg)},movementY:function(t){return"movementY"in t?t.movementY:Gg}}),ob=Dn(jp),bF=at({},jp,{dataTransfer:0}),AF=Dn(bF),IF=at({},of,{relatedTarget:0}),zg=Dn(IF),xF=at({},ll,{animationName:0,elapsedTime:0,pseudoElement:0}),CF=Dn(xF),PF=at({},ll,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RF=Dn(PF),NF=at({},ll,{data:0}),sb=Dn(NF),kF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OF[t])?!!e[t]:!1}function mw(){return DF}var LF=at({},of,{key:function(t){if(t.key){var e=kF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mw,charCode:function(t){return t.type==="keypress"?Rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$F=Dn(LF),VF=at({},jp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ab=Dn(VF),UF=at({},of,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mw}),FF=Dn(UF),BF=at({},ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),qF=Dn(BF),jF=at({},jp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HF=Dn(jF),GF=[9,13,27,32],gw=ii&&"CompositionEvent"in window,Cu=null;ii&&"documentMode"in document&&(Cu=document.documentMode);var zF=ii&&"TextEvent"in window&&!Cu,BN=ii&&(!gw||Cu&&8<Cu&&11>=Cu),lb=" ",ub=!1;function qN(t,e){switch(t){case"keyup":return GF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function WF(t,e){switch(t){case"compositionend":return jN(e);case"keypress":return e.which!==32?null:(ub=!0,lb);case"textInput":return t=e.data,t===lb&&ub?null:t;default:return null}}function KF(t,e){if(Ks)return t==="compositionend"||!gw&&qN(t,e)?(t=FN(),Pd=hw=Fi=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BN&&e.locale!=="ko"?null:e.data;default:return null}}var JF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JF[t.type]:e==="textarea"}function HN(t,e,n,r){EN(r),e=rh(e,"onChange"),0<e.length&&(n=new pw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pu=null,Zu=null;function YF(t){tk(t,0)}function Hp(t){var e=Xs(t);if(pN(e))return t}function XF(t,e){if(t==="change")return e}var GN=!1;if(ii){var Wg;if(ii){var Kg="oninput"in document;if(!Kg){var fb=document.createElement("div");fb.setAttribute("oninput","return;"),Kg=typeof fb.oninput=="function"}Wg=Kg}else Wg=!1;GN=Wg&&(!document.documentMode||9<document.documentMode)}function db(){Pu&&(Pu.detachEvent("onpropertychange",zN),Zu=Pu=null)}function zN(t){if(t.propertyName==="value"&&Hp(Zu)){var e=[];HN(e,Zu,t,lw(t)),AN(YF,e)}}function QF(t,e,n){t==="focusin"?(db(),Pu=e,Zu=n,Pu.attachEvent("onpropertychange",zN)):t==="focusout"&&db()}function ZF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hp(Zu)}function e4(t,e){if(t==="click")return Hp(e)}function t4(t,e){if(t==="input"||t==="change")return Hp(e)}function n4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:n4;function ec(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qy.call(e,i)||!yr(t[i],e[i]))return!1}return!0}function hb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pb(t,e){var n=hb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hb(n)}}function WN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KN(){for(var t=window,e=Yd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yd(t.document)}return e}function yw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r4(t){var e=KN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WN(n.ownerDocument.documentElement,n)){if(r!==null&&yw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=pb(n,o);var s=pb(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i4=ii&&"documentMode"in document&&11>=document.documentMode,Js=null,yv=null,Ru=null,vv=!1;function mb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vv||Js==null||Js!==Yd(r)||(r=Js,"selectionStart"in r&&yw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ru&&ec(Ru,r)||(Ru=r,r=rh(yv,"onSelect"),0<r.length&&(e=new pw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Js)))}function Xf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ys={animationend:Xf("Animation","AnimationEnd"),animationiteration:Xf("Animation","AnimationIteration"),animationstart:Xf("Animation","AnimationStart"),transitionend:Xf("Transition","TransitionEnd")},Jg={},JN={};ii&&(JN=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Gp(t){if(Jg[t])return Jg[t];if(!Ys[t])return t;var e=Ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in JN)return Jg[t]=e[n];return t}var YN=Gp("animationend"),XN=Gp("animationiteration"),QN=Gp("animationstart"),ZN=Gp("transitionend"),ek=new Map,gb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(t,e){ek.set(t,e),ws(e,[t])}for(var Yg=0;Yg<gb.length;Yg++){var Xg=gb[Yg],o4=Xg.toLowerCase(),s4=Xg[0].toUpperCase()+Xg.slice(1);vo(o4,"on"+s4)}vo(YN,"onAnimationEnd");vo(XN,"onAnimationIteration");vo(QN,"onAnimationStart");vo("dblclick","onDoubleClick");vo("focusin","onFocus");vo("focusout","onBlur");vo(ZN,"onTransitionEnd");Aa("onMouseEnter",["mouseout","mouseover"]);Aa("onMouseLeave",["mouseout","mouseover"]);Aa("onPointerEnter",["pointerout","pointerover"]);Aa("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a4=new Set("cancel close invalid load scroll toggle".split(" ").concat(vu));function yb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oF(r,e,void 0,t),t.currentTarget=null}function tk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;yb(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;yb(i,a,u),o=l}}}if(Qd)throw t=hv,Qd=!1,hv=null,t}function Ke(t,e){var n=e[Sv];n===void 0&&(n=e[Sv]=new Set);var r=t+"__bubble";n.has(r)||(nk(e,t,2,!1),n.add(r))}function Qg(t,e,n){var r=0;e&&(r|=4),nk(n,t,r,e)}var Qf="_reactListening"+Math.random().toString(36).slice(2);function tc(t){if(!t[Qf]){t[Qf]=!0,uN.forEach(function(n){n!=="selectionchange"&&(a4.has(n)||Qg(n,!1,t),Qg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qf]||(e[Qf]=!0,Qg("selectionchange",!1,e))}}function nk(t,e,n,r){switch(UN(e)){case 1:var i=EF;break;case 4:i=TF;break;default:i=dw}n=i.bind(null,e,n,t),i=void 0,!dv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=jo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}AN(function(){var u=o,c=lw(n),f=[];e:{var h=ek.get(t);if(h!==void 0){var g=pw,_=t;switch(t){case"keypress":if(Rd(n)===0)break e;case"keydown":case"keyup":g=$F;break;case"focusin":_="focus",g=zg;break;case"focusout":_="blur",g=zg;break;case"beforeblur":case"afterblur":g=zg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ob;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=AF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=FF;break;case YN:case XN:case QN:g=CF;break;case ZN:g=qF;break;case"scroll":g=SF;break;case"wheel":g=HF;break;case"copy":case"cut":case"paste":g=RF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ab}var y=(e&4)!==0,w=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var E=u,S;E!==null;){S=E;var R=S.stateNode;if(S.tag===5&&R!==null&&(S=R,v!==null&&(R=Ju(E,v),R!=null&&y.push(nc(E,R,S)))),w)break;E=E.return}0<y.length&&(h=new g(h,_,null,n,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==cv&&(_=n.relatedTarget||n.fromElement)&&(jo(_)||_[oi]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?jo(_):null,_!==null&&(w=Es(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(y=ob,R="onMouseLeave",v="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=ab,R="onPointerLeave",v="onPointerEnter",E="pointer"),w=g==null?h:Xs(g),S=_==null?h:Xs(_),h=new y(R,E+"leave",g,n,c),h.target=w,h.relatedTarget=S,R=null,jo(c)===u&&(y=new y(v,E+"enter",_,n,c),y.target=S,y.relatedTarget=w,R=y),w=R,g&&_)t:{for(y=g,v=_,E=0,S=y;S;S=$s(S))E++;for(S=0,R=v;R;R=$s(R))S++;for(;0<E-S;)y=$s(y),E--;for(;0<S-E;)v=$s(v),S--;for(;E--;){if(y===v||v!==null&&y===v.alternate)break t;y=$s(y),v=$s(v)}y=null}else y=null;g!==null&&vb(f,h,g,y,!1),_!==null&&w!==null&&vb(f,w,_,y,!0)}}e:{if(h=u?Xs(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var A=XF;else if(cb(h))if(GN)A=t4;else{A=ZF;var x=QF}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=e4);if(A&&(A=A(t,u))){HN(f,A,n,c);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&ov(h,"number",h.value)}switch(x=u?Xs(u):window,t){case"focusin":(cb(x)||x.contentEditable==="true")&&(Js=x,yv=u,Ru=null);break;case"focusout":Ru=yv=Js=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,mb(f,n,c);break;case"selectionchange":if(i4)break;case"keydown":case"keyup":mb(f,n,c)}var b;if(gw)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ks?qN(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(BN&&n.locale!=="ko"&&(Ks||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ks&&(b=FN()):(Fi=c,hw="value"in Fi?Fi.value:Fi.textContent,Ks=!0)),x=rh(u,I),0<x.length&&(I=new sb(I,t,null,n,c),f.push({event:I,listeners:x}),b?I.data=b:(b=jN(n),b!==null&&(I.data=b)))),(b=zF?WF(t,n):KF(t,n))&&(u=rh(u,"onBeforeInput"),0<u.length&&(c=new sb("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}tk(f,e)})}function nc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ju(t,n),o!=null&&r.unshift(nc(t,o,i)),o=Ju(t,e),o!=null&&r.push(nc(t,o,i))),t=t.return}return r}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vb(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ju(n,o),l!=null&&s.unshift(nc(n,l,a))):i||(l=Ju(n,o),l!=null&&s.push(nc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var l4=/\r\n?/g,u4=/\u0000|\uFFFD/g;function _b(t){return(typeof t=="string"?t:""+t).replace(l4,`
`).replace(u4,"")}function Zf(t,e,n){if(e=_b(e),_b(t)!==e&&n)throw Error(Q(425))}function ih(){}var _v=null,wv=null;function Ev(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tv=typeof setTimeout=="function"?setTimeout:void 0,c4=typeof clearTimeout=="function"?clearTimeout:void 0,wb=typeof Promise=="function"?Promise:void 0,f4=typeof queueMicrotask=="function"?queueMicrotask:typeof wb<"u"?function(t){return wb.resolve(null).then(t).catch(d4)}:Tv;function d4(t){setTimeout(function(){throw t})}function ey(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qu(e)}function Ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Eb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ul=Math.random().toString(36).slice(2),Ir="__reactFiber$"+ul,rc="__reactProps$"+ul,oi="__reactContainer$"+ul,Sv="__reactEvents$"+ul,h4="__reactListeners$"+ul,p4="__reactHandles$"+ul;function jo(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Eb(t);t!==null;){if(n=t[Ir])return n;t=Eb(t)}return e}t=n,n=t.parentNode}return null}function sf(t){return t=t[Ir]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function zp(t){return t[rc]||null}var bv=[],Qs=-1;function _o(t){return{current:t}}function et(t){0>Qs||(t.current=bv[Qs],bv[Qs]=null,Qs--)}function He(t,e){Qs++,bv[Qs]=t.current,t.current=e}var lo={},an=_o(lo),_n=_o(!1),os=lo;function Ia(t,e){var n=t.type.contextTypes;if(!n)return lo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function oh(){et(_n),et(an)}function Tb(t,e,n){if(an.current!==lo)throw Error(Q(168));He(an,e),He(_n,n)}function rk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,QU(t)||"Unknown",i));return at({},n,r)}function sh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lo,os=an.current,He(an,t),He(_n,_n.current),!0}function Sb(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=rk(t,e,os),r.__reactInternalMemoizedMergedChildContext=t,et(_n),et(an),He(an,t)):et(_n),He(_n,n)}var zr=null,Wp=!1,ty=!1;function ik(t){zr===null?zr=[t]:zr.push(t)}function m4(t){Wp=!0,ik(t)}function wo(){if(!ty&&zr!==null){ty=!0;var t=0,e=Le;try{var n=zr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zr=null,Wp=!1}catch(i){throw zr!==null&&(zr=zr.slice(t+1)),PN(uw,wo),i}finally{Le=e,ty=!1}}return null}var Zs=[],ea=0,ah=null,lh=0,Fn=[],Bn=0,ss=null,Kr=1,Jr="";function Lo(t,e){Zs[ea++]=lh,Zs[ea++]=ah,ah=t,lh=e}function ok(t,e,n){Fn[Bn++]=Kr,Fn[Bn++]=Jr,Fn[Bn++]=ss,ss=t;var r=Kr;t=Jr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var o=32-hr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Kr=1<<32-hr(e)+i|n<<i|r,Jr=o+t}else Kr=1<<o|n<<i|r,Jr=t}function vw(t){t.return!==null&&(Lo(t,1),ok(t,1,0))}function _w(t){for(;t===ah;)ah=Zs[--ea],Zs[ea]=null,lh=Zs[--ea],Zs[ea]=null;for(;t===ss;)ss=Fn[--Bn],Fn[Bn]=null,Jr=Fn[--Bn],Fn[Bn]=null,Kr=Fn[--Bn],Fn[Bn]=null}var kn=null,Nn=null,tt=!1,ar=null;function sk(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,Nn=Ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ss!==null?{id:Kr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,Nn=null,!0):!1;default:return!1}}function Av(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Iv(t){if(tt){var e=Nn;if(e){var n=e;if(!bb(t,e)){if(Av(t))throw Error(Q(418));e=Ki(n.nextSibling);var r=kn;e&&bb(t,e)?sk(r,n):(t.flags=t.flags&-4097|2,tt=!1,kn=t)}}else{if(Av(t))throw Error(Q(418));t.flags=t.flags&-4097|2,tt=!1,kn=t}}}function Ab(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function ed(t){if(t!==kn)return!1;if(!tt)return Ab(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ev(t.type,t.memoizedProps)),e&&(e=Nn)){if(Av(t))throw ak(),Error(Q(418));for(;e;)sk(t,e),e=Ki(e.nextSibling)}if(Ab(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=Ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=kn?Ki(t.stateNode.nextSibling):null;return!0}function ak(){for(var t=Nn;t;)t=Ki(t.nextSibling)}function xa(){Nn=kn=null,tt=!1}function ww(t){ar===null?ar=[t]:ar.push(t)}var g4=gi.ReactCurrentBatchConfig;function eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function td(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ib(t){var e=t._init;return e(t._payload)}function lk(t){function e(v,E){if(t){var S=v.deletions;S===null?(v.deletions=[E],v.flags|=16):S.push(E)}}function n(v,E){if(!t)return null;for(;E!==null;)e(v,E),E=E.sibling;return null}function r(v,E){for(v=new Map;E!==null;)E.key!==null?v.set(E.key,E):v.set(E.index,E),E=E.sibling;return v}function i(v,E){return v=Qi(v,E),v.index=0,v.sibling=null,v}function o(v,E,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<E?(v.flags|=2,E):S):(v.flags|=2,E)):(v.flags|=1048576,E)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,E,S,R){return E===null||E.tag!==6?(E=ly(S,v.mode,R),E.return=v,E):(E=i(E,S),E.return=v,E)}function l(v,E,S,R){var A=S.type;return A===Ws?c(v,E,S.props.children,R,S.key):E!==null&&(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ki&&Ib(A)===E.type)?(R=i(E,S.props),R.ref=eu(v,E,S),R.return=v,R):(R=$d(S.type,S.key,S.props,null,v.mode,R),R.ref=eu(v,E,S),R.return=v,R)}function u(v,E,S,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=uy(S,v.mode,R),E.return=v,E):(E=i(E,S.children||[]),E.return=v,E)}function c(v,E,S,R,A){return E===null||E.tag!==7?(E=Zo(S,v.mode,R,A),E.return=v,E):(E=i(E,S),E.return=v,E)}function f(v,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ly(""+E,v.mode,S),E.return=v,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hf:return S=$d(E.type,E.key,E.props,null,v.mode,S),S.ref=eu(v,null,E),S.return=v,S;case zs:return E=uy(E,v.mode,S),E.return=v,E;case ki:var R=E._init;return f(v,R(E._payload),S)}if(gu(E)||Jl(E))return E=Zo(E,v.mode,S,null),E.return=v,E;td(v,E)}return null}function h(v,E,S,R){var A=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:a(v,E,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hf:return S.key===A?l(v,E,S,R):null;case zs:return S.key===A?u(v,E,S,R):null;case ki:return A=S._init,h(v,E,A(S._payload),R)}if(gu(S)||Jl(S))return A!==null?null:c(v,E,S,R,null);td(v,S)}return null}function g(v,E,S,R,A){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(S)||null,a(E,v,""+R,A);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Hf:return v=v.get(R.key===null?S:R.key)||null,l(E,v,R,A);case zs:return v=v.get(R.key===null?S:R.key)||null,u(E,v,R,A);case ki:var x=R._init;return g(v,E,S,x(R._payload),A)}if(gu(R)||Jl(R))return v=v.get(S)||null,c(E,v,R,A,null);td(E,R)}return null}function _(v,E,S,R){for(var A=null,x=null,b=E,I=E=0,C=null;b!==null&&I<S.length;I++){b.index>I?(C=b,b=null):C=b.sibling;var M=h(v,b,S[I],R);if(M===null){b===null&&(b=C);break}t&&b&&M.alternate===null&&e(v,b),E=o(M,E,I),x===null?A=M:x.sibling=M,x=M,b=C}if(I===S.length)return n(v,b),tt&&Lo(v,I),A;if(b===null){for(;I<S.length;I++)b=f(v,S[I],R),b!==null&&(E=o(b,E,I),x===null?A=b:x.sibling=b,x=b);return tt&&Lo(v,I),A}for(b=r(v,b);I<S.length;I++)C=g(b,v,I,S[I],R),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?I:C.key),E=o(C,E,I),x===null?A=C:x.sibling=C,x=C);return t&&b.forEach(function(k){return e(v,k)}),tt&&Lo(v,I),A}function y(v,E,S,R){var A=Jl(S);if(typeof A!="function")throw Error(Q(150));if(S=A.call(S),S==null)throw Error(Q(151));for(var x=A=null,b=E,I=E=0,C=null,M=S.next();b!==null&&!M.done;I++,M=S.next()){b.index>I?(C=b,b=null):C=b.sibling;var k=h(v,b,M.value,R);if(k===null){b===null&&(b=C);break}t&&b&&k.alternate===null&&e(v,b),E=o(k,E,I),x===null?A=k:x.sibling=k,x=k,b=C}if(M.done)return n(v,b),tt&&Lo(v,I),A;if(b===null){for(;!M.done;I++,M=S.next())M=f(v,M.value,R),M!==null&&(E=o(M,E,I),x===null?A=M:x.sibling=M,x=M);return tt&&Lo(v,I),A}for(b=r(v,b);!M.done;I++,M=S.next())M=g(b,v,I,M.value,R),M!==null&&(t&&M.alternate!==null&&b.delete(M.key===null?I:M.key),E=o(M,E,I),x===null?A=M:x.sibling=M,x=M);return t&&b.forEach(function(D){return e(v,D)}),tt&&Lo(v,I),A}function w(v,E,S,R){if(typeof S=="object"&&S!==null&&S.type===Ws&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Hf:e:{for(var A=S.key,x=E;x!==null;){if(x.key===A){if(A=S.type,A===Ws){if(x.tag===7){n(v,x.sibling),E=i(x,S.props.children),E.return=v,v=E;break e}}else if(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===ki&&Ib(A)===x.type){n(v,x.sibling),E=i(x,S.props),E.ref=eu(v,x,S),E.return=v,v=E;break e}n(v,x);break}else e(v,x);x=x.sibling}S.type===Ws?(E=Zo(S.props.children,v.mode,R,S.key),E.return=v,v=E):(R=$d(S.type,S.key,S.props,null,v.mode,R),R.ref=eu(v,E,S),R.return=v,v=R)}return s(v);case zs:e:{for(x=S.key;E!==null;){if(E.key===x)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(v,E.sibling),E=i(E,S.children||[]),E.return=v,v=E;break e}else{n(v,E);break}else e(v,E);E=E.sibling}E=uy(S,v.mode,R),E.return=v,v=E}return s(v);case ki:return x=S._init,w(v,E,x(S._payload),R)}if(gu(S))return _(v,E,S,R);if(Jl(S))return y(v,E,S,R);td(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(v,E.sibling),E=i(E,S),E.return=v,v=E):(n(v,E),E=ly(S,v.mode,R),E.return=v,v=E),s(v)):n(v,E)}return w}var Ca=lk(!0),uk=lk(!1),uh=_o(null),ch=null,ta=null,Ew=null;function Tw(){Ew=ta=ch=null}function Sw(t){var e=uh.current;et(uh),t._currentValue=e}function xv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function da(t,e){ch=t,Ew=ta=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(Ew!==t)if(t={context:t,memoizedValue:e,next:null},ta===null){if(ch===null)throw Error(Q(308));ta=t,ch.dependencies={lanes:0,firstContext:t}}else ta=ta.next=t;return e}var Ho=null;function bw(t){Ho===null?Ho=[t]:Ho.push(t)}function ck(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bw(e)):(n.next=i.next,i.next=n),e.interleaved=n,si(t,r)}function si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mi=!1;function Aw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,si(t,n)}return i=r.interleaved,i===null?(e.next=e,bw(r)):(e.next=i.next,i.next=e),r.interleaved=e,si(t,n)}function Nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cw(t,n)}}function xb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fh(t,e,n,r){var i=t.updateQueue;Mi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(h=e,g=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(g,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,h=typeof _=="function"?_.call(g,f,h):_,h==null)break e;f=at({},f,h);break e;case 2:Mi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=f):c=c.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ls|=s,t.lanes=s,t.memoizedState=f}}function Cb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var af={},Pr=_o(af),ic=_o(af),oc=_o(af);function Go(t){if(t===af)throw Error(Q(174));return t}function Iw(t,e){switch(He(oc,e),He(ic,t),He(Pr,af),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:av(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=av(e,t)}et(Pr),He(Pr,e)}function Pa(){et(Pr),et(ic),et(oc)}function dk(t){Go(oc.current);var e=Go(Pr.current),n=av(e,t.type);e!==n&&(He(ic,t),He(Pr,n))}function xw(t){ic.current===t&&(et(Pr),et(ic))}var ot=_o(0);function dh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ny=[];function Cw(){for(var t=0;t<ny.length;t++)ny[t]._workInProgressVersionPrimary=null;ny.length=0}var kd=gi.ReactCurrentDispatcher,ry=gi.ReactCurrentBatchConfig,as=0,st=null,bt=null,$t=null,hh=!1,Nu=!1,sc=0,y4=0;function Yt(){throw Error(Q(321))}function Pw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function Rw(t,e,n,r,i,o){if(as=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kd.current=t===null||t.memoizedState===null?E4:T4,t=n(r,i),Nu){o=0;do{if(Nu=!1,sc=0,25<=o)throw Error(Q(301));o+=1,$t=bt=null,e.updateQueue=null,kd.current=S4,t=n(r,i)}while(Nu)}if(kd.current=ph,e=bt!==null&&bt.next!==null,as=0,$t=bt=st=null,hh=!1,e)throw Error(Q(300));return t}function Nw(){var t=sc!==0;return sc=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?st.memoizedState=$t=t:$t=$t.next=t,$t}function Yn(){if(bt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=$t===null?st.memoizedState:$t.next;if(e!==null)$t=e,bt=t;else{if(t===null)throw Error(Q(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},$t===null?st.memoizedState=$t=t:$t=$t.next=t}return $t}function ac(t,e){return typeof e=="function"?e(t):e}function iy(t){var e=Yn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((as&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,st.lanes|=c,ls|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,yr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,st.lanes|=o,ls|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function oy(t){var e=Yn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);yr(o,e.memoizedState)||(yn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function hk(){}function pk(t,e){var n=st,r=Yn(),i=e(),o=!yr(r.memoizedState,i);if(o&&(r.memoizedState=i,yn=!0),r=r.queue,kw(yk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,lc(9,gk.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(Q(349));as&30||mk(n,e,i)}return i}function mk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gk(t,e,n,r){e.value=n,e.getSnapshot=r,vk(e)&&_k(t)}function yk(t,e,n){return n(function(){vk(e)&&_k(t)})}function vk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function _k(t){var e=si(t,1);e!==null&&pr(e,t,1,-1)}function Pb(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:t},e.queue=t,t=t.dispatch=w4.bind(null,st,t),[e.memoizedState,t]}function lc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wk(){return Yn().memoizedState}function Md(t,e,n,r){var i=Sr();st.flags|=t,i.memoizedState=lc(1|e,n,void 0,r===void 0?null:r)}function Kp(t,e,n,r){var i=Yn();r=r===void 0?null:r;var o=void 0;if(bt!==null){var s=bt.memoizedState;if(o=s.destroy,r!==null&&Pw(r,s.deps)){i.memoizedState=lc(e,n,o,r);return}}st.flags|=t,i.memoizedState=lc(1|e,n,o,r)}function Rb(t,e){return Md(8390656,8,t,e)}function kw(t,e){return Kp(2048,8,t,e)}function Ek(t,e){return Kp(4,2,t,e)}function Tk(t,e){return Kp(4,4,t,e)}function Sk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bk(t,e,n){return n=n!=null?n.concat([t]):null,Kp(4,4,Sk.bind(null,e,t),n)}function Mw(){}function Ak(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ik(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xk(t,e,n){return as&21?(yr(n,e)||(n=kN(),st.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function v4(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=ry.transition;ry.transition={};try{t(!1),e()}finally{Le=n,ry.transition=r}}function Ck(){return Yn().memoizedState}function _4(t,e,n){var r=Xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pk(t))Rk(e,n);else if(n=ck(t,e,n,r),n!==null){var i=dn();pr(n,t,r,i),Nk(n,e,r)}}function w4(t,e,n){var r=Xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pk(t))Rk(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,yr(a,s)){var l=e.interleaved;l===null?(i.next=i,bw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ck(t,e,i,r),n!==null&&(i=dn(),pr(n,t,r,i),Nk(n,e,r))}}function Pk(t){var e=t.alternate;return t===st||e!==null&&e===st}function Rk(t,e){Nu=hh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Nk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cw(t,n)}}var ph={readContext:Jn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},E4={readContext:Jn,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:Rb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Md(4194308,4,Sk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Md(4194308,4,t,e)},useInsertionEffect:function(t,e){return Md(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_4.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:Pb,useDebugValue:Mw,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=Pb(!1),e=t[0];return t=v4.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=Sr();if(tt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Ut===null)throw Error(Q(349));as&30||mk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Rb(yk.bind(null,r,o,t),[t]),r.flags|=2048,lc(9,gk.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Sr(),e=Ut.identifierPrefix;if(tt){var n=Jr,r=Kr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=y4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},T4={readContext:Jn,useCallback:Ak,useContext:Jn,useEffect:kw,useImperativeHandle:bk,useInsertionEffect:Ek,useLayoutEffect:Tk,useMemo:Ik,useReducer:iy,useRef:wk,useState:function(){return iy(ac)},useDebugValue:Mw,useDeferredValue:function(t){var e=Yn();return xk(e,bt.memoizedState,t)},useTransition:function(){var t=iy(ac)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:hk,useSyncExternalStore:pk,useId:Ck,unstable_isNewReconciler:!1},S4={readContext:Jn,useCallback:Ak,useContext:Jn,useEffect:kw,useImperativeHandle:bk,useInsertionEffect:Ek,useLayoutEffect:Tk,useMemo:Ik,useReducer:oy,useRef:wk,useState:function(){return oy(ac)},useDebugValue:Mw,useDeferredValue:function(t){var e=Yn();return bt===null?e.memoizedState=t:xk(e,bt.memoizedState,t)},useTransition:function(){var t=oy(ac)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:hk,useSyncExternalStore:pk,useId:Ck,unstable_isNewReconciler:!1};function ir(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jp={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Xi(t),o=ei(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ji(t,o,i),e!==null&&(pr(e,t,i,r),Nd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Xi(t),o=ei(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ji(t,o,i),e!==null&&(pr(e,t,i,r),Nd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=Xi(t),i=ei(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ji(t,i,r),e!==null&&(pr(e,t,r,n),Nd(e,t,r))}};function Nb(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ec(n,r)||!ec(i,o):!0}function kk(t,e,n){var r=!1,i=lo,o=e.contextType;return typeof o=="object"&&o!==null?o=Jn(o):(i=wn(e)?os:an.current,r=e.contextTypes,o=(r=r!=null)?Ia(t,i):lo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function kb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jp.enqueueReplaceState(e,e.state,null)}function Pv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Aw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jn(o):(o=wn(e)?os:an.current,i.context=Ia(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Cv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jp.enqueueReplaceState(i,i.state,null),fh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ra(t,e){try{var n="",r=e;do n+=XU(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function sy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b4=typeof WeakMap=="function"?WeakMap:Map;function Mk(t,e,n){n=ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gh||(gh=!0,Fv=r),Rv(t,e)},n}function Ok(t,e,n){n=ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Rv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Rv(t,e),typeof r!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Mb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=V4.bind(null,t,e,n),e.then(t,t))}function Ob(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Db(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ei(-1,1),e.tag=2,Ji(n,e,1))),n.lanes|=1),t)}var A4=gi.ReactCurrentOwner,yn=!1;function cn(t,e,n,r){e.child=t===null?uk(e,null,n,r):Ca(e,t.child,n,r)}function Lb(t,e,n,r,i){n=n.render;var o=e.ref;return da(e,i),r=Rw(t,e,n,r,o,i),n=Nw(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(tt&&n&&vw(e),e.flags|=1,cn(t,e,r,i),e.child)}function $b(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Bw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Dk(t,e,o,r,i)):(t=$d(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ec,n(s,r)&&t.ref===e.ref)return ai(t,e,i)}return e.flags|=1,t=Qi(o,r),t.ref=e.ref,t.return=e,e.child=t}function Dk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ec(o,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,ai(t,e,i)}return Nv(t,e,n,r,i)}function Lk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(ra,xn),xn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(ra,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,He(ra,xn),xn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,He(ra,xn),xn|=r;return cn(t,e,i,n),e.child}function $k(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Nv(t,e,n,r,i){var o=wn(n)?os:an.current;return o=Ia(e,o),da(e,i),n=Rw(t,e,n,r,o,i),r=Nw(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ai(t,e,i)):(tt&&r&&vw(e),e.flags|=1,cn(t,e,n,i),e.child)}function Vb(t,e,n,r,i){if(wn(n)){var o=!0;sh(e)}else o=!1;if(da(e,i),e.stateNode===null)Od(t,e),kk(e,n,r),Pv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=wn(n)?os:an.current,u=Ia(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&kb(e,s,r,u),Mi=!1;var h=e.memoizedState;s.state=h,fh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||_n.current||Mi?(typeof c=="function"&&(Cv(e,n,c,r),l=e.memoizedState),(a=Mi||Nb(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,fk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ir(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=wn(n)?os:an.current,l=Ia(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&kb(e,s,r,l),Mi=!1,h=e.memoizedState,s.state=h,fh(e,r,s,i);var _=e.memoizedState;a!==f||h!==_||_n.current||Mi?(typeof g=="function"&&(Cv(e,n,g,r),_=e.memoizedState),(u=Mi||Nb(e,n,u,r,h,_,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return kv(t,e,n,r,o,i)}function kv(t,e,n,r,i,o){$k(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Sb(e,n,!1),ai(t,e,o);r=e.stateNode,A4.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ca(e,t.child,null,o),e.child=Ca(e,null,a,o)):cn(t,e,a,o),e.memoizedState=r.state,i&&Sb(e,n,!0),e.child}function Vk(t){var e=t.stateNode;e.pendingContext?Tb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tb(t,e.context,!1),Iw(t,e.containerInfo)}function Ub(t,e,n,r,i){return xa(),ww(i),e.flags|=256,cn(t,e,n,r),e.child}var Mv={dehydrated:null,treeContext:null,retryLane:0};function Ov(t){return{baseLanes:t,cachePool:null,transitions:null}}function Uk(t,e,n){var r=e.pendingProps,i=ot.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(ot,i&1),t===null)return Iv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Qp(s,r,0,null),t=Zo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ov(n),e.memoizedState=Mv,t):Ow(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return I4(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qi(a,o):(o=Zo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ov(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Mv,r}return o=t.child,t=o.sibling,r=Qi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ow(t,e){return e=Qp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nd(t,e,n,r){return r!==null&&ww(r),Ca(e,t.child,null,n),t=Ow(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function I4(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=sy(Error(Q(422))),nd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Qp({mode:"visible",children:r.children},i,0,null),o=Zo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ca(e,t.child,null,s),e.child.memoizedState=Ov(s),e.memoizedState=Mv,o);if(!(e.mode&1))return nd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=sy(o,r,void 0),nd(t,e,s,r)}if(a=(s&t.childLanes)!==0,yn||a){if(r=Ut,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,si(t,i),pr(r,t,i,-1))}return Fw(),r=sy(Error(Q(421))),nd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=U4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nn=Ki(i.nextSibling),kn=e,tt=!0,ar=null,t!==null&&(Fn[Bn++]=Kr,Fn[Bn++]=Jr,Fn[Bn++]=ss,Kr=t.id,Jr=t.overflow,ss=e),e=Ow(e,r.children),e.flags|=4096,e)}function Fb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xv(t.return,e,n)}function ay(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Fk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(cn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fb(t,n,e);else if(t.tag===19)Fb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ay(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ay(e,!0,n,null,o);break;case"together":ay(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Od(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x4(t,e,n){switch(e.tag){case 3:Vk(e),xa();break;case 5:dk(e);break;case 1:wn(e.type)&&sh(e);break;case 4:Iw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(uh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?Uk(t,e,n):(He(ot,ot.current&1),t=ai(t,e,n),t!==null?t.sibling:null);He(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Fk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,Lk(t,e,n)}return ai(t,e,n)}var Bk,Dv,qk,jk;Bk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dv=function(){};qk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Go(Pr.current);var o=null;switch(n){case"input":i=rv(t,i),r=rv(t,r),o=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":i=sv(t,i),r=sv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ih)}lv(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};jk=function(t,e,n,r){n!==r&&(e.flags|=4)};function tu(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C4(t,e,n){var r=e.pendingProps;switch(_w(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return wn(e.type)&&oh(),Xt(e),null;case 3:return r=e.stateNode,Pa(),et(_n),et(an),Cw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(jv(ar),ar=null))),Dv(t,e),Xt(e),null;case 5:xw(e);var i=Go(oc.current);if(n=e.type,t!==null&&e.stateNode!=null)qk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Xt(e),null}if(t=Go(Pr.current),ed(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ir]=e,r[rc]=o,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<vu.length;i++)Ke(vu[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":JS(r,o),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",r);break;case"textarea":XS(r,o),Ke("invalid",r)}lv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Zf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Zf(r.textContent,a,t),i=["children",""+a]):Wu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Gf(r),YS(r,o,!0);break;case"textarea":Gf(r),QS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ih)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ir]=e,t[rc]=r,Bk(t,e,!1,!1),e.stateNode=t;e:{switch(s=uv(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<vu.length;i++)Ke(vu[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":JS(t,r),i=rv(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":XS(t,r),i=sv(t,r),Ke("invalid",t);break;default:i=r}lv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?wN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ku(t,l):typeof l=="number"&&Ku(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ke("scroll",t):l!=null&&iw(t,o,l,s))}switch(n){case"input":Gf(t),YS(t,r,!1);break;case"textarea":Gf(t),QS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ao(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?la(t,!!r.multiple,o,!1):r.defaultValue!=null&&la(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ih)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)jk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Go(oc.current),Go(Pr.current),ed(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(o=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:Zf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Xt(e),null;case 13:if(et(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Nn!==null&&e.mode&1&&!(e.flags&128))ak(),xa(),e.flags|=98560,o=!1;else if(o=ed(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[Ir]=e}else xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),o=!1}else ar!==null&&(jv(ar),ar=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?It===0&&(It=3):Fw())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return Pa(),Dv(t,e),t===null&&tc(e.stateNode.containerInfo),Xt(e),null;case 10:return Sw(e.type._context),Xt(e),null;case 17:return wn(e.type)&&oh(),Xt(e),null;case 19:if(et(ot),o=e.memoizedState,o===null)return Xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)tu(o,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=dh(t),s!==null){for(e.flags|=128,tu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(ot,ot.current&1|2),e.child}t=t.sibling}o.tail!==null&&pt()>Na&&(e.flags|=128,r=!0,tu(o,!1),e.lanes=4194304)}else{if(!r)if(t=dh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!tt)return Xt(e),null}else 2*pt()-o.renderingStartTime>Na&&n!==1073741824&&(e.flags|=128,r=!0,tu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,n=ot.current,He(ot,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return Uw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function P4(t,e){switch(_w(e),e.tag){case 1:return wn(e.type)&&oh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pa(),et(_n),et(an),Cw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xw(e),null;case 13:if(et(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(ot),null;case 4:return Pa(),null;case 10:return Sw(e.type._context),null;case 22:case 23:return Uw(),null;case 24:return null;default:return null}}var rd=!1,nn=!1,R4=typeof WeakSet=="function"?WeakSet:Set,se=null;function na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function Lv(t,e,n){try{n()}catch(r){ct(t,e,r)}}var Bb=!1;function N4(t,e){if(_v=th,t=KN(),yw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wv={focusedElem:t,selectionRange:n},th=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,w=_.memoizedState,v=e.stateNode,E=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:ir(e.type,y),w);v.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(R){ct(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return _=Bb,Bb=!1,_}function ku(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Lv(e,n,o)}i=i.next}while(i!==r)}}function Yp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $v(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hk(t){var e=t.alternate;e!==null&&(t.alternate=null,Hk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[rc],delete e[Sv],delete e[h4],delete e[p4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gk(t){return t.tag===5||t.tag===3||t.tag===4}function qb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ih));else if(r!==4&&(t=t.child,t!==null))for(Vv(t,e,n),t=t.sibling;t!==null;)Vv(t,e,n),t=t.sibling}function Uv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uv(t,e,n),t=t.sibling;t!==null;)Uv(t,e,n),t=t.sibling}var qt=null,or=!1;function Ri(t,e,n){for(n=n.child;n!==null;)zk(t,e,n),n=n.sibling}function zk(t,e,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(qp,n)}catch{}switch(n.tag){case 5:nn||na(n,e);case 6:var r=qt,i=or;qt=null,Ri(t,e,n),qt=r,or=i,qt!==null&&(or?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(or?(t=qt,n=n.stateNode,t.nodeType===8?ey(t.parentNode,n):t.nodeType===1&&ey(t,n),Qu(t)):ey(qt,n.stateNode));break;case 4:r=qt,i=or,qt=n.stateNode.containerInfo,or=!0,Ri(t,e,n),qt=r,or=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Lv(n,e,s),i=i.next}while(i!==r)}Ri(t,e,n);break;case 1:if(!nn&&(na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}Ri(t,e,n);break;case 21:Ri(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Ri(t,e,n),nn=r):Ri(t,e,n);break;default:Ri(t,e,n)}}function jb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new R4),e.forEach(function(r){var i=F4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,or=!1;break e;case 3:qt=a.stateNode.containerInfo,or=!0;break e;case 4:qt=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(qt===null)throw Error(Q(160));zk(o,s,i),qt=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Wk(e,t),e=e.sibling}function Wk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),Tr(t),r&4){try{ku(3,t,t.return),Yp(3,t)}catch(y){ct(t,t.return,y)}try{ku(5,t,t.return)}catch(y){ct(t,t.return,y)}}break;case 1:nr(e,t),Tr(t),r&512&&n!==null&&na(n,n.return);break;case 5:if(nr(e,t),Tr(t),r&512&&n!==null&&na(n,n.return),t.flags&32){var i=t.stateNode;try{Ku(i,"")}catch(y){ct(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&mN(i,o),uv(a,s);var u=uv(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?wN(i,f):c==="dangerouslySetInnerHTML"?vN(i,f):c==="children"?Ku(i,f):iw(i,c,f,u)}switch(a){case"input":iv(i,o);break;case"textarea":gN(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?la(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?la(i,!!o.multiple,o.defaultValue,!0):la(i,!!o.multiple,o.multiple?[]:"",!1))}i[rc]=o}catch(y){ct(t,t.return,y)}}break;case 6:if(nr(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){ct(t,t.return,y)}}break;case 3:if(nr(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qu(e.containerInfo)}catch(y){ct(t,t.return,y)}break;case 4:nr(e,t),Tr(t);break;case 13:nr(e,t),Tr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||($w=pt())),r&4&&jb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(u=nn)||c,nr(e,t),nn=u):nr(e,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(f=se=c;se!==null;){switch(h=se,g=h.child,h.tag){case 0:case 11:case 14:case 15:ku(4,h,h.return);break;case 1:na(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){ct(r,n,y)}}break;case 5:na(h,h.return);break;case 22:if(h.memoizedState!==null){Gb(f);continue}}g!==null?(g.return=h,se=g):Gb(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_N("display",s))}catch(y){ct(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ct(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nr(e,t),Tr(t),r&4&&jb(t);break;case 21:break;default:nr(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gk(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ku(i,""),r.flags&=-33);var o=qb(t);Uv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=qb(t);Vv(t,a,s);break;default:throw Error(Q(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function k4(t,e,n){se=t,Kk(t)}function Kk(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||rd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nn;a=rd;var u=nn;if(rd=s,(nn=l)&&!u)for(se=i;se!==null;)s=se,l=s.child,s.tag===22&&s.memoizedState!==null?zb(i):l!==null?(l.return=s,se=l):zb(i);for(;o!==null;)se=o,Kk(o),o=o.sibling;se=i,rd=a,nn=u}Hb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):Hb(t)}}function Hb(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Yp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Cb(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cb(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Qu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}nn||e.flags&512&&$v(e)}catch(h){ct(e,e.return,h)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Gb(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function zb(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yp(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ct(e,i,l)}}var o=e.return;try{$v(e)}catch(l){ct(e,o,l)}break;case 5:var s=e.return;try{$v(e)}catch(l){ct(e,s,l)}}}catch(l){ct(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var M4=Math.ceil,mh=gi.ReactCurrentDispatcher,Dw=gi.ReactCurrentOwner,zn=gi.ReactCurrentBatchConfig,Ce=0,Ut=null,vt=null,zt=0,xn=0,ra=_o(0),It=0,uc=null,ls=0,Xp=0,Lw=0,Mu=null,gn=null,$w=0,Na=1/0,Gr=null,gh=!1,Fv=null,Yi=null,id=!1,Bi=null,yh=0,Ou=0,Bv=null,Dd=-1,Ld=0;function dn(){return Ce&6?pt():Dd!==-1?Dd:Dd=pt()}function Xi(t){return t.mode&1?Ce&2&&zt!==0?zt&-zt:g4.transition!==null?(Ld===0&&(Ld=kN()),Ld):(t=Le,t!==0||(t=window.event,t=t===void 0?16:UN(t.type)),t):1}function pr(t,e,n,r){if(50<Ou)throw Ou=0,Bv=null,Error(Q(185));rf(t,n,r),(!(Ce&2)||t!==Ut)&&(t===Ut&&(!(Ce&2)&&(Xp|=n),It===4&&Li(t,zt)),En(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Na=pt()+500,Wp&&wo()))}function En(t,e){var n=t.callbackNode;gF(t,e);var r=eh(t,t===Ut?zt:0);if(r===0)n!==null&&tb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tb(n),e===1)t.tag===0?m4(Wb.bind(null,t)):ik(Wb.bind(null,t)),f4(function(){!(Ce&6)&&wo()}),n=null;else{switch(MN(r)){case 1:n=uw;break;case 4:n=RN;break;case 16:n=Zd;break;case 536870912:n=NN;break;default:n=Zd}n=nM(n,Jk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jk(t,e){if(Dd=-1,Ld=0,Ce&6)throw Error(Q(327));var n=t.callbackNode;if(ha()&&t.callbackNode!==n)return null;var r=eh(t,t===Ut?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vh(t,r);else{e=r;var i=Ce;Ce|=2;var o=Xk();(Ut!==t||zt!==e)&&(Gr=null,Na=pt()+500,Qo(t,e));do try{L4();break}catch(a){Yk(t,a)}while(!0);Tw(),mh.current=o,Ce=i,vt!==null?e=0:(Ut=null,zt=0,e=It)}if(e!==0){if(e===2&&(i=pv(t),i!==0&&(r=i,e=qv(t,i))),e===1)throw n=uc,Qo(t,0),Li(t,r),En(t,pt()),n;if(e===6)Li(t,r);else{if(i=t.current.alternate,!(r&30)&&!O4(i)&&(e=vh(t,r),e===2&&(o=pv(t),o!==0&&(r=o,e=qv(t,o))),e===1))throw n=uc,Qo(t,0),Li(t,r),En(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:$o(t,gn,Gr);break;case 3:if(Li(t,r),(r&130023424)===r&&(e=$w+500-pt(),10<e)){if(eh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tv($o.bind(null,t,gn,Gr),e);break}$o(t,gn,Gr);break;case 4:if(Li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-hr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M4(r/1960))-r,10<r){t.timeoutHandle=Tv($o.bind(null,t,gn,Gr),r);break}$o(t,gn,Gr);break;case 5:$o(t,gn,Gr);break;default:throw Error(Q(329))}}}return En(t,pt()),t.callbackNode===n?Jk.bind(null,t):null}function qv(t,e){var n=Mu;return t.current.memoizedState.isDehydrated&&(Qo(t,e).flags|=256),t=vh(t,e),t!==2&&(e=gn,gn=n,e!==null&&jv(e)),t}function jv(t){gn===null?gn=t:gn.push.apply(gn,t)}function O4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(t,e){for(e&=~Lw,e&=~Xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function Wb(t){if(Ce&6)throw Error(Q(327));ha();var e=eh(t,0);if(!(e&1))return En(t,pt()),null;var n=vh(t,e);if(t.tag!==0&&n===2){var r=pv(t);r!==0&&(e=r,n=qv(t,r))}if(n===1)throw n=uc,Qo(t,0),Li(t,e),En(t,pt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$o(t,gn,Gr),En(t,pt()),null}function Vw(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Na=pt()+500,Wp&&wo())}}function us(t){Bi!==null&&Bi.tag===0&&!(Ce&6)&&ha();var e=Ce;Ce|=1;var n=zn.transition,r=Le;try{if(zn.transition=null,Le=1,t)return t()}finally{Le=r,zn.transition=n,Ce=e,!(Ce&6)&&wo()}}function Uw(){xn=ra.current,et(ra)}function Qo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c4(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(_w(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oh();break;case 3:Pa(),et(_n),et(an),Cw();break;case 5:xw(r);break;case 4:Pa();break;case 13:et(ot);break;case 19:et(ot);break;case 10:Sw(r.type._context);break;case 22:case 23:Uw()}n=n.return}if(Ut=t,vt=t=Qi(t.current,null),zt=xn=e,It=0,uc=null,Lw=Xp=ls=0,gn=Mu=null,Ho!==null){for(e=0;e<Ho.length;e++)if(n=Ho[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ho=null}return t}function Yk(t,e){do{var n=vt;try{if(Tw(),kd.current=ph,hh){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hh=!1}if(as=0,$t=bt=st=null,Nu=!1,sc=0,Dw.current=null,n===null||n.return===null){It=1,uc=e,vt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Ob(s);if(g!==null){g.flags&=-257,Db(g,s,a,o,e),g.mode&1&&Mb(o,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){Mb(o,u,e),Fw();break e}l=Error(Q(426))}}else if(tt&&a.mode&1){var w=Ob(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Db(w,s,a,o,e),ww(Ra(l,a));break e}}o=l=Ra(l,a),It!==4&&(It=2),Mu===null?Mu=[o]:Mu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=Mk(o,l,e);xb(o,v);break e;case 1:a=l;var E=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Yi===null||!Yi.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=Ok(o,a,e);xb(o,R);break e}}o=o.return}while(o!==null)}Zk(n)}catch(A){e=A,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function Xk(){var t=mh.current;return mh.current=ph,t===null?ph:t}function Fw(){(It===0||It===3||It===2)&&(It=4),Ut===null||!(ls&268435455)&&!(Xp&268435455)||Li(Ut,zt)}function vh(t,e){var n=Ce;Ce|=2;var r=Xk();(Ut!==t||zt!==e)&&(Gr=null,Qo(t,e));do try{D4();break}catch(i){Yk(t,i)}while(!0);if(Tw(),Ce=n,mh.current=r,vt!==null)throw Error(Q(261));return Ut=null,zt=0,It}function D4(){for(;vt!==null;)Qk(vt)}function L4(){for(;vt!==null&&!aF();)Qk(vt)}function Qk(t){var e=tM(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?Zk(t):vt=e,Dw.current=null}function Zk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=P4(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,vt=null;return}}else if(n=C4(n,e,xn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);It===0&&(It=5)}function $o(t,e,n){var r=Le,i=zn.transition;try{zn.transition=null,Le=1,$4(t,e,n,r)}finally{zn.transition=i,Le=r}return null}function $4(t,e,n,r){do ha();while(Bi!==null);if(Ce&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(yF(t,o),t===Ut&&(vt=Ut=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||id||(id=!0,nM(Zd,function(){return ha(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zn.transition,zn.transition=null;var s=Le;Le=1;var a=Ce;Ce|=4,Dw.current=null,N4(t,n),Wk(n,t),r4(wv),th=!!_v,wv=_v=null,t.current=n,k4(n),lF(),Ce=a,Le=s,zn.transition=o}else t.current=n;if(id&&(id=!1,Bi=t,yh=i),o=t.pendingLanes,o===0&&(Yi=null),fF(n.stateNode),En(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gh)throw gh=!1,t=Fv,Fv=null,t;return yh&1&&t.tag!==0&&ha(),o=t.pendingLanes,o&1?t===Bv?Ou++:(Ou=0,Bv=t):Ou=0,wo(),null}function ha(){if(Bi!==null){var t=MN(yh),e=zn.transition,n=Le;try{if(zn.transition=null,Le=16>t?16:t,Bi===null)var r=!1;else{if(t=Bi,Bi=null,yh=0,Ce&6)throw Error(Q(331));var i=Ce;for(Ce|=4,se=t.current;se!==null;){var o=se,s=o.child;if(se.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:ku(8,c,o)}var f=c.child;if(f!==null)f.return=c,se=f;else for(;se!==null;){c=se;var h=c.sibling,g=c.return;if(Hk(c),c===u){se=null;break}if(h!==null){h.return=g,se=h;break}se=g}}}var _=o.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}se=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,se=s;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ku(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,se=v;break e}se=o.return}}var E=t.current;for(se=E;se!==null;){s=se;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,se=S;else e:for(s=E;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yp(9,a)}}catch(A){ct(a,a.return,A)}if(a===s){se=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,se=R;break e}se=a.return}}if(Ce=i,wo(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(qp,t)}catch{}r=!0}return r}finally{Le=n,zn.transition=e}}return!1}function Kb(t,e,n){e=Ra(n,e),e=Mk(t,e,1),t=Ji(t,e,1),e=dn(),t!==null&&(rf(t,1,e),En(t,e))}function ct(t,e,n){if(t.tag===3)Kb(t,t,n);else for(;e!==null;){if(e.tag===3){Kb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yi===null||!Yi.has(r))){t=Ra(n,t),t=Ok(e,t,1),e=Ji(e,t,1),t=dn(),e!==null&&(rf(e,1,t),En(e,t));break}}e=e.return}}function V4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(zt&n)===n&&(It===4||It===3&&(zt&130023424)===zt&&500>pt()-$w?Qo(t,0):Lw|=n),En(t,e)}function eM(t,e){e===0&&(t.mode&1?(e=Kf,Kf<<=1,!(Kf&130023424)&&(Kf=4194304)):e=1);var n=dn();t=si(t,e),t!==null&&(rf(t,e,n),En(t,n))}function U4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eM(t,n)}function F4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),eM(t,n)}var tM;tM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,x4(t,e,n);yn=!!(t.flags&131072)}else yn=!1,tt&&e.flags&1048576&&ok(e,lh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Od(t,e),t=e.pendingProps;var i=Ia(e,an.current);da(e,n),i=Rw(null,e,r,t,i,n);var o=Nw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(o=!0,sh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Aw(e),i.updater=Jp,e.stateNode=i,i._reactInternals=e,Pv(e,r,t,n),e=kv(null,e,r,!0,o,n)):(e.tag=0,tt&&o&&vw(e),cn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Od(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=q4(r),t=ir(r,t),i){case 0:e=Nv(null,e,r,t,n);break e;case 1:e=Vb(null,e,r,t,n);break e;case 11:e=Lb(null,e,r,t,n);break e;case 14:e=$b(null,e,r,ir(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Nv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Vb(t,e,r,i,n);case 3:e:{if(Vk(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,fk(t,e),fh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ra(Error(Q(423)),e),e=Ub(t,e,r,n,i);break e}else if(r!==i){i=Ra(Error(Q(424)),e),e=Ub(t,e,r,n,i);break e}else for(Nn=Ki(e.stateNode.containerInfo.firstChild),kn=e,tt=!0,ar=null,n=uk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),r===i){e=ai(t,e,n);break e}cn(t,e,r,n)}e=e.child}return e;case 5:return dk(e),t===null&&Iv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ev(r,i)?s=null:o!==null&&Ev(r,o)&&(e.flags|=32),$k(t,e),cn(t,e,s,n),e.child;case 6:return t===null&&Iv(e),null;case 13:return Uk(t,e,n);case 4:return Iw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ca(e,null,r,n):cn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Lb(t,e,r,i,n);case 7:return cn(t,e,e.pendingProps,n),e.child;case 8:return cn(t,e,e.pendingProps.children,n),e.child;case 12:return cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,He(uh,r._currentValue),r._currentValue=s,o!==null)if(yr(o.value,s)){if(o.children===i.children&&!_n.current){e=ai(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ei(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),xv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,da(e,n),i=Jn(i),r=r(i),e.flags|=1,cn(t,e,r,n),e.child;case 14:return r=e.type,i=ir(r,e.pendingProps),i=ir(r.type,i),$b(t,e,r,i,n);case 15:return Dk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Od(t,e),e.tag=1,wn(r)?(t=!0,sh(e)):t=!1,da(e,n),kk(e,r,i),Pv(e,r,i,n),kv(null,e,r,!0,t,n);case 19:return Fk(t,e,n);case 22:return Lk(t,e,n)}throw Error(Q(156,e.tag))};function nM(t,e){return PN(t,e)}function B4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new B4(t,e,n,r)}function Bw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q4(t){if(typeof t=="function")return Bw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sw)return 11;if(t===aw)return 14}return 2}function Qi(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $d(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Bw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ws:return Zo(n.children,i,o,e);case ow:s=8,i|=8;break;case Zy:return t=Hn(12,n,e,i|2),t.elementType=Zy,t.lanes=o,t;case ev:return t=Hn(13,n,e,i),t.elementType=ev,t.lanes=o,t;case tv:return t=Hn(19,n,e,i),t.elementType=tv,t.lanes=o,t;case dN:return Qp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cN:s=10;break e;case fN:s=9;break e;case sw:s=11;break e;case aw:s=14;break e;case ki:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Hn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Zo(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function Qp(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=dN,t.lanes=n,t.stateNode={isHidden:!1},t}function ly(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function uy(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jg(0),this.expirationTimes=jg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qw(t,e,n,r,i,o,s,a,l){return t=new j4(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aw(o),t}function H4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rM(t){if(!t)return lo;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(wn(n))return rk(t,n,e)}return e}function iM(t,e,n,r,i,o,s,a,l){return t=qw(n,r,!0,t,i,o,s,a,l),t.context=rM(null),n=t.current,r=dn(),i=Xi(n),o=ei(r,i),o.callback=e??null,Ji(n,o,i),t.current.lanes=i,rf(t,i,r),En(t,r),t}function Zp(t,e,n,r){var i=e.current,o=dn(),s=Xi(i);return n=rM(n),e.context===null?e.context=n:e.pendingContext=n,e=ei(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ji(i,e,s),t!==null&&(pr(t,i,s,o),Nd(t,i,s)),s}function _h(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jw(t,e){Jb(t,e),(t=t.alternate)&&Jb(t,e)}function G4(){return null}var oM=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hw(t){this._internalRoot=t}em.prototype.render=Hw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Zp(t,e,null,null)};em.prototype.unmount=Hw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){Zp(null,t,null,null)}),e[oi]=null}};function em(t){this._internalRoot=t}em.prototype.unstable_scheduleHydration=function(t){if(t){var e=LN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Di.length&&e!==0&&e<Di[n].priority;n++);Di.splice(n,0,t),n===0&&VN(t)}};function Gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yb(){}function z4(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=_h(s);o.call(u)}}var s=iM(e,r,t,0,null,!1,!1,"",Yb);return t._reactRootContainer=s,t[oi]=s.current,tc(t.nodeType===8?t.parentNode:t),us(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=_h(l);a.call(u)}}var l=qw(t,0,!1,null,null,!1,!1,"",Yb);return t._reactRootContainer=l,t[oi]=l.current,tc(t.nodeType===8?t.parentNode:t),us(function(){Zp(e,l,n,r)}),l}function nm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=_h(s);a.call(l)}}Zp(e,s,t,i)}else s=z4(n,e,t,i,r);return _h(s)}ON=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yu(e.pendingLanes);n!==0&&(cw(e,n|1),En(e,pt()),!(Ce&6)&&(Na=pt()+500,wo()))}break;case 13:us(function(){var r=si(t,1);if(r!==null){var i=dn();pr(r,t,1,i)}}),jw(t,1)}};fw=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var n=dn();pr(e,t,134217728,n)}jw(t,134217728)}};DN=function(t){if(t.tag===13){var e=Xi(t),n=si(t,e);if(n!==null){var r=dn();pr(n,t,e,r)}jw(t,e)}};LN=function(){return Le};$N=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};fv=function(t,e,n){switch(e){case"input":if(iv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zp(r);if(!i)throw Error(Q(90));pN(r),iv(r,i)}}}break;case"textarea":gN(t,n);break;case"select":e=n.value,e!=null&&la(t,!!n.multiple,e,!1)}};SN=Vw;bN=us;var W4={usingClientEntryPoint:!1,Events:[sf,Xs,zp,EN,TN,Vw]},nu={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K4={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xN(t),t===null?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||G4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{qp=od.inject(K4),Cr=od}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W4;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gw(e))throw Error(Q(200));return H4(t,e,null,n)};On.createRoot=function(t,e){if(!Gw(t))throw Error(Q(299));var n=!1,r="",i=oM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qw(t,1,!1,null,null,n,!1,r,i),t[oi]=e.current,tc(t.nodeType===8?t.parentNode:t),new Hw(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=xN(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return us(t)};On.hydrate=function(t,e,n){if(!tm(e))throw Error(Q(200));return nm(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!Gw(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=oM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=iM(e,null,t,1,n??null,i,!1,o,s),t[oi]=e.current,tc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new em(e)};On.render=function(t,e,n){if(!tm(e))throw Error(Q(200));return nm(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!tm(t))throw Error(Q(40));return t._reactRootContainer?(us(function(){nm(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};On.unstable_batchedUpdates=Vw;On.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tm(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return nm(t,e,n,!1,r)};On.version="18.3.1-next-f1338f8080-20240426";function sM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sM)}catch(t){console.error(t)}}sM(),sN.exports=On;var J4=sN.exports,Xb=J4;Xy.createRoot=Xb.createRoot,Xy.hydrateRoot=Xb.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const Qb="popstate";function Y4(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Ts(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Hv("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:aM(o))}function r(i,o){rm(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Q4(e,n,r,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X4(){return Math.random().toString(36).substr(2,8)}function Zb(t,e){return{usr:t.state,key:t.key,idx:e}}function Hv(t,e,n,r){return n===void 0&&(n=null),cc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ts(e):e,{state:n,key:e&&e.key||r||X4()})}function aM(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Q4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=qi.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(cc({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=qi.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:v})}function h(w,v){a=qi.Push;let E=Hv(y.location,w,v);n&&n(E,w),u=c()+1;let S=Zb(E,u),R=y.createHref(E);try{s.pushState(S,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(R)}o&&l&&l({action:a,location:y.location,delta:1})}function g(w,v){a=qi.Replace;let E=Hv(y.location,w,v);n&&n(E,w),u=c();let S=Zb(E,u),R=y.createHref(E);s.replaceState(S,"",R),o&&l&&l({action:a,location:y.location,delta:0})}function _(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:aM(w);return E=E.replace(/ $/,"%20"),Pt(v,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,v)}let y={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Qb,f),l=w,()=>{i.removeEventListener(Qb,f),l=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let v=_(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:g,go(w){return s.go(w)}};return y}var eA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eA||(eA={}));function Z4(t,e,n){return n===void 0&&(n="/"),eB(t,e,n)}function eB(t,e,n,r){let i=typeof e=="string"?Ts(e):e,o=cM(i.pathname||"/",n);if(o==null)return null;let s=lM(t);tB(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=hB(o);a=cB(s[l],u)}return a}function lM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=es([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lM(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:lB(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of uM(o.path))i(o,s,l)}),e}function uM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=uM(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nB=/^:[\w-]+$/,rB=3,iB=2,oB=1,sB=10,aB=-2,tA=t=>t==="*";function lB(t,e){let n=t.split("/"),r=n.length;return n.some(tA)&&(r+=aB),e&&(r+=iB),n.filter(i=>!tA(i)).reduce((i,o)=>i+(nB.test(o)?rB:o===""?oB:sB),r)}function uB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cB(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=fB({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:es([o,f.pathname]),pathnameBase:wB(es([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=es([o,f.pathnameBase]))}return s}function fB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:g}=c;if(h==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const _=a[f];return g&&!_?u[h]=void 0:u[h]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function dB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const pB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mB=t=>pB.test(t);function gB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ts(t):t,o;if(n)if(mB(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),rm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=nA(n.substring(1),"/"):o=nA(n,e)}else o=e;return{pathname:o,search:EB(r),hash:TB(i)}}function nA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vB(t,e){let n=yB(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _B(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ts(t):(i=cc({},t),Pt(!i.pathname||!i.pathname.includes("?"),cy("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),cy("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),cy("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=gB(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const es=t=>t.join("/").replace(/\/\/+/g,"/"),wB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fM=["post","put","patch","delete"];new Set(fM);const bB=["get",...fM];new Set(bB);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}const zw=$.createContext(null),AB=$.createContext(null),im=$.createContext(null),om=$.createContext(null),cl=$.createContext({outlet:null,matches:[],isDataRoute:!1}),dM=$.createContext(null);function sm(){return $.useContext(om)!=null}function lf(){return sm()||Pt(!1),$.useContext(om).location}function hM(t){$.useContext(im).static||$.useLayoutEffect(t)}function fl(){let{isDataRoute:t}=$.useContext(cl);return t?VB():IB()}function IB(){sm()||Pt(!1);let t=$.useContext(zw),{basename:e,future:n,navigator:r}=$.useContext(im),{matches:i}=$.useContext(cl),{pathname:o}=lf(),s=JSON.stringify(vB(i,n.v7_relativeSplatPath)),a=$.useRef(!1);return hM(()=>{a.current=!0}),$.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=_B(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:es([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function xB(t,e){return CB(t,e)}function CB(t,e,n,r){sm()||Pt(!1);let{navigator:i}=$.useContext(im),{matches:o}=$.useContext(cl),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=lf(),c;if(e){var f;let w=typeof e=="string"?Ts(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Pt(!1),c=w}else c=u;let h=c.pathname||"/",g=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=Z4(t,{pathname:g}),y=MB(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:es([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:es([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&y?$.createElement(om.Provider,{value:{location:fc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:qi.Pop}},y):y}function PB(){let t=$B(),e=SB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const RB=$.createElement(PB,null);class NB extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(cl.Provider,{value:this.props.routeContext},$.createElement(dM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kB(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(zw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(cl.Provider,{value:e},r)}function MB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Pt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:g}=n,_=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let g,_=!1,y=null,w=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||RB,l&&(u<0&&h===0?(UB("route-fallback"),_=!0,w=null):u===h&&(_=!0,w=f.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),E=()=>{let S;return g?S=y:_?S=w:f.route.Component?S=$.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,$.createElement(kB,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?$.createElement(NB,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:E(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):E()},null)}var pM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pM||{}),mM=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mM||{});function OB(t){let e=$.useContext(zw);return e||Pt(!1),e}function DB(t){let e=$.useContext(AB);return e||Pt(!1),e}function LB(t){let e=$.useContext(cl);return e||Pt(!1),e}function gM(t){let e=LB(),n=e.matches[e.matches.length-1];return n.route.id||Pt(!1),n.route.id}function $B(){var t;let e=$.useContext(dM),n=DB(),r=gM();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VB(){let{router:t}=OB(pM.UseNavigateStable),e=gM(mM.UseNavigateStable),n=$.useRef(!1);return hM(()=>{n.current=!0}),$.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,fc({fromRouteId:e},o)))},[t,e])}const rA={};function UB(t,e,n){rA[t]||(rA[t]=!0)}function FB(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vo(t){Pt(!1)}function BB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qi.Pop,navigator:o,static:s=!1,future:a}=t;sm()&&Pt(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:o,static:s,future:fc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Ts(r));let{pathname:c="/",search:f="",hash:h="",state:g=null,key:_="default"}=r,y=$.useMemo(()=>{let w=cM(c,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:g,key:_},navigationType:i}},[l,c,f,h,g,_,i]);return y==null?null:$.createElement(im.Provider,{value:u},$.createElement(om.Provider,{children:n,value:y}))}function qB(t){let{children:e,location:n}=t;return xB(Gv(e),n)}new Promise(()=>{});function Gv(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let o=[...e,i];if(r.type===$.Fragment){n.push.apply(n,Gv(r.props.children,o));return}r.type!==Vo&&Pt(!1),!r.props.index||!r.props.children||Pt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Gv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function jB(t,e){let n=zv(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}const HB="6";try{window.__reactRouterVersion=HB}catch{}const GB="startTransition",iA=VU[GB];function zB(t){let{basename:e,children:n,future:r,window:i}=t,o=$.useRef();o.current==null&&(o.current=Y4({window:i,v5Compat:!0}));let s=o.current,[a,l]=$.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=$.useCallback(f=>{u&&iA?iA(()=>l(f)):l(f)},[l,u]);return $.useLayoutEffect(()=>s.listen(c),[s,c]),$.useEffect(()=>FB(r),[r]),$.createElement(BB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var oA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oA||(oA={}));var sA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sA||(sA={}));function yM(t){let e=$.useRef(zv(t)),n=$.useRef(!1),r=lf(),i=$.useMemo(()=>jB(r.search,n.current?null:e.current),[r.search]),o=fl(),s=$.useCallback((a,l)=>{const u=zv(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),we=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>$.createElement("svg",{ref:c,...WB,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${KB(t)}`,a].join(" "),...u},[...e.map(([f,h])=>$.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=we("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=we("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=we("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=we("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=we("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=we("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=we("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=we("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=we("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=we("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=we("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=we("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=we("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=we("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=we("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=we("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=we("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=we("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),w3=()=>{const t=fl(),e=lf(),n=[{path:"/",icon:l3,label:""},{path:"/inventory",icon:d3,label:""},{path:"/bundles",icon:wM,label:""},{path:"/share",icon:Kv,label:""}];return O.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 pb-safe-area shadow-[0_-1px_3px_rgba(0,0,0,0.05)] z-50",children:O.jsx("div",{className:"flex justify-around items-center h-16",children:n.map(r=>{const i=e.pathname===r.path;return O.jsxs("button",{onClick:()=>t(r.path),className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${i?"text-brand-600":"text-gray-400 hover:text-gray-600"}`,children:[O.jsx(r.icon,{size:24,strokeWidth:i?2.5:2}),O.jsx("span",{className:"text-[10px] font-medium",children:r.label})]},r.path)})})})};function IM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=IM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=IM(t))&&(r&&(r+=" "),r+=e);return r}var E3=Array.isArray,Sn=E3,T3=typeof qf=="object"&&qf&&qf.Object===Object&&qf,xM=T3,S3=xM,b3=typeof self=="object"&&self&&self.Object===Object&&self,A3=S3||b3||Function("return this")(),qr=A3,I3=qr,x3=I3.Symbol,uf=x3,uA=uf,CM=Object.prototype,C3=CM.hasOwnProperty,P3=CM.toString,ru=uA?uA.toStringTag:void 0;function R3(t){var e=C3.call(t,ru),n=t[ru];try{t[ru]=void 0;var r=!0}catch{}var i=P3.call(t);return r&&(e?t[ru]=n:delete t[ru]),i}var N3=R3,k3=Object.prototype,M3=k3.toString;function O3(t){return M3.call(t)}var D3=O3,cA=uf,L3=N3,$3=D3,V3="[object Null]",U3="[object Undefined]",fA=cA?cA.toStringTag:void 0;function F3(t){return t==null?t===void 0?U3:V3:fA&&fA in Object(t)?L3(t):$3(t)}var yi=F3;function B3(t){return t!=null&&typeof t=="object"}var vi=B3,q3=yi,j3=vi,H3="[object Symbol]";function G3(t){return typeof t=="symbol"||j3(t)&&q3(t)==H3}var dl=G3,z3=Sn,W3=dl,K3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J3=/^\w*$/;function Y3(t,e){if(z3(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||W3(t)?!0:J3.test(t)||!K3.test(t)||e!=null&&t in Object(e)}var Ww=Y3;function X3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Eo=X3;const hl=Ge(Eo);var Q3=yi,Z3=Eo,e6="[object AsyncFunction]",t6="[object Function]",n6="[object GeneratorFunction]",r6="[object Proxy]";function i6(t){if(!Z3(t))return!1;var e=Q3(t);return e==t6||e==n6||e==e6||e==r6}var Kw=i6;const Ie=Ge(Kw);var o6=qr,s6=o6["__core-js_shared__"],a6=s6,fy=a6,dA=function(){var t=/[^.]+$/.exec(fy&&fy.keys&&fy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function l6(t){return!!dA&&dA in t}var u6=l6,c6=Function.prototype,f6=c6.toString;function d6(t){if(t!=null){try{return f6.call(t)}catch{}try{return t+""}catch{}}return""}var PM=d6,h6=Kw,p6=u6,m6=Eo,g6=PM,y6=/[\\^$.*+?()[\]{}|]/g,v6=/^\[object .+?Constructor\]$/,_6=Function.prototype,w6=Object.prototype,E6=_6.toString,T6=w6.hasOwnProperty,S6=RegExp("^"+E6.call(T6).replace(y6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b6(t){if(!m6(t)||p6(t))return!1;var e=h6(t)?S6:v6;return e.test(g6(t))}var A6=b6;function I6(t,e){return t==null?void 0:t[e]}var x6=I6,C6=A6,P6=x6;function R6(t,e){var n=P6(t,e);return C6(n)?n:void 0}var Ss=R6,N6=Ss,k6=N6(Object,"create"),am=k6,hA=am;function M6(){this.__data__=hA?hA(null):{},this.size=0}var O6=M6;function D6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var L6=D6,$6=am,V6="__lodash_hash_undefined__",U6=Object.prototype,F6=U6.hasOwnProperty;function B6(t){var e=this.__data__;if($6){var n=e[t];return n===V6?void 0:n}return F6.call(e,t)?e[t]:void 0}var q6=B6,j6=am,H6=Object.prototype,G6=H6.hasOwnProperty;function z6(t){var e=this.__data__;return j6?e[t]!==void 0:G6.call(e,t)}var W6=z6,K6=am,J6="__lodash_hash_undefined__";function Y6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=K6&&e===void 0?J6:e,this}var X6=Y6,Q6=O6,Z6=L6,e5=q6,t5=W6,n5=X6;function pl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pl.prototype.clear=Q6;pl.prototype.delete=Z6;pl.prototype.get=e5;pl.prototype.has=t5;pl.prototype.set=n5;var r5=pl;function i5(){this.__data__=[],this.size=0}var o5=i5;function s5(t,e){return t===e||t!==t&&e!==e}var Jw=s5,a5=Jw;function l5(t,e){for(var n=t.length;n--;)if(a5(t[n][0],e))return n;return-1}var lm=l5,u5=lm,c5=Array.prototype,f5=c5.splice;function d5(t){var e=this.__data__,n=u5(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():f5.call(e,n,1),--this.size,!0}var h5=d5,p5=lm;function m5(t){var e=this.__data__,n=p5(e,t);return n<0?void 0:e[n][1]}var g5=m5,y5=lm;function v5(t){return y5(this.__data__,t)>-1}var _5=v5,w5=lm;function E5(t,e){var n=this.__data__,r=w5(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var T5=E5,S5=o5,b5=h5,A5=g5,I5=_5,x5=T5;function ml(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ml.prototype.clear=S5;ml.prototype.delete=b5;ml.prototype.get=A5;ml.prototype.has=I5;ml.prototype.set=x5;var um=ml,C5=Ss,P5=qr,R5=C5(P5,"Map"),Yw=R5,pA=r5,N5=um,k5=Yw;function M5(){this.size=0,this.__data__={hash:new pA,map:new(k5||N5),string:new pA}}var O5=M5;function D5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var L5=D5,$5=L5;function V5(t,e){var n=t.__data__;return $5(e)?n[typeof e=="string"?"string":"hash"]:n.map}var cm=V5,U5=cm;function F5(t){var e=U5(this,t).delete(t);return this.size-=e?1:0,e}var B5=F5,q5=cm;function j5(t){return q5(this,t).get(t)}var H5=j5,G5=cm;function z5(t){return G5(this,t).has(t)}var W5=z5,K5=cm;function J5(t,e){var n=K5(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Y5=J5,X5=O5,Q5=B5,Z5=H5,e9=W5,t9=Y5;function gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gl.prototype.clear=X5;gl.prototype.delete=Q5;gl.prototype.get=Z5;gl.prototype.has=e9;gl.prototype.set=t9;var Xw=gl,RM=Xw,n9="Expected a function";function Qw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(n9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Qw.Cache||RM),n}Qw.Cache=RM;var NM=Qw;const r9=Ge(NM);var i9=NM,o9=500;function s9(t){var e=i9(t,function(r){return n.size===o9&&n.clear(),r}),n=e.cache;return e}var a9=s9,l9=a9,u9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c9=/\\(\\)?/g,f9=l9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(u9,function(n,r,i,o){e.push(i?o.replace(c9,"$1"):r||n)}),e}),d9=f9;function h9(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Zw=h9,mA=uf,p9=Zw,m9=Sn,g9=dl,gA=mA?mA.prototype:void 0,yA=gA?gA.toString:void 0;function kM(t){if(typeof t=="string")return t;if(m9(t))return p9(t,kM)+"";if(g9(t))return yA?yA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var y9=kM,v9=y9;function _9(t){return t==null?"":v9(t)}var MM=_9,w9=Sn,E9=Ww,T9=d9,S9=MM;function b9(t,e){return w9(t)?t:E9(t,e)?[t]:T9(S9(t))}var OM=b9,A9=dl;function I9(t){if(typeof t=="string"||A9(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var fm=I9,x9=OM,C9=fm;function P9(t,e){e=x9(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[C9(e[n++])];return n&&n==r?t:void 0}var eE=P9,R9=eE;function N9(t,e,n){var r=t==null?void 0:R9(t,e);return r===void 0?n:r}var DM=N9;const Wn=Ge(DM);function k9(t){return t==null}var M9=k9;const ke=Ge(M9);var O9=yi,D9=Sn,L9=vi,$9="[object String]";function V9(t){return typeof t=="string"||!D9(t)&&L9(t)&&O9(t)==$9}var U9=V9;const cs=Ge(U9);var LM={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE=Symbol.for("react.element"),nE=Symbol.for("react.portal"),dm=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),pm=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),gm=Symbol.for("react.context"),F9=Symbol.for("react.server_context"),ym=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),_m=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),Em=Symbol.for("react.lazy"),B9=Symbol.for("react.offscreen"),$M;$M=Symbol.for("react.module.reference");function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tE:switch(t=t.type,t){case dm:case pm:case hm:case vm:case _m:return t;default:switch(t=t&&t.$$typeof,t){case F9:case gm:case ym:case Em:case wm:case mm:return t;default:return e}}case nE:return e}}}$e.ContextConsumer=gm;$e.ContextProvider=mm;$e.Element=tE;$e.ForwardRef=ym;$e.Fragment=dm;$e.Lazy=Em;$e.Memo=wm;$e.Portal=nE;$e.Profiler=pm;$e.StrictMode=hm;$e.Suspense=vm;$e.SuspenseList=_m;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(t){return Zn(t)===gm};$e.isContextProvider=function(t){return Zn(t)===mm};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tE};$e.isForwardRef=function(t){return Zn(t)===ym};$e.isFragment=function(t){return Zn(t)===dm};$e.isLazy=function(t){return Zn(t)===Em};$e.isMemo=function(t){return Zn(t)===wm};$e.isPortal=function(t){return Zn(t)===nE};$e.isProfiler=function(t){return Zn(t)===pm};$e.isStrictMode=function(t){return Zn(t)===hm};$e.isSuspense=function(t){return Zn(t)===vm};$e.isSuspenseList=function(t){return Zn(t)===_m};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dm||t===pm||t===hm||t===vm||t===_m||t===B9||typeof t=="object"&&t!==null&&(t.$$typeof===Em||t.$$typeof===wm||t.$$typeof===mm||t.$$typeof===gm||t.$$typeof===ym||t.$$typeof===$M||t.getModuleId!==void 0)};$e.typeOf=Zn;LM.exports=$e;var q9=LM.exports,j9=yi,H9=vi,G9="[object Number]";function z9(t){return typeof t=="number"||H9(t)&&j9(t)==G9}var VM=z9;const W9=Ge(VM);var K9=VM;function J9(t){return K9(t)&&t!=+t}var Y9=J9;const cf=Ge(Y9);var ur=function(e){return e===0?0:e>0?1:-1},zo=function(e){return cs(e)&&e.indexOf("%")===e.length-1},ie=function(e){return W9(e)&&!cf(e)},X9=function(e){return ke(e)},xt=function(e){return ie(e)||cs(e)},Q9=0,Tm=function(e){var n=++Q9;return"".concat(e||"").concat(n)},fs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!cs(e))return r;var o;if(zo(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return cf(o)&&(o=r),i&&o>n&&(o=n),o},Bs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Z9=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Vs=function(e,n){return ie(e)&&ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function Yv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Wn(r,e))===n})}var eq=function(e,n){return ie(e)&&ie(n)?e-n:cs(e)&&cs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function pa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}var tq=["viewBox","children"],nq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vA=["points","pathLength"],dy={svg:tq,polygon:vA,polyline:vA},rE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!hl(r))return null;var i={};return Object.keys(r).forEach(function(o){rE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},rq=function(e,n,r){return function(i){return e(n,r,i),null}},Eh=function(e,n,r){if(!hl(e)||Xv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];rE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=rq(s,n,r))}),i},iq=["children"],oq=["children"];function _A(t,e){if(t==null)return{};var n=sq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ti=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},EA=null,hy=null,iE=function t(e){if(e===EA&&Array.isArray(hy))return hy;var n=[];return $.Children.forEach(e,function(r){ke(r)||(q9.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),hy=n,EA=e,n};function mr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ti(i)}):r=[ti(e)],iE(t).forEach(function(i){var o=Wn(i,"type.displayName")||Wn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Cn(t,e){var n=mr(t,e);return n&&n[0]}var TA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ie(r)||r<=0||!ie(i)||i<=0)},aq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lq=function(e){return e&&e.type&&cs(e.type)&&aq.indexOf(e.type)>=0},uq=function(e,n,r,i){var o,s=(o=dy==null?void 0:dy[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ie(e)&&(i&&s.includes(n)||nq.includes(n))||r&&rE.includes(n)},Oe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!hl(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;uq((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},Qv=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return SA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!SA(o,s))return!1}return!0},SA=function(e,n){if(ke(e)&&ke(n))return!0;if(!ke(e)&&!ke(n)){var r=e.props||{},i=r.children,o=_A(r,iq),s=n.props||{},a=s.children,l=_A(s,oq);return i&&a?pa(o,l)&&Qv(i,a):!i&&!a?pa(o,l):!1}return!1},bA=function(e,n){var r=[],i={};return iE(e).forEach(function(o,s){if(lq(o))r.push(o);else if(o){var a=ti(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},cq=function(e){var n=e&&e.type;return n&&wA[n]?wA[n]:null},fq=function(e,n){return iE(n).indexOf(e)},dq=["children","width","height","viewBox","className","style","title","desc"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(this,arguments)}function hq(t,e){if(t==null)return{};var n=pq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=hq(t,dq),c=i||{width:n,height:r,x:0,y:0},f=Ne("recharts-surface",o);return F.createElement("svg",Zv({},Oe(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),F.createElement("title",null,a),F.createElement("desc",null,l),e)}var mq=["children","className"];function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t0.apply(this,arguments)}function gq(t,e){if(t==null)return{};var n=yq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Vt=F.forwardRef(function(t,e){var n=t.children,r=t.className,i=gq(t,mq),o=Ne("recharts-layer",r);return F.createElement("g",t0({className:o},Oe(i,!0),{ref:e}),n)}),ts=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function vq(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var _q=vq,wq=_q;function Eq(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:wq(t,e,n)}var Tq=Eq,Sq="\\ud800-\\udfff",bq="\\u0300-\\u036f",Aq="\\ufe20-\\ufe2f",Iq="\\u20d0-\\u20ff",xq=bq+Aq+Iq,Cq="\\ufe0e\\ufe0f",Pq="\\u200d",Rq=RegExp("["+Pq+Sq+xq+Cq+"]");function Nq(t){return Rq.test(t)}var UM=Nq;function kq(t){return t.split("")}var Mq=kq,FM="\\ud800-\\udfff",Oq="\\u0300-\\u036f",Dq="\\ufe20-\\ufe2f",Lq="\\u20d0-\\u20ff",$q=Oq+Dq+Lq,Vq="\\ufe0e\\ufe0f",Uq="["+FM+"]",n0="["+$q+"]",r0="\\ud83c[\\udffb-\\udfff]",Fq="(?:"+n0+"|"+r0+")",BM="[^"+FM+"]",qM="(?:\\ud83c[\\udde6-\\uddff]){2}",jM="[\\ud800-\\udbff][\\udc00-\\udfff]",Bq="\\u200d",HM=Fq+"?",GM="["+Vq+"]?",qq="(?:"+Bq+"(?:"+[BM,qM,jM].join("|")+")"+GM+HM+")*",jq=GM+HM+qq,Hq="(?:"+[BM+n0+"?",n0,qM,jM,Uq].join("|")+")",Gq=RegExp(r0+"(?="+r0+")|"+Hq+jq,"g");function zq(t){return t.match(Gq)||[]}var Wq=zq,Kq=Mq,Jq=UM,Yq=Wq;function Xq(t){return Jq(t)?Yq(t):Kq(t)}var Qq=Xq,Zq=Tq,ej=UM,tj=Qq,nj=MM;function rj(t){return function(e){e=nj(e);var n=ej(e)?tj(e):void 0,r=n?n[0]:e.charAt(0),i=n?Zq(n,1).join(""):e.slice(1);return r[t]()+i}}var ij=rj,oj=ij,sj=oj("toUpperCase"),aj=sj;const Sm=Ge(aj);function je(t){return function(){return t}}const zM=Math.cos,Th=Math.sin,vr=Math.sqrt,Sh=Math.PI,bm=2*Sh,i0=Math.PI,o0=2*i0,Uo=1e-6,lj=o0-Uo;function WM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uj(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return WM;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cj{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?WM:uj(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Uo)if(!(Math.abs(f*l-u*c)>Uo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,_=i-a,y=l*l+u*u,w=g*g+_*_,v=Math.sqrt(y),E=Math.sqrt(h),S=o*Math.tan((i0-Math.acos((y+h-w)/(2*v*E)))/2),R=S/E,A=S/v;Math.abs(R-1)>Uo&&this._append`L${e+R*c},${n+R*f}`,this._append`A${o},${o},0,0,${+(f*g>c*_)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Uo||Math.abs(this._y1-c)>Uo)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%o0+o0),h>lj?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Uo&&this._append`A${r},${r},0,${+(h>=i0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cj(e)}function sE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KM(t){this._context=t}KM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Am(t){return new KM(t)}function JM(t){return t[0]}function YM(t){return t[1]}function XM(t,e){var n=je(!0),r=null,i=Am,o=null,s=oE(a);t=typeof t=="function"?t:t===void 0?JM:je(t),e=typeof e=="function"?e:e===void 0?YM:je(e);function a(l){var u,c=(l=sE(l)).length,f,h=!1,g;for(r==null&&(o=i(g=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(g)return o=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:je(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:je(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:je(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function sd(t,e,n){var r=null,i=je(!0),o=null,s=Am,a=null,l=oE(u);t=typeof t=="function"?t:t===void 0?JM:je(+t),e=typeof e=="function"?e:je(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?YM:je(+n);function u(f){var h,g,_,y=(f=sE(f)).length,w,v=!1,E,S=new Array(y),R=new Array(y);for(o==null&&(a=s(E=l())),h=0;h<=y;++h){if(!(h<y&&i(w=f[h],h,f))===v)if(v=!v)g=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),_=h-1;_>=g;--_)a.point(S[_],R[_]);a.lineEnd(),a.areaEnd()}v&&(S[h]=+t(w,h,f),R[h]=+e(w,h,f),a.point(r?+r(w,h,f):S[h],n?+n(w,h,f):R[h]))}if(E)return a=null,E+""||null}function c(){return XM().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:je(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:je(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:je(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:je(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:je(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:je(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:je(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class QM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fj(t){return new QM(t,!0)}function dj(t){return new QM(t,!1)}const aE={draw(t,e){const n=vr(e/Sh);t.moveTo(n,0),t.arc(0,0,n,0,bm)}},hj={draw(t,e){const n=vr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ZM=vr(1/3),pj=ZM*2,mj={draw(t,e){const n=vr(e/pj),r=n*ZM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},gj={draw(t,e){const n=vr(e),r=-n/2;t.rect(r,r,n,n)}},yj=.8908130915292852,eO=Th(Sh/10)/Th(7*Sh/10),vj=Th(bm/10)*eO,_j=-zM(bm/10)*eO,wj={draw(t,e){const n=vr(e*yj),r=vj*n,i=_j*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=bm*o/5,a=zM(s),l=Th(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},py=vr(3),Ej={draw(t,e){const n=-vr(e/(py*3));t.moveTo(0,n*2),t.lineTo(-py*n,-n),t.lineTo(py*n,-n),t.closePath()}},$n=-.5,Vn=vr(3)/2,s0=1/vr(12),Tj=(s0/2+1)*3,Sj={draw(t,e){const n=vr(e/Tj),r=n/2,i=n*s0,o=r,s=n*s0+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo($n*r-Vn*i,Vn*r+$n*i),t.lineTo($n*o-Vn*s,Vn*o+$n*s),t.lineTo($n*a-Vn*l,Vn*a+$n*l),t.lineTo($n*r+Vn*i,$n*i-Vn*r),t.lineTo($n*o+Vn*s,$n*s-Vn*o),t.lineTo($n*a+Vn*l,$n*l-Vn*a),t.closePath()}};function bj(t,e){let n=null,r=oE(i);t=typeof t=="function"?t:je(t||aE),e=typeof e=="function"?e:je(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:je(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:je(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function bh(){}function Ah(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function tO(t){this._context=t}tO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ah(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ah(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Aj(t){return new tO(t)}function nO(t){this._context=t}nO.prototype={areaStart:bh,areaEnd:bh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ah(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ij(t){return new nO(t)}function rO(t){this._context=t}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ah(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xj(t){return new rO(t)}function iO(t){this._context=t}iO.prototype={areaStart:bh,areaEnd:bh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Cj(t){return new iO(t)}function AA(t){return t<0?-1:1}function IA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(AA(o)+AA(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function xA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function my(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Ih(t){this._context=t}Ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:my(this,this._t0,xA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,my(this,xA(this,n=IA(this,t,e)),n);break;default:my(this,this._t0,n=IA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oO(t){this._context=new sO(t)}(oO.prototype=Object.create(Ih.prototype)).point=function(t,e){Ih.prototype.point.call(this,e,t)};function sO(t){this._context=t}sO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Pj(t){return new Ih(t)}function Rj(t){return new oO(t)}function aO(t){this._context=t}aO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=CA(t),i=CA(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function CA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Nj(t){return new aO(t)}function Im(t,e){this._context=t,this._t=e}Im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function kj(t){return new Im(t,.5)}function Mj(t){return new Im(t,0)}function Oj(t){return new Im(t,1)}function ka(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function a0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Dj(t,e){return t[e]}function Lj(t){const e=[];return e.key=t,e}function $j(){var t=je([]),e=a0,n=ka,r=Dj;function i(o){var s=Array.from(t.apply(this,arguments),Lj),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=sE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:je(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:je(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?a0:typeof o=="function"?o:je(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ka,i):n},i}function Vj(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}ka(t,e)}}function Uj(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}ka(t,e)}}function Fj(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,g=(f-h)/2,_=0;_<a;++_){var y=t[e[_]],w=y[r][1]||0,v=y[r-1][1]||0;g+=w-v}l+=f,u+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ka(t,e)}}function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}var Bj=["type","size","sizeType"];function l0(){return l0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l0.apply(this,arguments)}function PA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(n),!0).forEach(function(r){qj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qj(t,e,n){return e=jj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jj(t){var e=Hj(t,"string");return dc(e)=="symbol"?e:e+""}function Hj(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gj(t,e){if(t==null)return{};var n=zj(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zj(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lO={symbolCircle:aE,symbolCross:hj,symbolDiamond:mj,symbolSquare:gj,symbolStar:wj,symbolTriangle:Ej,symbolWye:Sj},Wj=Math.PI/180,Kj=function(e){var n="symbol".concat(Sm(e));return lO[n]||aE},Jj=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Wj;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Yj=function(e,n){lO["symbol".concat(Sm(e))]=n},lE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Gj(e,Bj),u=RA(RA({},l),{},{type:r,size:o,sizeType:a}),c=function(){var w=Kj(r),v=bj().type(w).size(Jj(o,a,r));return v()},f=u.className,h=u.cx,g=u.cy,_=Oe(u,!0);return h===+h&&g===+g&&o===+o?F.createElement("path",l0({},_,{className:Ne("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};lE.registerSymbol=Yj;function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u0.apply(this,arguments)}function NA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(n),!0).forEach(function(r){hc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cO(r.key),r)}}function eH(t,e,n){return e&&Zj(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tH(t,e,n){return e=xh(e),nH(t,uO()?Reflect.construct(e,n||[],xh(t).constructor):e.apply(t,n))}function nH(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rH(t)}function rH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uO=function(){return!!t})()}function xh(t){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xh(t)}function iH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c0(t,e)}function c0(t,e){return c0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c0(t,e)}function hc(t,e,n){return e=cO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cO(t){var e=oH(t,"string");return Ma(e)=="symbol"?e:e+""}function oH(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Un=32,uE=function(t){function e(){return Qj(this,e),tH(this,e,arguments)}return iH(e,t),eH(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Un/2,s=Un/6,a=Un/3,l=r.inactive?i:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Un,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Un,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Un/8,"h").concat(Un,"v").concat(Un*3/4,"h").concat(-Un,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var u=Xj({},r);return delete u.legendIcon,F.cloneElement(r.legendIcon,u)}return F.createElement(lE,{fill:l,cx:o,cy:o,size:Un,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Un,height:Un},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,_){var y=g.formatter||l,w=Ne(hc(hc({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",g.inactive));if(g.type==="none")return null;var v=Ie(g.value)?null:g.value;ts(!Ie(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=g.inactive?u:g.color;return F.createElement("li",u0({className:w,style:f,key:"legend-item-".concat(_)},Eh(r.props,g,_)),F.createElement(e0,{width:s,height:s,viewBox:c,style:h},r.renderIcon(g)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},y?y(v,g,_):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}($.PureComponent);hc(uE,"displayName","Legend");hc(uE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var sH=um;function aH(){this.__data__=new sH,this.size=0}var lH=aH;function uH(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var cH=uH;function fH(t){return this.__data__.get(t)}var dH=fH;function hH(t){return this.__data__.has(t)}var pH=hH,mH=um,gH=Yw,yH=Xw,vH=200;function _H(t,e){var n=this.__data__;if(n instanceof mH){var r=n.__data__;if(!gH||r.length<vH-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yH(r)}return n.set(t,e),this.size=n.size,this}var wH=_H,EH=um,TH=lH,SH=cH,bH=dH,AH=pH,IH=wH;function yl(t){var e=this.__data__=new EH(t);this.size=e.size}yl.prototype.clear=TH;yl.prototype.delete=SH;yl.prototype.get=bH;yl.prototype.has=AH;yl.prototype.set=IH;var fO=yl,xH="__lodash_hash_undefined__";function CH(t){return this.__data__.set(t,xH),this}var PH=CH;function RH(t){return this.__data__.has(t)}var NH=RH,kH=Xw,MH=PH,OH=NH;function Ch(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new kH;++e<n;)this.add(t[e])}Ch.prototype.add=Ch.prototype.push=MH;Ch.prototype.has=OH;var dO=Ch;function DH(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var hO=DH;function LH(t,e){return t.has(e)}var pO=LH,$H=dO,VH=hO,UH=pO,FH=1,BH=2;function qH(t,e,n,r,i,o){var s=n&FH,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,g=n&BH?new $H:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var _=t[f],y=e[f];if(r)var w=s?r(y,_,f,e,t,o):r(_,y,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(g){if(!VH(e,function(v,E){if(!UH(g,E)&&(_===v||i(_,v,n,r,o)))return g.push(E)})){h=!1;break}}else if(!(_===y||i(_,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var mO=qH,jH=qr,HH=jH.Uint8Array,GH=HH;function zH(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var WH=zH;function KH(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cE=KH,kA=uf,MA=GH,JH=Jw,YH=mO,XH=WH,QH=cE,ZH=1,eG=2,tG="[object Boolean]",nG="[object Date]",rG="[object Error]",iG="[object Map]",oG="[object Number]",sG="[object RegExp]",aG="[object Set]",lG="[object String]",uG="[object Symbol]",cG="[object ArrayBuffer]",fG="[object DataView]",OA=kA?kA.prototype:void 0,gy=OA?OA.valueOf:void 0;function dG(t,e,n,r,i,o,s){switch(n){case fG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cG:return!(t.byteLength!=e.byteLength||!o(new MA(t),new MA(e)));case tG:case nG:case oG:return JH(+t,+e);case rG:return t.name==e.name&&t.message==e.message;case sG:case lG:return t==e+"";case iG:var a=XH;case aG:var l=r&ZH;if(a||(a=QH),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=eG,s.set(t,e);var c=YH(a(t),a(e),r,i,o,s);return s.delete(t),c;case uG:if(gy)return gy.call(t)==gy.call(e)}return!1}var hG=dG;function pG(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var gO=pG,mG=gO,gG=Sn;function yG(t,e,n){var r=e(t);return gG(t)?r:mG(r,n(t))}var vG=yG;function _G(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var wG=_G;function EG(){return[]}var TG=EG,SG=wG,bG=TG,AG=Object.prototype,IG=AG.propertyIsEnumerable,DA=Object.getOwnPropertySymbols,xG=DA?function(t){return t==null?[]:(t=Object(t),SG(DA(t),function(e){return IG.call(t,e)}))}:bG,CG=xG;function PG(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var RG=PG,NG=yi,kG=vi,MG="[object Arguments]";function OG(t){return kG(t)&&NG(t)==MG}var DG=OG,LA=DG,LG=vi,yO=Object.prototype,$G=yO.hasOwnProperty,VG=yO.propertyIsEnumerable,UG=LA(function(){return arguments}())?LA:function(t){return LG(t)&&$G.call(t,"callee")&&!VG.call(t,"callee")},fE=UG,Ph={exports:{}};function FG(){return!1}var BG=FG;Ph.exports;(function(t,e){var n=qr,r=BG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Ph,Ph.exports);var vO=Ph.exports,qG=9007199254740991,jG=/^(?:0|[1-9]\d*)$/;function HG(t,e){var n=typeof t;return e=e??qG,!!e&&(n=="number"||n!="symbol"&&jG.test(t))&&t>-1&&t%1==0&&t<e}var dE=HG,GG=9007199254740991;function zG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=GG}var hE=zG,WG=yi,KG=hE,JG=vi,YG="[object Arguments]",XG="[object Array]",QG="[object Boolean]",ZG="[object Date]",ez="[object Error]",tz="[object Function]",nz="[object Map]",rz="[object Number]",iz="[object Object]",oz="[object RegExp]",sz="[object Set]",az="[object String]",lz="[object WeakMap]",uz="[object ArrayBuffer]",cz="[object DataView]",fz="[object Float32Array]",dz="[object Float64Array]",hz="[object Int8Array]",pz="[object Int16Array]",mz="[object Int32Array]",gz="[object Uint8Array]",yz="[object Uint8ClampedArray]",vz="[object Uint16Array]",_z="[object Uint32Array]",Je={};Je[fz]=Je[dz]=Je[hz]=Je[pz]=Je[mz]=Je[gz]=Je[yz]=Je[vz]=Je[_z]=!0;Je[YG]=Je[XG]=Je[uz]=Je[QG]=Je[cz]=Je[ZG]=Je[ez]=Je[tz]=Je[nz]=Je[rz]=Je[iz]=Je[oz]=Je[sz]=Je[az]=Je[lz]=!1;function wz(t){return JG(t)&&KG(t.length)&&!!Je[WG(t)]}var Ez=wz;function Tz(t){return function(e){return t(e)}}var _O=Tz,Rh={exports:{}};Rh.exports;(function(t,e){var n=xM,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Rh,Rh.exports);var Sz=Rh.exports,bz=Ez,Az=_O,$A=Sz,VA=$A&&$A.isTypedArray,Iz=VA?Az(VA):bz,wO=Iz,xz=RG,Cz=fE,Pz=Sn,Rz=vO,Nz=dE,kz=wO,Mz=Object.prototype,Oz=Mz.hasOwnProperty;function Dz(t,e){var n=Pz(t),r=!n&&Cz(t),i=!n&&!r&&Rz(t),o=!n&&!r&&!i&&kz(t),s=n||r||i||o,a=s?xz(t.length,String):[],l=a.length;for(var u in t)(e||Oz.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Nz(u,l)))&&a.push(u);return a}var Lz=Dz,$z=Object.prototype;function Vz(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||$z;return t===n}var Uz=Vz;function Fz(t,e){return function(n){return t(e(n))}}var EO=Fz,Bz=EO,qz=Bz(Object.keys,Object),jz=qz,Hz=Uz,Gz=jz,zz=Object.prototype,Wz=zz.hasOwnProperty;function Kz(t){if(!Hz(t))return Gz(t);var e=[];for(var n in Object(t))Wz.call(t,n)&&n!="constructor"&&e.push(n);return e}var Jz=Kz,Yz=Kw,Xz=hE;function Qz(t){return t!=null&&Xz(t.length)&&!Yz(t)}var xm=Qz,Zz=Lz,e8=Jz,t8=xm;function n8(t){return t8(t)?Zz(t):e8(t)}var pE=n8,r8=vG,i8=CG,o8=pE;function s8(t){return r8(t,o8,i8)}var a8=s8,UA=a8,l8=1,u8=Object.prototype,c8=u8.hasOwnProperty;function f8(t,e,n,r,i,o){var s=n&l8,a=UA(t),l=a.length,u=UA(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:c8.call(e,h)))return!1}var g=o.get(t),_=o.get(e);if(g&&_)return g==e&&_==t;var y=!0;o.set(t,e),o.set(e,t);for(var w=s;++f<l;){h=a[f];var v=t[h],E=e[h];if(r)var S=s?r(E,v,h,e,t,o):r(v,E,h,t,e,o);if(!(S===void 0?v===E||i(v,E,n,r,o):S)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var R=t.constructor,A=e.constructor;R!=A&&"constructor"in t&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof A=="function"&&A instanceof A)&&(y=!1)}return o.delete(t),o.delete(e),y}var d8=f8,h8=Ss,p8=qr,m8=h8(p8,"DataView"),g8=m8,y8=Ss,v8=qr,_8=y8(v8,"Promise"),w8=_8,E8=Ss,T8=qr,S8=E8(T8,"Set"),TO=S8,b8=Ss,A8=qr,I8=b8(A8,"WeakMap"),x8=I8,f0=g8,d0=Yw,h0=w8,p0=TO,m0=x8,SO=yi,vl=PM,FA="[object Map]",C8="[object Object]",BA="[object Promise]",qA="[object Set]",jA="[object WeakMap]",HA="[object DataView]",P8=vl(f0),R8=vl(d0),N8=vl(h0),k8=vl(p0),M8=vl(m0),Fo=SO;(f0&&Fo(new f0(new ArrayBuffer(1)))!=HA||d0&&Fo(new d0)!=FA||h0&&Fo(h0.resolve())!=BA||p0&&Fo(new p0)!=qA||m0&&Fo(new m0)!=jA)&&(Fo=function(t){var e=SO(t),n=e==C8?t.constructor:void 0,r=n?vl(n):"";if(r)switch(r){case P8:return HA;case R8:return FA;case N8:return BA;case k8:return qA;case M8:return jA}return e});var O8=Fo,yy=fO,D8=mO,L8=hG,$8=d8,GA=O8,zA=Sn,WA=vO,V8=wO,U8=1,KA="[object Arguments]",JA="[object Array]",ad="[object Object]",F8=Object.prototype,YA=F8.hasOwnProperty;function B8(t,e,n,r,i,o){var s=zA(t),a=zA(e),l=s?JA:GA(t),u=a?JA:GA(e);l=l==KA?ad:l,u=u==KA?ad:u;var c=l==ad,f=u==ad,h=l==u;if(h&&WA(t)){if(!WA(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new yy),s||V8(t)?D8(t,e,n,r,i,o):L8(t,e,l,n,r,i,o);if(!(n&U8)){var g=c&&YA.call(t,"__wrapped__"),_=f&&YA.call(e,"__wrapped__");if(g||_){var y=g?t.value():t,w=_?e.value():e;return o||(o=new yy),i(y,w,n,r,o)}}return h?(o||(o=new yy),$8(t,e,n,r,i,o)):!1}var q8=B8,j8=q8,XA=vi;function bO(t,e,n,r,i){return t===e?!0:t==null||e==null||!XA(t)&&!XA(e)?t!==t&&e!==e:j8(t,e,n,r,bO,i)}var mE=bO,H8=fO,G8=mE,z8=1,W8=2;function K8(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new H8;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?G8(c,u,z8|W8,r,f):h))return!1}}return!0}var J8=K8,Y8=Eo;function X8(t){return t===t&&!Y8(t)}var AO=X8,Q8=AO,Z8=pE;function e7(t){for(var e=Z8(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Q8(i)]}return e}var t7=e7;function n7(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var IO=n7,r7=J8,i7=t7,o7=IO;function s7(t){var e=i7(t);return e.length==1&&e[0][2]?o7(e[0][0],e[0][1]):function(n){return n===t||r7(n,t,e)}}var a7=s7;function l7(t,e){return t!=null&&e in Object(t)}var u7=l7,c7=OM,f7=fE,d7=Sn,h7=dE,p7=hE,m7=fm;function g7(t,e,n){e=c7(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=m7(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&p7(i)&&h7(s,i)&&(d7(t)||f7(t)))}var y7=g7,v7=u7,_7=y7;function w7(t,e){return t!=null&&_7(t,e,v7)}var E7=w7,T7=mE,S7=DM,b7=E7,A7=Ww,I7=AO,x7=IO,C7=fm,P7=1,R7=2;function N7(t,e){return A7(t)&&I7(e)?x7(C7(t),e):function(n){var r=S7(n,t);return r===void 0&&r===e?b7(n,t):T7(e,r,P7|R7)}}var k7=N7;function M7(t){return t}var _l=M7;function O7(t){return function(e){return e==null?void 0:e[t]}}var D7=O7,L7=eE;function $7(t){return function(e){return L7(e,t)}}var V7=$7,U7=D7,F7=V7,B7=Ww,q7=fm;function j7(t){return B7(t)?U7(q7(t)):F7(t)}var H7=j7,G7=a7,z7=k7,W7=_l,K7=Sn,J7=H7;function Y7(t){return typeof t=="function"?t:t==null?W7:typeof t=="object"?K7(t)?z7(t[0],t[1]):G7(t):J7(t)}var wl=Y7;function X7(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Q7=X7;function Z7(t){return t!==t}var eW=Z7;function tW(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var nW=tW,rW=Q7,iW=eW,oW=nW;function sW(t,e,n){return e===e?oW(t,e,n):rW(t,iW,n)}var aW=sW,lW=aW;function uW(t,e){var n=t==null?0:t.length;return!!n&&lW(t,e,0)>-1}var cW=uW;function fW(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var dW=fW;function hW(){}var pW=hW,vy=TO,mW=pW,gW=cE,yW=1/0,vW=vy&&1/gW(new vy([,-0]))[1]==yW?function(t){return new vy(t)}:mW,_W=vW,wW=dO,EW=cW,TW=dW,SW=pO,bW=_W,AW=cE,IW=200;function xW(t,e,n){var r=-1,i=EW,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=TW;else if(o>=IW){var u=e?null:bW(t);if(u)return AW(u);s=!1,i=SW,l=new wW}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var CW=xW,PW=wl,RW=CW;function NW(t,e){return t&&t.length?RW(t,PW(e)):[]}var kW=NW;const QA=Ge(kW);function xO(t,e,n){return e===!0?QA(t,n):Ie(e)?QA(t,e):t}function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}var MW=["ref"];function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){Cm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PO(r.key),r)}}function DW(t,e,n){return e&&eI(t.prototype,e),n&&eI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LW(t,e,n){return e=Nh(e),$W(t,CO()?Reflect.construct(e,n||[],Nh(t).constructor):e.apply(t,n))}function $W(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VW(t)}function VW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!t})()}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nh(t)}function UW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g0(t,e)}function g0(t,e){return g0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g0(t,e)}function Cm(t,e,n){return e=PO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PO(t){var e=FW(t,"string");return Oa(e)=="symbol"?e:e+""}function FW(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BW(t,e){if(t==null)return{};var n=qW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jW(t){return t.value}function HW(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var n=BW(e,MW);return F.createElement(uE,n)}var tI=1,ma=function(t){function e(){var n;OW(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=LW(this,e,[].concat(i)),Cm(n,"lastBoundingBox",{width:-1,height:-1}),n}return UW(e,t),DW(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>tI||Math.abs(i.height-this.lastBoundingBox.height)>tI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var _=this.getBBoxSnapshot();h={top:((c||0)-_.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Hr(Hr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Hr(Hr({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},HW(o,Hr(Hr({},this.props),{},{payload:xO(c,u,jW)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Hr(Hr({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ie(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Cm(ma,"displayName","Legend");Cm(ma,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var nI=uf,GW=fE,zW=Sn,rI=nI?nI.isConcatSpreadable:void 0;function WW(t){return zW(t)||GW(t)||!!(rI&&t&&t[rI])}var KW=WW,JW=gO,YW=KW;function RO(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=YW),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?RO(a,e-1,n,r,i):JW(i,a):r||(i[i.length]=a)}return i}var NO=RO;function XW(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var QW=XW,ZW=QW,eK=ZW(),tK=eK,nK=tK,rK=pE;function iK(t,e){return t&&nK(t,e,rK)}var kO=iK,oK=xm;function sK(t,e){return function(n,r){if(n==null)return n;if(!oK(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var aK=sK,lK=kO,uK=aK,cK=uK(lK),gE=cK,fK=gE,dK=xm;function hK(t,e){var n=-1,r=dK(t)?Array(t.length):[];return fK(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var MO=hK;function pK(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var mK=pK,iI=dl;function gK(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=iI(t),s=e!==void 0,a=e===null,l=e===e,u=iI(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var yK=gK,vK=yK;function _K(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=vK(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var wK=_K,_y=Zw,EK=eE,TK=wl,SK=MO,bK=mK,AK=_O,IK=wK,xK=_l,CK=Sn;function PK(t,e,n){e.length?e=_y(e,function(o){return CK(o)?function(s){return EK(s,o.length===1?o[0]:o)}:o}):e=[xK];var r=-1;e=_y(e,AK(TK));var i=SK(t,function(o,s,a){var l=_y(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return bK(i,function(o,s){return IK(o,s,n)})}var RK=PK;function NK(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var kK=NK,MK=kK,oI=Math.max;function OK(t,e,n){return e=oI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=oI(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),MK(t,this,a)}}var DK=OK;function LK(t){return function(){return t}}var $K=LK,VK=Ss,UK=function(){try{var t=VK(Object,"defineProperty");return t({},"",{}),t}catch{}}(),OO=UK,FK=$K,sI=OO,BK=_l,qK=sI?function(t,e){return sI(t,"toString",{configurable:!0,enumerable:!1,value:FK(e),writable:!0})}:BK,jK=qK,HK=800,GK=16,zK=Date.now;function WK(t){var e=0,n=0;return function(){var r=zK(),i=GK-(r-n);if(n=r,i>0){if(++e>=HK)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var KK=WK,JK=jK,YK=KK,XK=YK(JK),QK=XK,ZK=_l,eJ=DK,tJ=QK;function nJ(t,e){return tJ(eJ(t,e,ZK),t+"")}var rJ=nJ,iJ=Jw,oJ=xm,sJ=dE,aJ=Eo;function lJ(t,e,n){if(!aJ(n))return!1;var r=typeof e;return(r=="number"?oJ(n)&&sJ(e,n.length):r=="string"&&e in n)?iJ(n[e],t):!1}var Pm=lJ,uJ=NO,cJ=RK,fJ=rJ,aI=Pm,dJ=fJ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&aI(t,e[0],e[1])?e=[]:n>2&&aI(e[0],e[1],e[2])&&(e=[e[0]]),cJ(t,uJ(e,1),[])}),hJ=dJ;const yE=Ge(hJ);function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y0.apply(this,arguments)}function pJ(t,e){return vJ(t)||yJ(t,e)||gJ(t,e)||mJ()}function mJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gJ(t,e){if(t){if(typeof t=="string")return lI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lI(t,e)}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function vJ(t){if(Array.isArray(t))return t}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){_J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _J(t,e,n){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wJ(t){var e=EJ(t,"string");return pc(e)=="symbol"?e:e+""}function EJ(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TJ(t){return Array.isArray(t)&&xt(t[0])&&xt(t[1])?t.join(" ~ "):t}var SJ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,_=e.labelClassName,y=e.label,w=e.labelFormatter,v=e.accessibilityLayer,E=v===void 0?!1:v,S=function(){if(c&&c.length){var D={padding:0,margin:0},N=(h?yE(c,h):c).map(function(B,j){if(B.type==="none")return null;var G=wy({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},a),K=B.formatter||f||TJ,V=B.value,H=B.name,X=V,te=H;if(K&&X!=null&&te!=null){var Z=K(V,H,B,j,c);if(Array.isArray(Z)){var le=pJ(Z,2);X=le[0],te=le[1]}else X=Z}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(j),style:G},xt(te)?F.createElement("span",{className:"recharts-tooltip-item-name"},te):null,xt(te)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},X),F.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:D},N)}return null},R=wy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=wy({margin:0},u),x=!ke(y),b=x?y:"",I=Ne("recharts-default-tooltip",g),C=Ne("recharts-tooltip-label",_);x&&w&&c!==void 0&&c!==null&&(b=w(y,c));var M=E?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",y0({className:I,style:R},M),F.createElement("p",{className:C,style:A},F.isValidElement(b)?b:"".concat(b)),S())};function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function ld(t,e,n){return e=bJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=AJ(t,"string");return mc(e)=="symbol"?e:e+""}function AJ(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu="recharts-tooltip-wrapper",IJ={visibility:"hidden"};function xJ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ne(iu,ld(ld(ld(ld({},"".concat(iu,"-right"),ie(n)&&e&&ie(e.x)&&n>=e.x),"".concat(iu,"-left"),ie(n)&&e&&ie(e.x)&&n<e.x),"".concat(iu,"-bottom"),ie(r)&&e&&ie(e.y)&&r>=e.y),"".concat(iu,"-top"),ie(r)&&e&&ie(e.y)&&r<e.y))}function cI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ie(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,g=l[r];return h<g?Math.max(f,l[r]):Math.max(c,l[r])}var _=f+a,y=l[r]+u;return _>y?Math.max(c,l[r]):Math.max(f,l[r])}function CJ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function PJ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=cI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=cI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=CJ({translateX:c,translateY:f,useTranslate3d:a})):u=IJ,{cssProperties:u,cssClasses:xJ({translateX:c,translateY:f,coordinate:n})}}function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){_0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LO(r.key),r)}}function kJ(t,e,n){return e&&NJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MJ(t,e,n){return e=kh(e),OJ(t,DO()?Reflect.construct(e,n||[],kh(t).constructor):e.apply(t,n))}function OJ(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DJ(t)}function DJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(t)}function LJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v0(t,e)}function _0(t,e,n){return e=LO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LO(t){var e=$J(t,"string");return Da(e)=="symbol"?e:e+""}function $J(t,e){if(Da(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hI=1,VJ=function(t){function e(){var n;RJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=MJ(this,e,[].concat(i)),_0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_0(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return LJ(e,t),kJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>hI||Math.abs(r.height-this.state.lastBoundingBox.height)>hI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,_=i.position,y=i.reverseDirection,w=i.useTranslate3d,v=i.viewBox,E=i.wrapperStyle,S=PJ({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:g,position:_,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:v}),R=S.cssClasses,A=S.cssProperties,x=dI(dI({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},E);return F.createElement("div",{tabIndex:-1,className:R,style:x,ref:function(I){r.wrapperNode=I}},u)}}])}($.PureComponent),UJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ff={isSsr:UJ()};function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){vE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VO(r.key),r)}}function qJ(t,e,n){return e&&BJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jJ(t,e,n){return e=Mh(e),HJ(t,$O()?Reflect.construct(e,n||[],Mh(t).constructor):e.apply(t,n))}function HJ(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GJ(t)}function GJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(t)}function zJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w0(t,e)}function w0(t,e){return w0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},w0(t,e)}function vE(t,e,n){return e=VO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VO(t){var e=WJ(t,"string");return La(e)=="symbol"?e:e+""}function WJ(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function KJ(t){return t.dataKey}function JJ(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(SJ,e)}var br=function(t){function e(){return FJ(this,e),jJ(this,e,arguments)}return zJ(e,t),qJ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,_=i.payload,y=i.payloadUniqBy,w=i.position,v=i.reverseDirection,E=i.useTranslate3d,S=i.viewBox,R=i.wrapperStyle,A=_??[];f&&A.length&&(A=xO(_.filter(function(b){return b.value!=null&&(b.hide!==!0||r.props.includeHidden)}),y,KJ));var x=A.length>0;return F.createElement(VJ,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:x,offset:g,position:w,reverseDirection:v,useTranslate3d:E,viewBox:S,wrapperStyle:R},JJ(u,mI(mI({},this.props),{},{payload:A})))}}])}($.PureComponent);vE(br,"displayName","Tooltip");vE(br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ff.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var YJ=qr,XJ=function(){return YJ.Date.now()},QJ=XJ,ZJ=/\s/;function eY(t){for(var e=t.length;e--&&ZJ.test(t.charAt(e)););return e}var tY=eY,nY=tY,rY=/^\s+/;function iY(t){return t&&t.slice(0,nY(t)+1).replace(rY,"")}var oY=iY,sY=oY,gI=Eo,aY=dl,yI=NaN,lY=/^[-+]0x[0-9a-f]+$/i,uY=/^0b[01]+$/i,cY=/^0o[0-7]+$/i,fY=parseInt;function dY(t){if(typeof t=="number")return t;if(aY(t))return yI;if(gI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=gI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=sY(t);var n=uY.test(t);return n||cY.test(t)?fY(t.slice(2),n?2:8):lY.test(t)?yI:+t}var UO=dY,hY=Eo,Ey=QJ,vI=UO,pY="Expected a function",mY=Math.max,gY=Math.min;function yY(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(pY);e=vI(e)||0,hY(n)&&(c=!!n.leading,f="maxWait"in n,o=f?mY(vI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(x){var b=r,I=i;return r=i=void 0,u=x,s=t.apply(I,b),s}function _(x){return u=x,a=setTimeout(v,e),c?g(x):s}function y(x){var b=x-l,I=x-u,C=e-b;return f?gY(C,o-I):C}function w(x){var b=x-l,I=x-u;return l===void 0||b>=e||b<0||f&&I>=o}function v(){var x=Ey();if(w(x))return E(x);a=setTimeout(v,y(x))}function E(x){return a=void 0,h&&r?g(x):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function R(){return a===void 0?s:E(Ey())}function A(){var x=Ey(),b=w(x);if(r=arguments,i=this,l=x,b){if(a===void 0)return _(l);if(f)return clearTimeout(a),a=setTimeout(v,e),g(l)}return a===void 0&&(a=setTimeout(v,e)),s}return A.cancel=S,A.flush=R,A}var vY=yY,_Y=vY,wY=Eo,EY="Expected a function";function TY(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(EY);return wY(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_Y(t,e,{leading:r,maxWait:e,trailing:i})}var SY=TY;const FO=Ge(SY);function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){bY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bY(t,e,n){return e=AY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AY(t){var e=IY(t,"string");return gc(e)=="symbol"?e:e+""}function IY(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xY(t,e){return NY(t)||RY(t,e)||PY(t,e)||CY()}function CY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PY(t,e){if(t){if(typeof t=="string")return wI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wI(t,e)}}function wI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function NY(t){if(Array.isArray(t))return t}var kY=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,_=t.debounce,y=_===void 0?0:_,w=t.id,v=t.className,E=t.onResize,S=t.style,R=S===void 0?{}:S,A=$.useRef(null),x=$.useRef();x.current=E,$.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var b=$.useState({containerWidth:i.width,containerHeight:i.height}),I=xY(b,2),C=I[0],M=I[1],k=$.useCallback(function(N,B){M(function(j){var G=Math.round(N),K=Math.round(B);return j.containerWidth===G&&j.containerHeight===K?j:{containerWidth:G,containerHeight:K}})},[]);$.useEffect(function(){var N=function(H){var X,te=H[0].contentRect,Z=te.width,le=te.height;k(Z,le),(X=x.current)===null||X===void 0||X.call(x,Z,le)};y>0&&(N=FO(N,y,{trailing:!0,leading:!1}));var B=new ResizeObserver(N),j=A.current.getBoundingClientRect(),G=j.width,K=j.height;return k(G,K),B.observe(A.current),function(){B.disconnect()}},[k,y]);var D=$.useMemo(function(){var N=C.containerWidth,B=C.containerHeight;if(N<0||B<0)return null;ts(zo(s)||zo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ts(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=zo(s)?N:s,G=zo(l)?B:l;n&&n>0&&(j?G=j/n:G&&(j=G*n),h&&G>h&&(G=h)),ts(j>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,G,s,l,c,f,n);var K=!Array.isArray(g)&&ti(g.type).endsWith("Chart");return F.Children.map(g,function(V){return F.isValidElement(V)?$.cloneElement(V,ud({width:j,height:G},K?{style:ud({height:"100%",width:"100%",maxHeight:G,maxWidth:j},V.props.style)}:{})):V})},[n,g,l,h,f,c,C,s]);return F.createElement("div",{id:w?"".concat(w):void 0,className:Ne("recharts-responsive-container",v),style:ud(ud({},R),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:A},D)}),_E=function(e){return null};_E.displayName="Cell";function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){MY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MY(t,e,n){return e=OY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OY(t){var e=DY(t,"string");return yc(e)=="symbol"?e:e+""}function DY(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Us={widthCache:{},cacheCount:0},LY=2e3,$Y={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TI="recharts_measurement_span";function VY(t){var e=E0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Du=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ff.isSsr)return{width:0,height:0};var r=VY(n),i=JSON.stringify({text:e,copyStyle:r});if(Us.widthCache[i])return Us.widthCache[i];try{var o=document.getElementById(TI);o||(o=document.createElement("span"),o.setAttribute("id",TI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=E0(E0({},$Y),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Us.widthCache[i]=l,++Us.cacheCount>LY&&(Us.cacheCount=0,Us.widthCache={}),l}catch{return{width:0,height:0}}},UY=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function Oh(t,e){return jY(t)||qY(t,e)||BY(t,e)||FY()}function FY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BY(t,e){if(t){if(typeof t=="string")return SI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SI(t,e)}}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function jY(t){if(Array.isArray(t))return t}function HY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zY(r.key),r)}}function GY(t,e,n){return e&&bI(t.prototype,e),n&&bI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zY(t){var e=WY(t,"string");return vc(e)=="symbol"?e:e+""}function WY(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,II=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YY=Object.keys(BO),ia="NaN";function XY(t,e){return t*BO[e]}var cd=function(){function t(e,n){HY(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!KY.test(n)&&(this.num=NaN,this.unit=""),YY.includes(n)&&(this.num=XY(e,n),this.unit="px")}return GY(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=JY.exec(n))!==null&&r!==void 0?r:[],o=Oh(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function qO(t){if(t.includes(ia))return ia;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=AI.exec(e))!==null&&n!==void 0?n:[],i=Oh(r,4),o=i[1],s=i[2],a=i[3],l=cd.parse(o??""),u=cd.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return ia;e=e.replace(AI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=II.exec(e))!==null&&f!==void 0?f:[],g=Oh(h,4),_=g[1],y=g[2],w=g[3],v=cd.parse(_??""),E=cd.parse(w??""),S=y==="+"?v.add(E):v.subtract(E);if(S.isNaN())return ia;e=e.replace(II,S.toString())}return e}var xI=/\(([^()]*)\)/;function QY(t){for(var e=t;e.includes("(");){var n=xI.exec(e),r=Oh(n,2),i=r[1];e=e.replace(xI,qO(i))}return e}function ZY(t){var e=t.replace(/\s+/g,"");return e=QY(e),e=qO(e),e}function eX(t){try{return ZY(t)}catch{return ia}}function Ty(t){var e=eX(t.slice(5,-1));return e===ia?"":e}var tX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],nX=["dx","dy","angle","className","breakAll"];function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(this,arguments)}function CI(t,e){if(t==null)return{};var n=rX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PI(t,e){return aX(t)||sX(t,e)||oX(t,e)||iX()}function iX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oX(t,e){if(t){if(typeof t=="string")return RI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RI(t,e)}}function RI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function aX(t){if(Array.isArray(t))return t}var jO=/[ \f\n\r\t\v\u2028\u2029]+/,HO=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ke(n)||(r?o=n.toString().split(""):o=n.toString().split(jO));var s=o.map(function(l){return{word:l,width:Du(l,i).width}}),a=r?0:Du("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},lX=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ie(s),f=a,h=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce(function(G,K){var V=K.word,H=K.width,X=G[G.length-1];if(X&&(i==null||o||X.width+H+r<Number(i)))X.words.push(V),X.width+=H+r;else{var te={words:[V],width:H};G.push(te)}return G},[])},g=h(n),_=function(j){return j.reduce(function(G,K){return G.width>K.width?G:K})};if(!c)return g;for(var y="",w=function(j){var G=f.slice(0,j),K=HO({breakAll:u,style:l,children:G+y}).wordsWithComputedWidth,V=h(K),H=V.length>s||_(V).width>Number(i);return[H,V]},v=0,E=f.length-1,S=0,R;v<=E&&S<=f.length-1;){var A=Math.floor((v+E)/2),x=A-1,b=w(x),I=PI(b,2),C=I[0],M=I[1],k=w(A),D=PI(k,1),N=D[0];if(!C&&!N&&(v=A+1),C&&N&&(E=A-1),!C&&N){R=M;break}S++}return R||g},NI=function(e){var n=ke(e)?[]:e.toString().split(jO);return[{words:n}]},uX=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!ff.isSsr){var l,u,c=HO({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return NI(i);return lX({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return NI(i)},kI="#808080",Dh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,_=e.verticalAnchor,y=_===void 0?"end":_,w=e.fill,v=w===void 0?kI:w,E=CI(e,tX),S=$.useMemo(function(){return uX({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:f,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,f,E.style,E.width]),R=E.dx,A=E.dy,x=E.angle,b=E.className,I=E.breakAll,C=CI(E,nX);if(!xt(r)||!xt(o))return null;var M=r+(ie(R)?R:0),k=o+(ie(A)?A:0),D;switch(y){case"start":D=Ty("calc(".concat(u,")"));break;case"middle":D=Ty("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=Ty("calc(".concat(S.length-1," * -").concat(a,")"));break}var N=[];if(f){var B=S[0].width,j=E.width;N.push("scale(".concat((ie(j)?j/B:1)/B,")"))}return x&&N.push("rotate(".concat(x,", ").concat(M,", ").concat(k,")")),N.length&&(C.transform=N.join(" ")),F.createElement("text",T0({},Oe(C,!0),{x:M,y:k,className:Ne("recharts-text",b),textAnchor:g,fill:v.includes("url")?kI:v}),S.map(function(G,K){var V=G.words.join(I?"":" ");return F.createElement("tspan",{x:M,dy:K===0?D:a,key:"".concat(V,"-").concat(K)},V)}))};function Zi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wE(t){let e,n,r;t.length!==2?(e=Zi,n=(a,l)=>Zi(t(a),l),r=(a,l)=>t(a)-l):(e=t===Zi||t===cX?t:fX,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function fX(){return 0}function GO(t){return t===null?NaN:+t}function*dX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const hX=wE(Zi),df=hX.right;wE(GO).center;class MI extends Map{constructor(e,n=gX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(OI(this,e))}has(e){return super.has(OI(this,e))}set(e,n){return super.set(pX(this,e),n)}delete(e){return super.delete(mX(this,e))}}function OI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function pX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function mX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function gX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yX(t=Zi){if(t===Zi)return zO;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function zO(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vX=Math.sqrt(50),_X=Math.sqrt(10),wX=Math.sqrt(2);function Lh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=vX?10:o>=_X?5:o>=wX?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Lh(t,e,n*2):[a,l,u]}function S0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Lh(e,t,n):Lh(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function b0(t,e,n){return e=+e,t=+t,n=+n,Lh(t,e,n)[2]}function A0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?b0(e,t,n):b0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function DI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function LI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function WO(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?zO:yX(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*f/l+h)),_=Math.min(r,Math.floor(e+(l-u)*f/l+h));WO(t,e,g,_,i)}const o=t[e];let s=n,a=r;for(ou(t,n,e),i(t[r],o)>0&&ou(t,n,r);s<a;){for(ou(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?ou(t,n,a):(++a,ou(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function ou(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function EX(t,e,n){if(t=Float64Array.from(dX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return LI(t);if(e>=1)return DI(t);var r,i=(r-1)*e,o=Math.floor(i),s=DI(WO(t,o).subarray(0,o+1)),a=LI(t.subarray(o+1));return s+(a-s)*(i-o)}}function TX(t,e,n=GO){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function SX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _i(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const I0=Symbol("implicit");function EE(){var t=new MI,e=[],n=[],r=I0;function i(o){let s=t.get(o);if(s===void 0){if(r!==I0)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new MI;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return EE(e,n).unknown(r)},er.apply(i,arguments),i}function _c(){var t=EE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,g=i<r,_=g?i:r,y=g?r:i;o=(y-_)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),_+=(y-_-o*(h-l))*c,s=o*(1-l),a&&(_=Math.round(_),s=Math.round(s));var w=SX(h).map(function(v){return _+o*v});return n(g?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return _c(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},er.apply(f(),arguments)}function KO(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KO(e())},t}function Lu(){return KO(_c.apply(null,arguments).paddingInner(1))}function TE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function JO(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hf(){}var wc=.7,$h=1/wc,ga="\\s*([+-]?\\d+)\\s*",Ec="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bX=/^#([0-9a-f]{3,8})$/,AX=new RegExp(`^rgb\\(${ga},${ga},${ga}\\)$`),IX=new RegExp(`^rgb\\(${Rr},${Rr},${Rr}\\)$`),xX=new RegExp(`^rgba\\(${ga},${ga},${ga},${Ec}\\)$`),CX=new RegExp(`^rgba\\(${Rr},${Rr},${Rr},${Ec}\\)$`),PX=new RegExp(`^hsl\\(${Ec},${Rr},${Rr}\\)$`),RX=new RegExp(`^hsla\\(${Ec},${Rr},${Rr},${Ec}\\)$`),$I={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TE(hf,Tc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VI,formatHex:VI,formatHex8:NX,formatHsl:kX,formatRgb:UI,toString:UI});function VI(){return this.rgb().formatHex()}function NX(){return this.rgb().formatHex8()}function kX(){return YO(this).formatHsl()}function UI(){return this.rgb().formatRgb()}function Tc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?FI(e):n===3?new vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=AX.exec(t))?new vn(e[1],e[2],e[3],1):(e=IX.exec(t))?new vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xX.exec(t))?fd(e[1],e[2],e[3],e[4]):(e=CX.exec(t))?fd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PX.exec(t))?jI(e[1],e[2]/100,e[3]/100,1):(e=RX.exec(t))?jI(e[1],e[2]/100,e[3]/100,e[4]):$I.hasOwnProperty(t)?FI($I[t]):t==="transparent"?new vn(NaN,NaN,NaN,0):null}function FI(t){return new vn(t>>16&255,t>>8&255,t&255,1)}function fd(t,e,n,r){return r<=0&&(t=e=n=NaN),new vn(t,e,n,r)}function MX(t){return t instanceof hf||(t=Tc(t)),t?(t=t.rgb(),new vn(t.r,t.g,t.b,t.opacity)):new vn}function x0(t,e,n,r){return arguments.length===1?MX(t):new vn(t,e,n,r??1)}function vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}TE(vn,x0,JO(hf,{brighter(t){return t=t==null?$h:Math.pow($h,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wc:Math.pow(wc,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vn(ns(this.r),ns(this.g),ns(this.b),Vh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BI,formatHex:BI,formatHex8:OX,formatRgb:qI,toString:qI}));function BI(){return`#${Wo(this.r)}${Wo(this.g)}${Wo(this.b)}`}function OX(){return`#${Wo(this.r)}${Wo(this.g)}${Wo(this.b)}${Wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function qI(){const t=Vh(this.opacity);return`${t===1?"rgb(":"rgba("}${ns(this.r)}, ${ns(this.g)}, ${ns(this.b)}${t===1?")":`, ${t})`}`}function Vh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ns(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wo(t){return t=ns(t),(t<16?"0":"")+t.toString(16)}function jI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lr(t,e,n,r)}function YO(t){if(t instanceof lr)return new lr(t.h,t.s,t.l,t.opacity);if(t instanceof hf||(t=Tc(t)),!t)return new lr;if(t instanceof lr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new lr(s,a,l,t.opacity)}function DX(t,e,n,r){return arguments.length===1?YO(t):new lr(t,e,n,r??1)}function lr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}TE(lr,DX,JO(hf,{brighter(t){return t=t==null?$h:Math.pow($h,t),new lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wc:Math.pow(wc,t),new lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vn(Sy(t>=240?t-240:t+120,i,r),Sy(t,i,r),Sy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new lr(HI(this.h),dd(this.s),dd(this.l),Vh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vh(this.opacity);return`${t===1?"hsl(":"hsla("}${HI(this.h)}, ${dd(this.s)*100}%, ${dd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function HI(t){return t=(t||0)%360,t<0?t+360:t}function dd(t){return Math.max(0,Math.min(1,t||0))}function Sy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const SE=t=>()=>t;function LX(t,e){return function(n){return t+n*e}}function $X(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function VX(t){return(t=+t)==1?XO:function(e,n){return n-e?$X(e,n,t):SE(isNaN(e)?n:e)}}function XO(t,e){var n=e-t;return n?LX(t,n):SE(isNaN(t)?e:t)}const GI=function t(e){var n=VX(e);function r(i,o){var s=n((i=x0(i)).r,(o=x0(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=XO(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function UX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function FX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=El(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function qX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Uh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function jX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=El(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var C0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,by=new RegExp(C0.source,"g");function HX(t){return function(){return t}}function GX(t){return function(e){return t(e)+""}}function zX(t,e){var n=C0.lastIndex=by.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=C0.exec(t))&&(i=by.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Uh(r,i)})),n=by.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?GX(l[0].x):HX(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function El(t,e){var n=typeof e,r;return e==null||n==="boolean"?SE(e):(n==="number"?Uh:n==="string"?(r=Tc(e))?(e=r,GI):zX:e instanceof Tc?GI:e instanceof Date?qX:FX(e)?UX:Array.isArray(e)?BX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?jX:Uh)(t,e)}function bE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function WX(t,e){e===void 0&&(e=t,t=El);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function KX(t){return function(){return t}}function Fh(t){return+t}var zI=[0,1];function fn(t){return t}function P0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:KX(isNaN(e)?NaN:.5)}function JX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function YX(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=P0(i,r),o=n(s,o)):(r=P0(r,i),o=n(o,s)),function(a){return o(r(a))}}function XX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=P0(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=df(t,a,1,r)-1;return o[l](i[l](a))}}function pf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rm(){var t=zI,e=zI,n=El,r,i,o,s=fn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==fn&&(s=JX(t[0],t[h-1])),a=h>2?XX:YX,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Uh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Fh),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=bE,c()},f.clamp=function(h){return arguments.length?(s=h?!0:fn,c()):s!==fn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return r=h,i=g,c()}}function AE(){return Rm()(fn,fn)}function QX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $a(t){return t=Bh(Math.abs(t)),t?t[1]:NaN}function ZX(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function eQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var tQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sc(t){if(!(e=tQ.exec(t)))throw new Error("invalid format: "+t);var e;return new IE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sc.prototype=IE.prototype;function IE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}IE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var QO;function rQ(t,e){var n=Bh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(QO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Bh(t,Math.max(0,e+o-1))[0]}function WI(t,e){var n=Bh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const KI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:QX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>WI(t*100,e),r:WI,s:rQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function JI(t){return t}var YI=Array.prototype.map,XI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iQ(t){var e=t.grouping===void 0||t.thousands===void 0?JI:ZX(YI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?JI:eQ(YI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Sc(f);var h=f.fill,g=f.align,_=f.sign,y=f.symbol,w=f.zero,v=f.width,E=f.comma,S=f.precision,R=f.trim,A=f.type;A==="n"?(E=!0,A="g"):KI[A]||(S===void 0&&(S=12),R=!0,A="g"),(w||h==="0"&&g==="=")&&(w=!0,h="0",g="=");var x=y==="$"?n:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",b=y==="$"?r:/[%p]/.test(A)?s:"",I=KI[A],C=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function M(k){var D=x,N=b,B,j,G;if(A==="c")N=I(k)+N,k="";else{k=+k;var K=k<0||1/k<0;if(k=isNaN(k)?l:I(Math.abs(k),S),R&&(k=nQ(k)),K&&+k==0&&_!=="+"&&(K=!1),D=(K?_==="("?_:a:_==="-"||_==="("?"":_)+D,N=(A==="s"?XI[8+QO/3]:"")+N+(K&&_==="("?")":""),C){for(B=-1,j=k.length;++B<j;)if(G=k.charCodeAt(B),48>G||G>57){N=(G===46?i+k.slice(B+1):k.slice(B))+N,k=k.slice(0,B);break}}}E&&!w&&(k=e(k,1/0));var V=D.length+k.length+N.length,H=V<v?new Array(v-V+1).join(h):"";switch(E&&w&&(k=e(H+k,H.length?v-N.length:1/0),H=""),g){case"<":k=D+k+N+H;break;case"=":k=D+H+k+N;break;case"^":k=H.slice(0,V=H.length>>1)+D+k+N+H.slice(V);break;default:k=H+D+k+N;break}return o(k)}return M.toString=function(){return f+""},M}function c(f,h){var g=u((f=Sc(f),f.type="f",f)),_=Math.max(-8,Math.min(8,Math.floor($a(h)/3)))*3,y=Math.pow(10,-_),w=XI[8+_/3];return function(v){return g(y*v)+w}}return{format:u,formatPrefix:c}}var hd,xE,ZO;oQ({thousands:",",grouping:[3],currency:["$",""]});function oQ(t){return hd=iQ(t),xE=hd.format,ZO=hd.formatPrefix,hd}function sQ(t){return Math.max(0,-$a(Math.abs(t)))}function aQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($a(e)/3)))*3-$a(Math.abs(t)))}function lQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$a(e)-$a(t))+1}function eD(t,e,n,r){var i=A0(t,e,n),o;switch(r=Sc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=aQ(i,s))&&(r.precision=o),ZO(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=lQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=sQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return xE(r)}function To(t){var e=t.domain;return t.ticks=function(n){var r=e();return S0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return eD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=b0(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function qh(){var t=AE();return t.copy=function(){return pf(t,qh())},er.apply(t,arguments),To(t)}function tD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Fh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return tD(t).unknown(e)},t=arguments.length?Array.from(t,Fh):[0,1],To(n)}function nD(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function QI(t){return Math.log(t)}function ZI(t){return Math.exp(t)}function uQ(t){return-Math.log(-t)}function cQ(t){return-Math.exp(-t)}function fQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dQ(t){return t===10?fQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ex(t){return(e,n)=>-t(-e,n)}function CE(t){const e=t(QI,ZI),n=e.domain;let r=10,i,o;function s(){return i=hQ(r),o=dQ(r),n()[0]<0?(i=ex(i),o=ex(o),t(uQ,cQ)):t(QI,ZI),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),g=i(c),_,y;const w=a==null?10:+a;let v=[];if(!(r%1)&&g-h<w){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(_=1;_<r;++_)if(y=h<0?_/o(-h):_*o(h),!(y<u)){if(y>c)break;v.push(y)}}else for(;h<=g;++h)for(_=r-1;_>=1;--_)if(y=h>0?_/o(-h):_*o(h),!(y<u)){if(y>c)break;v.push(y)}v.length*2<w&&(v=S0(u,c,w))}else v=S0(h,g,Math.min(g-h,w)).map(o);return f?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Sc(l)).precision==null&&(l.trim=!0),l=xE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(nD(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function rD(){const t=CE(Rm()).domain([1,10]);return t.copy=()=>pf(t,rD()).base(t.base()),er.apply(t,arguments),t}function tx(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function nx(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function PE(t){var e=1,n=t(tx(e),nx(e));return n.constant=function(r){return arguments.length?t(tx(e=+r),nx(e)):e},To(n)}function iD(){var t=PE(Rm());return t.copy=function(){return pf(t,iD()).constant(t.constant())},er.apply(t,arguments)}function rx(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mQ(t){return t<0?-t*t:t*t}function RE(t){var e=t(fn,fn),n=1;function r(){return n===1?t(fn,fn):n===.5?t(pQ,mQ):t(rx(n),rx(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},To(e)}function NE(){var t=RE(Rm());return t.copy=function(){return pf(t,NE()).exponent(t.exponent())},er.apply(t,arguments),t}function gQ(){return NE.apply(null,arguments).exponent(.5)}function ix(t){return Math.sign(t)*t*t}function yQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function oD(){var t=AE(),e=[0,1],n=!1,r;function i(o){var s=yQ(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(ix(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Fh)).map(ix)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return oD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},er.apply(i,arguments),To(i)}function sD(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=TX(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[df(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Zi),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return sD().domain(t).range(e).unknown(r)},er.apply(o,arguments)}function aD(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[df(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return aD().domain([t,e]).range(i).unknown(o)},er.apply(To(s),arguments)}function lD(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[df(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return lD().domain(t).range(e).unknown(n)},er.apply(i,arguments)}const Ay=new Date,Iy=new Date;function Nt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Nt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Ay.setTime(+o),Iy.setTime(+s),t(Ay),t(Iy),Math.floor(n(Ay,Iy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const jh=Nt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jh);jh.range;const Yr=1e3,Gn=Yr*60,Xr=Gn*60,li=Xr*24,kE=li*7,ox=li*30,xy=li*365,Ko=Nt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yr)},(t,e)=>(e-t)/Yr,t=>t.getUTCSeconds());Ko.range;const ME=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yr)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getMinutes());ME.range;const OE=Nt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getUTCMinutes());OE.range;const DE=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yr-t.getMinutes()*Gn)},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getHours());DE.range;const LE=Nt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getUTCHours());LE.range;const mf=Nt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/li,t=>t.getDate()-1);mf.range;const Nm=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/li,t=>t.getUTCDate()-1);Nm.range;const uD=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/li,t=>Math.floor(t/li));uD.range;function bs(t){return Nt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/kE)}const km=bs(0),Hh=bs(1),vQ=bs(2),_Q=bs(3),Va=bs(4),wQ=bs(5),EQ=bs(6);km.range;Hh.range;vQ.range;_Q.range;Va.range;wQ.range;EQ.range;function As(t){return Nt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/kE)}const Mm=As(0),Gh=As(1),TQ=As(2),SQ=As(3),Ua=As(4),bQ=As(5),AQ=As(6);Mm.range;Gh.range;TQ.range;SQ.range;Ua.range;bQ.range;AQ.range;const $E=Nt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$E.range;const VE=Nt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());VE.range;const ui=Nt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ui.range;const ci=Nt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ci.range;function cD(t,e,n,r,i,o){const s=[[Ko,1,Yr],[Ko,5,5*Yr],[Ko,15,15*Yr],[Ko,30,30*Yr],[o,1,Gn],[o,5,5*Gn],[o,15,15*Gn],[o,30,30*Gn],[i,1,Xr],[i,3,3*Xr],[i,6,6*Xr],[i,12,12*Xr],[r,1,li],[r,2,2*li],[n,1,kE],[e,1,ox],[e,3,3*ox],[t,1,xy]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const g=f&&typeof f.range=="function"?f:l(u,c,f),_=g?g.range(u,+c+1):[];return h?_.reverse():_}function l(u,c,f){const h=Math.abs(c-u)/f,g=wE(([,,w])=>w).right(s,h);if(g===s.length)return t.every(A0(u/xy,c/xy,f));if(g===0)return jh.every(Math.max(A0(u,c,f),1));const[_,y]=s[h/s[g-1][2]<s[g][2]/h?g-1:g];return _.every(y)}return[a,l]}const[IQ,xQ]=cD(ci,VE,Mm,uD,LE,OE),[CQ,PQ]=cD(ui,$E,km,mf,DE,ME);function Cy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Py(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function su(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function RQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=au(i),c=lu(i),f=au(o),h=lu(o),g=au(s),_=lu(s),y=au(a),w=lu(a),v=au(l),E=lu(l),S={a:K,A:V,b:H,B:X,c:null,d:fx,e:fx,f:ZQ,g:uZ,G:fZ,H:YQ,I:XQ,j:QQ,L:fD,m:eZ,M:tZ,p:te,q:Z,Q:px,s:mx,S:nZ,u:rZ,U:iZ,V:oZ,w:sZ,W:aZ,x:null,X:null,y:lZ,Y:cZ,Z:dZ,"%":hx},R={a:le,A:_e,b:Ve,B:ze,c:null,d:dx,e:dx,f:gZ,g:IZ,G:CZ,H:hZ,I:pZ,j:mZ,L:hD,m:yZ,M:vZ,p:Jt,q:kt,Q:px,s:mx,S:_Z,u:wZ,U:EZ,V:TZ,w:SZ,W:bZ,x:null,X:null,y:AZ,Y:xZ,Z:PZ,"%":hx},A={a:M,A:k,b:D,B:N,c:B,d:ux,e:ux,f:zQ,g:lx,G:ax,H:cx,I:cx,j:qQ,L:GQ,m:BQ,M:jQ,p:C,q:FQ,Q:KQ,s:JQ,S:HQ,u:DQ,U:LQ,V:$Q,w:OQ,W:VQ,x:j,X:G,y:lx,Y:ax,Z:UQ,"%":WQ};S.x=x(n,S),S.X=x(r,S),S.c=x(e,S),R.x=x(n,R),R.X=x(r,R),R.c=x(e,R);function x(ne,ge){return function(ye){var Y=[],qe=-1,Te=0,dt=ne.length,rt,Mt,tr;for(ye instanceof Date||(ye=new Date(+ye));++qe<dt;)ne.charCodeAt(qe)===37&&(Y.push(ne.slice(Te,qe)),(Mt=sx[rt=ne.charAt(++qe)])!=null?rt=ne.charAt(++qe):Mt=rt==="e"?" ":"0",(tr=ge[rt])&&(rt=tr(ye,Mt)),Y.push(rt),Te=qe+1);return Y.push(ne.slice(Te,qe)),Y.join("")}}function b(ne,ge){return function(ye){var Y=su(1900,void 0,1),qe=I(Y,ne,ye+="",0),Te,dt;if(qe!=ye.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ge&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Te=Py(su(Y.y,0,1)),dt=Te.getUTCDay(),Te=dt>4||dt===0?Gh.ceil(Te):Gh(Te),Te=Nm.offset(Te,(Y.V-1)*7),Y.y=Te.getUTCFullYear(),Y.m=Te.getUTCMonth(),Y.d=Te.getUTCDate()+(Y.w+6)%7):(Te=Cy(su(Y.y,0,1)),dt=Te.getDay(),Te=dt>4||dt===0?Hh.ceil(Te):Hh(Te),Te=mf.offset(Te,(Y.V-1)*7),Y.y=Te.getFullYear(),Y.m=Te.getMonth(),Y.d=Te.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),dt="Z"in Y?Py(su(Y.y,0,1)).getUTCDay():Cy(su(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(dt+5)%7:Y.w+Y.U*7-(dt+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Py(Y)):Cy(Y)}}function I(ne,ge,ye,Y){for(var qe=0,Te=ge.length,dt=ye.length,rt,Mt;qe<Te;){if(Y>=dt)return-1;if(rt=ge.charCodeAt(qe++),rt===37){if(rt=ge.charAt(qe++),Mt=A[rt in sx?ge.charAt(qe++):rt],!Mt||(Y=Mt(ne,ye,Y))<0)return-1}else if(rt!=ye.charCodeAt(Y++))return-1}return Y}function C(ne,ge,ye){var Y=u.exec(ge.slice(ye));return Y?(ne.p=c.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function M(ne,ge,ye){var Y=g.exec(ge.slice(ye));return Y?(ne.w=_.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function k(ne,ge,ye){var Y=f.exec(ge.slice(ye));return Y?(ne.w=h.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function D(ne,ge,ye){var Y=v.exec(ge.slice(ye));return Y?(ne.m=E.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function N(ne,ge,ye){var Y=y.exec(ge.slice(ye));return Y?(ne.m=w.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function B(ne,ge,ye){return I(ne,e,ge,ye)}function j(ne,ge,ye){return I(ne,n,ge,ye)}function G(ne,ge,ye){return I(ne,r,ge,ye)}function K(ne){return s[ne.getDay()]}function V(ne){return o[ne.getDay()]}function H(ne){return l[ne.getMonth()]}function X(ne){return a[ne.getMonth()]}function te(ne){return i[+(ne.getHours()>=12)]}function Z(ne){return 1+~~(ne.getMonth()/3)}function le(ne){return s[ne.getUTCDay()]}function _e(ne){return o[ne.getUTCDay()]}function Ve(ne){return l[ne.getUTCMonth()]}function ze(ne){return a[ne.getUTCMonth()]}function Jt(ne){return i[+(ne.getUTCHours()>=12)]}function kt(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ge=x(ne+="",S);return ge.toString=function(){return ne},ge},parse:function(ne){var ge=b(ne+="",!1);return ge.toString=function(){return ne},ge},utcFormat:function(ne){var ge=x(ne+="",R);return ge.toString=function(){return ne},ge},utcParse:function(ne){var ge=b(ne+="",!0);return ge.toString=function(){return ne},ge}}}var sx={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,NQ=/^%/,kQ=/[\\^$*+?|[\]().{}]/g;function Pe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function MQ(t){return t.replace(kQ,"\\$&")}function au(t){return new RegExp("^(?:"+t.map(MQ).join("|")+")","i")}function lu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function OQ(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function DQ(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function LQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $Q(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function VQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ax(t,e,n){var r=Ft.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function lx(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function UQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function FQ(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function BQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ux(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function qQ(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function cx(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function jQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function HQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function GQ(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zQ(t,e,n){var r=Ft.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function WQ(t,e,n){var r=NQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function KQ(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function JQ(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function fx(t,e){return Pe(t.getDate(),e,2)}function YQ(t,e){return Pe(t.getHours(),e,2)}function XQ(t,e){return Pe(t.getHours()%12||12,e,2)}function QQ(t,e){return Pe(1+mf.count(ui(t),t),e,3)}function fD(t,e){return Pe(t.getMilliseconds(),e,3)}function ZQ(t,e){return fD(t,e)+"000"}function eZ(t,e){return Pe(t.getMonth()+1,e,2)}function tZ(t,e){return Pe(t.getMinutes(),e,2)}function nZ(t,e){return Pe(t.getSeconds(),e,2)}function rZ(t){var e=t.getDay();return e===0?7:e}function iZ(t,e){return Pe(km.count(ui(t)-1,t),e,2)}function dD(t){var e=t.getDay();return e>=4||e===0?Va(t):Va.ceil(t)}function oZ(t,e){return t=dD(t),Pe(Va.count(ui(t),t)+(ui(t).getDay()===4),e,2)}function sZ(t){return t.getDay()}function aZ(t,e){return Pe(Hh.count(ui(t)-1,t),e,2)}function lZ(t,e){return Pe(t.getFullYear()%100,e,2)}function uZ(t,e){return t=dD(t),Pe(t.getFullYear()%100,e,2)}function cZ(t,e){return Pe(t.getFullYear()%1e4,e,4)}function fZ(t,e){var n=t.getDay();return t=n>=4||n===0?Va(t):Va.ceil(t),Pe(t.getFullYear()%1e4,e,4)}function dZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pe(e/60|0,"0",2)+Pe(e%60,"0",2)}function dx(t,e){return Pe(t.getUTCDate(),e,2)}function hZ(t,e){return Pe(t.getUTCHours(),e,2)}function pZ(t,e){return Pe(t.getUTCHours()%12||12,e,2)}function mZ(t,e){return Pe(1+Nm.count(ci(t),t),e,3)}function hD(t,e){return Pe(t.getUTCMilliseconds(),e,3)}function gZ(t,e){return hD(t,e)+"000"}function yZ(t,e){return Pe(t.getUTCMonth()+1,e,2)}function vZ(t,e){return Pe(t.getUTCMinutes(),e,2)}function _Z(t,e){return Pe(t.getUTCSeconds(),e,2)}function wZ(t){var e=t.getUTCDay();return e===0?7:e}function EZ(t,e){return Pe(Mm.count(ci(t)-1,t),e,2)}function pD(t){var e=t.getUTCDay();return e>=4||e===0?Ua(t):Ua.ceil(t)}function TZ(t,e){return t=pD(t),Pe(Ua.count(ci(t),t)+(ci(t).getUTCDay()===4),e,2)}function SZ(t){return t.getUTCDay()}function bZ(t,e){return Pe(Gh.count(ci(t)-1,t),e,2)}function AZ(t,e){return Pe(t.getUTCFullYear()%100,e,2)}function IZ(t,e){return t=pD(t),Pe(t.getUTCFullYear()%100,e,2)}function xZ(t,e){return Pe(t.getUTCFullYear()%1e4,e,4)}function CZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ua(t):Ua.ceil(t),Pe(t.getUTCFullYear()%1e4,e,4)}function PZ(){return"+0000"}function hx(){return"%"}function px(t){return+t}function mx(t){return Math.floor(+t/1e3)}var Fs,mD,gD;RZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RZ(t){return Fs=RQ(t),mD=Fs.format,Fs.parse,gD=Fs.utcFormat,Fs.utcParse,Fs}function NZ(t){return new Date(t)}function kZ(t){return t instanceof Date?+t:+new Date(+t)}function UE(t,e,n,r,i,o,s,a,l,u){var c=AE(),f=c.invert,h=c.domain,g=u(".%L"),_=u(":%S"),y=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),E=u("%b %d"),S=u("%B"),R=u("%Y");function A(x){return(l(x)<x?g:a(x)<x?_:s(x)<x?y:o(x)<x?w:r(x)<x?i(x)<x?v:E:n(x)<x?S:R)(x)}return c.invert=function(x){return new Date(f(x))},c.domain=function(x){return arguments.length?h(Array.from(x,kZ)):h().map(NZ)},c.ticks=function(x){var b=h();return t(b[0],b[b.length-1],x??10)},c.tickFormat=function(x,b){return b==null?A:u(b)},c.nice=function(x){var b=h();return(!x||typeof x.range!="function")&&(x=e(b[0],b[b.length-1],x??10)),x?h(nD(b,x)):c},c.copy=function(){return pf(c,UE(t,e,n,r,i,o,s,a,l,u))},c}function MZ(){return er.apply(UE(CQ,PQ,ui,$E,km,mf,DE,ME,Ko,mD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OZ(){return er.apply(UE(IQ,xQ,ci,VE,Mm,Nm,LE,OE,Ko,gD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Om(){var t=0,e=1,n,r,i,o,s=fn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var g,_;return arguments.length?([g,_]=h,s=f(g,_),u):[s(0),s(1)]}}return u.range=c(El),u.rangeRound=c(bE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function So(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yD(){var t=To(Om()(fn));return t.copy=function(){return So(t,yD())},_i.apply(t,arguments)}function vD(){var t=CE(Om()).domain([1,10]);return t.copy=function(){return So(t,vD()).base(t.base())},_i.apply(t,arguments)}function _D(){var t=PE(Om());return t.copy=function(){return So(t,_D()).constant(t.constant())},_i.apply(t,arguments)}function FE(){var t=RE(Om());return t.copy=function(){return So(t,FE()).exponent(t.exponent())},_i.apply(t,arguments)}function DZ(){return FE.apply(null,arguments).exponent(.5)}function wD(){var t=[],e=fn;function n(r){if(r!=null&&!isNaN(r=+r))return e((df(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>EX(t,o/r))},n.copy=function(){return wD(e).domain(t)},_i.apply(n,arguments)}function Dm(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=fn,c,f=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?a:l),u(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(u=y,g):u};function _(y){return function(w){var v,E,S;return arguments.length?([v,E,S]=w,u=WX(y,[v,E,S]),g):[u(0),u(.5),u(1)]}}return g.range=_(El),g.rangeRound=_(bE),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return c=y,i=y(t),o=y(e),s=y(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,g}}function ED(){var t=To(Dm()(fn));return t.copy=function(){return So(t,ED())},_i.apply(t,arguments)}function TD(){var t=CE(Dm()).domain([.1,1,10]);return t.copy=function(){return So(t,TD()).base(t.base())},_i.apply(t,arguments)}function SD(){var t=PE(Dm());return t.copy=function(){return So(t,SD()).constant(t.constant())},_i.apply(t,arguments)}function BE(){var t=RE(Dm());return t.copy=function(){return So(t,BE()).exponent(t.exponent())},_i.apply(t,arguments)}function LZ(){return BE.apply(null,arguments).exponent(.5)}const gx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_c,scaleDiverging:ED,scaleDivergingLog:TD,scaleDivergingPow:BE,scaleDivergingSqrt:LZ,scaleDivergingSymlog:SD,scaleIdentity:tD,scaleImplicit:I0,scaleLinear:qh,scaleLog:rD,scaleOrdinal:EE,scalePoint:Lu,scalePow:NE,scaleQuantile:sD,scaleQuantize:aD,scaleRadial:oD,scaleSequential:yD,scaleSequentialLog:vD,scaleSequentialPow:FE,scaleSequentialQuantile:wD,scaleSequentialSqrt:DZ,scaleSequentialSymlog:_D,scaleSqrt:gQ,scaleSymlog:iD,scaleThreshold:lD,scaleTime:MZ,scaleUtc:OZ,tickFormat:eD},Symbol.toStringTag,{value:"Module"}));var $Z=dl;function VZ(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!$Z(s):n(s,a)))var a=s,l=o}return l}var bD=VZ;function UZ(t,e){return t>e}var FZ=UZ,BZ=bD,qZ=FZ,jZ=_l;function HZ(t){return t&&t.length?BZ(t,jZ,qZ):void 0}var GZ=HZ;const Lm=Ge(GZ);function zZ(t,e){return t<e}var WZ=zZ,KZ=bD,JZ=WZ,YZ=_l;function XZ(t){return t&&t.length?KZ(t,YZ,JZ):void 0}var QZ=XZ;const $m=Ge(QZ);var ZZ=Zw,eee=wl,tee=MO,nee=Sn;function ree(t,e){var n=nee(t)?ZZ:tee;return n(t,eee(e))}var iee=ree,oee=NO,see=iee;function aee(t,e){return oee(see(t,e),1)}var lee=aee;const uee=Ge(lee);var cee=mE;function fee(t,e){return cee(t,e)}var dee=fee;const qE=Ge(dee);var Tl=1e9,hee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HE,nt=!0,Xn="[DecimalError] ",rs=Xn+"Invalid argument: ",jE=Xn+"Exponent out of range: ",Sl=Math.floor,Bo=Math.pow,pee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn,Dt=1e7,Xe=7,AD=9007199254740991,zh=Sl(AD/Xe),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return ni(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return Be(ni(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return wt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pn))throw Error(Xn+"NaN");if(n.s<1)throw Error(Xn+(n.s?"NaN":"-Infinity"));return n.eq(Pn)?new r(0):(nt=!1,e=ni(bc(n,o),bc(t,o),o),nt=!0,Be(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CD(e,t):ID(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Xn+"NaN");return n.s?(nt=!1,e=ni(n,t,0,1).times(t),nt=!0,n.minus(e)):Be(new r(n),i)};ae.naturalExponential=ae.exp=function(){return xD(this)};ae.naturalLogarithm=ae.ln=function(){return bc(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ID(e,t):CD(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(rs+t);if(e=wt(i)+1,r=i.d.length-1,n=r*Xe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Xn+"NaN")}for(t=wt(a),nt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=xr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(ni(a,o,s+2)).times(.5),xr(o.d).slice(0,s)===(e=xr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Be(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return nt=!0,Be(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,g=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+g[r]*h[i-r-1]+e,o[i--]=a%Dt|0,e=a/Dt|0;o[i]=(o[i]+e)%Dt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,nt?Be(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Vr(t,0,Tl),e===void 0?e=r.rounding:Vr(e,0,8),Be(n,t+wt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ds(r,!0):(Vr(t,0,Tl),e===void 0?e=i.rounding:Vr(e,0,8),r=Be(new i(r),t+1,e),n=ds(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ds(i):(Vr(t,0,Tl),e===void 0?e=o.rounding:Vr(e,0,8),r=Be(new o(i),t+wt(i)+1,e),n=ds(r.abs(),!1,t+wt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Be(new e(t),wt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Pn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Xn+"Infinity");return a}if(a.eq(Pn))return a;if(r=l.precision,t.eq(Pn))return Be(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=AD){for(i=new l(Pn),e=Math.ceil(r/Xe+4),nt=!1;n%2&&(i=i.times(a),vx(i.d,e)),n=Sl(n/2),n!==0;)a=a.times(a),vx(a.d,e);return nt=!0,t.s<0?new l(Pn).div(i):Be(i,r)}}else if(o<0)throw Error(Xn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,nt=!1,i=t.times(bc(a,r+u)),nt=!0,i=xD(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=wt(i),r=ds(i,n<=o.toExpNeg||n>=o.toExpPos)):(Vr(t,1,Tl),e===void 0?e=o.rounding:Vr(e,0,8),i=Be(new o(i),t,e),n=wt(i),r=ds(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Vr(t,1,Tl),e===void 0?e=r.rounding:Vr(e,0,8)),Be(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wt(t),n=t.constructor;return ds(t,e<=n.toExpNeg||e>=n.toExpPos)};function ID(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),nt?Be(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/Xe),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Dt|0,l[o]%=Dt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,nt?Be(e,f):e}function Vr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(rs+t)}function xr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Xe-r.length,n&&(o+=Oi(n)),o+=r;s=t[e],r=s+"",n=Xe-r.length,n&&(o+=Oi(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ni=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Dt|0,s=o/Dt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Dt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,g,_,y,w,v,E,S,R,A,x,b,I,C=r.constructor,M=r.s==i.s?1:-1,k=r.d,D=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Xn+"Division by zero");for(l=r.e-i.e,b=D.length,A=k.length,g=new C(M),_=g.d=[],u=0;D[u]==(k[u]||0);)++u;if(D[u]>(k[u]||0)&&--l,o==null?E=o=C.precision:s?E=o+(wt(r)-wt(i))+1:E=o,E<0)return new C(0);if(E=E/Xe+2|0,u=0,b==1)for(c=0,D=D[0],E++;(u<A||c)&&E--;u++)S=c*Dt+(k[u]||0),_[u]=S/D|0,c=S%D|0;else{for(c=Dt/(D[0]+1)|0,c>1&&(D=t(D,c),k=t(k,c),b=D.length,A=k.length),R=b,y=k.slice(0,b),w=y.length;w<b;)y[w++]=0;I=D.slice(),I.unshift(0),x=D[0],D[1]>=Dt/2&&++x;do c=0,a=e(D,y,b,w),a<0?(v=y[0],b!=w&&(v=v*Dt+(y[1]||0)),c=v/x|0,c>1?(c>=Dt&&(c=Dt-1),f=t(D,c),h=f.length,w=y.length,a=e(f,y,h,w),a==1&&(c--,n(f,b<h?I:D,h))):(c==0&&(a=c=1),f=D.slice()),h=f.length,h<w&&f.unshift(0),n(y,f,w),a==-1&&(w=y.length,a=e(D,y,b,w),a<1&&(c++,n(y,b<w?I:D,w))),w=y.length):a===0&&(c++,y=[0]),_[u++]=c,a&&y[0]?y[w++]=k[R]||0:(y=[k[R]],w=1);while((R++<A||y[0]!==void 0)&&E--)}return _[0]||_.shift(),g.e=l,Be(g,s?o+wt(g)+1:o)}}();function xD(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(wt(t)>16)throw Error(jE+wt(t));if(!t.s)return new c(Pn);for(nt=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Bo(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Pn),c.precision=a;;){if(i=Be(i.times(t),a),n=n.times(++l),s=o.plus(ni(i,n,a)),xr(s.d).slice(0,a)===xr(o.d).slice(0,a)){for(;u--;)o=Be(o.times(o),a);return c.precision=f,e==null?(nt=!0,Be(o,f)):o}o=s}}function wt(t){for(var e=t.e*Xe,n=t.d[0];n>=10;n/=10)e++;return e}function Ry(t,e,n){if(e>t.LN10.sd())throw nt=!0,n&&(t.precision=n),Error(Xn+"LN10 precision limit exceeded");return Be(new t(t.LN10),e)}function Oi(t){for(var e="";t--;)e+="0";return e}function bc(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,g=t,_=g.d,y=g.constructor,w=y.precision;if(g.s<1)throw Error(Xn+(g.s?"NaN":"-Infinity"));if(g.eq(Pn))return new y(0);if(e==null?(nt=!1,u=w):u=e,g.eq(10))return e==null&&(nt=!0),Ry(y,u);if(u+=h,y.precision=u,n=xr(_),r=n.charAt(0),o=wt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=xr(g.d),r=n.charAt(0),f++;o=wt(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1))}else return l=Ry(y,u+2,w).times(o+""),g=bc(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=w,e==null?(nt=!0,Be(g,w)):g;for(a=s=g=ni(g.minus(Pn),g.plus(Pn),u),c=Be(g.times(g),u),i=3;;){if(s=Be(s.times(c),u),l=a.plus(ni(s,new y(i),u)),xr(l.d).slice(0,u)===xr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Ry(y,u+2,w).times(o+""))),a=ni(a,new y(f),u),y.precision=w,e==null?(nt=!0,Be(a,w)):a;a=l,i+=2}}function yx(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sl(n/Xe),t.d=[],r=(n+1)%Xe,n<0&&(r+=Xe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Xe;r<i;)t.d.push(+e.slice(r,r+=Xe));e=e.slice(r),r=Xe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),nt&&(t.e>zh||t.e<-zh))throw Error(jE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Be(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Xe,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Xe),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=Xe,i=r-Xe+s}if(n!==void 0&&(o=Bo(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Bo(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=wt(t),f.length=1,e=e-o-1,f[0]=Bo(10,(Xe-e%Xe)%Xe),t.e=Sl(-e/Xe)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Bo(10,Xe-r),f[c]=i>0?(u/Bo(10,s-i)%Bo(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Dt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Dt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(nt&&(t.e>zh||t.e<-zh))throw Error(jE+wt(t));return t}function CD(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),nt?Be(e,g):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(g/Xe),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Dt-1;--l[o],l[i]+=Dt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,nt?Be(e,g):e):new h(0)}function ds(t,e,n){var r,i=wt(t),o=xr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Oi(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Oi(-i-1)+o,n&&(r=n-s)>0&&(o+=Oi(r))):i>=s?(o+=Oi(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Oi(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Oi(r))),t.s<0?"-"+o:o}function vx(t,e){if(t.length>e)return t.length=e,!0}function PD(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(rs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return yx(s,o.toString())}else if(typeof o!="string")throw Error(rs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,pee.test(o))yx(s,o);else throw Error(rs+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=PD,i.config=i.set=mee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mee(t){if(!t||typeof t!="object")throw Error(Xn+"Object expected");var e,n,r,i=["precision",1,Tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(rs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rs+n+": "+r);return this}var HE=PD(hee);Pn=new HE(1);const Ue=HE;function gee(t){return wee(t)||_ee(t)||vee(t)||yee()}function yee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vee(t,e){if(t){if(typeof t=="string")return R0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R0(t,e)}}function _ee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wee(t){if(Array.isArray(t))return R0(t)}function R0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Eee=function(e){return e},RD={},ND=function(e){return e===RD},_x=function(e){return function n(){return arguments.length===0||arguments.length===1&&ND(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Tee=function t(e,n){return e===1?n:_x(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==RD}).length;return s>=e?n.apply(void 0,i):t(e-s,_x(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return ND(f)?l.shift():f});return n.apply(void 0,gee(c).concat(l))}))})},Vm=function(e){return Tee(e.length,e)},N0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},See=Vm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),bee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Eee;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},k0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},kD=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Aee(t){var e;return t===0?e=1:e=Math.floor(new Ue(t).abs().log(10).toNumber())+1,e}function Iee(t,e,n){for(var r=new Ue(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var xee=Vm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Cee=Vm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Pee=Vm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Um={rangeStep:Iee,getDigitCount:Aee,interpolateNumber:xee,uninterpolateNumber:Cee,uninterpolateTruncation:Pee};function M0(t){return kee(t)||Nee(t)||MD(t)||Ree()}function Ree(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kee(t){if(Array.isArray(t))return O0(t)}function Ac(t,e){return Dee(t)||Oee(t,e)||MD(t,e)||Mee()}function Mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MD(t,e){if(t){if(typeof t=="string")return O0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O0(t,e)}}function O0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oee(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Dee(t){if(Array.isArray(t))return t}function OD(t){var e=Ac(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function DD(t,e,n){if(t.lte(0))return new Ue(0);var r=Um.getDigitCount(t.toNumber()),i=new Ue(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Ue(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Ue(Math.ceil(l))}function Lee(t,e,n){var r=1,i=new Ue(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ue(10).pow(Um.getDigitCount(t)-1),i=new Ue(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ue(Math.floor(t)))}else t===0?i=new Ue(Math.floor((e-1)/2)):n||(i=new Ue(Math.floor(t)));var s=Math.floor((e-1)/2),a=bee(See(function(l){return i.add(new Ue(l-s).mul(r)).toNumber()}),N0);return a(0,e)}function LD(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var o=DD(new Ue(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ue(0):(s=new Ue(t).add(e).div(2),s=s.sub(new Ue(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ue(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?LD(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Ue(a).mul(o)),tickMax:s.add(new Ue(l).mul(o))})}function $ee(t){var e=Ac(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=OD([n,r]),l=Ac(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(M0(N0(0,i-1).map(function(){return 1/0}))):[].concat(M0(N0(0,i-1).map(function(){return-1/0})),[c]);return n>r?k0(f):f}if(u===c)return Lee(u,i,o);var h=LD(u,c,s,o),g=h.step,_=h.tickMin,y=h.tickMax,w=Um.rangeStep(_,y.add(new Ue(.1).mul(g)),g);return n>r?k0(w):w}function Vee(t,e){var n=Ac(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=OD([r,i]),a=Ac(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=DD(new Ue(u).sub(l).div(c-1),o,0),h=[].concat(M0(Um.rangeStep(new Ue(l),new Ue(u).sub(new Ue(.99).mul(f)),f)),[u]);return r>i?k0(h):h}var Uee=kD($ee),Fee=kD(Vee),Bee="Invariant failed";function hs(t,e){throw new Error(Bee)}var qee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wh.apply(this,arguments)}function jee(t,e){return Wee(t)||zee(t,e)||Gee(t,e)||Hee()}function Hee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gee(t,e){if(t){if(typeof t=="string")return wx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wx(t,e)}}function wx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Wee(t){if(Array.isArray(t))return t}function Kee(t,e){if(t==null)return{};var n=Jee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UD(r.key),r)}}function Qee(t,e,n){return e&&Xee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zee(t,e,n){return e=Kh(e),ete(t,$D()?Reflect.construct(e,n||[],Kh(t).constructor):e.apply(t,n))}function ete(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tte(t)}function tte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($D=function(){return!!t})()}function Kh(t){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kh(t)}function nte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D0(t,e)}function VD(t,e,n){return e=UD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UD(t){var e=rte(t,"string");return Fa(e)=="symbol"?e:e+""}function rte(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fm=function(t){function e(){return Yee(this,e),Zee(this,e,arguments)}return nte(e,t),Qee(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Kee(r,qee),g=Oe(h,!1);this.props.direction==="x"&&c.type!=="number"&&hs();var _=l.map(function(y){var w=u(y,a),v=w.x,E=w.y,S=w.value,R=w.errorVal;if(!R)return null;var A=[],x,b;if(Array.isArray(R)){var I=jee(R,2);x=I[0],b=I[1]}else x=b=R;if(o==="vertical"){var C=c.scale,M=E+i,k=M+s,D=M-s,N=C(S-x),B=C(S+b);A.push({x1:B,y1:k,x2:B,y2:D}),A.push({x1:N,y1:M,x2:B,y2:M}),A.push({x1:N,y1:k,x2:N,y2:D})}else if(o==="horizontal"){var j=f.scale,G=v+i,K=G-s,V=G+s,H=j(S-x),X=j(S+b);A.push({x1:K,y1:X,x2:V,y2:X}),A.push({x1:G,y1:H,x2:G,y2:X}),A.push({x1:K,y1:H,x2:V,y2:H})}return F.createElement(Vt,Wh({className:"recharts-errorBar",key:"bar-".concat(A.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},g),A.map(function(te){return F.createElement("line",Wh({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return F.createElement(Vt,{className:"recharts-errorBars"},_)}}])}(F.Component);VD(Fm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});VD(Fm,"displayName","ErrorBar");function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Ex(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Do(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ex(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return e=ote(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=ste(t,"string");return Ic(e)=="symbol"?e:e+""}function ste(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FD=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Cn(n,ma);if(!s)return null;var a=ma.defaultProps,l=a!==void 0?Do(Do({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,g=f.props,_=g.sectors||g.data||[];return c.concat(_.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,g=h!==void 0?Do(Do({},h),f.props):{},_=g.dataKey,y=g.name,w=g.legendType,v=g.hide;return{inactive:v,dataKey:_,type:l.iconType||w||"square",color:GE(f),value:y||_,payload:g}}),Do(Do(Do({},l),ma.getWithHeight(s,i)),{},{payload:u,item:s})};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Tx(t){return cte(t)||ute(t)||lte(t)||ate()}function ate(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lte(t,e){if(t){if(typeof t=="string")return L0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L0(t,e)}}function ute(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cte(t){if(Array.isArray(t))return L0(t)}function L0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sx(Object(n),!0).forEach(function(r){ya(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ya(t,e,n){return e=fte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fte(t){var e=dte(t,"string");return xc(e)=="symbol"?e:e+""}function dte(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ur(t,e,n){return ke(t)||ke(e)?n:xt(e)?Wn(t,e,n):Ie(e)?e(t):n}function $u(t,e,n,r){var i=uee(t,function(a){return Ur(a,e)});if(n==="number"){var o=i.filter(function(a){return ie(a)||parseFloat(a)});return o.length?[$m(o),Lm(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!ke(a)}):i;return s.map(function(a){return xt(a)||a instanceof Date?a:""})}var hte=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(ur(f-c)!==ur(h-f)){var _=[];if(ur(h-f)===ur(l[1]-l[0])){g=h;var y=f+l[1]-l[0];_[0]=Math.min(y,(y+c)/2),_[1]=Math.max(y,(y+c)/2)}else{g=c;var w=h+l[1]-l[0];_[0]=Math.min(f,(w+f)/2),_[1]=Math.max(f,(w+f)/2)}var v=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>v[0]&&e<=v[1]||e>=_[0]&&e<=_[1]){s=i[u].index;break}}else{var E=Math.min(c,h),S=Math.max(c,h);if(e>(E+f)/2&&e<=(S+f)/2){s=i[u].index;break}}}else for(var R=0;R<a;R++)if(R===0&&e<=(r[R].coordinate+r[R+1].coordinate)/2||R>0&&R<a-1&&e>(r[R].coordinate+r[R-1].coordinate)/2&&e<=(r[R].coordinate+r[R+1].coordinate)/2||R===a-1&&e>(r[R].coordinate+r[R-1].coordinate)/2){s=r[R].index;break}return s},GE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},pte=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),h=0,g=f.length;h<g;h++){var _=c[f[h]],y=_.items,w=_.cateAxisId,v=y.filter(function(b){return ti(b.type).indexOf("Bar")>=0});if(v&&v.length){var E=v[0].type.defaultProps,S=E!==void 0?ft(ft({},E),v[0].props):v[0].props,R=S.barSize,A=S[w];s[A]||(s[A]=[]);var x=ke(R)?n:R;s[A].push({item:v[0],stackList:v.slice(1),barSize:ke(x)?void 0:fs(x,r,0)})}}return s},mte=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=fs(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,g=i/l,_=s.reduce(function(R,A){return R+A.barSize||0},0);_+=(l-1)*u,_>=i&&(_-=(l-1)*u,u=0),_>=i&&g>0&&(h=!0,g*=.9,_=l*g);var y=(i-_)/2>>0,w={offset:y-u,size:0};c=s.reduce(function(R,A){var x={item:A.item,position:{offset:w.offset+w.size+u,size:h?g:A.barSize}},b=[].concat(Tx(R),[x]);return w=b[b.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){b.push({item:I,position:w})}),b},f)}else{var v=fs(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var E=(i-2*v-(l-1)*u)/l;E>1&&(E>>=0);var S=a===+a?Math.min(E,a):E;c=s.reduce(function(R,A,x){var b=[].concat(Tx(R),[{item:A.item,position:{offset:v+(E+u)*x+(E-S)/2,size:S}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){b.push({item:I,position:b[b.length-1].position})}),b},f)}return c},gte=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=FD({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,g=u.align,_=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&_==="middle")&&g!=="center"&&ie(e[g]))return ft(ft({},e),{},ya({},g,e[g]+(f||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&_!=="middle"&&ie(e[_]))return ft(ft({},e),{},ya({},_,e[_]+(h||0)))}return e},yte=function(e,n,r){return ke(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},BD=function(e,n,r,i,o){var s=n.props.children,a=mr(s,Fm).filter(function(u){return yte(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Ur(c,r);if(ke(f))return u;var h=Array.isArray(f)?[$m(f),Lm(f)]:[f,f],g=l.reduce(function(_,y){var w=Ur(c,y,0),v=h[0]-Math.abs(Array.isArray(w)?w[0]:w),E=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(v,_[0]),Math.max(E,_[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},vte=function(e,n,r,i,o){var s=n.map(function(a){return BD(e,a,r,o,i)}).filter(function(a){return!ke(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},qD=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&BD(e,l,u,i)||$u(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},jD=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Jo=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ur(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!cf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Ny=new WeakMap,pd=function(e,n){if(typeof n!="function")return e;Ny.has(e)||Ny.set(e,new WeakMap);var r=Ny.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},_te=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:_c(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:qh(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Lu(),realScaleType:"point"}:o==="category"?{scale:_c(),realScaleType:"band"}:{scale:qh(),realScaleType:"linear"};if(cs(i)){var l="scale".concat(Sm(i));return{scale:(gx[l]||Lu)(),realScaleType:gx[l]?l:"point"}}return Ie(i)?{scale:i}:{scale:Lu(),realScaleType:"point"}},bx=1e-4,wte=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-bx,s=Math.max(i[0],i[1])+bx,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Ete=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Tte=function(e,n){if(!n||n.length!==2||!ie(n[0])||!ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(o[0]=r),(!ie(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Ste=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=cf(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},bte=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=cf(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Ate={sign:Ste,expand:Vj,none:ka,silhouette:Uj,wiggle:Fj,positive:bte},Ite=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Ate[r],s=$j().keys(i).value(function(a,l){return+Ur(a,l,0)}).order(a0).offset(o);return s(e)},xte=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var g,_=(g=h.type)!==null&&g!==void 0&&g.defaultProps?ft(ft({},h.type.defaultProps),h.props):h.props,y=_.stackId,w=_.hide;if(w)return f;var v=_[r],E=f[v]||{hasStack:!1,stackGroups:{}};if(xt(y)){var S=E.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),E.hasStack=!0,E.stackGroups[y]=S}else E.stackGroups[Tm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return ft(ft({},f),{},ya({},v,E))},l),c={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var _={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,w){var v=g.stackGroups[w];return ft(ft({},y),{},ya({},w,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:Ite(e,v.items,o)}))},_)}return ft(ft({},f),{},ya({},h,g))},c)},Cte=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Uee(u,o,a);return e.domain([$m(c),Lm(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=Fee(f,o,a);return{niceTicks:h}}return null},Ax=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Ur(s,n.dataKey,n.domain[a]);return ke(l)?null:n.scale(l)-o/2+i},Pte=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Rte=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(xt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},Nte=function(e){return e.reduce(function(n,r){return[$m(r.concat([n[0]]).filter(ie)),Lm(r.concat([n[1]]).filter(ie))]},[1/0,-1/0])},HD=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=Nte(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Ix=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$0=function(e,n,r){if(Ie(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Ix.test(e[0])){var o=+Ix.exec(e[0])[1];i[0]=n[0]-o}else Ie(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(xx.test(e[1])){var s=+xx.exec(e[1])[1];i[1]=n[1]+s}else Ie(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Jh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=yE(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},Cx=function(e,n,r){return!e||!e.length||qE(e,Wn(r,"type.defaultProps.domain"))?n:e},GD=function(e,n){var r=e.type.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ft(ft({},Oe(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:GE(e),value:Ur(n,i),type:l,payload:n,chartType:u,hide:c})};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(n),!0).forEach(function(r){kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Px(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kte(t,e,n){return e=Mte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=Ote(t,"string");return Cc(e)=="symbol"?e:e+""}function Ote(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yh=Math.PI/180,Dte=function(e){return e*180/Math.PI},Gt=function(e,n,r,i){return{x:e+Math.cos(-Yh*i)*r,y:n+Math.sin(-Yh*i)*r}},Lte=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},$te=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Lte({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:Dte(u),angleInRadian:u}},Vte=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Ute=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},Nx=function(e,n){var r=e.x,i=e.y,o=$te({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Vte(n),f=c.startAngle,h=c.endAngle,g=a,_;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;_=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;_=g>=h&&g<=f}return _?Rx(Rx({},n),{},{radius:s,angle:Ute(g,n)}):null};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}var Fte=["offset"];function Bte(t){return Gte(t)||Hte(t)||jte(t)||qte()}function qte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jte(t,e){if(t){if(typeof t=="string")return V0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V0(t,e)}}function Hte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gte(t){if(Array.isArray(t))return V0(t)}function V0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zte(t,e){if(t==null)return{};var n=Wte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kx(Object(n),!0).forEach(function(r){Kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kte(t,e,n){return e=Jte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jte(t){var e=Yte(t,"string");return Pc(e)=="symbol"?e:e+""}function Yte(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rc.apply(this,arguments)}var Xte=function(e){var n=e.value,r=e.formatter,i=ke(e.children)?n:e.children;return Ie(r)?r(i):i},Qte=function(e,n){var r=ur(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Zte=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,_=l.endAngle,y=l.clockWise,w=(f+h)/2,v=Qte(g,_),E=v>=0?1:-1,S,R;i==="insideStart"?(S=g+E*s,R=y):i==="insideEnd"?(S=_-E*s,R=!y):i==="end"&&(S=_+E*s,R=y),R=v<=0?R:!R;var A=Gt(u,c,w,S),x=Gt(u,c,w,S+(R?1:-1)*359),b="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(R?0:1,`,
    `).concat(x.x,",").concat(x.y),I=ke(e.id)?Tm("recharts-radial-line-"):e.id;return F.createElement("text",Rc({},r,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",a)}),F.createElement("defs",null,F.createElement("path",{id:I,d:b})),F.createElement("textPath",{xlinkHref:"#".concat(I)},n))},ene=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var g=Gt(s,a,u+r,h),_=g.x,y=g.y;return{x:_,y,textAnchor:_>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,v=Gt(s,a,w,h),E=v.x,S=v.y;return{x:E,y:S,textAnchor:"middle",verticalAnchor:"middle"}},tne=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,h=f*i,g=f>0?"end":"start",_=f>0?"start":"end",y=u>=0?1:-1,w=y*i,v=y>0?"end":"start",E=y>0?"start":"end";if(o==="top"){var S={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return St(St({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var R={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:_};return St(St({},R),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var A={x:a-w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return St(St({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(o==="right"){var x={x:a+u+w,y:l+c/2,textAnchor:E,verticalAnchor:"middle"};return St(St({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:c}:{})}var b=r?{width:u,height:c}:{};return o==="insideLeft"?St({x:a+w,y:l+c/2,textAnchor:E,verticalAnchor:"middle"},b):o==="insideRight"?St({x:a+u-w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},b):o==="insideTop"?St({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:_},b):o==="insideBottom"?St({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},b):o==="insideTopLeft"?St({x:a+w,y:l+h,textAnchor:E,verticalAnchor:_},b):o==="insideTopRight"?St({x:a+u-w,y:l+h,textAnchor:v,verticalAnchor:_},b):o==="insideBottomLeft"?St({x:a+w,y:l+c-h,textAnchor:E,verticalAnchor:g},b):o==="insideBottomRight"?St({x:a+u-w,y:l+c-h,textAnchor:v,verticalAnchor:g},b):hl(o)&&(ie(o.x)||zo(o.x))&&(ie(o.y)||zo(o.y))?St({x:a+fs(o.x,u),y:l+fs(o.y,c),textAnchor:"end",verticalAnchor:"end"},b):St({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)},nne=function(e){return"cx"in e&&ie(e.cx)};function rn(t){var e=t.offset,n=e===void 0?5:e,r=zte(t,Fte),i=St({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||ke(a)&&ke(l)&&!$.isValidElement(u)&&!Ie(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var g;if(Ie(u)){if(g=$.createElement(u,i),$.isValidElement(g))return g}else g=Xte(i);var _=nne(o),y=Oe(i,!0);if(_&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Zte(i,g,y);var w=_?ene(i):tne(i);return F.createElement(Dh,Rc({className:Ne("recharts-label",f)},y,w,{breakAll:h}),g)}rn.displayName="Label";var zD=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,g=e.top,_=e.left,y=e.width,w=e.height,v=e.clockWise,E=e.labelViewBox;if(E)return E;if(ie(y)&&ie(w)){if(ie(f)&&ie(h))return{x:f,y:h,width:y,height:w};if(ie(g)&&ie(_))return{x:g,y:_,width:y,height:w}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(n)&&ie(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:v}:e.viewBox?e.viewBox:{}},rne=function(e,n){return e?e===!0?F.createElement(rn,{key:"label-implicit",viewBox:n}):xt(e)?F.createElement(rn,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===rn?$.cloneElement(e,{key:"label-implicit",viewBox:n}):F.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):Ie(e)?F.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):hl(e)?F.createElement(rn,Rc({viewBox:n},e,{key:"label-implicit"})):null:null},ine=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=zD(e),s=mr(i,rn).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=rne(e.label,n||o);return[a].concat(Bte(s))};rn.parseViewBox=zD;rn.renderCallByParent=ine;function one(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var sne=one;const ane=Ge(sne);function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}var lne=["valueAccessor"],une=["data","dataKey","clockWise","id","textBreakAll"];function cne(t){return pne(t)||hne(t)||dne(t)||fne()}function fne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dne(t,e){if(t){if(typeof t=="string")return U0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U0(t,e)}}function hne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pne(t){if(Array.isArray(t))return U0(t)}function U0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}function Mx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ox(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mx(Object(n),!0).forEach(function(r){mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mne(t,e,n){return e=gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gne(t){var e=yne(t,"string");return Nc(e)=="symbol"?e:e+""}function yne(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dx(t,e){if(t==null)return{};var n=vne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _ne=function(e){return Array.isArray(e.value)?ane(e.value):e.value};function eo(t){var e=t.valueAccessor,n=e===void 0?_ne:e,r=Dx(t,lne),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=Dx(r,une);return!i||!i.length?null:F.createElement(Vt,{className:"recharts-label-list"},i.map(function(c,f){var h=ke(o)?n(c,f):Ur(c&&c.payload,o),g=ke(a)?{}:{id:"".concat(a,"-").concat(f)};return F.createElement(rn,Xh({},Oe(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:rn.parseViewBox(ke(s)?c:Ox(Ox({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}eo.displayName="LabelList";function wne(t,e){return t?t===!0?F.createElement(eo,{key:"labelList-implicit",data:e}):F.isValidElement(t)||Ie(t)?F.createElement(eo,{key:"labelList-implicit",data:e,content:t}):hl(t)?F.createElement(eo,Xh({data:e},t,{key:"labelList-implicit"})):null:null}function Ene(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=mr(r,eo).map(function(s,a){return $.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=wne(t.label,e);return[o].concat(cne(i))}eo.renderCallByParent=Ene;function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F0.apply(this,arguments)}function Lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lx(Object(n),!0).forEach(function(r){Tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tne(t,e,n){return e=Sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sne(t){var e=bne(t,"string");return kc(e)=="symbol"?e:e+""}function bne(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ane=function(e,n){var r=ur(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},md=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/Yh,h=u?o:o+s*f,g=Gt(n,r,c,h),_=Gt(n,r,i,h),y=u?o-s*f:o,w=Gt(n,r,c*Math.cos(f*Yh),y);return{center:g,circleTangency:_,lineTangency:w,theta:f}},WD=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=Ane(s,a),u=s+l,c=Gt(n,r,o,s),f=Gt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=Gt(n,r,i,s),_=Gt(n,r,i,u);h+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Ine=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=ur(c-u),h=md({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),g=h.circleTangency,_=h.lineTangency,y=h.theta,w=md({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=w.circleTangency,E=w.lineTangency,S=w.theta,R=l?Math.abs(u-c):Math.abs(u-c)-y-S;if(R<0)return a?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):WD({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var A="M ".concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(R>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var x=md({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),b=x.circleTangency,I=x.lineTangency,C=x.theta,M=md({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=M.circleTangency,D=M.lineTangency,N=M.theta,B=l?Math.abs(u-c):Math.abs(u-c)-C-N;if(B<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},xne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KD=function(e){var n=$x($x({},xne),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<o||c===f)return null;var g=Ne("recharts-sector",h),_=s-o,y=fs(a,_,0,!0),w;return y>0&&Math.abs(c-f)<360?w=Ine({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(y,_/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=WD({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),F.createElement("path",F0({},Oe(n,!0),{className:g,d:w,role:"img"}))};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function Vx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ux(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vx(Object(n),!0).forEach(function(r){Cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e,n){return e=Pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=Rne(t,"string");return Mc(e)=="symbol"?e:e+""}function Rne(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fx={curveBasisClosed:Ij,curveBasisOpen:xj,curveBasis:Aj,curveBumpX:fj,curveBumpY:dj,curveLinearClosed:Cj,curveLinear:Am,curveMonotoneX:Pj,curveMonotoneY:Rj,curveNatural:Nj,curveStep:kj,curveStepAfter:Oj,curveStepBefore:Mj},gd=function(e){return e.x===+e.x&&e.y===+e.y},uu=function(e){return e.x},cu=function(e){return e.y},Nne=function(e,n){if(Ie(e))return e;var r="curve".concat(Sm(e));return(r==="curveMonotone"||r==="curveBump")&&n?Fx["".concat(r).concat(n==="vertical"?"Y":"X")]:Fx[r]||Am},kne=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Nne(r,a),f=u?o.filter(function(y){return gd(y)}):o,h;if(Array.isArray(s)){var g=u?s.filter(function(y){return gd(y)}):s,_=f.map(function(y,w){return Ux(Ux({},y),{},{base:g[w]})});return a==="vertical"?h=sd().y(cu).x1(uu).x0(function(y){return y.base.x}):h=sd().x(uu).y1(cu).y0(function(y){return y.base.y}),h.defined(gd).curve(c),h(_)}return a==="vertical"&&ie(s)?h=sd().y(cu).x1(uu).x0(s):ie(s)?h=sd().x(uu).y1(cu).y0(s):h=XM().x(uu).y(cu),h.defined(gd).curve(c),h(f)},Bx=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?kne(e):i;return $.createElement("path",B0({},Oe(e,!1),wh(e),{className:Ne("recharts-curve",n),d:s,ref:o}))},JD={exports:{}},Mne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",One=Mne,Dne=One;function YD(){}function XD(){}XD.resetWarningCache=YD;var Lne=function(){function t(r,i,o,s,a,l){if(l!==Dne){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XD,resetWarningCache:YD};return n.PropTypes=n,n};JD.exports=Lne();var $ne=JD.exports;const Me=Ge($ne);var Vne=Object.getOwnPropertyNames,Une=Object.getOwnPropertySymbols,Fne=Object.prototype.hasOwnProperty;function qx(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function yd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Bne(t){return t!=null?t[Symbol.toStringTag]:void 0}function jx(t){return Vne(t).concat(Une(t))}var qne=Object.hasOwn||function(t,e){return Fne.call(t,e)};function Is(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var jne="__v",Hne="__o",Gne="_owner",Hx=Object.getOwnPropertyDescriptor,Gx=Object.keys;function zne(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Wne(t,e){return Is(t.getTime(),e.getTime())}function Kne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Jne(t,e){return t===e}function zx(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),c=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,g=a.value;if(n.equals(h[0],g[0],l,f,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Yne=Is;function Xne(t,e,n){var r=Gx(t),i=r.length;if(Gx(e).length!==i)return!1;for(;i-- >0;)if(!QD(t,e,n,r[i]))return!1;return!0}function fu(t,e,n){var r=jx(t),i=r.length;if(jx(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!QD(t,e,n,o)||(s=Hx(t,o),a=Hx(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Qne(t,e){return Is(t.valueOf(),e.valueOf())}function Zne(t,e){return t.source===e.source&&t.flags===e.flags}function Wx(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,c=0;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function ere(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function tre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function QD(t,e,n,r){return(r===Gne||r===Hne||r===jne)&&(t.$$typeof||e.$$typeof)?!0:qne(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var nre="[object Arguments]",rre="[object Boolean]",ire="[object Date]",ore="[object Error]",sre="[object Map]",are="[object Number]",lre="[object Object]",ure="[object RegExp]",cre="[object Set]",fre="[object String]",dre="[object URL]",hre=Array.isArray,Kx=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,Jx=Object.assign,pre=Object.prototype.toString.call.bind(Object.prototype.toString);function mre(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(y,w,v){if(y===w)return!0;if(y==null||w==null)return!1;var E=typeof y;if(E!==typeof w)return!1;if(E!=="object")return E==="number"?s(y,w,v):E==="function"?i(y,w,v):!1;var S=y.constructor;if(S!==w.constructor)return!1;if(S===Object)return a(y,w,v);if(hre(y))return e(y,w,v);if(Kx!=null&&Kx(y))return f(y,w,v);if(S===Date)return n(y,w,v);if(S===RegExp)return u(y,w,v);if(S===Map)return o(y,w,v);if(S===Set)return c(y,w,v);var R=pre(y);if(R===ire)return n(y,w,v);if(R===ure)return u(y,w,v);if(R===sre)return o(y,w,v);if(R===cre)return c(y,w,v);if(R===lre)return typeof y.then!="function"&&typeof w.then!="function"&&a(y,w,v);if(R===dre)return h(y,w,v);if(R===ore)return r(y,w,v);if(R===nre)return a(y,w,v);if(R===rre||R===are||R===fre)return l(y,w,v);if(g){var A=g[R];if(!A){var x=Bne(y);x&&(A=g[x])}if(A)return A(y,w,v)}return!1}}function gre(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?fu:zne,areDatesEqual:Wne,areErrorsEqual:Kne,areFunctionsEqual:Jne,areMapsEqual:r?qx(zx,fu):zx,areNumbersEqual:Yne,areObjectsEqual:r?fu:Xne,arePrimitiveWrappersEqual:Qne,areRegExpsEqual:Zne,areSetsEqual:r?qx(Wx,fu):Wx,areTypedArraysEqual:r?fu:ere,areUrlsEqual:tre,unknownTagComparators:void 0};if(n&&(i=Jx({},i,n(i))),e){var o=yd(i.areArraysEqual),s=yd(i.areMapsEqual),a=yd(i.areObjectsEqual),l=yd(i.areSetsEqual);i=Jx({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function yre(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function vre(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var _re=bo();bo({strict:!0});bo({circular:!0});bo({circular:!0,strict:!0});bo({createInternalComparator:function(){return Is}});bo({strict:!0,createInternalComparator:function(){return Is}});bo({circular:!0,createInternalComparator:function(){return Is}});bo({circular:!0,createInternalComparator:function(){return Is},strict:!0});function bo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=gre(t),l=mre(a),u=r?r(l):yre(l);return vre({circular:n,comparator:l,createState:i,equals:u,strict:s})}function wre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Yx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):wre(i)};requestAnimationFrame(r)}function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function Ere(t){return Are(t)||bre(t)||Sre(t)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(t,e){if(t){if(typeof t=="string")return Xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xx(t,e)}}function Xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Are(t){if(Array.isArray(t))return t}function Ire(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Ere(s),l=a[0],u=a.slice(1);if(typeof l=="number"){Yx(i.bind(null,u),l);return}i(l),Yx(i.bind(null,u));return}q0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function Qx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qx(Object(n),!0).forEach(function(r){ZD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZD(t,e,n){return e=xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=Cre(t,"string");return Oc(e)==="symbol"?e:String(e)}function Cre(t,e){if(Oc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pre=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Rre=function(e){return e},Nre=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Vu=function(e,n){return Object.keys(n).reduce(function(r,i){return Zx(Zx({},r),{},ZD({},i,e(i,n[i])))},{})},e1=function(e,n,r){return e.map(function(i){return"".concat(Nre(i)," ").concat(n,"ms ").concat(r)}).join(",")};function kre(t,e){return Dre(t)||Ore(t,e)||e2(t,e)||Mre()}function Mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Dre(t){if(Array.isArray(t))return t}function Lre(t){return Ure(t)||Vre(t)||e2(t)||$re()}function $re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e2(t,e){if(t){if(typeof t=="string")return j0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j0(t,e)}}function Vre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ure(t){if(Array.isArray(t))return j0(t)}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qh=1e-4,t2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},n2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},t1=function(e,n){return function(r){var i=t2(e,n);return n2(i,r)}},Fre=function(e,n){return function(r){var i=t2(e,n),o=[].concat(Lre(i.map(function(s,a){return s*a}).slice(1)),[0]);return n2(o,r)}},n1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=kre(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=t1(i,s),h=t1(o,a),g=Fre(i,s),_=function(v){return v>1?1:v<0?0:v},y=function(v){for(var E=v>1?1:v,S=E,R=0;R<8;++R){var A=f(S)-E,x=g(S);if(Math.abs(A-E)<Qh||x<Qh)return h(S);S=_(S-A/x)}return h(S)};return y.isStepper=!1,y},Bre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,h){var g=-(c-f)*r,_=h*o,y=h+(g-_)*a/1e3,w=h*a/1e3+c;return Math.abs(w-f)<Qh&&Math.abs(y)<Qh?[f,0]:[w,y]};return l.isStepper=!0,l.dt=a,l},qre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return n1(i);case"spring":return Bre();default:if(i.split("(")[0]==="cubic-bezier")return n1(i)}return typeof i=="function"?i:null};function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function r1(t){return Gre(t)||Hre(t)||r2(t)||jre()}function jre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gre(t){if(Array.isArray(t))return G0(t)}function i1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(n),!0).forEach(function(r){H0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H0(t,e,n){return e=zre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=Wre(t,"string");return Dc(e)==="symbol"?e:String(e)}function Wre(t,e){if(Dc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kre(t,e){return Xre(t)||Yre(t,e)||r2(t,e)||Jre()}function Jre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r2(t,e){if(t){if(typeof t=="string")return G0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G0(t,e)}}function G0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Xre(t){if(Array.isArray(t))return t}var Zh=function(e,n,r){return e+(n-e)*r},z0=function(e){var n=e.from,r=e.to;return n!==r},Qre=function t(e,n,r){var i=Vu(function(o,s){if(z0(s)){var a=e(s.from,s.to,s.velocity),l=Kre(a,2),u=l[0],c=l[1];return Bt(Bt({},s),{},{from:u,velocity:c})}return s},n);return r<1?Vu(function(o,s){return z0(s)?Bt(Bt({},s),{},{velocity:Zh(s.velocity,i[o].velocity,r),from:Zh(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Zre=function(t,e,n,r,i){var o=Pre(t,e),s=o.reduce(function(w,v){return Bt(Bt({},w),{},H0({},v,[t[v],e[v]]))},{}),a=o.reduce(function(w,v){return Bt(Bt({},w),{},H0({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Vu(function(v,E){return E.from},a)},g=function(){return!Object.values(a).filter(z0).length},_=function(v){u||(u=v);var E=v-u,S=E/n.dt;a=Qre(n,a,S),i(Bt(Bt(Bt({},t),e),h())),u=v,g()||(l=requestAnimationFrame(f))},y=function(v){c||(c=v);var E=(v-c)/r,S=Vu(function(A,x){return Zh.apply(void 0,r1(x).concat([n(E)]))},s);if(i(Bt(Bt(Bt({},t),e),S)),E<1)l=requestAnimationFrame(f);else{var R=Vu(function(A,x){return Zh.apply(void 0,r1(x).concat([n(1)]))},s);i(Bt(Bt(Bt({},t),e),R))}};return f=n.isStepper?_:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}var eie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function tie(t,e){if(t==null)return{};var n=nie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ky(t){return sie(t)||oie(t)||iie(t)||rie()}function rie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iie(t,e){if(t){if(typeof t=="string")return W0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W0(t,e)}}function oie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sie(t){if(Array.isArray(t))return W0(t)}function W0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(r){_u(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _u(t,e,n){return e=i2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i2(r.key),r)}}function uie(t,e,n){return e&&lie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i2(t){var e=cie(t,"string");return Ba(e)==="symbol"?e:String(e)}function cie(t,e){if(Ba(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K0(t,e)}function die(t){var e=hie();return function(){var r=ep(t),i;if(e){var o=ep(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return J0(this,i)}}function J0(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y0(t)}function Y0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ep(t)}var uo=function(t){fie(n,t);var e=die(n);function n(r,i){var o;aie(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,h=s.children,g=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Y0(o)),o.changeStyle=o.changeStyle.bind(Y0(o)),!a||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),J0(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},J0(o);o.state={style:l?_u({},l,u):u}}else o.state={style:{}};return o}return uie(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(a){if(!s){var g={style:l?_u({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(_re(i.to,c)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=_||u?f:i.to;if(this.state&&h){var w={style:l?_u({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(w)}this.runAnimation(rr(rr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=Zre(s,a,qre(u),l,this.changeStyle),_=function(){o.stopJSAnimation=g()};this.manager.start([h,c,_,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,h=f===void 0?0:f,g=function(y,w,v){if(v===0)return y;var E=w.duration,S=w.easing,R=S===void 0?"ease":S,A=w.style,x=w.properties,b=w.onAnimationEnd,I=v>0?s[v-1]:w,C=x||Object.keys(A);if(typeof R=="function"||R==="spring")return[].concat(ky(y),[o.runJSAnimation.bind(o,{from:I.style,to:A,duration:E,easing:R}),E]);var M=e1(C,E,R),k=rr(rr(rr({},I.style),A),{},{transition:M});return[].concat(ky(y),[k,E,b]).filter(Rre)};return this.manager.start([l].concat(ky(s.reduce(g,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ire());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=a?_u({},a,l):l,w=e1(Object.keys(y),s,u);_.start([c,o,rr(rr({},y),{},{transition:w}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=tie(i,eie),u=$.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(g){var _=g.props,y=_.style,w=y===void 0?{}:y,v=_.className,E=$.cloneElement(g,rr(rr({},l),{},{style:rr(rr({},w),c),className:v}));return E};return u===1?f($.Children.only(o)):F.createElement("div",null,$.Children.map(o,function(h){return f(h)}))}}]),n}($.PureComponent);uo.displayName="Animate";uo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uo.propTypes={from:Me.oneOfType([Me.object,Me.string]),to:Me.oneOfType([Me.object,Me.string]),attributeName:Me.string,duration:Me.number,begin:Me.number,easing:Me.oneOfType([Me.string,Me.func]),steps:Me.arrayOf(Me.shape({duration:Me.number.isRequired,style:Me.object.isRequired,easing:Me.oneOfType([Me.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Me.func]),properties:Me.arrayOf("string"),onAnimationEnd:Me.func})),children:Me.oneOfType([Me.node,Me.func]),isActive:Me.bool,canBegin:Me.bool,onAnimationEnd:Me.func,shouldReAnimate:Me.bool,onAnimationStart:Me.func,onAnimationReStart:Me.func};function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function pie(t,e){return vie(t)||yie(t,e)||gie(t,e)||mie()}function mie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gie(t,e){if(t){if(typeof t=="string")return s1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s1(t,e)}}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function vie(t){if(Array.isArray(t))return t}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){_ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ie(t,e,n){return e=wie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wie(t){var e=Eie(t,"string");return Lc(e)=="symbol"?e:e+""}function Eie(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u1=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var _=Math.min(s,o);c="M ".concat(e,",").concat(n+a*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+l*_,",").concat(n,`
            L `).concat(e+r-l*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*_,`
            L `).concat(e+r,",").concat(n+i-a*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r-l*_,",").concat(n+i,`
            L `).concat(e+l*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*_," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Tie=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Sie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zE=function(e){var n=l1(l1({},Sie),e),r=$.useRef(),i=$.useState(-1),o=pie(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,g=n.className,_=n.animationEasing,y=n.animationDuration,w=n.animationBegin,v=n.isAnimationActive,E=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=Ne("recharts-rectangle",g);return E?F.createElement(uo,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:_,isActive:E},function(R){var A=R.width,x=R.height,b=R.x,I=R.y;return F.createElement(uo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:v,easing:_},F.createElement("path",tp({},Oe(n,!0),{className:S,d:u1(b,I,A,x,h),ref:r})))}):F.createElement("path",tp({},Oe(n,!0),{className:S,d:u1(l,u,c,f,h)}))};function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}var o2=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ne("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",X0({},Oe(e,!1),wh(e),{className:s,cx:n,cy:r,r:i})):null};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}var bie=["x","y","top","left","width","height","className"];function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(this,arguments)}function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(r){Iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iie(t,e,n){return e=xie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xie(t){var e=Cie(t,"string");return $c(e)=="symbol"?e:e+""}function Cie(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pie(t,e){if(t==null)return{};var n=Rie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Nie=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},kie=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,g=h===void 0?0:h,_=e.className,y=Pie(e,bie),w=Aie({x:r,y:o,top:a,left:u,width:f,height:g},y);return!ie(r)||!ie(o)||!ie(f)||!ie(g)||!ie(a)||!ie(u)?null:F.createElement("path",Q0({},Oe(w,!0),{className:Ne("recharts-cross",_),d:Nie(r,o,f,g,a,u)}))},Mie=EO,Oie=Mie(Object.getPrototypeOf,Object),Die=Oie,Lie=yi,$ie=Die,Vie=vi,Uie="[object Object]",Fie=Function.prototype,Bie=Object.prototype,s2=Fie.toString,qie=Bie.hasOwnProperty,jie=s2.call(Object);function Hie(t){if(!Vie(t)||Lie(t)!=Uie)return!1;var e=$ie(t);if(e===null)return!0;var n=qie.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&s2.call(n)==jie}var Gie=Hie;const zie=Ge(Gie);var Wie=yi,Kie=vi,Jie="[object Boolean]";function Yie(t){return t===!0||t===!1||Kie(t)&&Wie(t)==Jie}var Xie=Yie;const Qie=Ge(Xie);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}function Zie(t,e){return roe(t)||noe(t,e)||toe(t,e)||eoe()}function eoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function toe(t,e){if(t){if(typeof t=="string")return f1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f1(t,e)}}function f1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function noe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function roe(t){if(Array.isArray(t))return t}function d1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d1(Object(n),!0).forEach(function(r){ioe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ioe(t,e,n){return e=ooe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ooe(t){var e=soe(t,"string");return Vc(e)=="symbol"?e:e+""}function soe(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p1=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},aoe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},loe=function(e){var n=h1(h1({},aoe),e),r=$.useRef(),i=$.useState(-1),o=Zie(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,_=n.animationEasing,y=n.animationDuration,w=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var E=Ne("recharts-trapezoid",g);return v?F.createElement(uo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:_,isActive:v},function(S){var R=S.upperWidth,A=S.lowerWidth,x=S.height,b=S.x,I=S.y;return F.createElement(uo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:_},F.createElement("path",np({},Oe(n,!0),{className:E,d:p1(b,I,R,A,x),ref:r})))}):F.createElement("g",null,F.createElement("path",np({},Oe(n,!0),{className:E,d:p1(l,u,c,f,h)})))},uoe=["option","shapeType","propTransformer","activeClassName","isActive"];function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function coe(t,e){if(t==null)return{};var n=foe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function foe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(n),!0).forEach(function(r){doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function doe(t,e,n){return e=hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=poe(t,"string");return Uc(e)=="symbol"?e:e+""}function poe(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function moe(t,e){return rp(rp({},e),t)}function goe(t,e){return t==="symbols"}function g1(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return F.createElement(zE,n);case"trapezoid":return F.createElement(loe,n);case"sector":return F.createElement(KD,n);case"symbols":if(goe(e))return F.createElement(lE,n);break;default:return null}}function yoe(t){return $.isValidElement(t)?t.props:t}function voe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?moe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=coe(t,uoe),u;if($.isValidElement(e))u=$.cloneElement(e,rp(rp({},l),yoe(e)));else if(Ie(e))u=e(l);else if(zie(e)&&!Qie(e)){var c=i(e,l);u=F.createElement(g1,{shapeType:n,elementProps:c})}else{var f=l;u=F.createElement(g1,{shapeType:n,elementProps:f})}return a?F.createElement(Vt,{className:s},u):u}function Bm(t,e){return e!=null&&"trapezoids"in t.props}function qm(t,e){return e!=null&&"sectors"in t.props}function Fc(t,e){return e!=null&&"points"in t.props}function _oe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function woe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Eoe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Toe(t,e){var n;return Bm(t,e)?n=_oe:qm(t,e)?n=woe:Fc(t,e)&&(n=Eoe),n}function Soe(t,e){var n;return Bm(t,e)?n="trapezoids":qm(t,e)?n="sectors":Fc(t,e)&&(n="points"),n}function boe(t,e){if(Bm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(qm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Fc(t,e)?e.payload:{}}function Aoe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Soe(n,e),o=boe(n,e),s=r.filter(function(l,u){var c=qE(o,l),f=n.props[i].filter(function(_){var y=Toe(n,e);return y(_,e)}),h=n.props[i].indexOf(f[f.length-1]),g=u===h;return c&&g}),a=r.indexOf(s[s.length-1]);return a}var Ioe=Math.ceil,xoe=Math.max;function Coe(t,e,n,r){for(var i=-1,o=xoe(Ioe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var Poe=Coe,Roe=UO,y1=1/0,Noe=17976931348623157e292;function koe(t){if(!t)return t===0?t:0;if(t=Roe(t),t===y1||t===-y1){var e=t<0?-1:1;return e*Noe}return t===t?t:0}var Moe=koe,Ooe=Poe,Doe=Pm,My=Moe;function Loe(t){return function(e,n,r){return r&&typeof r!="number"&&Doe(e,n,r)&&(n=r=void 0),e=My(e),n===void 0?(n=e,e=0):n=My(n),r=r===void 0?e<n?1:-1:My(r),Ooe(e,n,r,t)}}var $oe=Loe,Voe=$oe,Uoe=Voe(),Foe=Uoe;const ip=Ge(Foe);function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){a2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a2(t,e,n){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Boe(t){var e=qoe(t,"string");return Bc(e)=="symbol"?e:e+""}function qoe(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var joe=["Webkit","Moz","O","ms"],Hoe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=joe.reduce(function(o,s){return _1(_1({},o),{},a2({},s+r,n))},{});return i[e]=n,i};function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function w1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w1(Object(n),!0).forEach(function(r){In(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u2(r.key),r)}}function zoe(t,e,n){return e&&E1(t.prototype,e),n&&E1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Woe(t,e,n){return e=sp(e),Koe(t,l2()?Reflect.construct(e,n||[],sp(t).constructor):e.apply(t,n))}function Koe(t,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Joe(t)}function Joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l2=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sp(t)}function Yoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z0(t,e)}function In(t,e,n){return e=u2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u2(t){var e=Xoe(t,"string");return qa(e)=="symbol"?e:e+""}function Xoe(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qoe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Lu().domain(ip(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},T1=function(e){return e.changedTouches&&!!e.changedTouches.length},ja=function(t){function e(n){var r;return Goe(this,e),r=Woe(this,e,[n]),In(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),In(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),In(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),In(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),In(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),In(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),In(r,"handleSlideDragStart",function(i){var o=T1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Yoe(e,t),zoe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(s,f),_=e.getIndexInRange(s,h);return{startIndex:g-g%l,endIndex:_===c?c:_-_%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Ur(o[r],a,r);return Ie(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,_=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-f-a,u+c-f-s):y<0&&(y=Math.max(y,u-s,u-a));var w=this.getIndex({startX:s+y,endX:a+y});(w.startIndex!==h||w.endIndex!==g)&&_&&_(w),this.setState({startX:s+y,endX:a+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=T1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,h=c.width,g=c.travellerWidth,_=c.onChange,y=c.gap,w=c.data,v={startX:this.state.startX,endX:this.state.endX},E=r.pageX-o;E>0?E=Math.min(E,f+h-g-u):E<0&&(E=Math.max(E,f-u)),v[s]=u+E;var S=this.getIndex(v),R=S.startIndex,A=S.endIndex,x=function(){var I=w.length-1;return s==="startX"&&(a>l?R%y===0:A%y===0)||a<l&&A===I||s==="endX"&&(a>l?A%y===0:R%y===0)||a>l&&A===I};this.setState(In(In({},s,u+E),"brushMoveStartX",r.pageX),function(){_&&x()&&_(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var g=a[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(In({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return F.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=$.Children.only(u);return f?F.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,_=l.data,y=l.startIndex,w=l.endIndex,v=Math.max(r,this.props.x),E=Oy(Oy({},Oe(this.props,!1)),{},{x:v,y:u,width:c,height:f}),S=g||"Min value: ".concat((o=_[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=_[w])===null||s===void 0?void 0:s.name);return F.createElement(Vt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,E))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,g=5,_={pointerEvents:"none",fill:u};return F.createElement(Vt,{className:"recharts-brush-texts"},F.createElement(Dh,op({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:s+a/2},_),this.getTextOfTick(i)),F.createElement(Dh,op({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:s+a/2},_),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,_=h.endX,y=h.isTextActive,w=h.isSlideMoving,v=h.isTravellerMoving,E=h.isTravellerFocused;if(!i||!i.length||!ie(a)||!ie(l)||!ie(u)||!ie(c)||u<=0||c<=0)return null;var S=Ne("recharts-brush",o),R=F.Children.count(s)===1,A=Hoe("userSelect","none");return F.createElement(Vt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(g,_),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(_,"endX"),(y||w||v||E||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return F.isValidElement(r)?o=F.cloneElement(r,i):Ie(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Oy({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Qoe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}($.PureComponent);In(ja,"displayName","Brush");In(ja,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zoe=gE;function ese(t,e){var n;return Zoe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var tse=ese,nse=hO,rse=wl,ise=tse,ose=Sn,sse=Pm;function ase(t,e,n){var r=ose(t)?nse:ise;return n&&sse(t,e,n)&&(e=void 0),r(t,rse(e))}var lse=ase;const use=Ge(lse);var Nr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},S1=OO;function cse(t,e,n){e=="__proto__"&&S1?S1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var fse=cse,dse=fse,hse=kO,pse=wl;function mse(t,e){var n={};return e=pse(e),hse(t,function(r,i,o){dse(n,i,e(r,i,o))}),n}var gse=mse;const yse=Ge(gse);function vse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var _se=vse,wse=gE;function Ese(t,e){var n=!0;return wse(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Tse=Ese,Sse=_se,bse=Tse,Ase=wl,Ise=Sn,xse=Pm;function Cse(t,e,n){var r=Ise(t)?Sse:bse;return n&&xse(t,e,n)&&(e=void 0),r(t,Ase(e))}var Pse=Cse;const Rse=Ge(Pse);var Nse=["x","y"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(n),!0).forEach(function(r){kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e,n){return e=Mse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mse(t){var e=Ose(t,"string");return qc(e)=="symbol"?e:e+""}function Ose(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dse(t,e){if(t==null)return{};var n=Lse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $se(t,e){var n=t.x,r=t.y,i=Dse(t,Nse),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return du(du(du(du(du({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function A1(t){return F.createElement(voe,e_({shapeType:"rectangle",propTransformer:$se,activeClassName:"recharts-active-bar"},t))}var Vse=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ie(r)||X9(r);return o?e(r,i):(o||hs(),n)}},Use=["value","background"],c2;function Ha(t){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(t)}function Fse(t,e){if(t==null)return{};var n=Bse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ap.apply(this,arguments)}function I1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I1(Object(n),!0).forEach(function(r){ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d2(r.key),r)}}function jse(t,e,n){return e&&x1(t.prototype,e),n&&x1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hse(t,e,n){return e=lp(e),Gse(t,f2()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function Gse(t,e){if(e&&(Ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zse(t)}function zse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f2=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function Wse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t_(t,e)}function ji(t,e,n){return e=d2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d2(t){var e=Kse(t,"string");return Ha(e)=="symbol"?e:e+""}function Kse(t,e){if(Ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xs=function(t){function e(){var n;qse(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Hse(this,e,[].concat(i)),ji(n,"state",{isAnimationFinished:!1}),ji(n,"id",Tm("recharts-bar-")),ji(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),ji(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Wse(e,t),jse(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Oe(this.props,!1);return r&&r.map(function(f,h){var g=h===l,_=g?u:s,y=yt(yt(yt({},c),f),{},{isActive:g,option:_,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(Vt,ap({className:"recharts-bar-rectangle"},Eh(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(A1,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return F.createElement(uo,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var _=g.t,y=o.map(function(w,v){var E=h&&h[v];if(E){var S=Vs(E.x,w.x),R=Vs(E.y,w.y),A=Vs(E.width,w.width),x=Vs(E.height,w.height);return yt(yt({},w),{},{x:S(_),y:R(_),width:A(_),height:x(_)})}if(s==="horizontal"){var b=Vs(0,w.height),I=b(_);return yt(yt({},w),{},{y:w.y+w.height-I,height:I})}var C=Vs(0,w.width),M=C(_);return yt(yt({},w),{},{width:M})});return F.createElement(Vt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!qE(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Oe(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=Fse(u,Use);if(!f)return null;var g=yt(yt(yt(yt(yt({},h),{},{fill:"#eee"},f),l),Eh(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return F.createElement(A1,ap({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=mr(c,Fm);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,g=function(w,v){var E=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:E,errorVal:Ur(w,v)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(Vt,_,f.map(function(y){return F.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,g=r.isAnimationActive,_=r.background,y=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,v=Ne("recharts-bar",s),E=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,R=E||S,A=ke(y)?this.id:y;return F.createElement(Vt,{className:v},E||S?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(A)},F.createElement("rect",{x:E?u:u-f/2,y:S?c:c-h/2,width:E?f:f*2,height:S?h:h*2}))):null,F.createElement(Vt,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(A,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,A),(!g||w)&&eo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);c2=xs;ji(xs,"displayName","Bar");ji(xs,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ff.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ji(xs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,g=Ete(r,n);if(!g)return null;var _=e.layout,y=n.type.defaultProps,w=y!==void 0?yt(yt({},y),n.props):n.props,v=w.dataKey,E=w.children,S=w.minPointSize,R=_==="horizontal"?s:o,A=u?R.scale.domain():null,x=Pte({numericAxis:R}),b=mr(E,_E),I=f.map(function(C,M){var k,D,N,B,j,G;u?k=Tte(u[c+M],A):(k=Ur(C,v),Array.isArray(k)||(k=[x,k]));var K=Vse(S,c2.defaultProps.minPointSize)(k[1],M);if(_==="horizontal"){var V,H=[s.scale(k[0]),s.scale(k[1])],X=H[0],te=H[1];D=Ax({axis:o,ticks:a,bandSize:i,offset:g.offset,entry:C,index:M}),N=(V=te??X)!==null&&V!==void 0?V:void 0,B=g.size;var Z=X-te;if(j=Number.isNaN(Z)?0:Z,G={x:D,y:s.y,width:B,height:s.height},Math.abs(K)>0&&Math.abs(j)<Math.abs(K)){var le=ur(j||K)*(Math.abs(K)-Math.abs(j));N-=le,j+=le}}else{var _e=[o.scale(k[0]),o.scale(k[1])],Ve=_e[0],ze=_e[1];if(D=Ve,N=Ax({axis:s,ticks:l,bandSize:i,offset:g.offset,entry:C,index:M}),B=ze-Ve,j=g.size,G={x:o.x,y:N,width:o.width,height:j},Math.abs(K)>0&&Math.abs(B)<Math.abs(K)){var Jt=ur(B||K)*(Math.abs(K)-Math.abs(B));B+=Jt}}return yt(yt(yt({},C),{},{x:D,y:N,width:B,height:j,value:u?k:k[1],payload:C,background:G},b&&b[M]&&b[M].props),{},{tooltipPayload:[GD(n,C)],tooltipPosition:{x:D+B/2,y:N+j/2}})});return yt({data:I,layout:_},h)});function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function Jse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h2(r.key),r)}}function Yse(t,e,n){return e&&C1(t.prototype,e),n&&C1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(n),!0).forEach(function(r){jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jm(t,e,n){return e=h2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h2(t){var e=Xse(t,"string");return jc(e)=="symbol"?e:e+""}function Xse(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qse=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Cn(u,xs);return c.reduce(function(g,_){var y=n[_],w=y.orientation,v=y.domain,E=y.padding,S=E===void 0?{}:E,R=y.mirror,A=y.reversed,x="".concat(w).concat(R?"Mirror":""),b,I,C,M,k;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var D=v[1]-v[0],N=1/0,B=y.categoricalDomain.sort(eq);if(B.forEach(function(_e,Ve){Ve>0&&(N=Math.min((_e||0)-(B[Ve-1]||0),N))}),Number.isFinite(N)){var j=N/D,G=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(b=j*G/2),y.padding==="no-gap"){var K=fs(e.barCategoryGap,j*G),V=j*G/2;b=V-K-(V-K)/G*K}}}i==="xAxis"?I=[r.left+(S.left||0)+(b||0),r.left+r.width-(S.right||0)-(b||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(b||0),r.top+r.height-(S.bottom||0)-(b||0)]:I=y.range,A&&(I=[I[1],I[0]]);var H=_te(y,o,h),X=H.scale,te=H.realScaleType;X.domain(v).range(I),wte(X);var Z=Cte(X,sr(sr({},y),{},{realScaleType:te}));i==="xAxis"?(k=w==="top"&&!R||w==="bottom"&&R,C=r.left,M=f[x]-k*y.height):i==="yAxis"&&(k=w==="left"&&!R||w==="right"&&R,C=f[x]-k*y.width,M=r.top);var le=sr(sr(sr({},y),Z),{},{realScaleType:te,x:C,y:M,scale:X,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return le.bandSize=Jh(le,Z),!y.hide&&i==="xAxis"?f[x]+=(k?-1:1)*le.height:y.hide||(f[x]+=(k?-1:1)*le.width),sr(sr({},g),{},jm({},_,le))},{})},p2=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Zse=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return p2({x:n,y:r},{x:i,y:o})},m2=function(){function t(e){Jse(this,t),this.scale=e}return Yse(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();jm(m2,"EPS",1e-4);var WE=function(e){var n=Object.keys(e).reduce(function(r,i){return sr(sr({},r),{},jm({},i,m2.create(e[i])))},{});return sr(sr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return yse(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return Rse(i,function(o,s){return n[s].isInRange(o)})}})};function eae(t){return(t%180+180)%180}var tae=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=eae(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},nae=r9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),g2=$.createContext(void 0),y2=$.createContext(void 0),v2=$.createContext(void 0),rae=$.createContext({}),_2=$.createContext(void 0),w2=$.createContext(0),E2=$.createContext(0),R1=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=nae(o);return F.createElement(g2.Provider,{value:r},F.createElement(y2.Provider,{value:i},F.createElement(rae.Provider,{value:o},F.createElement(v2.Provider,{value:c},F.createElement(_2.Provider,{value:s},F.createElement(w2.Provider,{value:u},F.createElement(E2.Provider,{value:l},a)))))))},iae=function(){return $.useContext(_2)},T2=function(e){var n=$.useContext(g2);n==null&&hs();var r=n[e];return r==null&&hs(),r},S2=function(e){var n=$.useContext(y2);n==null&&hs();var r=n[e];return r==null&&hs(),r},oae=function(){var e=$.useContext(v2);return e},b2=function(){return $.useContext(E2)},A2=function(){return $.useContext(w2)};function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function sae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x2(r.key),r)}}function lae(t,e,n){return e&&aae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uae(t,e,n){return e=up(e),cae(t,I2()?Reflect.construct(e,n||[],up(t).constructor):e.apply(t,n))}function cae(t,e){if(e&&(Ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fae(t)}function fae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I2=function(){return!!t})()}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},up(t)}function dae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n_(t,e)}function N1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N1(Object(n),!0).forEach(function(r){KE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KE(t,e,n){return e=x2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x2(t){var e=hae(t,"string");return Ga(e)=="symbol"?e:e+""}function hae(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pae(t,e){return vae(t)||yae(t,e)||gae(t,e)||mae()}function mae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gae(t,e){if(t){if(typeof t=="string")return M1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M1(t,e)}}function M1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function vae(t){if(Array.isArray(t))return t}function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(this,arguments)}var _ae=function(e,n){var r;return F.isValidElement(e)?r=F.cloneElement(e,n):Ie(e)?r=e(n):r=F.createElement("line",r_({},n,{className:"recharts-reference-line-line"})),r},wae=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,h=o.width,g=o.height;if(r){var _=u.y,y=e.y.apply(_,{position:s});if(Nr(u,"discard")&&!e.y.isInRange(y))return null;var w=[{x:c+h,y},{x:c,y}];return l==="left"?w.reverse():w}if(n){var v=u.x,E=e.x.apply(v,{position:s});if(Nr(u,"discard")&&!e.x.isInRange(E))return null;var S=[{x:E,y:f+g},{x:E,y:f}];return a==="top"?S.reverse():S}if(i){var R=u.segment,A=R.map(function(x){return e.apply(x,{position:s})});return Nr(u,"discard")&&use(A,function(x){return!e.isInRange(x)})?null:A}return null};function Eae(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=iae(),c=T2(i),f=S2(o),h=oae();if(!u||!h)return null;ts(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=WE({x:c.scale,y:f.scale}),_=xt(e),y=xt(n),w=r&&r.length===2,v=wae(g,_,y,w,h,t.position,c.orientation,f.orientation,t);if(!v)return null;var E=pae(v,2),S=E[0],R=S.x,A=S.y,x=E[1],b=x.x,I=x.y,C=Nr(t,"hidden")?"url(#".concat(u,")"):void 0,M=k1(k1({clipPath:C},Oe(t,!0)),{},{x1:R,y1:A,x2:b,y2:I});return F.createElement(Vt,{className:Ne("recharts-reference-line",a)},_ae(s,M),rn.renderCallByParent(t,Zse({x1:R,y1:A,x2:b,y2:I})))}var JE=function(t){function e(){return sae(this,e),uae(this,e,arguments)}return dae(e,t),lae(e,[{key:"render",value:function(){return F.createElement(Eae,this.props)}}])}(F.Component);KE(JE,"displayName","ReferenceLine");KE(JE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(this,arguments)}function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){Hm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P2(r.key),r)}}function bae(t,e,n){return e&&Sae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aae(t,e,n){return e=cp(e),Iae(t,C2()?Reflect.construct(e,n||[],cp(t).constructor):e.apply(t,n))}function Iae(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xae(t)}function xae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C2=function(){return!!t})()}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}function Cae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o_(t,e)}function Hm(t,e,n){return e=P2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2(t){var e=Pae(t,"string");return za(e)=="symbol"?e:e+""}function Pae(t,e){if(za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rae=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=WE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Nr(e,"discard")&&!s.isInRange(a)?null:a},Gm=function(t){function e(){return Tae(this,e),Aae(this,e,arguments)}return Cae(e,t),bae(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=xt(i),c=xt(o);if(ts(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Rae(this.props);if(!f)return null;var h=f.x,g=f.y,_=this.props,y=_.shape,w=_.className,v=Nr(this.props,"hidden")?"url(#".concat(l,")"):void 0,E=D1(D1({clipPath:v},Oe(this.props,!0)),{},{cx:h,cy:g});return F.createElement(Vt,{className:Ne("recharts-reference-dot",w)},e.renderDot(y,E),rn.renderCallByParent(this.props,{x:h-s,y:g-s,width:2*s,height:2*s}))}}])}(F.Component);Hm(Gm,"displayName","ReferenceDot");Hm(Gm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Hm(Gm,"renderDot",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):Ie(t)?n=t(e):n=F.createElement(o2,i_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(this,arguments)}function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}function L1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(n),!0).forEach(function(r){zm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N2(r.key),r)}}function Mae(t,e,n){return e&&kae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oae(t,e,n){return e=fp(e),Dae(t,R2()?Reflect.construct(e,n||[],fp(t).constructor):e.apply(t,n))}function Dae(t,e){if(e&&(Wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lae(t)}function Lae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R2=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fp(t)}function $ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a_(t,e)}function zm(t,e,n){return e=N2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N2(t){var e=Vae(t,"string");return Wa(e)=="symbol"?e:e+""}function Vae(t,e){if(Wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uae=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=WE({x:c.scale,y:f.scale}),g={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},_={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Nr(o,"discard")&&(!h.isInRange(g)||!h.isInRange(_))?null:p2(g,_)},Wm=function(t){function e(){return Nae(this,e),Oae(this,e,arguments)}return $ae(e,t),Mae(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;ts(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xt(i),h=xt(o),g=xt(s),_=xt(a),y=this.props.shape;if(!f&&!h&&!g&&!_&&!y)return null;var w=Uae(f,h,g,_,this.props);if(!w&&!y)return null;var v=Nr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return F.createElement(Vt,{className:Ne("recharts-reference-area",l)},e.renderRect(y,$1($1({clipPath:v},Oe(this.props,!0)),w)),rn.renderCallByParent(this.props,w))}}])}(F.Component);zm(Wm,"displayName","ReferenceArea");zm(Wm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});zm(Wm,"renderRect",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):Ie(t)?n=t(e):n=F.createElement(zE,s_({},e,{className:"recharts-reference-area-rect"})),n});function k2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Fae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return tae(r,n)}function Bae(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function dp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function qae(t,e){return k2(t,e+1)}function jae(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var _=r==null?void 0:r[l];if(_===void 0)return{v:k2(r,u)};var y=l,w,v=function(){return w===void 0&&(w=n(_,y)),w},E=_.coordinate,S=l===0||dp(t,E,v,c,a);S||(l=0,c=s,u+=1),S&&(c=E+t*(v()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function V1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V1(Object(n),!0).forEach(function(r){Hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hae(t,e,n){return e=Gae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=zae(t,"string");return Hc(e)=="symbol"?e:e+""}function zae(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wae(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var g=o[h],_,y=function(){return _===void 0&&(_=n(g,h)),_};if(h===s-1){var w=t*(g.coordinate+t*y()/2-l);o[h]=g=en(en({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else o[h]=g=en(en({},g),{},{tickCoord:g.coordinate});var v=dp(t,g.tickCoord,y,a,l);v&&(l=g.tickCoord-t*(y()/2+i),o[h]=en(en({},g),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function Kae(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=en(en({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=dp(t,c.tickCoord,function(){return f},l,u);g&&(u=c.tickCoord-t*(f/2+i),s[a-1]=en(en({},c),{},{isShow:!0}))}for(var _=o?a-1:a,y=function(E){var S=s[E],R,A=function(){return R===void 0&&(R=n(S,E)),R};if(E===0){var x=t*(S.coordinate-t*A()/2-l);s[E]=S=en(en({},S),{},{tickCoord:x<0?S.coordinate-x*t:S.coordinate})}else s[E]=S=en(en({},S),{},{tickCoord:S.coordinate});var b=dp(t,S.tickCoord,A,l,u);b&&(l=S.tickCoord+t*(A()/2+i),s[E]=en(en({},S),{},{isShow:!0}))},w=0;w<_;w++)y(w);return s}function Jae(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ie(l)||ff.isSsr)return qae(i,typeof l=="number"&&ie(l)?l:0);var h=[],g=a==="top"||a==="bottom"?"width":"height",_=c&&g==="width"?Du(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(S,R){var A=Ie(u)?u(S.value,R):S.value;return g==="width"?Fae(Du(A,{fontSize:e,letterSpacing:n}),_,f):Du(A,{fontSize:e,letterSpacing:n})[g]},w=i.length>=2?ur(i[1].coordinate-i[0].coordinate):1,v=Bae(o,w,g);return l==="equidistantPreserveStart"?jae(w,v,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Kae(w,v,y,i,s,l==="preserveStartEnd"):h=Wae(w,v,y,i,s),h.filter(function(E){return E.isShow}))}var Yae=["viewBox"],Xae=["viewBox"],Qae=["ticks"];function Ka(t){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(t)}function oa(){return oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oa.apply(this,arguments)}function U1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(n),!0).forEach(function(r){YE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dy(t,e){if(t==null)return{};var n=Zae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ele(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O2(r.key),r)}}function tle(t,e,n){return e&&F1(t.prototype,e),n&&F1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nle(t,e,n){return e=hp(e),rle(t,M2()?Reflect.construct(e,n||[],hp(t).constructor):e.apply(t,n))}function rle(t,e){if(e&&(Ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ile(t)}function ile(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M2=function(){return!!t})()}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}function ole(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l_(t,e)}function YE(t,e,n){return e=O2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O2(t){var e=sle(t,"string");return Ka(e)=="symbol"?e:e+""}function sle(t,e){if(Ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Km=function(t){function e(n){var r;return ele(this,e),r=nle(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return ole(e,t),tle(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Dy(r,Yae),a=this.props,l=a.viewBox,u=Dy(a,Xae);return!pa(o,l)||!pa(s,u)||!pa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,g,_,y,w,v,E,S=f?-1:1,R=r.tickSize||c,A=ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=_=r.coordinate,w=s+ +!f*l,y=w-S*R,E=y-S*h,v=A;break;case"left":y=w=r.coordinate,_=o+ +!f*a,g=_-S*R,v=g-S*h,E=A;break;case"right":y=w=r.coordinate,_=o+ +f*a,g=_+S*R,v=g+S*h,E=A;break;default:g=_=r.coordinate,w=s+ +f*l,y=w+S*R,E=y+S*h,v=A;break}return{line:{x1:g,y1:y,x2:_,y2:w},tick:{x:v,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Tt(Tt(Tt({},Oe(this.props,!1)),Oe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Tt(Tt({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var g=+(l==="left"&&!u||l==="right"&&u);f=Tt(Tt({},f),{},{x1:i+g*s,y1:o,x2:i+g*s,y2:o+a})}return F.createElement("line",oa({},f,{className:Ne("recharts-cartesian-axis-line",Wn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,h=a.unit,g=Jae(Tt(Tt({},this.props),{},{ticks:r}),i,o),_=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=Oe(this.props,!1),v=Oe(c,!1),E=Tt(Tt({},w),{},{fill:"none"},Oe(l,!1)),S=g.map(function(R,A){var x=s.getTickLineCoord(R),b=x.line,I=x.tick,C=Tt(Tt(Tt(Tt({textAnchor:_,verticalAnchor:y},w),{},{stroke:"none",fill:u},v),I),{},{index:A,payload:R,visibleTicksCount:g.length,tickFormatter:f});return F.createElement(Vt,oa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Eh(s.props,R,A)),l&&F.createElement("line",oa({},E,b,{className:Ne("recharts-cartesian-axis-tick-line",Wn(l,"className"))})),c&&e.renderTickItem(c,C,"".concat(Ie(f)?f(R.value,A):R.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,g=Dy(f,Qae),_=h;return Ie(l)&&(_=h&&h.length>0?l(this.props):l(g)),s<=0||a<=0||!_||!_.length?null:F.createElement(Vt,{className:Ne("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ne(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(r)?s=F.cloneElement(r,Tt(Tt({},i),{},{className:a})):Ie(r)?s=r(Tt(Tt({},i),{},{className:a})):s=F.createElement(Dh,oa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}($.Component);YE(Km,"displayName","CartesianAxis");YE(Km,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function ale(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$2(r.key),r)}}function ule(t,e,n){return e&&lle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cle(t,e,n){return e=pp(e),fle(t,D2()?Reflect.construct(e,n||[],pp(t).constructor):e.apply(t,n))}function fle(t,e){if(e&&(Ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dle(t)}function dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D2=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}function hle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u_(t,e)}function L2(t,e,n){return e=$2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $2(t){var e=ple(t,"string");return Ja(e)=="symbol"?e:e+""}function ple(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function mle(t){var e=t.xAxisId,n=b2(),r=A2(),i=T2(e);return i==null?null:$.createElement(Km,c_({},i,{className:Ne("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Jo(s,!0)}}))}var Jm=function(t){function e(){return ale(this,e),cle(this,e,arguments)}return hle(e,t),ule(e,[{key:"render",value:function(){return $.createElement(mle,this.props)}}])}($.Component);L2(Jm,"displayName","XAxis");L2(Jm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function gle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F2(r.key),r)}}function vle(t,e,n){return e&&yle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _le(t,e,n){return e=mp(e),wle(t,V2()?Reflect.construct(e,n||[],mp(t).constructor):e.apply(t,n))}function wle(t,e){if(e&&(Ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ele(t)}function Ele(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mp(t)}function Tle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f_(t,e)}function f_(t,e){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f_(t,e)}function U2(t,e,n){return e=F2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F2(t){var e=Sle(t,"string");return Ya(e)=="symbol"?e:e+""}function Sle(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}var ble=function(e){var n=e.yAxisId,r=b2(),i=A2(),o=S2(n);return o==null?null:$.createElement(Km,d_({},o,{className:Ne("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Jo(a,!0)}}))},XE=function(t){function e(){return gle(this,e),_le(this,e,arguments)}return Tle(e,t),vle(e,[{key:"render",value:function(){return $.createElement(ble,this.props)}}])}($.Component);U2(XE,"displayName","YAxis");U2(XE,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function B1(t){return Cle(t)||xle(t)||Ile(t)||Ale()}function Ale(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function xle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cle(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var p_=function(e,n,r,i,o){var s=mr(e,JE),a=mr(e,Gm),l=[].concat(B1(s),B1(a)),u=mr(e,Wm),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,w){if(w.props[c]===r&&Nr(w.props,"extendDomain")&&ie(w.props[f])){var v=w.props[f];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},h)),u.length){var g="".concat(f,"1"),_="".concat(f,"2");h=u.reduce(function(y,w){if(w.props[c]===r&&Nr(w.props,"extendDomain")&&ie(w.props[g])&&ie(w.props[_])){var v=w.props[g],E=w.props[_];return[Math.min(y[0],v,E),Math.max(y[1],v,E)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,w){return ie(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},h)),h},B2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,f||l,h),_=n?n+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],g]:l._events[_].push(g):(l._events[_]=g,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,_=new Array(g);h<g;h++)_[h]=f[h].fn;return _},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,g,_){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],v=arguments.length,E,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,h),!0;case 5:return w.fn.call(w.context,c,f,h,g),!0;case 6:return w.fn.call(w.context,c,f,h,g,_),!0}for(S=1,E=new Array(v-1);S<v;S++)E[S-1]=arguments[S];w.fn.apply(w.context,E)}else{var R=w.length,A;for(S=0;S<R;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),v){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,c);break;case 3:w[S].fn.call(w[S].context,c,f);break;case 4:w[S].fn.call(w[S].context,c,f,h);break;default:if(!E)for(A=1,E=new Array(v-1);A<v;A++)E[A-1]=arguments[A];w[S].fn.apply(w[S].context,E)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return s(this,g),this;var _=this._events[g];if(_.fn)_.fn===c&&(!h||_.once)&&(!f||_.context===f)&&s(this,g);else{for(var y=0,w=[],v=_.length;y<v;y++)(_[y].fn!==c||h&&!_[y].once||f&&_[y].context!==f)&&w.push(_[y]);w.length?this._events[g]=w.length===1?w[0]:w:s(this,g)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(B2);var Ple=B2.exports;const Rle=Ge(Ple);var Ly=new Rle,$y="recharts.syncMouseEvents";function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Nle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q2(r.key),r)}}function Mle(t,e,n){return e&&kle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vy(t,e,n){return e=q2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q2(t){var e=Ole(t,"string");return Gc(e)=="symbol"?e:e+""}function Ole(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dle=function(){function t(){Nle(this,t),Vy(this,"activeIndex",0),Vy(this,"coordinateList",[]),Vy(this,"layout","horizontal")}return Mle(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Lle(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ie(r)&&ie(i))return!0}return!1}function $le(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function j2(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Gt(e,n,r,i),a=Gt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Vle(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Gt(a,l,u,f),g=Gt(a,l,c,f);r=h.x,i=h.y,o=g.x,s=g.y}else return j2(e);return[{x:r,y:i},{x:o,y:s}]}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(n),!0).forEach(function(r){Ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ule(t,e,n){return e=Fle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fle(t){var e=Ble(t,"string");return zc(e)=="symbol"?e:e+""}function Ble(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qle(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var _,y=Bx;if(h==="ScatterChart")_=s,y=kie;else if(h==="BarChart")_=$le(f,s,l,c),y=zE;else if(f==="radial"){var w=j2(s),v=w.cx,E=w.cy,S=w.radius,R=w.startAngle,A=w.endAngle;_={cx:v,cy:E,startAngle:R,endAngle:A,innerRadius:S,outerRadius:S},y=KD}else _={points:Vle(f,s,l)},y=Bx;var x=vd(vd(vd(vd({stroke:"#ccc",pointerEvents:"none"},l),_),Oe(g,!1)),{},{payload:a,payloadIndex:u,className:Ne("recharts-tooltip-cursor",g.className)});return $.isValidElement(g)?$.cloneElement(g,x):$.createElement(y,x)}var jle=["item"],Hle=["children","className","width","height","style","compact","title","desc"];function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function sa(){return sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sa.apply(this,arguments)}function j1(t,e){return Wle(t)||zle(t,e)||G2(t,e)||Gle()}function Gle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Wle(t){if(Array.isArray(t))return t}function H1(t,e){if(t==null)return{};var n=Kle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z2(r.key),r)}}function Xle(t,e,n){return e&&Yle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qle(t,e,n){return e=gp(e),Zle(t,H2()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function Zle(t,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eue(t)}function eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H2=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m_(t,e)}function Qa(t){return iue(t)||rue(t)||G2(t)||nue()}function nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G2(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function rue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iue(t){if(Array.isArray(t))return g_(t)}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fe(t,e,n){return e=z2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z2(t){var e=oue(t,"string");return Xa(e)=="symbol"?e:e+""}function oue(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sue={xAxis:["bottom","top"],yAxis:["left","right"]},aue={width:"100%",height:"100%"},W2={x:0,y:0};function _d(t){return t}var lue=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},uue=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return z(z(z({},i),Gt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return z(z(z({},i),Gt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return W2},Ym=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Qa(a),Qa(u)):a},[]);return s.length>0?s:e&&e.length&&ie(i)&&ie(o)?e.slice(i,o+1):[]};function K2(t){return t==="number"?[0,"auto"]:void 0}var y_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=Ym(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var g=f===void 0?a:f;h=Yv(g,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(Qa(l),[GD(u,h)]):l},[])},z1=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=lue(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=hte(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=y_(e,n,c,f),g=uue(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},cue=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,g=jD(c,o);return r.reduce(function(_,y){var w,v=y.type.defaultProps!==void 0?z(z({},y.type.defaultProps),y.props):y.props,E=v.type,S=v.dataKey,R=v.allowDataOverflow,A=v.allowDuplicatedCategory,x=v.scale,b=v.ticks,I=v.includeHidden,C=v[s];if(_[C])return _;var M=Ym(e.data,{graphicalItems:i.filter(function(Z){var le,_e=s in Z.props?Z.props[s]:(le=Z.type.defaultProps)===null||le===void 0?void 0:le[s];return _e===C}),dataStartIndex:l,dataEndIndex:u}),k=M.length,D,N,B;Lle(v.domain,R,E)&&(D=$0(v.domain,null,R),g&&(E==="number"||x!=="auto")&&(B=$u(M,S,"category")));var j=K2(E);if(!D||D.length===0){var G,K=(G=v.domain)!==null&&G!==void 0?G:j;if(S){if(D=$u(M,S,E),E==="category"&&g){var V=Z9(D);A&&V?(N=D,D=ip(0,k)):A||(D=Cx(K,D,y).reduce(function(Z,le){return Z.indexOf(le)>=0?Z:[].concat(Qa(Z),[le])},[]))}else if(E==="category")A?D=D.filter(function(Z){return Z!==""&&!ke(Z)}):D=Cx(K,D,y).reduce(function(Z,le){return Z.indexOf(le)>=0||le===""||ke(le)?Z:[].concat(Qa(Z),[le])},[]);else if(E==="number"){var H=vte(M,i.filter(function(Z){var le,_e,Ve=s in Z.props?Z.props[s]:(le=Z.type.defaultProps)===null||le===void 0?void 0:le[s],ze="hide"in Z.props?Z.props.hide:(_e=Z.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ve===C&&(I||!ze)}),S,o,c);H&&(D=H)}g&&(E==="number"||x!=="auto")&&(B=$u(M,S,"category"))}else g?D=ip(0,k):a&&a[C]&&a[C].hasStack&&E==="number"?D=h==="expand"?[0,1]:HD(a[C].stackGroups,l,u):D=qD(M,i.filter(function(Z){var le=s in Z.props?Z.props[s]:Z.type.defaultProps[s],_e="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return le===C&&(I||!_e)}),E,c,!0);if(E==="number")D=p_(f,D,C,o,b),K&&(D=$0(K,D,R));else if(E==="category"&&K){var X=K,te=D.every(function(Z){return X.indexOf(Z)>=0});te&&(D=X)}}return z(z({},_),{},fe({},C,z(z({},v),{},{axisType:o,domain:D,categoricalDomain:B,duplicateDomain:N,originalDomain:(w=v.domain)!==null&&w!==void 0?w:j,isCategorical:g,layout:c})))},{})},fue=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Ym(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,_=jD(c,o),y=-1;return r.reduce(function(w,v){var E=v.type.defaultProps!==void 0?z(z({},v.type.defaultProps),v.props):v.props,S=E[s],R=K2("number");if(!w[S]){y++;var A;return _?A=ip(0,g):a&&a[S]&&a[S].hasStack?(A=HD(a[S].stackGroups,l,u),A=p_(f,A,S,o)):(A=$0(R,qD(h,r.filter(function(x){var b,I,C=s in x.props?x.props[s]:(b=x.type.defaultProps)===null||b===void 0?void 0:b[s],M="hide"in x.props?x.props.hide:(I=x.type.defaultProps)===null||I===void 0?void 0:I.hide;return C===S&&!M}),"number",c),i.defaultProps.allowDataOverflow),A=p_(f,A,S,o)),z(z({},w),{},fe({},S,z(z({axisType:o},i.defaultProps),{},{hide:!0,orientation:Wn(sue,"".concat(o,".").concat(y%2),null),domain:A,originalDomain:R,isCategorical:_,layout:c})))}return w},{})},due=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=mr(c,o),g={};return h&&h.length?g=cue(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(g=fue(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),g},hue=function(e){var n=Bs(e),r=Jo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:yE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Jh(n,r)}},W1=function(e){var n=e.children,r=e.defaultShowTooltip,i=Cn(n,ja),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},pue=function(e){return!e||!e.length?!1:e.some(function(n){var r=ti(n&&n.type);return r&&r.indexOf("Bar")>=0})},K1=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},mue=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,h=r.margin||{},g=Cn(f,ja),_=Cn(f,ma),y=Object.keys(l).reduce(function(A,x){var b=l[x],I=b.orientation;return!b.mirror&&!b.hide?z(z({},A),{},fe({},I,A[I]+b.width)):A},{left:h.left||0,right:h.right||0}),w=Object.keys(s).reduce(function(A,x){var b=s[x],I=b.orientation;return!b.mirror&&!b.hide?z(z({},A),{},fe({},I,Wn(A,"".concat(I))+b.height)):A},{top:h.top||0,bottom:h.bottom||0}),v=z(z({},w),y),E=v.bottom;g&&(v.bottom+=g.props.height||ja.defaultProps.height),_&&n&&(v=gte(v,i,r,n));var S=u-v.left-v.right,R=c-v.top-v.bottom;return z(z({brushBottom:E},v),{},{width:Math.max(S,0),height:Math.max(R,0)})},gue=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},yue=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(v,E){var S=E.graphicalItems,R=E.stackGroups,A=E.offset,x=E.updateId,b=E.dataStartIndex,I=E.dataEndIndex,C=v.barSize,M=v.layout,k=v.barGap,D=v.barCategoryGap,N=v.maxBarSize,B=K1(M),j=B.numericAxisName,G=B.cateAxisName,K=pue(S),V=[];return S.forEach(function(H,X){var te=Ym(v.data,{graphicalItems:[H],dataStartIndex:b,dataEndIndex:I}),Z=H.type.defaultProps!==void 0?z(z({},H.type.defaultProps),H.props):H.props,le=Z.dataKey,_e=Z.maxBarSize,Ve=Z["".concat(j,"Id")],ze=Z["".concat(G,"Id")],Jt={},kt=l.reduce(function(Ln,jr){var Ms=E["".concat(jr.axisType,"Map")],Rf=Z["".concat(jr.axisType,"Id")];Ms&&Ms[Rf]||jr.axisType==="zAxis"||hs();var Si=Ms[Rf];return z(z({},Ln),{},fe(fe({},jr.axisType,Si),"".concat(jr.axisType,"Ticks"),Jo(Si)))},Jt),ne=kt[G],ge=kt["".concat(G,"Ticks")],ye=R&&R[Ve]&&R[Ve].hasStack&&Rte(H,R[Ve].stackGroups),Y=ti(H.type).indexOf("Bar")>=0,qe=Jh(ne,ge),Te=[],dt=K&&pte({barSize:C,stackGroups:R,totalSize:gue(kt,G)});if(Y){var rt,Mt,tr=ke(_e)?N:_e,it=(rt=(Mt=Jh(ne,ge,!0))!==null&&Mt!==void 0?Mt:tr)!==null&&rt!==void 0?rt:0;Te=mte({barGap:k,barCategoryGap:D,bandSize:it!==qe?it:qe,sizeList:dt[ze],maxBarSize:tr}),it!==qe&&(Te=Te.map(function(Ln){return z(z({},Ln),{},{position:z(z({},Ln.position),{},{offset:Ln.position.offset-it/2})})}))}var mt=H&&H.type&&H.type.getComposedData;mt&&V.push({props:z(z({},mt(z(z({},kt),{},{displayedData:te,props:v,dataKey:le,item:H,bandSize:qe,barPosition:Te,offset:A,stackedData:ye,layout:M,dataStartIndex:b,dataEndIndex:I}))),{},fe(fe(fe({key:H.key||"item-".concat(X)},j,kt[j]),G,kt[G]),"animationId",x)),childIndex:fq(H,v.children),item:H})}),V},g=function(v,E){var S=v.props,R=v.dataStartIndex,A=v.dataEndIndex,x=v.updateId;if(!TA({props:S}))return null;var b=S.children,I=S.layout,C=S.stackOffset,M=S.data,k=S.reverseStackOrder,D=K1(I),N=D.numericAxisName,B=D.cateAxisName,j=mr(b,r),G=xte(M,j,"".concat(N,"Id"),"".concat(B,"Id"),C,k),K=l.reduce(function(Z,le){var _e="".concat(le.axisType,"Map");return z(z({},Z),{},fe({},_e,due(S,z(z({},le),{},{graphicalItems:j,stackGroups:le.axisType===N&&G,dataStartIndex:R,dataEndIndex:A}))))},{}),V=mue(z(z({},K),{},{props:S,graphicalItems:j}),E==null?void 0:E.legendBBox);Object.keys(K).forEach(function(Z){K[Z]=c(S,K[Z],V,Z.replace("Map",""),n)});var H=K["".concat(B,"Map")],X=hue(H),te=h(S,z(z({},K),{},{dataStartIndex:R,dataEndIndex:A,updateId:x,graphicalItems:j,stackGroups:G,offset:V}));return z(z({formattedGraphicalItems:te,graphicalItems:j,offset:V,stackGroups:G},X),K)},_=function(w){function v(E){var S,R,A;return Jle(this,v),A=Qle(this,v,[E]),fe(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fe(A,"accessibilityManager",new Dle),fe(A,"handleLegendBBoxUpdate",function(x){if(x){var b=A.state,I=b.dataStartIndex,C=b.dataEndIndex,M=b.updateId;A.setState(z({legendBBox:x},g({props:A.props,dataStartIndex:I,dataEndIndex:C,updateId:M},z(z({},A.state),{},{legendBBox:x}))))}}),fe(A,"handleReceiveSyncEvent",function(x,b,I){if(A.props.syncId===x){if(I===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(b)}}),fe(A,"handleBrushChange",function(x){var b=x.startIndex,I=x.endIndex;if(b!==A.state.dataStartIndex||I!==A.state.dataEndIndex){var C=A.state.updateId;A.setState(function(){return z({dataStartIndex:b,dataEndIndex:I},g({props:A.props,dataStartIndex:b,dataEndIndex:I,updateId:C},A.state))}),A.triggerSyncEvent({dataStartIndex:b,dataEndIndex:I})}}),fe(A,"handleMouseEnter",function(x){var b=A.getMouseInfo(x);if(b){var I=z(z({},b),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var C=A.props.onMouseEnter;Ie(C)&&C(I,x)}}),fe(A,"triggeredAfterMouseMove",function(x){var b=A.getMouseInfo(x),I=b?z(z({},b),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var C=A.props.onMouseMove;Ie(C)&&C(I,x)}),fe(A,"handleItemMouseEnter",function(x){A.setState(function(){return{isTooltipActive:!0,activeItem:x,activePayload:x.tooltipPayload,activeCoordinate:x.tooltipPosition||{x:x.cx,y:x.cy}}})}),fe(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),fe(A,"handleMouseMove",function(x){x.persist(),A.throttleTriggeredAfterMouseMove(x)}),fe(A,"handleMouseLeave",function(x){A.throttleTriggeredAfterMouseMove.cancel();var b={isTooltipActive:!1};A.setState(b),A.triggerSyncEvent(b);var I=A.props.onMouseLeave;Ie(I)&&I(b,x)}),fe(A,"handleOuterEvent",function(x){var b=cq(x),I=Wn(A.props,"".concat(b));if(b&&Ie(I)){var C,M;/.*touch.*/i.test(b)?M=A.getMouseInfo(x.changedTouches[0]):M=A.getMouseInfo(x),I((C=M)!==null&&C!==void 0?C:{},x)}}),fe(A,"handleClick",function(x){var b=A.getMouseInfo(x);if(b){var I=z(z({},b),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var C=A.props.onClick;Ie(C)&&C(I,x)}}),fe(A,"handleMouseDown",function(x){var b=A.props.onMouseDown;if(Ie(b)){var I=A.getMouseInfo(x);b(I,x)}}),fe(A,"handleMouseUp",function(x){var b=A.props.onMouseUp;if(Ie(b)){var I=A.getMouseInfo(x);b(I,x)}}),fe(A,"handleTouchMove",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(x.changedTouches[0])}),fe(A,"handleTouchStart",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&A.handleMouseDown(x.changedTouches[0])}),fe(A,"handleTouchEnd",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&A.handleMouseUp(x.changedTouches[0])}),fe(A,"handleDoubleClick",function(x){var b=A.props.onDoubleClick;if(Ie(b)){var I=A.getMouseInfo(x);b(I,x)}}),fe(A,"handleContextMenu",function(x){var b=A.props.onContextMenu;if(Ie(b)){var I=A.getMouseInfo(x);b(I,x)}}),fe(A,"triggerSyncEvent",function(x){A.props.syncId!==void 0&&Ly.emit($y,A.props.syncId,x,A.eventEmitterSymbol)}),fe(A,"applySyncEvent",function(x){var b=A.props,I=b.layout,C=b.syncMethod,M=A.state.updateId,k=x.dataStartIndex,D=x.dataEndIndex;if(x.dataStartIndex!==void 0||x.dataEndIndex!==void 0)A.setState(z({dataStartIndex:k,dataEndIndex:D},g({props:A.props,dataStartIndex:k,dataEndIndex:D,updateId:M},A.state)));else if(x.activeTooltipIndex!==void 0){var N=x.chartX,B=x.chartY,j=x.activeTooltipIndex,G=A.state,K=G.offset,V=G.tooltipTicks;if(!K)return;if(typeof C=="function")j=C(V,x);else if(C==="value"){j=-1;for(var H=0;H<V.length;H++)if(V[H].value===x.activeLabel){j=H;break}}var X=z(z({},K),{},{x:K.left,y:K.top}),te=Math.min(N,X.x+X.width),Z=Math.min(B,X.y+X.height),le=V[j]&&V[j].value,_e=y_(A.state,A.props.data,j),Ve=V[j]?{x:I==="horizontal"?V[j].coordinate:te,y:I==="horizontal"?Z:V[j].coordinate}:W2;A.setState(z(z({},x),{},{activeLabel:le,activeCoordinate:Ve,activePayload:_e,activeTooltipIndex:j}))}else A.setState(x)}),fe(A,"renderCursor",function(x){var b,I=A.state,C=I.isTooltipActive,M=I.activeCoordinate,k=I.activePayload,D=I.offset,N=I.activeTooltipIndex,B=I.tooltipAxisBandSize,j=A.getTooltipEventType(),G=(b=x.props.active)!==null&&b!==void 0?b:C,K=A.props.layout,V=x.key||"_recharts-cursor";return F.createElement(qle,{key:V,activeCoordinate:M,activePayload:k,activeTooltipIndex:N,chartName:n,element:x,isActive:G,layout:K,offset:D,tooltipAxisBandSize:B,tooltipEventType:j})}),fe(A,"renderPolarAxis",function(x,b,I){var C=Wn(x,"type.axisType"),M=Wn(A.state,"".concat(C,"Map")),k=x.type.defaultProps,D=k!==void 0?z(z({},k),x.props):x.props,N=M&&M[D["".concat(C,"Id")]];return $.cloneElement(x,z(z({},N),{},{className:Ne(C,N.className),key:x.key||"".concat(b,"-").concat(I),ticks:Jo(N,!0)}))}),fe(A,"renderPolarGrid",function(x){var b=x.props,I=b.radialLines,C=b.polarAngles,M=b.polarRadius,k=A.state,D=k.radiusAxisMap,N=k.angleAxisMap,B=Bs(D),j=Bs(N),G=j.cx,K=j.cy,V=j.innerRadius,H=j.outerRadius;return $.cloneElement(x,{polarAngles:Array.isArray(C)?C:Jo(j,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(M)?M:Jo(B,!0).map(function(X){return X.coordinate}),cx:G,cy:K,innerRadius:V,outerRadius:H,key:x.key||"polar-grid",radialLines:I})}),fe(A,"renderLegend",function(){var x=A.state.formattedGraphicalItems,b=A.props,I=b.children,C=b.width,M=b.height,k=A.props.margin||{},D=C-(k.left||0)-(k.right||0),N=FD({children:I,formattedGraphicalItems:x,legendWidth:D,legendContent:u});if(!N)return null;var B=N.item,j=H1(N,jle);return $.cloneElement(B,z(z({},j),{},{chartWidth:C,chartHeight:M,margin:k,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),fe(A,"renderTooltip",function(){var x,b=A.props,I=b.children,C=b.accessibilityLayer,M=Cn(I,br);if(!M)return null;var k=A.state,D=k.isTooltipActive,N=k.activeCoordinate,B=k.activePayload,j=k.activeLabel,G=k.offset,K=(x=M.props.active)!==null&&x!==void 0?x:D;return $.cloneElement(M,{viewBox:z(z({},G),{},{x:G.left,y:G.top}),active:K,label:j,payload:K?B:[],coordinate:N,accessibilityLayer:C})}),fe(A,"renderBrush",function(x){var b=A.props,I=b.margin,C=b.data,M=A.state,k=M.offset,D=M.dataStartIndex,N=M.dataEndIndex,B=M.updateId;return $.cloneElement(x,{key:x.key||"_recharts-brush",onChange:pd(A.handleBrushChange,x.props.onChange),data:C,x:ie(x.props.x)?x.props.x:k.left,y:ie(x.props.y)?x.props.y:k.top+k.height+k.brushBottom-(I.bottom||0),width:ie(x.props.width)?x.props.width:k.width,startIndex:D,endIndex:N,updateId:"brush-".concat(B)})}),fe(A,"renderReferenceElement",function(x,b,I){if(!x)return null;var C=A,M=C.clipPathId,k=A.state,D=k.xAxisMap,N=k.yAxisMap,B=k.offset,j=x.type.defaultProps||{},G=x.props,K=G.xAxisId,V=K===void 0?j.xAxisId:K,H=G.yAxisId,X=H===void 0?j.yAxisId:H;return $.cloneElement(x,{key:x.key||"".concat(b,"-").concat(I),xAxis:D[V],yAxis:N[X],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:M})}),fe(A,"renderActivePoints",function(x){var b=x.item,I=x.activePoint,C=x.basePoint,M=x.childIndex,k=x.isRange,D=[],N=b.props.key,B=b.item.type.defaultProps!==void 0?z(z({},b.item.type.defaultProps),b.item.props):b.item.props,j=B.activeDot,G=B.dataKey,K=z(z({index:M,dataKey:G,cx:I.x,cy:I.y,r:4,fill:GE(b.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Oe(j,!1)),wh(j));return D.push(v.renderActiveDot(j,K,"".concat(N,"-activePoint-").concat(M))),C?D.push(v.renderActiveDot(j,z(z({},K),{},{cx:C.x,cy:C.y}),"".concat(N,"-basePoint-").concat(M))):k&&D.push(null),D}),fe(A,"renderGraphicChild",function(x,b,I){var C=A.filterFormatItem(x,b,I);if(!C)return null;var M=A.getTooltipEventType(),k=A.state,D=k.isTooltipActive,N=k.tooltipAxis,B=k.activeTooltipIndex,j=k.activeLabel,G=A.props.children,K=Cn(G,br),V=C.props,H=V.points,X=V.isRange,te=V.baseLine,Z=C.item.type.defaultProps!==void 0?z(z({},C.item.type.defaultProps),C.item.props):C.item.props,le=Z.activeDot,_e=Z.hide,Ve=Z.activeBar,ze=Z.activeShape,Jt=!!(!_e&&D&&K&&(le||Ve||ze)),kt={};M!=="axis"&&K&&K.props.trigger==="click"?kt={onClick:pd(A.handleItemMouseEnter,x.props.onClick)}:M!=="axis"&&(kt={onMouseLeave:pd(A.handleItemMouseLeave,x.props.onMouseLeave),onMouseEnter:pd(A.handleItemMouseEnter,x.props.onMouseEnter)});var ne=$.cloneElement(x,z(z({},C.props),kt));function ge(jr){return typeof N.dataKey=="function"?N.dataKey(jr.payload):null}if(Jt)if(B>=0){var ye,Y;if(N.dataKey&&!N.allowDuplicatedCategory){var qe=typeof N.dataKey=="function"?ge:"payload.".concat(N.dataKey.toString());ye=Yv(H,qe,j),Y=X&&te&&Yv(te,qe,j)}else ye=H==null?void 0:H[B],Y=X&&te&&te[B];if(ze||Ve){var Te=x.props.activeIndex!==void 0?x.props.activeIndex:B;return[$.cloneElement(x,z(z(z({},C.props),kt),{},{activeIndex:Te})),null,null]}if(!ke(ye))return[ne].concat(Qa(A.renderActivePoints({item:C,activePoint:ye,basePoint:Y,childIndex:B,isRange:X})))}else{var dt,rt=(dt=A.getItemByXY(A.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:ne},Mt=rt.graphicalItem,tr=Mt.item,it=tr===void 0?x:tr,mt=Mt.childIndex,Ln=z(z(z({},C.props),kt),{},{activeIndex:mt});return[$.cloneElement(it,Ln),null,null]}return X?[ne,null,null]:[ne,null]}),fe(A,"renderCustomized",function(x,b,I){return $.cloneElement(x,z(z({key:"recharts-customized-".concat(I)},A.props),A.state))}),fe(A,"renderMap",{CartesianGrid:{handler:_d,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:_d},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:_d},YAxis:{handler:_d},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((S=E.id)!==null&&S!==void 0?S:Tm("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=FO(A.triggeredAfterMouseMove,(R=E.throttleDelay)!==null&&R!==void 0?R:1e3/60),A.state={},A}return tue(v,w),Xle(v,[{key:"componentDidMount",value:function(){var S,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,R=S.children,A=S.data,x=S.height,b=S.layout,I=Cn(R,br);if(I){var C=I.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,k=y_(this.state,A,C,M),D=this.state.tooltipTicks[C].coordinate,N=(this.state.offset.top+x)/2,B=b==="horizontal",j=B?{x:D,y:N}:{y:D,x:N},G=this.state.formattedGraphicalItems.find(function(V){var H=V.item;return H.type.name==="Scatter"});G&&(j=z(z({},j),G.props.points[C].tooltipPosition),k=G.props.points[C].tooltipPayload);var K={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:M,activePayload:k,activeCoordinate:j};this.setState(K),this.renderCursor(I),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var A,x;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(S){Qv([Cn(S.children,br)],[Cn(this.props.children,br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Cn(this.props.children,br);if(S&&typeof S.props.shared=="boolean"){var R=S.props.shared?"axis":"item";return a.indexOf(R)>=0?R:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var R=this.container,A=R.getBoundingClientRect(),x=UY(A),b={chartX:Math.round(S.pageX-x.left),chartY:Math.round(S.pageY-x.top)},I=A.width/R.offsetWidth||1,C=this.inRange(b.chartX,b.chartY,I);if(!C)return null;var M=this.state,k=M.xAxisMap,D=M.yAxisMap,N=this.getTooltipEventType(),B=z1(this.state,this.props.data,this.props.layout,C);if(N!=="axis"&&k&&D){var j=Bs(k).scale,G=Bs(D).scale,K=j&&j.invert?j.invert(b.chartX):null,V=G&&G.invert?G.invert(b.chartY):null;return z(z({},b),{},{xValue:K,yValue:V},B)}return B?z(z({},b),B):null}},{key:"inRange",value:function(S,R){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,b=S/A,I=R/A;if(x==="horizontal"||x==="vertical"){var C=this.state.offset,M=b>=C.left&&b<=C.left+C.width&&I>=C.top&&I<=C.top+C.height;return M?{x:b,y:I}:null}var k=this.state,D=k.angleAxisMap,N=k.radiusAxisMap;if(D&&N){var B=Bs(D);return Nx({x:b,y:I},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,R=this.getTooltipEventType(),A=Cn(S,br),x={};A&&R==="axis"&&(A.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var b=wh(this.props,this.handleOuterEvent);return z(z({},b),x)}},{key:"addListener",value:function(){Ly.on($y,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ly.removeListener($y,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,R,A){for(var x=this.state.formattedGraphicalItems,b=0,I=x.length;b<I;b++){var C=x[b];if(C.item===S||C.props.key===S.key||R===ti(C.item.type)&&A===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,R=this.state.offset,A=R.left,x=R.top,b=R.height,I=R.width;return F.createElement("defs",null,F.createElement("clipPath",{id:S},F.createElement("rect",{x:A,y:x,height:b,width:I})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(R,A){var x=j1(A,2),b=x[0],I=x[1];return z(z({},R),{},fe({},b,I.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(R,A){var x=j1(A,2),b=x[0],I=x[1];return z(z({},R),{},fe({},b,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[S])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(S){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[S])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(S){var R=this.state,A=R.formattedGraphicalItems,x=R.activeItem;if(A&&A.length)for(var b=0,I=A.length;b<I;b++){var C=A[b],M=C.props,k=C.item,D=k.type.defaultProps!==void 0?z(z({},k.type.defaultProps),k.props):k.props,N=ti(k.type);if(N==="Bar"){var B=(M.data||[]).find(function(V){return Tie(S,V)});if(B)return{graphicalItem:C,payload:B}}else if(N==="RadialBar"){var j=(M.data||[]).find(function(V){return Nx(S,V)});if(j)return{graphicalItem:C,payload:j}}else if(Bm(C,x)||qm(C,x)||Fc(C,x)){var G=Aoe({graphicalItem:C,activeTooltipItem:x,itemData:D.data}),K=D.activeIndex===void 0?G:D.activeIndex;return{graphicalItem:z(z({},C),{},{childIndex:K}),payload:Fc(C,x)?D.data[G]:C.props.data[G]}}}return null}},{key:"render",value:function(){var S=this;if(!TA(this))return null;var R=this.props,A=R.children,x=R.className,b=R.width,I=R.height,C=R.style,M=R.compact,k=R.title,D=R.desc,N=H1(R,Hle),B=Oe(N,!1);if(M)return F.createElement(R1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(e0,sa({},B,{width:b,height:I,title:k,desc:D}),this.renderClipPath(),bA(A,this.renderMap)));if(this.props.accessibilityLayer){var j,G;B.tabIndex=(j=this.props.tabIndex)!==null&&j!==void 0?j:0,B.role=(G=this.props.role)!==null&&G!==void 0?G:"application",B.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},B.onFocus=function(){S.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return F.createElement(R1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",sa({className:Ne("recharts-wrapper",x),style:z({position:"relative",cursor:"default",width:b,height:I},C)},K,{ref:function(H){S.container=H}}),F.createElement(e0,sa({},B,{width:b,height:I,title:k,desc:D,style:aue}),this.renderClipPath(),bA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);fe(_,"displayName",n),fe(_,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fe(_,"getDerivedStateFromProps",function(w,v){var E=w.dataKey,S=w.data,R=w.children,A=w.width,x=w.height,b=w.layout,I=w.stackOffset,C=w.margin,M=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var D=W1(w);return z(z(z({},D),{},{updateId:0},g(z(z({props:w},D),{},{updateId:0}),v)),{},{prevDataKey:E,prevData:S,prevWidth:A,prevHeight:x,prevLayout:b,prevStackOffset:I,prevMargin:C,prevChildren:R})}if(E!==v.prevDataKey||S!==v.prevData||A!==v.prevWidth||x!==v.prevHeight||b!==v.prevLayout||I!==v.prevStackOffset||!pa(C,v.prevMargin)){var N=W1(w),B={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},j=z(z({},z1(v,S,b)),{},{updateId:v.updateId+1}),G=z(z(z({},N),B),j);return z(z(z({},G),g(z({props:w},G),v)),{},{prevDataKey:E,prevData:S,prevWidth:A,prevHeight:x,prevLayout:b,prevStackOffset:I,prevMargin:C,prevChildren:R})}if(!Qv(R,v.prevChildren)){var K,V,H,X,te=Cn(R,ja),Z=te&&(K=(V=te.props)===null||V===void 0?void 0:V.startIndex)!==null&&K!==void 0?K:M,le=te&&(H=(X=te.props)===null||X===void 0?void 0:X.endIndex)!==null&&H!==void 0?H:k,_e=Z!==M||le!==k,Ve=!ke(S),ze=Ve&&!_e?v.updateId:v.updateId+1;return z(z({updateId:ze},g(z(z({props:w},v),{},{updateId:ze,dataStartIndex:Z,dataEndIndex:le}),v)),{},{prevChildren:R,dataStartIndex:Z,dataEndIndex:le})}return null}),fe(_,"renderActiveDot",function(w,v,E){var S;return $.isValidElement(w)?S=$.cloneElement(w,v):Ie(w)?S=w(v):S=F.createElement(o2,v),F.createElement(Vt,{className:"recharts-active-dot",key:E},S)});var y=$.forwardRef(function(v,E){return F.createElement(_,sa({},v,{ref:E}))});return y.displayName=_.displayName,y},vue=yue({chartName:"BarChart",GraphicalChild:xs,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Jm},{axisType:"yAxis",AxisComp:XE}],formatAxisMap:Qse});const Zt={XS:"XS",S:"S",M:"M",L:"L",OTHER:"Other"},_ue=({data:t})=>{const[e,n]=$.useState("all"),r=$.useMemo(()=>{if(e==="all")return t.items;const a=t.bundles.find(l=>l.id===e);return a?t.items.filter(l=>a.itemIds.includes(l.id)):[]},[t.items,e,t.bundles]),i=$.useMemo(()=>r.reduce((a,l)=>a+Object.values(l.stock).reduce((u,c)=>u+c,0),0),[r]),o=$.useMemo(()=>{const a={[Zt.XS]:0,[Zt.S]:0,[Zt.M]:0,[Zt.L]:0,[Zt.OTHER]:0};return r.forEach(l=>{Object.entries(l.stock).forEach(([u,c])=>{u in a&&(a[u]+=c)})}),Object.entries(a).map(([l,u])=>({name:l,value:u}))},[r]),s=["#86efac","#22c55e","#15803d","#14532d","#166534"];return O.jsxs("div",{className:"p-4 pb-24 space-y-6",children:[O.jsx("header",{className:"mb-2 flex justify-between items-center",children:O.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"YSQUARE"})}),O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[O.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[O.jsx(o3,{size:16,className:"text-brand-600"}),O.jsx("span",{className:"font-bold text-gray-700 text-sm",children:""})]}),O.jsxs("div",{className:"relative",children:[O.jsxs("select",{value:e,onChange:a=>n(a.target.value),className:"w-full appearance-none bg-gray-50 border border-gray-200 text-gray-800 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-brand-500 font-medium text-sm transition-all",children:[O.jsx("option",{value:"all",children:" "}),O.jsx("option",{disabled:!0,children:""}),t.bundles.map(a=>O.jsxs("option",{value:a.id,children:[" ",a.name]},a.id))]}),O.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:O.jsx("svg",{className:"fill-current h-4 w-4",viewBox:"0 0 20 20",children:O.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[O.jsxs("div",{className:"bg-gradient-to-br from-brand-500 to-brand-700 p-4 rounded-2xl shadow-lg shadow-brand-200 text-white",children:[O.jsx("span",{className:"text-xs text-brand-100 opacity-80",children:e==="all"?"":""}),O.jsx("span",{className:"text-4xl font-bold mt-1 block",children:i}),O.jsxs("span",{className:"text-xs text-brand-100 mt-2 block opacity-60",children:[" ",r.length," "]})]}),O.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col justify-center",children:[O.jsx("span",{className:"text-xs text-gray-400",children:""}),O.jsx("span",{className:"text-3xl font-bold text-gray-800 mt-1 block",children:t.bundles.length}),O.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:""})]})]}),O.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[O.jsx("div",{className:"flex justify-between items-center mb-6",children:O.jsx("h3",{className:"text-sm font-bold text-gray-800",children:e==="all"?"":""})}),O.jsx("div",{className:"h-56 w-full",children:O.jsx(kY,{width:"100%",height:"100%",children:O.jsxs(vue,{data:o,margin:{top:20,right:0,left:0,bottom:0},children:[O.jsx(Jm,{dataKey:"name",tick:{fontSize:11,fill:"#6b7280"},stroke:"#e5e7eb",axisLine:!1,tickLine:!1,dy:10}),O.jsx(br,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),O.jsxs(xs,{dataKey:"value",radius:[6,6,6,6],children:[o.map((a,l)=>O.jsx(_E,{fill:s[l%s.length]},`cell-${l}`)),O.jsx(eo,{dataKey:"value",position:"top",fill:"#374151",fontSize:12,fontWeight:"bold",formatter:a=>a>0?a:""})]})]})})})]})]})},wue=()=>{};var J1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Eue=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Y2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,s||(h=64)),r.push(n[c],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(J2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Eue(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new Tue;const h=o<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sue=function(t){const e=J2(t);return Y2.encodeByteArray(e,!0)},yp=function(t){return Sue(t).replace(/\./g,"")},X2=function(t){try{return Y2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue=()=>bue().__FIREBASE_DEFAULTS__,Iue=()=>{if(typeof process>"u"||typeof J1>"u")return;const t=J1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xue=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X2(t[1]);return e&&JSON.parse(e)},Xm=()=>{try{return wue()||Aue()||Iue()||xue()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Q2=t=>{var e,n;return(n=(e=Xm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Cue=t=>{const e=Q2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z2=()=>{var t;return(t=Xm())==null?void 0:t.config},eL=t=>{var e;return(e=Xm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rue(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yp(JSON.stringify(n)),yp(JSON.stringify(s)),""].join(".")}const Uu={};function Nue(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uu))Uu[e]?t.emulator.push(e):t.prod.push(e);return t}function kue(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Y1=!1;function nL(t,e){if(typeof window>"u"||typeof document>"u"||!bl(window.location.host)||Uu[t]===e||Uu[t]||Y1)return;Uu[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=Nue().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Y1=!0,s()},h}function c(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=kue(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),E=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),c(w,y);const R=u();l(E,v),S.append(E,_,w,R),document.body.appendChild(S)}o?(_.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Oue(){var e;const t=(e=Xm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Due(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lue(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $ue(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vue(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Uue(){return!Oue()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fue(){try{return typeof indexedDB=="object"}catch{return!1}}function Bue(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const que="FirebaseError";class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=que,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gf.prototype.create)}}class gf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jue(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new wi(i,a,r)}}function jue(t,e){return t.replace(Hue,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Hue=/\{\$([^}]+)}/g;function Gue(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ps(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(X1(o)&&X1(s)){if(!ps(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Eu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zue(t,e){const n=new Wue(t,e);return n.subscribe.bind(n)}class Wue{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kue(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Uy),i.error===void 0&&(i.error=Uy),i.complete===void 0&&(i.complete=Uy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kue(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t){return t&&t._delegate?t._delegate:t}class ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jue{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Pue;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xue(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yue(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yue(t){return t===qo?void 0:t}function Xue(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jue(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const Zue={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},ece=Se.INFO,tce={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},nce=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tce[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class QE{constructor(e){this.name=e,this._logLevel=ece,this._logHandler=nce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zue[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const rce=(t,e)=>e.some(n=>t instanceof n);let Q1,Z1;function ice(){return Q1||(Q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oce(){return Z1||(Z1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rL=new WeakMap,v_=new WeakMap,iL=new WeakMap,Fy=new WeakMap,ZE=new WeakMap;function sce(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(to(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&rL.set(n,t)}).catch(()=>{}),ZE.set(e,t),e}function ace(t){if(v_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});v_.set(t,e)}let __={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return v_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return to(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lce(t){__=t(__)}function uce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(By(this),e,...n);return iL.set(r,e.sort?e.sort():[e]),to(r)}:oce().includes(t)?function(...e){return t.apply(By(this),e),to(rL.get(this))}:function(...e){return to(t.apply(By(this),e))}}function cce(t){return typeof t=="function"?uce(t):(t instanceof IDBTransaction&&ace(t),rce(t,ice())?new Proxy(t,__):t)}function to(t){if(t instanceof IDBRequest)return sce(t);if(Fy.has(t))return Fy.get(t);const e=cce(t);return e!==t&&(Fy.set(t,e),ZE.set(e,t)),e}const By=t=>ZE.get(t);function fce(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=to(s);return r&&s.addEventListener("upgradeneeded",l=>{r(to(s.result),l.oldVersion,l.newVersion,to(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const dce=["get","getKey","getAll","getAllKeys","count"],hce=["put","add","delete","clear"],qy=new Map;function eC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qy.get(e))return qy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hce.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dce.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return qy.set(e,o),o}lce(t=>({...t,get:(e,n,r)=>eC(e,n)||t.get(e,n,r),has:(e,n)=>!!eC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mce(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mce(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const w_="@firebase/app",tC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new QE("@firebase/app"),gce="@firebase/app-compat",yce="@firebase/analytics-compat",vce="@firebase/analytics",_ce="@firebase/app-check-compat",wce="@firebase/app-check",Ece="@firebase/auth",Tce="@firebase/auth-compat",Sce="@firebase/database",bce="@firebase/data-connect",Ace="@firebase/database-compat",Ice="@firebase/functions",xce="@firebase/functions-compat",Cce="@firebase/installations",Pce="@firebase/installations-compat",Rce="@firebase/messaging",Nce="@firebase/messaging-compat",kce="@firebase/performance",Mce="@firebase/performance-compat",Oce="@firebase/remote-config",Dce="@firebase/remote-config-compat",Lce="@firebase/storage",$ce="@firebase/storage-compat",Vce="@firebase/firestore",Uce="@firebase/ai",Fce="@firebase/firestore-compat",Bce="firebase",qce="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="[DEFAULT]",jce={[w_]:"fire-core",[gce]:"fire-core-compat",[vce]:"fire-analytics",[yce]:"fire-analytics-compat",[wce]:"fire-app-check",[_ce]:"fire-app-check-compat",[Ece]:"fire-auth",[Tce]:"fire-auth-compat",[Sce]:"fire-rtdb",[bce]:"fire-data-connect",[Ace]:"fire-rtdb-compat",[Ice]:"fire-fn",[xce]:"fire-fn-compat",[Cce]:"fire-iid",[Pce]:"fire-iid-compat",[Rce]:"fire-fcm",[Nce]:"fire-fcm-compat",[kce]:"fire-perf",[Mce]:"fire-perf-compat",[Oce]:"fire-rc",[Dce]:"fire-rc-compat",[Lce]:"fire-gcs",[$ce]:"fire-gcs-compat",[Vce]:"fire-fst",[Fce]:"fire-fst-compat",[Uce]:"fire-vertex","fire-js":"fire-js",[Bce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new Map,Hce=new Map,T_=new Map;function nC(t,e){try{t.container.addComponent(e)}catch(n){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(T_.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;T_.set(e,t);for(const n of vp.values())nC(n,t);for(const n of Hce.values())nC(n,t);return!0}function eT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new gf("app","Firebase",Gce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zce{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=qce;function oL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:E_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw no.create("bad-app-name",{appName:String(i)});if(n||(n=Z2()),!n)throw no.create("no-options");const o=vp.get(i);if(o){if(ps(n,o.options)&&ps(r,o.config))return o;throw no.create("duplicate-app",{appName:i})}const s=new Que(i);for(const l of T_.values())s.addComponent(l);const a=new zce(n,r,s);return vp.set(i,a),a}function sL(t=E_){const e=vp.get(t);if(!e&&t===E_&&Z2())return oL();if(!e)throw no.create("no-app",{appName:t});return e}function ro(t,e,n){let r=jce[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(s.join(" "));return}Za(new ms(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wce="firebase-heartbeat-database",Kce=1,Wc="firebase-heartbeat-store";let jy=null;function aL(){return jy||(jy=fce(Wce,Kce,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw no.create("idb-open",{originalErrorMessage:t.message})})),jy}async function Jce(t){try{const n=(await aL()).transaction(Wc),r=await n.objectStore(Wc).get(lL(t));return await n.done,r}catch(e){if(e instanceof wi)fi.warn(e.message);else{const n=no.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(n.message)}}}async function rC(t,e){try{const r=(await aL()).transaction(Wc,"readwrite");await r.objectStore(Wc).put(e,lL(t)),await r.done}catch(n){if(n instanceof wi)fi.warn(n.message);else{const r=no.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fi.warn(r.message)}}}function lL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yce=1024,Xce=30;class Qce{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new efe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Xce){const s=tfe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iC(),{heartbeatsToSend:r,unsentEntries:i}=Zce(this._heartbeatsCache.heartbeats),o=yp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return fi.warn(n),""}}}function iC(){return new Date().toISOString().substring(0,10)}function Zce(t,e=Yce){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),oC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class efe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fue()?Bue().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jce(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oC(t){return yp(JSON.stringify({version:2,heartbeats:t})).length}function tfe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nfe(t){Za(new ms("platform-logger",e=>new pce(e),"PRIVATE")),Za(new ms("heartbeat",e=>new Qce(e),"PRIVATE")),ro(w_,tC,t),ro(w_,tC,"esm2020"),ro("fire-js","")}nfe("");var sC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var io,uL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function C(){}C.prototype=I.prototype,b.F=I.prototype,b.prototype=new C,b.prototype.constructor=b,b.D=function(M,k,D){for(var N=Array(arguments.length-2),B=2;B<arguments.length;B++)N[B-2]=arguments[B];return I.prototype[k].apply(M,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,I,C){C||(C=0);const M=Array(16);if(typeof I=="string")for(var k=0;k<16;++k)M[k]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(k=0;k<16;++k)M[k]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=b.g[0],C=b.g[1],k=b.g[2];let D=b.g[3],N;N=I+(D^C&(k^D))+M[0]+3614090360&4294967295,I=C+(N<<7&4294967295|N>>>25),N=D+(k^I&(C^k))+M[1]+3905402710&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(C^D&(I^C))+M[2]+606105819&4294967295,k=D+(N<<17&4294967295|N>>>15),N=C+(I^k&(D^I))+M[3]+3250441966&4294967295,C=k+(N<<22&4294967295|N>>>10),N=I+(D^C&(k^D))+M[4]+4118548399&4294967295,I=C+(N<<7&4294967295|N>>>25),N=D+(k^I&(C^k))+M[5]+1200080426&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(C^D&(I^C))+M[6]+2821735955&4294967295,k=D+(N<<17&4294967295|N>>>15),N=C+(I^k&(D^I))+M[7]+4249261313&4294967295,C=k+(N<<22&4294967295|N>>>10),N=I+(D^C&(k^D))+M[8]+1770035416&4294967295,I=C+(N<<7&4294967295|N>>>25),N=D+(k^I&(C^k))+M[9]+2336552879&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(C^D&(I^C))+M[10]+4294925233&4294967295,k=D+(N<<17&4294967295|N>>>15),N=C+(I^k&(D^I))+M[11]+2304563134&4294967295,C=k+(N<<22&4294967295|N>>>10),N=I+(D^C&(k^D))+M[12]+1804603682&4294967295,I=C+(N<<7&4294967295|N>>>25),N=D+(k^I&(C^k))+M[13]+4254626195&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(C^D&(I^C))+M[14]+2792965006&4294967295,k=D+(N<<17&4294967295|N>>>15),N=C+(I^k&(D^I))+M[15]+1236535329&4294967295,C=k+(N<<22&4294967295|N>>>10),N=I+(k^D&(C^k))+M[1]+4129170786&4294967295,I=C+(N<<5&4294967295|N>>>27),N=D+(C^k&(I^C))+M[6]+3225465664&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^C&(D^I))+M[11]+643717713&4294967295,k=D+(N<<14&4294967295|N>>>18),N=C+(D^I&(k^D))+M[0]+3921069994&4294967295,C=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(C^k))+M[5]+3593408605&4294967295,I=C+(N<<5&4294967295|N>>>27),N=D+(C^k&(I^C))+M[10]+38016083&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^C&(D^I))+M[15]+3634488961&4294967295,k=D+(N<<14&4294967295|N>>>18),N=C+(D^I&(k^D))+M[4]+3889429448&4294967295,C=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(C^k))+M[9]+568446438&4294967295,I=C+(N<<5&4294967295|N>>>27),N=D+(C^k&(I^C))+M[14]+3275163606&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^C&(D^I))+M[3]+4107603335&4294967295,k=D+(N<<14&4294967295|N>>>18),N=C+(D^I&(k^D))+M[8]+1163531501&4294967295,C=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(C^k))+M[13]+2850285829&4294967295,I=C+(N<<5&4294967295|N>>>27),N=D+(C^k&(I^C))+M[2]+4243563512&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^C&(D^I))+M[7]+1735328473&4294967295,k=D+(N<<14&4294967295|N>>>18),N=C+(D^I&(k^D))+M[12]+2368359562&4294967295,C=k+(N<<20&4294967295|N>>>12),N=I+(C^k^D)+M[5]+4294588738&4294967295,I=C+(N<<4&4294967295|N>>>28),N=D+(I^C^k)+M[8]+2272392833&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^C)+M[11]+1839030562&4294967295,k=D+(N<<16&4294967295|N>>>16),N=C+(k^D^I)+M[14]+4259657740&4294967295,C=k+(N<<23&4294967295|N>>>9),N=I+(C^k^D)+M[1]+2763975236&4294967295,I=C+(N<<4&4294967295|N>>>28),N=D+(I^C^k)+M[4]+1272893353&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^C)+M[7]+4139469664&4294967295,k=D+(N<<16&4294967295|N>>>16),N=C+(k^D^I)+M[10]+3200236656&4294967295,C=k+(N<<23&4294967295|N>>>9),N=I+(C^k^D)+M[13]+681279174&4294967295,I=C+(N<<4&4294967295|N>>>28),N=D+(I^C^k)+M[0]+3936430074&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^C)+M[3]+3572445317&4294967295,k=D+(N<<16&4294967295|N>>>16),N=C+(k^D^I)+M[6]+76029189&4294967295,C=k+(N<<23&4294967295|N>>>9),N=I+(C^k^D)+M[9]+3654602809&4294967295,I=C+(N<<4&4294967295|N>>>28),N=D+(I^C^k)+M[12]+3873151461&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^C)+M[15]+530742520&4294967295,k=D+(N<<16&4294967295|N>>>16),N=C+(k^D^I)+M[2]+3299628645&4294967295,C=k+(N<<23&4294967295|N>>>9),N=I+(k^(C|~D))+M[0]+4096336452&4294967295,I=C+(N<<6&4294967295|N>>>26),N=D+(C^(I|~k))+M[7]+1126891415&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~C))+M[14]+2878612391&4294967295,k=D+(N<<15&4294967295|N>>>17),N=C+(D^(k|~I))+M[5]+4237533241&4294967295,C=k+(N<<21&4294967295|N>>>11),N=I+(k^(C|~D))+M[12]+1700485571&4294967295,I=C+(N<<6&4294967295|N>>>26),N=D+(C^(I|~k))+M[3]+2399980690&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~C))+M[10]+4293915773&4294967295,k=D+(N<<15&4294967295|N>>>17),N=C+(D^(k|~I))+M[1]+2240044497&4294967295,C=k+(N<<21&4294967295|N>>>11),N=I+(k^(C|~D))+M[8]+1873313359&4294967295,I=C+(N<<6&4294967295|N>>>26),N=D+(C^(I|~k))+M[15]+4264355552&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~C))+M[6]+2734768916&4294967295,k=D+(N<<15&4294967295|N>>>17),N=C+(D^(k|~I))+M[13]+1309151649&4294967295,C=k+(N<<21&4294967295|N>>>11),N=I+(k^(C|~D))+M[4]+4149444226&4294967295,I=C+(N<<6&4294967295|N>>>26),N=D+(C^(I|~k))+M[11]+3174756917&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~C))+M[2]+718787259&4294967295,k=D+(N<<15&4294967295|N>>>17),N=C+(D^(k|~I))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.v=function(b,I){I===void 0&&(I=b.length);const C=I-this.blockSize,M=this.C;let k=this.h,D=0;for(;D<I;){if(k==0)for(;D<=C;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<I;)if(M[k++]=b.charCodeAt(D++),k==this.blockSize){i(this,M),k=0;break}}else for(;D<I;)if(M[k++]=b[D++],k==this.blockSize){i(this,M),k=0;break}}this.h=k,this.o+=I},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;I=this.o*8;for(var C=b.length-8;C<b.length;++C)b[C]=I&255,I/=256;for(this.v(b),b=Array(16),I=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)b[I++]=this.g[C]>>>M&255;return b};function o(b,I){var C=a;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=I(b)}function s(b,I){this.h=I;const C=[];let M=!0;for(let k=b.length-1;k>=0;k--){const D=b[k]|0;M&&D==I||(C[k]=D,M=!1)}this.g=C}var a={};function l(b){return-128<=b&&b<128?o(b,function(I){return new s([I|0],I<0?-1:0)}):new s([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return w(u(-b));const I=[];let C=1;for(let M=0;b>=C;M++)I[M]=b/C|0,C*=4294967296;return new s(I,0)}function c(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return w(c(b.substring(1),I));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(I,8));let M=f;for(let D=0;D<b.length;D+=8){var k=Math.min(8,b.length-D);const N=parseInt(b.substring(D,D+k),I);k<8?(k=u(Math.pow(I,k)),M=M.j(k).add(u(N))):(M=M.j(C),M=M.add(u(N)))}return M}var f=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-w(this).m();let b=0,I=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);b+=(M>=0?M:4294967296+M)*I,I*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(y(this))return"-"+w(this).toString(b);const I=u(Math.pow(b,6));var C=this;let M="";for(;;){const k=R(C,I).g;C=v(C,k.j(I));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(b);if(C=k,_(C))return D+M;for(;D.length<6;)D="0"+D;M=D+M}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(let I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=v(this,b),y(b)?-1:_(b)?0:1};function w(b){const I=b.g.length,C=[];for(let M=0;M<I;M++)C[M]=~b.g[M];return new s(C,~b.h).add(h)}t.abs=function(){return y(this)?w(this):this},t.add=function(b){const I=Math.max(this.g.length,b.g.length),C=[];let M=0;for(let k=0;k<=I;k++){let D=M+(this.i(k)&65535)+(b.i(k)&65535),N=(D>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);M=N>>>16,D&=65535,N&=65535,C[k]=N<<16|D}return new s(C,C[C.length-1]&-2147483648?-1:0)};function v(b,I){return b.add(w(I))}t.j=function(b){if(_(this)||_(b))return f;if(y(this))return y(b)?w(this).j(w(b)):w(w(this).j(b));if(y(b))return w(this.j(w(b)));if(this.l(g)<0&&b.l(g)<0)return u(this.m()*b.m());const I=this.g.length+b.g.length,C=[];for(var M=0;M<2*I;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let k=0;k<b.g.length;k++){const D=this.i(M)>>>16,N=this.i(M)&65535,B=b.i(k)>>>16,j=b.i(k)&65535;C[2*M+2*k]+=N*j,E(C,2*M+2*k),C[2*M+2*k+1]+=D*j,E(C,2*M+2*k+1),C[2*M+2*k+1]+=N*B,E(C,2*M+2*k+1),C[2*M+2*k+2]+=D*B,E(C,2*M+2*k+2)}for(b=0;b<I;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=I;b<2*I;b++)C[b]=0;return new s(C,0)};function E(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function S(b,I){this.g=b,this.h=I}function R(b,I){if(_(I))throw Error("division by zero");if(_(b))return new S(f,f);if(y(b))return I=R(w(b),I),new S(w(I.g),w(I.h));if(y(I))return I=R(b,w(I)),new S(w(I.g),I.h);if(b.g.length>30){if(y(b)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var C=h,M=I;M.l(b)<=0;)C=A(C),M=A(M);var k=x(C,1),D=x(M,1);for(M=x(M,2),C=x(C,2);!_(M);){var N=D.add(M);N.l(b)<=0&&(k=k.add(C),D=N),M=x(M,1),C=x(C,1)}return I=v(b,k.j(I)),new S(k,I)}for(k=f;b.l(I)>=0;){for(C=Math.max(1,Math.floor(b.m()/I.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),D=u(C),N=D.j(I);y(N)||N.l(b)>0;)C-=M,D=u(C),N=D.j(I);_(D)&&(D=h),k=k.add(D),b=v(b,N)}return new S(k,b)}t.B=function(b){return R(this,b).h},t.and=function(b){const I=Math.max(this.g.length,b.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)&b.i(M);return new s(C,this.h&b.h)},t.or=function(b){const I=Math.max(this.g.length,b.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)|b.i(M);return new s(C,this.h|b.h)},t.xor=function(b){const I=Math.max(this.g.length,b.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)^b.i(M);return new s(C,this.h^b.h)};function A(b){const I=b.g.length+1,C=[];for(let M=0;M<I;M++)C[M]=b.i(M)<<1|b.i(M-1)>>>31;return new s(C,b.h)}function x(b,I){const C=I>>5;I%=32;const M=b.g.length-C,k=[];for(let D=0;D<M;D++)k[D]=I>0?b.i(D+C)>>>I|b.i(D+C+1)<<32-I:b.i(D+C);return new s(k,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,uL=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,io=s}).apply(typeof sC<"u"?sC:typeof self<"u"?self:typeof window<"u"?window:{});var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cL,Tu,fL,Vd,S_,dL,hL,pL;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof wd=="object"&&wd];for(var T=0;T<m.length;++T){var P=m[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var P=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var U=m[L];if(!(U in P))break e;P=P[U]}m=m[m.length-1],L=P[m],T=T(L),T!=L&&T!=null&&e(P,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var P=[],L;for(L in T)Object.prototype.hasOwnProperty.call(T,L)&&P.push([L,T[L]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,P){return m.call.apply(m.bind,arguments)}function u(m,T,P){return u=l,u.apply(null,arguments)}function c(m,T){var P=Array.prototype.slice.call(arguments,1);return function(){var L=P.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function f(m,T){function P(){}P.prototype=T.prototype,m.Z=T.prototype,m.prototype=new P,m.prototype.constructor=m,m.Ob=function(L,U,q){for(var ee=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)ee[ve-2]=arguments[ve];return T.prototype[U].apply(L,ee)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function g(m){const T=m.length;if(T>0){const P=Array(T);for(let L=0;L<T;L++)P[L]=m[L];return P}return[]}function _(m,T){for(let L=1;L<arguments.length;L++){const U=arguments[L];var P=typeof U;if(P=P!="object"?P:U?Array.isArray(U)?"array":P:"null",P=="array"||P=="object"&&typeof U.length=="number"){P=m.length||0;const q=U.length||0;m.length=P+q;for(let ee=0;ee<q;ee++)m[P+ee]=U[ee]}else m.push(U)}}class y{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function w(m){s.setTimeout(()=>{throw m},0)}function v(){var m=b;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class E{constructor(){this.h=this.g=null}add(T,P){const L=S.get();L.set(T,P),this.h?this.h.next=L:this.g=L,this.h=L}}var S=new y(()=>new R,m=>m.reset());class R{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let A,x=!1,b=new E,I=()=>{const m=Promise.resolve(void 0);A=()=>{m.then(C)}};function C(){for(var m;m=v();){try{m.h.call(m.g)}catch(P){w(P)}var T=S;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}x=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const P=()=>{};s.addEventListener("test",P,T),s.removeEventListener("test",P,T)}catch{}return m}();function N(m){return/^[\s\xa0]*$/.test(m)}function B(m,T){k.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}f(B,k),B.prototype.init=function(m,T){const P=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(P=="mouseover"?T=m.fromElement:P=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var j="closure_listenable_"+(Math.random()*1e6|0),G=0;function K(m,T,P,L,U){this.listener=m,this.proxy=null,this.src=T,this.type=P,this.capture=!!L,this.ha=U,this.key=++G,this.da=this.fa=!1}function V(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function H(m,T,P){for(const L in m)T.call(P,m[L],L,m)}function X(m,T){for(const P in m)T.call(void 0,m[P],P,m)}function te(m){const T={};for(const P in m)T[P]=m[P];return T}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(m,T){let P,L;for(let U=1;U<arguments.length;U++){L=arguments[U];for(P in L)m[P]=L[P];for(let q=0;q<Z.length;q++)P=Z[q],Object.prototype.hasOwnProperty.call(L,P)&&(m[P]=L[P])}}function _e(m){this.src=m,this.g={},this.h=0}_e.prototype.add=function(m,T,P,L,U){const q=m.toString();m=this.g[q],m||(m=this.g[q]=[],this.h++);const ee=ze(m,T,L,U);return ee>-1?(T=m[ee],P||(T.fa=!1)):(T=new K(T,this.src,q,!!L,U),T.fa=P,m.push(T)),T};function Ve(m,T){const P=T.type;if(P in m.g){var L=m.g[P],U=Array.prototype.indexOf.call(L,T,void 0),q;(q=U>=0)&&Array.prototype.splice.call(L,U,1),q&&(V(T),m.g[P].length==0&&(delete m.g[P],m.h--))}}function ze(m,T,P,L){for(let U=0;U<m.length;++U){const q=m[U];if(!q.da&&q.listener==T&&q.capture==!!P&&q.ha==L)return U}return-1}var Jt="closure_lm_"+(Math.random()*1e6|0),kt={};function ne(m,T,P,L,U){if(Array.isArray(T)){for(let q=0;q<T.length;q++)ne(m,T[q],P,L,U);return null}return P=tr(P),m&&m[j]?m.J(T,P,a(L)?!!L.capture:!1,U):ge(m,T,P,!1,L,U)}function ge(m,T,P,L,U,q){if(!T)throw Error("Invalid event type");const ee=a(U)?!!U.capture:!!U;let ve=rt(m);if(ve||(m[Jt]=ve=new _e(m)),P=ve.add(T,P,L,ee,q),P.proxy)return P;if(L=ye(),P.proxy=L,L.src=m,L.listener=P,m.addEventListener)D||(U=ee),U===void 0&&(U=!1),m.addEventListener(T.toString(),L,U);else if(m.attachEvent)m.attachEvent(Te(T.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ye(){function m(P){return T.call(m.src,m.listener,P)}const T=dt;return m}function Y(m,T,P,L,U){if(Array.isArray(T))for(var q=0;q<T.length;q++)Y(m,T[q],P,L,U);else L=a(L)?!!L.capture:!!L,P=tr(P),m&&m[j]?(m=m.i,q=String(T).toString(),q in m.g&&(T=m.g[q],P=ze(T,P,L,U),P>-1&&(V(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete m.g[q],m.h--)))):m&&(m=rt(m))&&(T=m.g[T.toString()],m=-1,T&&(m=ze(T,P,L,U)),(P=m>-1?T[m]:null)&&qe(P))}function qe(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[j])Ve(T.i,m);else{var P=m.type,L=m.proxy;T.removeEventListener?T.removeEventListener(P,L,m.capture):T.detachEvent?T.detachEvent(Te(P),L):T.addListener&&T.removeListener&&T.removeListener(L),(P=rt(T))?(Ve(P,m),P.h==0&&(P.src=null,T[Jt]=null)):V(m)}}}function Te(m){return m in kt?kt[m]:kt[m]="on"+m}function dt(m,T){if(m.da)m=!0;else{T=new B(T,this);const P=m.listener,L=m.ha||m.src;m.fa&&qe(m),m=P.call(L,T)}return m}function rt(m){return m=m[Jt],m instanceof _e?m:null}var Mt="__closure_events_fn_"+(Math.random()*1e9>>>0);function tr(m){return typeof m=="function"?m:(m[Mt]||(m[Mt]=function(T){return m.handleEvent(T)}),m[Mt])}function it(){M.call(this),this.i=new _e(this),this.M=this,this.G=null}f(it,M),it.prototype[j]=!0,it.prototype.removeEventListener=function(m,T,P,L){Y(this,m,T,P,L)};function mt(m,T){var P,L=m.G;if(L)for(P=[];L;L=L.G)P.push(L);if(m=m.M,L=T.type||T,typeof T=="string")T=new k(T,m);else if(T instanceof k)T.target=T.target||m;else{var U=T;T=new k(L,m),le(T,U)}U=!0;let q,ee;if(P)for(ee=P.length-1;ee>=0;ee--)q=T.g=P[ee],U=Ln(q,L,!0,T)&&U;if(q=T.g=m,U=Ln(q,L,!0,T)&&U,U=Ln(q,L,!1,T)&&U,P)for(ee=0;ee<P.length;ee++)q=T.g=P[ee],U=Ln(q,L,!1,T)&&U}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const P=m.g[T];for(let L=0;L<P.length;L++)V(P[L]);delete m.g[T],m.h--}}this.G=null},it.prototype.J=function(m,T,P,L){return this.i.add(String(m),T,!1,P,L)},it.prototype.K=function(m,T,P,L){return this.i.add(String(m),T,!0,P,L)};function Ln(m,T,P,L){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let U=!0;for(let q=0;q<T.length;++q){const ee=T[q];if(ee&&!ee.da&&ee.capture==P){const ve=ee.listener,Et=ee.ha||ee.src;ee.fa&&Ve(m.i,ee),U=ve.call(Et,L)!==!1&&U}}return U&&!L.defaultPrevented}function jr(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=u(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(m,T||0)}function Ms(m){m.g=jr(()=>{m.g=null,m.i&&(m.i=!1,Ms(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Rf extends M{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ms(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(m){M.call(this),this.h=m,this.g={}}f(Si,M);var YT=[];function XT(m){H(m.g,function(T,P){this.g.hasOwnProperty(P)&&qe(T)},m),m.g={}}Si.prototype.N=function(){Si.Z.N.call(this),XT(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eg=s.JSON.stringify,QV=s.JSON.parse,ZV=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function QT(){}function ZT(){}var Ol={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tg(){k.call(this,"d")}f(Tg,k);function Sg(){k.call(this,"c")}f(Sg,k);var Ro={},eS=null;function Nf(){return eS=eS||new it}Ro.Ia="serverreachability";function tS(m){k.call(this,Ro.Ia,m)}f(tS,k);function Dl(m){const T=Nf();mt(T,new tS(T))}Ro.STAT_EVENT="statevent";function nS(m,T){k.call(this,Ro.STAT_EVENT,m),this.stat=T}f(nS,k);function un(m){const T=Nf();mt(T,new nS(T,m))}Ro.Ja="timingevent";function rS(m,T){k.call(this,Ro.Ja,m),this.size=T}f(rS,k);function Ll(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},T)}function $l(){this.g=!0}$l.prototype.ua=function(){this.g=!1};function eU(m,T,P,L,U,q){m.info(function(){if(m.g)if(q){var ee="",ve=q.split("&");for(let Fe=0;Fe<ve.length;Fe++){var Et=ve[Fe].split("=");if(Et.length>1){const Ot=Et[0];Et=Et[1];const Er=Ot.split("_");ee=Er.length>=2&&Er[1]=="type"?ee+(Ot+"="+Et+"&"):ee+(Ot+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+L+") [attempt "+U+"]: "+T+`
`+P+`
`+ee})}function tU(m,T,P,L,U,q,ee){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+U+"]: "+T+`
`+P+`
`+q+" "+ee})}function Os(m,T,P,L){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+rU(m,P)+(L?" "+L:"")})}function nU(m,T){m.info(function(){return"TIMEOUT: "+T})}$l.prototype.info=function(){};function rU(m,T){if(!m.g)return T;if(!T)return null;try{const q=JSON.parse(T);if(q){for(m=0;m<q.length;m++)if(Array.isArray(q[m])){var P=q[m];if(!(P.length<2)){var L=P[1];if(Array.isArray(L)&&!(L.length<1)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<L.length;ee++)L[ee]=""}}}}return Eg(q)}catch{return T}}var kf={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},iS={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oS;function bg(){}f(bg,QT),bg.prototype.g=function(){return new XMLHttpRequest},oS=new bg;function Vl(m){return encodeURIComponent(String(m))}function iU(m){var T=1;m=m.split(":");const P=[];for(;T>0&&m.length;)P.push(m.shift()),T--;return m.length&&P.push(m.join(":")),P}function bi(m,T,P,L){this.j=m,this.i=T,this.l=P,this.S=L||1,this.V=new Si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new sS}function sS(){this.i=null,this.g="",this.h=!1}var aS={},Ag={};function Ig(m,T,P){m.M=1,m.A=Of(wr(T)),m.u=P,m.R=!0,lS(m,null)}function lS(m,T){m.F=Date.now(),Mf(m),m.B=wr(m.A);var P=m.B,L=m.S;Array.isArray(L)||(L=[String(L)]),ES(P.i,"t",L),m.C=0,P=m.j.L,m.h=new sS,m.g=US(m.j,P?T:null,!m.u),m.P>0&&(m.O=new Rf(u(m.Y,m,m.g),m.P)),T=m.V,P=m.g,L=m.ba;var U="readystatechange";Array.isArray(U)||(U&&(YT[0]=U.toString()),U=YT);for(let q=0;q<U.length;q++){const ee=ne(P,U[q],L||T.handleEvent,!1,T.h||T);if(!ee)break;T.g[ee.key]=ee}T=m.J?te(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Dl(),eU(m.i,m.v,m.B,m.l,m.S,m.u)}bi.prototype.ba=function(m){m=m.target;const T=this.O;T&&xi(m)==3?T.j():this.Y(m)},bi.prototype.Y=function(m){try{if(m==this.g)e:{const ve=xi(this.g),Et=this.g.ya(),Fe=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||CS(this.g)))){this.K||ve!=4||Et==7||(Et==8||Fe<=0?Dl(3):Dl(2)),xg(this);var T=this.g.ca();this.X=T;var P=oU(this);if(this.o=T==200,tU(this.i,this.v,this.B,this.l,this.S,ve,T),this.o){if(this.U&&!this.L){t:{if(this.g){var L,U=this.g;if((L=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(L)){var q=L;break t}}q=null}if(m=q)Os(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cg(this,m);else{this.o=!1,this.m=3,un(12),No(this),Ul(this);break e}}if(this.R){m=!0;let Ot;for(;!this.K&&this.C<P.length;)if(Ot=sU(this,P),Ot==Ag){ve==4&&(this.m=4,un(14),m=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==aS){this.m=4,un(15),Os(this.i,this.l,P,"[Invalid Chunk]"),m=!1;break}else Os(this.i,this.l,Ot,null),Cg(this,Ot);if(uS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||P.length!=0||this.h.h||(this.m=1,un(16),m=!1),this.o=this.o&&m,!m)Os(this.i,this.l,P,"[Invalid Chunked Response]"),No(this),Ul(this);else if(P.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Lg(ee),ee.P=!0,un(11))}}else Os(this.i,this.l,P,null),Cg(this,P);ve==4&&No(this),this.o&&!this.K&&(ve==4?DS(this.j,this):(this.o=!1,Mf(this)))}else wU(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,un(12)):(this.m=0,un(13)),No(this),Ul(this)}}}catch{}finally{}};function oU(m){if(!uS(m))return m.g.la();const T=CS(m.g);if(T==="")return"";let P="";const L=T.length,U=xi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return No(m),Ul(m),"";m.h.i=new s.TextDecoder}for(let q=0;q<L;q++)m.h.h=!0,P+=m.h.i.decode(T[q],{stream:!(U&&q==L-1)});return T.length=0,m.h.g+=P,m.C=0,m.h.g}function uS(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function sU(m,T){var P=m.C,L=T.indexOf(`
`,P);return L==-1?Ag:(P=Number(T.substring(P,L)),isNaN(P)?aS:(L+=1,L+P>T.length?Ag:(T=T.slice(L,L+P),m.C=L+P,T)))}bi.prototype.cancel=function(){this.K=!0,No(this)};function Mf(m){m.T=Date.now()+m.H,cS(m,m.H)}function cS(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ll(u(m.aa,m),T)}function xg(m){m.D&&(s.clearTimeout(m.D),m.D=null)}bi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(nU(this.i,this.B),this.M!=2&&(Dl(),un(17)),No(this),this.m=2,Ul(this)):cS(this,this.T-m)};function Ul(m){m.j.I==0||m.K||DS(m.j,m)}function No(m){xg(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,XT(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function Cg(m,T){try{var P=m.j;if(P.I!=0&&(P.g==m||Pg(P.h,m))){if(!m.L&&Pg(P.h,m)&&P.I==3){try{var L=P.Ba.g.parse(T)}catch{L=null}if(Array.isArray(L)&&L.length==3){var U=L;if(U[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<m.F)Uf(P),$f(P);else break e;Dg(P),un(18)}}else P.xa=U[1],0<P.xa-P.K&&U[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Ll(u(P.Va,P),6e3));hS(P.h)<=1&&P.ta&&(P.ta=void 0)}else Mo(P,11)}else if((m.L||P.g==m)&&Uf(P),!N(T))for(U=P.Ba.g.parse(T),T=0;T<U.length;T++){let Fe=U[T];const Ot=Fe[0];if(!(Ot<=P.K))if(P.K=Ot,Fe=Fe[1],P.I==2)if(Fe[0]=="c"){P.M=Fe[1],P.ba=Fe[2];const Er=Fe[3];Er!=null&&(P.ka=Er,P.j.info("VER="+P.ka));const Oo=Fe[4];Oo!=null&&(P.za=Oo,P.j.info("SVER="+P.za));const Ci=Fe[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(L=1.5*Ci,P.O=L,P.j.info("backChannelRequestTimeoutMs_="+L)),L=P;const Pi=m.g;if(Pi){const Bf=Pi.g?Pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bf){var q=L.h;q.g||Bf.indexOf("spdy")==-1&&Bf.indexOf("quic")==-1&&Bf.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Rg(q,q.h),q.h=null))}if(L.G){const $g=Pi.g?Pi.g.getResponseHeader("X-HTTP-Session-Id"):null;$g&&(L.wa=$g,We(L.J,L.G,$g))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-m.F,P.j.info("Handshake RTT: "+P.T+"ms")),L=P;var ee=m;if(L.na=VS(L,L.L?L.ba:null,L.W),ee.L){pS(L.h,ee);var ve=ee,Et=L.O;Et&&(ve.H=Et),ve.D&&(xg(ve),Mf(ve)),L.g=ee}else MS(L);P.i.length>0&&Vf(P)}else Fe[0]!="stop"&&Fe[0]!="close"||Mo(P,7);else P.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Mo(P,7):Og(P):Fe[0]!="noop"&&P.l&&P.l.qa(Fe),P.A=0)}}Dl(4)}catch{}}var aU=class{constructor(m,T){this.g=m,this.map=T}};function fS(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function hS(m){return m.h?1:m.g?m.g.size:0}function Pg(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Rg(m,T){m.g?m.g.add(T):m.h=T}function pS(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}fS.prototype.cancel=function(){if(this.i=mS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function mS(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const P of m.g.values())T=T.concat(P.G);return T}return g(m.i)}var gS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lU(m,T){if(m){m=m.split("&");for(let P=0;P<m.length;P++){const L=m[P].indexOf("=");let U,q=null;L>=0?(U=m[P].substring(0,L),q=m[P].substring(L+1)):U=m[P],T(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ai(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof Ai?(this.l=m.l,Fl(this,m.j),this.o=m.o,this.g=m.g,Bl(this,m.u),this.h=m.h,Ng(this,TS(m.i)),this.m=m.m):m&&(T=String(m).match(gS))?(this.l=!1,Fl(this,T[1]||"",!0),this.o=ql(T[2]||""),this.g=ql(T[3]||"",!0),Bl(this,T[4]),this.h=ql(T[5]||"",!0),Ng(this,T[6]||"",!0),this.m=ql(T[7]||"")):(this.l=!1,this.i=new Hl(null,this.l))}Ai.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(jl(T,yS,!0),":");var P=this.g;return(P||T=="file")&&(m.push("//"),(T=this.o)&&m.push(jl(T,yS,!0),"@"),m.push(Vl(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&m.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&m.push("/"),m.push(jl(P,P.charAt(0)=="/"?fU:cU,!0))),(P=this.i.toString())&&m.push("?",P),(P=this.m)&&m.push("#",jl(P,hU)),m.join("")},Ai.prototype.resolve=function(m){const T=wr(this);let P=!!m.j;P?Fl(T,m.j):P=!!m.o,P?T.o=m.o:P=!!m.g,P?T.g=m.g:P=m.u!=null;var L=m.h;if(P)Bl(T,m.u);else if(P=!!m.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var U=T.h.lastIndexOf("/");U!=-1&&(L=T.h.slice(0,U+1)+L)}if(U=L,U==".."||U==".")L="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){L=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ee=0;ee<U.length;){const ve=U[ee++];ve=="."?L&&ee==U.length&&q.push(""):ve==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),L&&ee==U.length&&q.push("")):(q.push(ve),L=!0)}L=q.join("/")}else L=U}return P?T.h=L:P=m.i.toString()!=="",P?Ng(T,TS(m.i)):P=!!m.m,P&&(T.m=m.m),T};function wr(m){return new Ai(m)}function Fl(m,T,P){m.j=P?ql(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Bl(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function Ng(m,T,P){T instanceof Hl?(m.i=T,pU(m.i,m.l)):(P||(T=jl(T,dU)),m.i=new Hl(T,m.l))}function We(m,T,P){m.i.set(T,P)}function Of(m){return We(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ql(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function jl(m,T,P){return typeof m=="string"?(m=encodeURI(m).replace(T,uU),P&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function uU(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var yS=/[#\/\?@]/g,cU=/[#\?:]/g,fU=/[#\?]/g,dU=/[#\?@]/g,hU=/#/g;function Hl(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function ko(m){m.g||(m.g=new Map,m.h=0,m.i&&lU(m.i,function(T,P){m.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=Hl.prototype,t.add=function(m,T){ko(this),this.i=null,m=Ds(this,m);let P=this.g.get(m);return P||this.g.set(m,P=[]),P.push(T),this.h+=1,this};function vS(m,T){ko(m),T=Ds(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function _S(m,T){return ko(m),T=Ds(m,T),m.g.has(T)}t.forEach=function(m,T){ko(this),this.g.forEach(function(P,L){P.forEach(function(U){m.call(T,U,L,this)},this)},this)};function wS(m,T){ko(m);let P=[];if(typeof T=="string")_S(m,T)&&(P=P.concat(m.g.get(Ds(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)P=P.concat(m[T]);return P}t.set=function(m,T){return ko(this),this.i=null,m=Ds(this,m),_S(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=wS(this,m),m.length>0?String(m[0]):T):T};function ES(m,T,P){vS(m,T),P.length>0&&(m.i=null,m.g.set(Ds(m,T),g(P)),m.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let L=0;L<T.length;L++){var P=T[L];const U=Vl(P);P=wS(this,P);for(let q=0;q<P.length;q++){let ee=U;P[q]!==""&&(ee+="="+Vl(P[q])),m.push(ee)}}return this.i=m.join("&")};function TS(m){const T=new Hl;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function Ds(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function pU(m,T){T&&!m.j&&(ko(m),m.i=null,m.g.forEach(function(P,L){const U=L.toLowerCase();L!=U&&(vS(this,L),ES(this,U,P))},m)),m.j=T}function mU(m,T){const P=new $l;if(s.Image){const L=new Image;L.onload=c(Ii,P,"TestLoadImage: loaded",!0,T,L),L.onerror=c(Ii,P,"TestLoadImage: error",!1,T,L),L.onabort=c(Ii,P,"TestLoadImage: abort",!1,T,L),L.ontimeout=c(Ii,P,"TestLoadImage: timeout",!1,T,L),s.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else T(!1)}function gU(m,T){const P=new $l,L=new AbortController,U=setTimeout(()=>{L.abort(),Ii(P,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:L.signal}).then(q=>{clearTimeout(U),q.ok?Ii(P,"TestPingServer: ok",!0,T):Ii(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(U),Ii(P,"TestPingServer: error",!1,T)})}function Ii(m,T,P,L,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),L(P)}catch{}}function yU(){this.g=new ZV}function kg(m){this.i=m.Sb||null,this.h=m.ab||!1}f(kg,QT),kg.prototype.g=function(){return new Df(this.i,this.h)};function Df(m,T){it.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Df,it),t=Df.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,zl(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gl(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,zl(this)),this.g&&(this.readyState=3,zl(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;SS(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function SS(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Gl(this):zl(this),this.readyState==3&&SS(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Gl(this))},t.Na=function(m){this.g&&(this.response=m,Gl(this))},t.ga=function(){this.g&&Gl(this)};function Gl(m){m.readyState=4,m.l=null,m.j=null,m.B=null,zl(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,m.push(P[0]+": "+P[1]),P=T.next();return m.join(`\r
`)};function zl(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Df.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function bS(m){let T="";return H(m,function(P,L){T+=L,T+=":",T+=P,T+=`\r
`}),T}function Mg(m,T,P){e:{for(L in P){var L=!1;break e}L=!0}L||(P=bS(P),typeof m=="string"?P!=null&&Vl(P):We(m,T,P))}function ut(m){it.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(ut,it);var vU=/^https?$/i,_U=["POST","PUT"];t=ut.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,P,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oS.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(q){AS(this,q);return}if(m=P||"",P=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var U in L)P.set(U,L[U]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const q of L.keys())P.set(q,L.get(q));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(P.keys()).find(q=>q.toLowerCase()=="content-type"),U=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(_U,T,void 0)>=0)||L||U||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of P)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(q){AS(this,q)}};function AS(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,IS(m),Lf(m)}function IS(m){m.A||(m.A=!0,mt(m,"complete"),mt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,mt(this,"complete"),mt(this,"abort"),Lf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lf(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xS(this):this.Xa())},t.Xa=function(){xS(this)};function xS(m){if(m.h&&typeof o<"u"){if(m.v&&xi(m)==4)setTimeout(m.Ca.bind(m),0);else if(mt(m,"readystatechange"),xi(m)==4){m.h=!1;try{const q=m.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var L;if(L=q===0){let ee=String(m.D).match(gS)[1]||null;!ee&&s.self&&s.self.location&&(ee=s.self.location.protocol.slice(0,-1)),L=!vU.test(ee?ee.toLowerCase():"")}P=L}if(P)mt(m,"complete"),mt(m,"success");else{m.o=6;try{var U=xi(m)>2?m.g.statusText:""}catch{U=""}m.l=U+" ["+m.ca()+"]",IS(m)}}finally{Lf(m)}}}}function Lf(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const P=m.g;m.g=null,T||mt(m,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xi(m){return m.g?m.g.readyState:0}t.ca=function(){try{return xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),QV(T)}};function CS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function wU(m){const T={};m=(m.g&&xi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(N(m[L]))continue;var P=iU(m[L]);const U=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const q=T[U]||[];T[U]=q,q.push(P)}X(T,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wl(m,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[m]||T}function PS(m){this.za=0,this.i=[],this.j=new $l,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wl("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wl("baseRetryDelayMs",5e3,m),this.Za=Wl("retryDelaySeedMs",1e4,m),this.Ta=Wl("forwardChannelMaxRetries",2,m),this.va=Wl("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new fS(m&&m.concurrentRequestLimit),this.Ba=new yU,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=PS.prototype,t.ka=8,t.I=1,t.connect=function(m,T,P,L){un(0),this.W=m,this.H=T||{},P&&L!==void 0&&(this.H.OSID=P,this.H.OAID=L),this.F=this.X,this.J=VS(this,null,this.W),Vf(this)};function Og(m){if(RS(m),m.I==3){var T=m.V++,P=wr(m.J);if(We(P,"SID",m.M),We(P,"RID",T),We(P,"TYPE","terminate"),Kl(m,P),T=new bi(m,m.j,T),T.M=2,T.A=Of(wr(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=T.A,P=!0),P||(T.g=US(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Mf(T)}$S(m)}function $f(m){m.g&&(Lg(m),m.g.cancel(),m.g=null)}function RS(m){$f(m),m.v&&(s.clearTimeout(m.v),m.v=null),Uf(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function Vf(m){if(!dS(m.h)&&!m.m){m.m=!0;var T=m.Ea;A||I(),x||(A(),x=!0),b.add(T,m),m.D=0}}function EU(m,T){return hS(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ll(u(m.Ea,m,T),LS(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const U=new bi(this,this.j,m);let q=this.o;if(this.U&&(q?(q=te(q),le(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var L=this.i[P];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(T+=L,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=kS(this,U,T),P=wr(this.J),We(P,"RID",m),We(P,"CVER",22),this.G&&We(P,"X-HTTP-Session-Id",this.G),Kl(this,P),q&&(this.R?T="headers="+Vl(bS(q))+"&"+T:this.u&&Mg(P,this.u,q)),Rg(this.h,U),this.Ra&&We(P,"TYPE","init"),this.S?(We(P,"$req",T),We(P,"SID","null"),U.U=!0,Ig(U,P,null)):Ig(U,P,T),this.I=2}}else this.I==3&&(m?NS(this,m):this.i.length==0||dS(this.h)||NS(this))};function NS(m,T){var P;T?P=T.l:P=m.V++;const L=wr(m.J);We(L,"SID",m.M),We(L,"RID",P),We(L,"AID",m.K),Kl(m,L),m.u&&m.o&&Mg(L,m.u,m.o),P=new bi(m,m.j,P,m.D+1),m.u===null&&(P.J=m.o),T&&(m.i=T.G.concat(m.i)),T=kS(m,P,1e3),P.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Rg(m.h,P),Ig(P,L,T)}function Kl(m,T){m.H&&H(m.H,function(P,L){We(T,L,P)}),m.l&&H({},function(P,L){We(T,L,P)})}function kS(m,T,P){P=Math.min(m.i.length,P);const L=m.l?u(m.l.Ka,m.l,m):null;e:{var U=m.i;let ve=-1;for(;;){const Et=["count="+P];ve==-1?P>0?(ve=U[0].g,Et.push("ofs="+ve)):ve=0:Et.push("ofs="+ve);let Fe=!0;for(let Ot=0;Ot<P;Ot++){var q=U[Ot].g;const Er=U[Ot].map;if(q-=ve,q<0)ve=Math.max(0,U[Ot].g-100),Fe=!1;else try{q="req"+q+"_"||"";try{var ee=Er instanceof Map?Er:Object.entries(Er);for(const[Oo,Ci]of ee){let Pi=Ci;a(Ci)&&(Pi=Eg(Ci)),Et.push(q+Oo+"="+encodeURIComponent(Pi))}}catch(Oo){throw Et.push(q+"type="+encodeURIComponent("_badmap")),Oo}}catch{L&&L(Er)}}if(Fe){ee=Et.join("&");break e}}ee=void 0}return m=m.i.splice(0,P),T.G=m,ee}function MS(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;A||I(),x||(A(),x=!0),b.add(T,m),m.A=0}}function Dg(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ll(u(m.Da,m),LS(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,OS(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ll(u(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,un(10),$f(this),OS(this))};function Lg(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function OS(m){m.g=new bi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=wr(m.na);We(T,"RID","rpc"),We(T,"SID",m.M),We(T,"AID",m.K),We(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&We(T,"TO",m.ia),We(T,"TYPE","xmlhttp"),Kl(m,T),m.u&&m.o&&Mg(T,m.u,m.o),m.O&&(m.g.H=m.O);var P=m.g;m=m.ba,P.M=1,P.A=Of(wr(T)),P.u=null,P.R=!0,lS(P,m)}t.Va=function(){this.C!=null&&(this.C=null,$f(this),Dg(this),un(19))};function Uf(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function DS(m,T){var P=null;if(m.g==T){Uf(m),Lg(m),m.g=null;var L=2}else if(Pg(m.h,T))P=T.G,pS(m.h,T),L=1;else return;if(m.I!=0){if(T.o)if(L==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var U=m.D;L=Nf(),mt(L,new rS(L,P)),Vf(m)}else MS(m);else if(U=T.m,U==3||U==0&&T.X>0||!(L==1&&EU(m,T)||L==2&&Dg(m)))switch(P&&P.length>0&&(T=m.h,T.i=T.i.concat(P)),U){case 1:Mo(m,5);break;case 4:Mo(m,10);break;case 3:Mo(m,6);break;default:Mo(m,2)}}}function LS(m,T){let P=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(P*=2),P*T}function Mo(m,T){if(m.j.info("Error code "+T),T==2){var P=u(m.bb,m),L=m.Ua;const U=!L;L=new Ai(L||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Fl(L,"https"),Of(L),U?mU(L.toString(),P):gU(L.toString(),P)}else un(2);m.I=0,m.l&&m.l.pa(T),$S(m),RS(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function $S(m){if(m.I=0,m.ja=[],m.l){const T=mS(m.h);(T.length!=0||m.i.length!=0)&&(_(m.ja,T),_(m.ja,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.oa()}}function VS(m,T,P){var L=P instanceof Ai?wr(P):new Ai(P);if(L.g!="")T&&(L.g=T+"."+L.g),Bl(L,L.u);else{var U=s.location;L=U.protocol,T=T?T+"."+U.hostname:U.hostname,U=+U.port;const q=new Ai(null);L&&Fl(q,L),T&&(q.g=T),U&&Bl(q,U),P&&(q.h=P),L=q}return P=m.G,T=m.wa,P&&T&&We(L,P,T),We(L,"VER",m.ka),Kl(m,L),L}function US(m,T,P){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new ut(new kg({ab:P})):new ut(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function FS(){}t=FS.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ff(){}Ff.prototype.g=function(m,T){return new An(m,T)};function An(m,T){it.call(this),this.g=new PS(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!N(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!N(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Ls(this)}f(An,it),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Og(this.g)},An.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var P={};P.__data__=m,m=P}else this.v&&(P={},P.__data__=Eg(m),m=P);T.i.push(new aU(T.Ya++,m)),T.I==3&&Vf(T)},An.prototype.N=function(){this.g.l=null,delete this.j,Og(this.g),delete this.g,An.Z.N.call(this)};function BS(m){Tg.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const P in T){m=P;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}f(BS,Tg);function qS(){Sg.call(this),this.status=1}f(qS,Sg);function Ls(m){this.g=m}f(Ls,FS),Ls.prototype.ra=function(){mt(this.g,"a")},Ls.prototype.qa=function(m){mt(this.g,new BS(m))},Ls.prototype.pa=function(m){mt(this.g,new qS)},Ls.prototype.oa=function(){mt(this.g,"b")},Ff.prototype.createWebChannel=Ff.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,pL=function(){return new Ff},hL=function(){return Nf()},dL=Ro,S_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kf.NO_ERROR=0,kf.TIMEOUT=8,kf.HTTP_ERROR=6,Vd=kf,iS.COMPLETE="complete",fL=iS,ZT.EventType=Ol,Ol.OPEN="a",Ol.CLOSE="b",Ol.ERROR="c",Ol.MESSAGE="d",it.prototype.listen=it.prototype.J,Tu=ZT,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,cL=ut}).apply(typeof wd<"u"?wd:typeof self<"u"?self:typeof window<"u"?window:{});const aC="@firebase/firestore",lC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new QE("@firebase/firestore");function qs(){return gs.logLevel}function oe(t,...e){if(gs.logLevel<=Se.DEBUG){const n=e.map(tT);gs.debug(`Firestore (${Il}): ${t}`,...n)}}function di(t,...e){if(gs.logLevel<=Se.ERROR){const n=e.map(tT);gs.error(`Firestore (${Il}): ${t}`,...n)}}function el(t,...e){if(gs.logLevel<=Se.WARN){const n=e.map(tT);gs.warn(`Firestore (${Il}): ${t}`,...n)}}function tT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mL(t,r,n)}function mL(t,e,n){let r=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw di(r),new Error(r)}function De(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||mL(e,i,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class ife{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ofe{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new oo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new oo)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new gL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class sfe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class afe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sfe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lfe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){De(this.o===void 0,3512);const r=o=>{o.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ufe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ufe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function b_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Hy(i)===Hy(o)?be(i,o):Hy(i)?1:-1}return be(t.length,e.length)}const cfe=55296,ffe=57343;function Hy(t){const e=t.charCodeAt(0);return e>=cfe&&e<=ffe}function tl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&he(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ar.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return be(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),i=Ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):b_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return io.fromString(e.substring(4,e.length-2))}}class Qe extends Ar{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const dfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Ar{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return dfe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cC}static keyField(){return new Ht([cC])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Qe.fromString(e))}static fromName(e){return new ce(Qe.fromString(e).popFirst(5))}static empty(){return new ce(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hfe(t,e,n,r){if(e===!0&&r===!0)throw new ue(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fC(t){if(!ce.isDocumentKey(t))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dC(t){if(ce.isDocumentKey(t))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he(12329,{type:typeof t})}function nl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rT(t);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){const n={typeString:t};return e&&(n.value=e),n}function vf(t,e){if(!vL(t))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ue(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=-62135596800,pC=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*pC);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hC)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pC}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vf(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:_t("string",Ze._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Ze(0,0))}static max(){return new pe(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=-1;function pfe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new co(i,ce.empty(),e)}function mfe(t){return new co(t.readTime,t.key,Kc)}class co{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new co(pe.min(),ce.empty(),Kc)}static max(){return new co(pe.max(),ce.empty(),Kc)}}function gfe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yfe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vfe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==yfe)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new W((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function _fe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=-1;function Zm(t){return t==null}function _p(t){return t===0&&1/t==-1/0}function wfe(t){return typeof t=="number"&&Number.isInteger(t)&&!_p(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="";function Efe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mC(e)),e=Tfe(t.get(n),e);return mC(e)}function Tfe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case _L:n+="";break;default:n+=o}}return n}function mC(t){return t+_L+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=o??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yC(this.data.getIterator())}getIteratorFrom(e){return new yC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class yC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new cr([])}unionWith(e){let n=new Rt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new EL("Invalid base64 string: "+o):o}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const Sfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fo(t){if(De(!!t,39018),typeof t=="string"){let e=0;const n=Sfe.exec(t);if(De(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ho(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="server_timestamp",SL="__type__",bL="__previous_value__",AL="__local_write_time__";function oT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SL])==null?void 0:r.stringValue)===TL}function eg(t){const e=t.mapValue.fields[bL];return oT(e)?eg(e):e}function Jc(t){const e=fo(t.mapValue.fields[AL].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bfe{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const wp="(default)";class Yc{constructor(e,n){this.projectId=e,this.database=n||wp}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===wp}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="__type__",Afe="__max__",Td={mapValue:{}},xL="__vector__",Ep="value";function po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oT(t)?4:xfe(t)?9007199254740991:Ife(t)?10:11:he(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=po(t);if(n!==po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=fo(i.timestampValue),a=fo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ho(i.bytesValue).isEqual(ho(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ht(i.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ht(i.integerValue)===ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ht(i.doubleValue),a=ht(o.doubleValue);return s===a?_p(s)===_p(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(gC(s)!==gC(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Fr(s[l],a[l])))return!1;return!0}(t,e);default:return he(52216,{left:t})}}function Xc(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function rl(t,e){if(t===e)return 0;const n=po(t),r=po(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ht(o.integerValue||o.doubleValue),l=ht(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vC(t.timestampValue,e.timestampValue);case 4:return vC(Jc(t),Jc(e));case 5:return b_(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ho(o),l=ho(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=be(a[u],l[u]);if(c!==0)return c}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=be(ht(o.latitude),ht(s.latitude));return a!==0?a:be(ht(o.longitude),ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _C(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,g,_,y;const a=o.fields||{},l=s.fields||{},u=(h=a[Ep])==null?void 0:h.arrayValue,c=(g=l[Ep])==null?void 0:g.arrayValue,f=be(((_=u==null?void 0:u.values)==null?void 0:_.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return f!==0?f:_C(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Td.mapValue&&s===Td.mapValue)return 0;if(o===Td.mapValue)return 1;if(s===Td.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=b_(l[f],c[f]);if(h!==0)return h;const g=rl(a[l[f]],u[c[f]]);if(g!==0)return g}return be(l.length,c.length)}(t.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function vC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=fo(t),r=fo(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function _C(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=rl(n[i],r[i]);if(o)return o}return be(n.length,r.length)}function il(t){return A_(t)}function A_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=A_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${A_(n.fields[s])}`;return i+"}"}(t.mapValue):he(61005,{value:t})}function Ud(t){switch(po(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eg(t);return e?16+Ud(e):16;case 5:return 2*t.stringValue.length;case 6:return ho(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ud(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Cs(r.fields,(o,s)=>{i+=o.length+Ud(s)}),i}(t.mapValue);default:throw he(13486,{value:t})}}function I_(t){return!!t&&"integerValue"in t}function sT(t){return!!t&&"arrayValue"in t}function wC(t){return!!t&&"nullValue"in t}function EC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fd(t){return!!t&&"mapValue"in t}function Ife(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IL])==null?void 0:r.stringValue)===xL}function Fu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fu(t.arrayValue.values[n]);return e}return{...t}}function xfe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Afe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Fu(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new qn(Fu(this.value))}}function CL(t){const e=[];return Cs(t.fields,(n,r)=>{const i=new Ht([n]);if(Fd(r)){const o=CL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new on(e,0,pe.min(),pe.min(),pe.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,pe.min(),pe.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,pe.min(),pe.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.position=e,this.inclusive=n}}function TC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ce.comparator(ce.fromName(s.referenceValue),n.key):r=rl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function SC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{}class At extends PL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Rfe(e,n,r):n==="array-contains"?new Mfe(e,r):n==="in"?new Ofe(e,r):n==="not-in"?new Dfe(e,r):n==="array-contains-any"?new Lfe(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Nfe(e,r):new kfe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&po(this.value)===po(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends PL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Br(e,n)}matches(e){return RL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RL(t){return t.op==="and"}function NL(t){return Pfe(t)&&RL(t)}function Pfe(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function x_(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+il(t.value);if(NL(t))return t.filters.map(e=>x_(e)).join(",");{const e=t.filters.map(n=>x_(n)).join(",");return`${t.op}(${e})`}}function kL(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(t,e):t instanceof Br?function(r,i){return i instanceof Br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&kL(s,i.filters[a]),!0):!1}(t,e):void he(19439)}function ML(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(ML).join(" ,")+"}"}(t):"Filter"}class Rfe extends At{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nfe extends At{constructor(e,n){super(e,"in",n),this.keys=OL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kfe extends At{constructor(e,n){super(e,"not-in",n),this.keys=OL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class Mfe extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sT(n)&&Xc(n.arrayValue,this.value)}}class Ofe extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class Dfe extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xc(this.value.arrayValue,n)}}class Lfe extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function bC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new $fe(t,e,n,r,i,o,s)}function aT(t){const e=me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>x_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Zm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>il(r)).join(",")),e.Te=n}return e.Te}function lT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cfe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SC(t.startAt,e.startAt)&&SC(t.endAt,e.endAt)}function C_(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Vfe(t,e,n,r,i,o,s,a){return new tg(t,e,n,r,i,o,s,a)}function uT(t){return new tg(t)}function AC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ufe(t){return t.collectionGroup!==null}function Bu(t){const e=me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Rt(Ht.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Sp(o,r))}),n.has(Ht.keyField().canonicalString())||e.Ie.push(new Sp(Ht.keyField(),r))}return e.Ie}function kr(t){const e=me(t);return e.Ee||(e.Ee=Ffe(e,Bu(t))),e.Ee}function Ffe(t,e){if(t.limitType==="F")return bC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Sp(i.field,o)});const n=t.endAt?new Tp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tp(t.startAt.position,t.startAt.inclusive):null;return bC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function P_(t,e,n){return new tg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ng(t,e){return lT(kr(t),kr(e))&&t.limitType===e.limitType}function DL(t){return`${aT(kr(t))}|lt:${t.limitType}`}function js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ML(i)).join(", ")}]`),Zm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>il(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>il(i)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function rg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Bu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=TC(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Bu(r),i)||r.endAt&&!function(s,a,l){const u=TC(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Bu(r),i))}(t,e)}function Bfe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LL(t){return(e,n)=>{let r=!1;for(const i of Bu(t)){const o=qfe(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function qfe(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?rl(l,u):he(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return wL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jfe=new lt(ce.comparator);function hi(){return jfe}const $L=new lt(ce.comparator);function Su(...t){let e=$L;for(const n of t)e=e.insert(n.key,n);return e}function VL(t){let e=$L;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yo(){return qu()}function UL(){return qu()}function qu(){return new Ps(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hfe=new lt(ce.comparator),Gfe=new Rt(ce.comparator);function Ae(...t){let e=Gfe;for(const n of t)e=e.add(n);return e}const zfe=new Rt(be);function Wfe(){return zfe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_p(e)?"-0":e}}function FL(t){return{integerValue:""+t}}function Kfe(t,e){return wfe(e)?FL(e):cT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this._=void 0}}function Jfe(t,e,n){return t instanceof bp?function(i,o){const s={fields:{[SL]:{stringValue:TL},[AL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&oT(o)&&(o=eg(o)),o&&(s.fields[bL]=o),{mapValue:s}}(n,e):t instanceof Qc?qL(t,e):t instanceof Zc?jL(t,e):function(i,o){const s=BL(i,o),a=IC(s)+IC(i.Ae);return I_(s)&&I_(i.Ae)?FL(a):cT(i.serializer,a)}(t,e)}function Yfe(t,e,n){return t instanceof Qc?qL(t,e):t instanceof Zc?jL(t,e):n}function BL(t,e){return t instanceof Ap?function(r){return I_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class bp extends ig{}class Qc extends ig{constructor(e){super(),this.elements=e}}function qL(t,e){const n=HL(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zc extends ig{constructor(e){super(),this.elements=e}}function jL(t,e){let n=HL(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class Ap extends ig{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function IC(t){return ht(t.integerValue||t.doubleValue)}function HL(t){return sT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Xfe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qc&&i instanceof Qc||r instanceof Zc&&i instanceof Zc?tl(r.elements,i.elements,Fr):r instanceof Ap&&i instanceof Ap?Fr(r.Ae,i.Ae):r instanceof bp&&i instanceof bp}(t.transform,e.transform)}class Qfe{constructor(e,n){this.version=e,this.transformResults=n}}class Mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class og{}function GL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WL(t.key,Mr.none()):new _f(t.key,t.data,Mr.none());{const n=t.data,r=qn.empty();let i=new Rt(Ht.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Rs(t.key,r,new cr(i.toArray()),Mr.none())}}function Zfe(t,e,n){t instanceof _f?function(i,o,s){const a=i.value.clone(),l=CC(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(i,o,s){if(!Bd(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=CC(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(zL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ju(t,e,n,r){return t instanceof _f?function(o,s,a,l){if(!Bd(o.precondition,s))return a;const u=o.value.clone(),c=PC(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rs?function(o,s,a,l){if(!Bd(o.precondition,s))return a;const u=PC(o.fieldTransforms,l,s),c=s.data;return c.setAll(zL(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Bd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function ede(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=BL(r.transform,i||null);o!=null&&(n===null&&(n=qn.empty()),n.set(r.field,o))}return n||null}function xC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tl(r,i,(o,s)=>Xfe(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _f extends og{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Rs extends og{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CC(t,e,n){const r=new Map;De(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Yfe(s,a,n[i]))}return r}function PC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Jfe(o,s,e))}return r}class WL extends og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tde extends og{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Zfe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ju(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ju(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UL();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=GL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(n,r)=>xC(n,r))&&tl(this.baseMutations,e.baseMutations,(n,r)=>xC(n,r))}}class fT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Hfe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new fT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rde{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ide{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,xe;function ode(t){switch(t){case J.OK:return he(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return he(15467,{code:t})}}function KL(t){if(t===void 0)return di("GRPC error has no .code"),J.UNKNOWN;switch(t){case gt.OK:return J.OK;case gt.CANCELLED:return J.CANCELLED;case gt.UNKNOWN:return J.UNKNOWN;case gt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case gt.INTERNAL:return J.INTERNAL;case gt.UNAVAILABLE:return J.UNAVAILABLE;case gt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case gt.NOT_FOUND:return J.NOT_FOUND;case gt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case gt.ABORTED:return J.ABORTED;case gt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case gt.DATA_LOSS:return J.DATA_LOSS;default:return he(39323,{code:t})}}(xe=gt||(gt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sde(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ade=new io([4294967295,4294967295],0);function RC(t){const e=sde().encode(t),n=new uL;return n.update(e),new Uint8Array(n.digest())}function NC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new io([n,r],0),new io([i,o],0)]}class dT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bu(`Invalid padding: ${n}`);if(r<0)throw new bu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=io.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(io.fromNumber(r)));return i.compare(ade)===1&&(i=new io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RC(e),[r,i]=NC(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new dT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=RC(e),[r,i]=NC(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sg(pe.min(),i,new lt(be),hi(),Ae())}}class wf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wf(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class JL{constructor(e,n){this.targetId=e,this.Ce=n}}class YL{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kC{constructor(){this.ve=0,this.Fe=MC(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ae(),n=Ae(),r=Ae();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he(38017,{changeType:o})}}),new wf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=MC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lde{constructor(e){this.Ge=e,this.ze=new Map,this.je=hi(),this.Je=Sd(),this.He=Sd(),this.Ye=new lt(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(C_(o))if(r===0){const s=new ce(o.path);this.et(n,s,on.newNoDocument(s,pe.min()))}else De(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ho(r).toUint8Array()}catch(l){if(l instanceof EL)return el("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dT(s,i,o)}catch(l){return el(l instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&C_(a.target)){const l=new ce(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,on.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Ae();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new sg(e,n,this.Ye,this.je,r);return this.je=hi(),this.Je=Sd(),this.He=Sd(),this.Ye=new lt(be),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Rt(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Rt(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kC),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sd(){return new lt(ce.comparator)}function MC(){return new lt(ce.comparator)}const ude={asc:"ASCENDING",desc:"DESCENDING"},cde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fde={and:"AND",or:"OR"};class dde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function R_(t,e){return t.useProto3Json||Zm(e)?e:{value:e}}function Ip(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hde(t,e){return Ip(t,e.toTimestamp())}function Or(t){return De(!!t,49232),pe.fromTimestamp(function(n){const r=fo(n);return new Ze(r.seconds,r.nanos)}(t))}function hT(t,e){return N_(t,e).canonicalString()}function N_(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QL(t){const e=Qe.fromString(t);return De(r$(e),10190,{key:e.toString()}),e}function k_(t,e){return hT(t.databaseId,e.path)}function Gy(t,e){const n=QL(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(e$(n))}function ZL(t,e){return hT(t.databaseId,e)}function pde(t){const e=QL(t);return e.length===4?Qe.emptyPath():e$(e)}function M_(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function e$(t){return De(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function OC(t,e,n){return{name:k_(t,e),fields:n.value.mapValue.fields}}function mde(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(De(c===void 0||typeof c=="string",58123),Kt.fromBase64String(c||"")):(De(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?J.UNKNOWN:KL(u.code);return new ue(c,u.message||"")}(s);n=new YL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gy(t,r.document.name),o=Or(r.document.updateTime),s=r.document.createTime?Or(r.document.createTime):pe.min(),a=new qn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new qd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gy(t,r.document),o=r.readTime?Or(r.readTime):pe.min(),s=on.newNoDocument(i,o),a=r.removedTargetIds||[];n=new qd([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gy(t,r.document),o=r.removedTargetIds||[];n=new qd([],o,i,null)}else{if(!("filter"in e))return he(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new ide(i,o),a=r.targetId;n=new JL(a,s)}}return n}function gde(t,e){let n;if(e instanceof _f)n={update:OC(t,e.key,e.value)};else if(e instanceof WL)n={delete:k_(t,e.key)};else if(e instanceof Rs)n={update:OC(t,e.key,e.data),updateMask:Ade(e.fieldMask)};else{if(!(e instanceof tde))return he(16599,{Vt:e.type});n={verify:k_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof bp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ap)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw he(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:hde(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he(27497)}(t,e.precondition)),n}function yde(t,e){return t&&t.length>0?(De(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Or(i.updateTime):Or(o);return s.isEqual(pe.min())&&(s=Or(o)),new Qfe(s,i.transformResults||[])}(n,e))):[]}function vde(t,e){return{documents:[ZL(t,e.path)]}}function _de(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZL(t,i);const o=function(u){if(u.length!==0)return n$(Br.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Hs(h.field),direction:Tde(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=R_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function wde(t){let e=pde(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=t$(f);return h instanceof Br&&NL(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(_){return new Sp(Gs(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Zm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Tp(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,g=f.values||[];return new Tp(g,h)}(n.endAt)),Vfe(e,i,s,o,a,"F",l,u)}function Ede(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gs(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gs(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gs(n.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gs(n.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(t):t.fieldFilter!==void 0?function(n){return At.create(Gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>t$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(t):he(30097,{filter:t})}function Tde(t){return ude[t]}function Sde(t){return cde[t]}function bde(t){return fde[t]}function Hs(t){return{fieldPath:t.canonicalString()}}function Gs(t){return Ht.fromServerFormat(t.fieldPath)}function n$(t){return t instanceof At?function(n){if(n.op==="=="){if(EC(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(wC(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EC(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(wC(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:Sde(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(i=>n$(i));return r.length===1?r[0]:{compositeFilter:{op:bde(n.op),filters:r}}}(t):he(54877,{filter:t})}function Ade(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function r$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r,i,o=pe.min(),s=pe.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(e){this.yt=e}}function xde(t){const e=wde({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?P_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cde{constructor(){this.Cn=new Pde}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(co.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(co.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class Pde{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i$=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(i$,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="LruGarbageCollector",Rde=1048576;function $C([t,e],[n,r]){const i=be(t,n);return i===0?be(e,r):i}class Nde{constructor(e){this.Ir=e,this.buffer=new Rt($C),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$C(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kde{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(LC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?oe(LC,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.Vr(3e5)})}}class Mde{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Qm.ce);const r=new Nde(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(DC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DC):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),qs()<=Se.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function Ode(t,e){return new Mde(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{constructor(){this.changes=new Ps(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ju(r.mutation,i,cr.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=Yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Su();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=hi();const s=qu(),a=function(){return qu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Rs)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ju(c.mutation,u,c.mutation.getFieldMask(),Ze.now())):s.set(u.key,cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new Lde(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=qu();let i=new lt((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||cr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=UL();c.forEach(h=>{if(!o.has(h)){const g=GL(n.get(h),r.get(h));g!==null&&f.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return W.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ufe(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):W.resolve(Yo());let a=Kc,l=o;return s.next(u=>W.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?W.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ae())).next(c=>({batchId:a,changes:VL(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=Su();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Su();return this.indexManager.getCollectionParents(e,o).next(a=>W.forEach(a,l=>{const u=function(f,h){return new tg(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,on.newInvalidDocument(c)))});let a=Su();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&ju(c.mutation,u,cr.empty(),Ze.now()),rg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:xde(i.bundledQuery),readTime:Or(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(){this.overlays=new lt(ce.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yo();return W.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=Yo(),o=n.length+1,s=new ce(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Yo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Yo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return W.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new rde(n,r));let o=this.qr.get(n);o===void 0&&(o=Ae(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fde{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.Qr=new Rt(Lt.$r),this.Ur=new Rt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ce(new Qe([])),r=new Lt(n,e),i=new Lt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ce(new Qe([])),r=new Lt(n,e),i=new Lt(n,e+1);let o=Ae();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Lt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ce.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(Lt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new nde(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(s)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?iT:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(be);return n.forEach(i=>{const o=new Lt(i,0),s=new Lt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ce.isDocumentKey(o)||(o=o.child(""));const s=new Lt(new ce(o),0);let a=new Rt(be);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),W.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,i=>{const o=new Lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Lt(n,0),i=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde{constructor(e){this.ri=e,this.docs=function(){return new lt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=hi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hi();const s=n.path,a=new ce(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||gfe(mfe(c),r)<=0||(i.has(c.key)||rg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,n,r,i){he(9500)}ii(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jde(this)}getSize(e){return W.resolve(this.size)}}class jde extends Dde{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e){this.persistence=e,this.si=new Ps(n=>aT(n),lT),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new pT,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ol(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(o).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n){this.ui={},this.overlays={},this.ci=new Qm(0),this.li=!1,this.li=!0,this.hi=new Fde,this.referenceDelegate=e(this),this.Pi=new Hde(this),this.indexManager=new Cde,this.remoteDocumentCache=function(i){return new qde(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Ide(n),this.Ii=new Vde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ude,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Bde(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new Gde(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return W.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Gde extends vfe{constructor(e){super(),this.currentSequenceNumber=e}}class mT{constructor(e){this.persistence=e,this.Ri=new pT,this.Vi=null}static mi(e){return new mT(e)}get fi(){if(this.Vi)return this.Vi;throw he(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,r=>{const i=ce.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xp{constructor(e,n){this.persistence=e,this.pi=new Ps(r=>Efe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Ode(this,n)}static mi(e,n){return new xp(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?W.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ud(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return W.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ae(),i=Ae();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new gT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wde{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Uue()?8:_fe(ln())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new zde;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(qs()<=Se.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(qs()<=Se.DEBUG&&oe("QueryEngine","Query:",js(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(qs()<=Se.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):W.resolve())}ys(e,n){if(AC(n))return W.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=P_(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ae(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,P_(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return AC(n)||i.isEqual(pe.min())?W.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?W.resolve(null):(qs()<=Se.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),js(n)),this.vs(e,s,n,pfe(i,Kc)).next(a=>a))})}Ds(e,n){let r=new Rt(LL(e));return n.forEach((i,o)=>{rg(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return qs()<=Se.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",js(n)),this.ps.getDocumentsMatchingQuery(e,n,co.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="LocalStore",Kde=3e8;class Jde{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new lt(be),this.xs=new Ps(o=>aT(o),lT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $de(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Yde(t,e,n,r){return new Jde(t,e,n,r)}async function s$(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ae();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function Xde(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let g=W.resolve();return h.forEach(_=>{g=g.next(()=>c.getEntry(l,_)).next(y=>{const w=u.docVersions.get(_);De(w!==null,48541),y.version.compareTo(w)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function a$(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Qde(t,e){const n=me(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,f)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Kt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(f,g),function(y,w,v){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=Kde?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,g,c)&&a.push(n.Pi.updateTargetData(o,g))});let l=hi(),u=Ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Zde(o,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(pe.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return W.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function Zde(t,e,n){let r=Ae(),i=Ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=hi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):oe(yT,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function ehe(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=iT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function the(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,W.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Hi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function O_(t,e,n){const r=me(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Cl(s))throw s;oe(yT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function VC(t,e,n){const r=me(t);let i=pe.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=me(l),h=f.xs.get(c);return h!==void 0?W.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,c)}(r,s,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:pe.min(),n?o:Ae())).next(a=>(nhe(r,Bfe(e),a),{documents:a,Qs:o})))}function nhe(t,e,n){let r=t.Os.get(e)||pe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class UC{constructor(){this.activeTargetIds=Wfe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rhe{constructor(){this.Mo=new UC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new UC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ihe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="ConnectivityMonitor";class BC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(FC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(FC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function D_(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="RestConnection",ohe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class she{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===wp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=D_(),a=this.zo(e,n.toUriEncodedString());oe(zy,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=bl(u);return this.Jo(e,a,l,r,c).then(f=>(oe(zy,`Received RPC '${e}' ${s}: `,f),f),f=>{throw el(zy,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=ohe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ahe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class lhe extends she{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=D_();return new Promise((a,l)=>{const u=new cL;u.setWithCredentials(!0),u.listenOnce(fL.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vd.NO_ERROR:const f=u.getResponseJson();oe(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Vd.TIMEOUT:oe(Qt,`RPC '${e}' ${s} timed out`),l(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const h=u.getStatus();if(oe(Qt,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const y=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(E)>=0?E:J.UNKNOWN}(_.status);l(new ue(y,_.message))}else l(new ue(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ue(J.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{oe(Qt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);oe(Qt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=D_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pL(),a=hL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");oe(Qt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let h=!1,g=!1;const _=new ahe({Yo:w=>{g?oe(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(oe(Qt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),oe(Qt,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Zo:()=>f.close()}),y=(w,v,E)=>{w.listen(v,S=>{try{E(S)}catch(R){setTimeout(()=>{throw R},0)}})};return y(f,Tu.EventType.OPEN,()=>{g||(oe(Qt,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),y(f,Tu.EventType.CLOSE,()=>{g||(g=!0,oe(Qt,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(f))}),y(f,Tu.EventType.ERROR,w=>{g||(g=!0,el(Qt,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),_.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),y(f,Tu.EventType.MESSAGE,w=>{var v;if(!g){const E=w.data[0];De(!!E,16349);const S=E,R=(S==null?void 0:S.error)||((v=S[0])==null?void 0:v.error);if(R){oe(Qt,`RPC '${e}' stream ${i} received error:`,R);const A=R.status;let x=function(C){const M=gt[C];if(M!==void 0)return KL(M)}(A),b=R.message;x===void 0&&(x=J.INTERNAL,b="Unknown error status: "+A+" with message "+R.message),g=!0,_.a_(new ue(x,b)),f.close()}else oe(Qt,`RPC '${e}' stream ${i} received:`,E),_.u_(E)}}),y(a,dL.STAT_EVENT,w=>{w.stat===S_.PROXY?oe(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===S_.NOPROXY&&oe(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Wy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){return new dde(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="PersistentStream";class u${constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l$(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(di(n.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ue(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(qC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(oe(qC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uhe extends u${constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mde(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?Or(s.readTime):pe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=M_(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=C_(l)?{documents:vde(o,l)}:{query:_de(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=XL(o,s.resumeToken);const u=R_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=Ip(o,s.snapshotVersion.toTimestamp());const u=R_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Ede(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=M_(this.serializer),n.removeTarget=e,this.q_(n)}}class che extends u${constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=yde(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=M_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gde(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fhe{}class dhe extends fhe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,N_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(J.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,N_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(J.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class hhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(di(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="RemoteStore";class phe{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ns(this)&&(oe(ys,"Restarting streams for network reachability change."),await async function(l){const u=me(l);u.Ea.add(4),await Ef(u),u.Ra.set("Unknown"),u.Ea.delete(4),await lg(u)}(this))})}),this.Ra=new hhe(r,i)}}async function lg(t){if(Ns(t))for(const e of t.da)await e(!0)}async function Ef(t){for(const e of t.da)await e(!1)}function c$(t,e){const n=me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ET(n)?wT(n):Pl(n).O_()&&_T(n,e))}function vT(t,e){const n=me(t),r=Pl(n);n.Ia.delete(e),r.O_()&&f$(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ns(n)&&n.Ra.set("Unknown"))}function _T(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pl(t).Y_(e)}function f$(t,e){t.Va.Ue(e),Pl(t).Z_(e)}function wT(t){t.Va=new lde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.Ra.ua()}function ET(t){return Ns(t)&&!Pl(t).x_()&&t.Ia.size>0}function Ns(t){return me(t).Ea.size===0}function d$(t){t.Va=void 0}async function mhe(t){t.Ra.set("Online")}async function ghe(t){t.Ia.forEach((e,n)=>{_T(t,e)})}async function yhe(t,e){d$(t),ET(t)?(t.Ra.ha(e),wT(t)):t.Ra.set("Unknown")}async function vhe(t,e,n){if(t.Ra.set("Online"),e instanceof YL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){oe(ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cp(t,r)}else if(e instanceof qd?t.Va.Ze(e):e instanceof JL?t.Va.st(e):t.Va.tt(e),!n.isEqual(pe.min()))try{const r=await a$(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Kt.EMPTY_BYTE_STRING,c.snapshotVersion)),f$(o,l);const f=new Hi(c.target,l,u,c.sequenceNumber);_T(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe(ys,"Failed to raise snapshot:",r),await Cp(t,r)}}async function Cp(t,e,n){if(!Cl(e))throw e;t.Ea.add(1),await Ef(t),t.Ra.set("Offline"),n||(n=()=>a$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe(ys,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lg(t)})}function h$(t,e){return e().catch(n=>Cp(t,n,e))}async function ug(t){const e=me(t),n=mo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iT;for(;_he(e);)try{const i=await ehe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,whe(e,i)}catch(i){await Cp(e,i)}p$(e)&&m$(e)}function _he(t){return Ns(t)&&t.Ta.length<10}function whe(t,e){t.Ta.push(e);const n=mo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function p$(t){return Ns(t)&&!mo(t).x_()&&t.Ta.length>0}function m$(t){mo(t).start()}async function Ehe(t){mo(t).ra()}async function The(t){const e=mo(t);for(const n of t.Ta)e.ea(n.mutations)}async function She(t,e,n){const r=t.Ta.shift(),i=fT.from(r,e,n);await h$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ug(t)}async function bhe(t,e){e&&mo(t).X_&&await async function(r,i){if(function(s){return ode(s)&&s!==J.ABORTED}(i.code)){const o=r.Ta.shift();mo(r).B_(),await h$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ug(r)}}(t,e),p$(t)&&m$(t)}async function jC(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),oe(ys,"RemoteStore received new credentials");const r=Ns(n);n.Ea.add(3),await Ef(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lg(n)}async function Ahe(t,e){const n=me(t);e?(n.Ea.delete(2),await lg(n)):e||(n.Ea.add(2),await Ef(n),n.Ra.set("Unknown"))}function Pl(t){return t.ma||(t.ma=function(n,r,i){const o=me(n);return o.sa(),new uhe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:mhe.bind(null,t),t_:ghe.bind(null,t),r_:yhe.bind(null,t),H_:vhe.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ET(t)?wT(t):t.Ra.set("Unknown")):(await t.ma.stop(),d$(t))})),t.ma}function mo(t){return t.fa||(t.fa=function(n,r,i){const o=me(n);return o.sa(),new che(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ehe.bind(null,t),r_:bhe.bind(null,t),ta:The.bind(null,t),na:She.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ug(t)):(await t.fa.stop(),t.Ta.length>0&&(oe(ys,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new TT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ST(t,e){if(di("AsyncQueue",`${e}: ${t}`),Cl(t))return new ue(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Su(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.ga=new lt(ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class sl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new sl(e,n,va.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ihe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class xhe{constructor(){this.queries=GC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=me(n),o=i.queries;i.queries=GC(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function GC(){return new Ps(t=>DL(t),ng)}async function Che(t,e){const n=me(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new Ihe,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=ST(s,`Initialization of query '${js(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&bT(n)}async function Phe(t,e){const n=me(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Rhe(t,e){const n=me(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&bT(n)}function Nhe(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function bT(t){t.Ca.forEach(e=>{e.next()})}var L_,zC;(zC=L_||(L_={})).Ma="default",zC.Cache="cache";class khe{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==L_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.key=e}}class y${constructor(e){this.key=e}}class Mhe{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ae(),this.mutatedKeys=Ae(),this.eu=LL(e),this.tu=new va(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new HC,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),g=rg(this.query,f)?f:null,_=!!h&&this.mutatedKeys.has(h.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;h&&g?h.data.isEqual(g.data)?_!==y&&(r.track({type:3,doc:g}),w=!0):this.su(h,g)||(r.track({type:2,doc:g}),w=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),w=!0):h&&!g&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(g?(s=s.add(g),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(g,_){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Rt:w})}};return y(g)-y(_)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new sl(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new y$(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new g$(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const AT="SyncEngine";class Ohe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Dhe{constructor(e){this.key=e,this.hu=!1}}class Lhe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ps(a=>DL(a),ng),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ce.comparator),this.Au=new Map,this.Ru=new pT,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $he(t,e,n=!0){const r=S$(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await v$(r,e,n,!0),i}async function Vhe(t,e){const n=S$(t);await v$(n,e,!0,!1)}async function v$(t,e,n,r){const i=await the(t.localStore,kr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Uhe(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&c$(t.remoteStore,i),a}async function Uhe(t,e,n,r,i){t.pu=(f,h,g)=>async function(y,w,v,E){let S=w.view.ru(v);S.Cs&&(S=await VC(y.localStore,w.query,!1).then(({documents:b})=>w.view.ru(b,S)));const R=E&&E.targetChanges.get(w.targetId),A=E&&E.targetMismatches.get(w.targetId)!=null,x=w.view.applyChanges(S,y.isPrimaryClient,R,A);return KC(y,w.targetId,x.au),x.snapshot}(t,f,h,g);const o=await VC(t.localStore,e,!0),s=new Mhe(e,o.Qs),a=s.ru(o.documents),l=wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);KC(t,n,u.au);const c=new Ohe(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Fhe(t,e,n){const r=me(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!ng(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await O_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vT(r.remoteStore,i.targetId),$_(r,i.targetId)}).catch(xl)):($_(r,i.targetId),await O_(r.localStore,i.targetId,!0))}async function Bhe(t,e){const n=me(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vT(n.remoteStore,r.targetId))}async function qhe(t,e,n){const r=Jhe(t);try{const i=await function(s,a){const l=me(s),u=Ze.now(),c=a.reduce((g,_)=>g.add(_.key),Ae());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=hi(),y=Ae();return l.Ns.getEntries(g,c).next(w=>{_=w,_.forEach((v,E)=>{E.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(w=>{f=w;const v=[];for(const E of a){const S=ede(E,f.get(E.key).overlayedDocument);S!=null&&v.push(new Rs(E.key,S,CL(S.value.mapValue),Mr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,v,a)}).next(w=>{h=w;const v=w.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,w.batchId,v)})}).then(()=>({batchId:h.batchId,changes:VL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new lt(be)),u=u.insert(a,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await Tf(r,i.changes),await ug(r.remoteStore)}catch(i){const o=ST(i,"Failed to persist write");n.reject(o)}}async function _$(t,e){const n=me(t);try{const r=await Qde(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?De(s.hu,14607):i.removedDocuments.size>0&&(De(s.hu,42227),s.hu=!1))}),await Tf(n,r,e)}catch(r){await xl(r)}}function WC(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=me(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&bT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jhe(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new lt(ce.comparator);s=s.insert(o,on.newNoDocument(o,pe.min()));const a=Ae().add(o),l=new sg(pe.min(),new Map,new lt(be),s,a);await _$(r,l),r.du=r.du.remove(o),r.Au.delete(e),IT(r)}else await O_(r.localStore,e,!1).then(()=>$_(r,e,n)).catch(xl)}async function Hhe(t,e){const n=me(t),r=e.batch.batchId;try{const i=await Xde(n.localStore,e);E$(n,r,null),w$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tf(n,i)}catch(i){await xl(i)}}async function Ghe(t,e,n){const r=me(t);try{const i=await function(s,a){const l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(De(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);E$(r,e,n),w$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tf(r,i)}catch(i){await xl(i)}}function w$(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function E$(t,e,n){const r=me(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function $_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||T$(t,r)})}function T$(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),IT(t))}function KC(t,e,n){for(const r of n)r instanceof g$?(t.Ru.addReference(r.key,e),zhe(t,r)):r instanceof y$?(oe(AT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||T$(t,r.key)):he(19791,{wu:r})}function zhe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(oe(AT,"New document in limbo: "+n),t.Eu.add(r),IT(t))}function IT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ce(Qe.fromString(e)),r=t.fu.next();t.Au.set(r,new Dhe(n)),t.du=t.du.insert(n,r),c$(t.remoteStore,new Hi(kr(uT(n.path)),r,"TargetPurposeLimboResolution",Qm.ce))}}async function Tf(t,e,n){const r=me(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=gT.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=me(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(u,h=>W.forEach(h.Es,g=>c.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>W.forEach(h.ds,g=>c.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!Cl(f))throw f;oe(yT,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const g=c.Ms.get(h),_=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(_);c.Ms=c.Ms.insert(h,y)}}}(r.localStore,o))}async function Whe(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){oe(AT,"User change. New user:",e.toKey());const r=await s$(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new ue(J.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tf(n,r.Ls)}}function Khe(t,e){const n=me(t),r=n.Au.get(e);if(r&&r.hu)return Ae().add(r.key);{let i=Ae();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function S$(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Khe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jhe.bind(null,e),e.Pu.H_=Rhe.bind(null,e.eventManager),e.Pu.yu=Nhe.bind(null,e.eventManager),e}function Jhe(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ghe.bind(null,e),e}class Pp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ag(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Yde(this.persistence,new Wde,e.initialUser,this.serializer)}Cu(e){return new o$(mT.mi,this.serializer)}Du(e){return new rhe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pp.provider={build:()=>new Pp};class Yhe extends Pp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){De(this.persistence.referenceDelegate instanceof xp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kde(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new o$(r=>xp.mi(r,n),this.serializer)}}class V_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Whe.bind(null,this.syncEngine),await Ahe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xhe}()}createDatastore(e){const n=ag(e.databaseInfo.databaseId),r=function(o){return new lhe(o)}(e.databaseInfo);return function(o,s,a,l){return new dhe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new phe(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>WC(this.syncEngine,n,0),function(){return BC.v()?new BC:new ihe}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new Lhe(i,o,s,a,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=me(i);oe(ys,"RemoteStore shutting down."),o.Ea.add(5),await Ef(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}V_.provider={build:()=>new V_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xhe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="FirestoreClient";class Qhe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=nT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{oe(go,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe(go,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ST(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ky(t,e){t.asyncQueue.verifyOperationInProgress(),oe(go,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await s$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Zhe(t);oe(go,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jC(e.remoteStore,i)),t._onlineComponents=e}async function Zhe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe(go,"Using user provided OfflineComponentProvider");try{await Ky(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await Ky(t,new Pp)}}else oe(go,"Using default OfflineComponentProvider"),await Ky(t,new Yhe(void 0));return t._offlineComponents}async function b$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe(go,"Using user provided OnlineComponentProvider"),await JC(t,t._uninitializedComponentsProvider._online)):(oe(go,"Using default OnlineComponentProvider"),await JC(t,new V_))),t._onlineComponents}function epe(t){return b$(t).then(e=>e.syncEngine)}async function tpe(t){const e=await b$(t),n=e.eventManager;return n.onListen=$he.bind(null,e.syncEngine),n.onUnlisten=Fhe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Vhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Bhe.bind(null,e.syncEngine),n}function npe(t,e,n={}){const r=new oo;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Xhe({next:h=>{c.Nu(),s.enqueueAndForget(()=>Phe(o,f));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new khe(uT(a.path),c,{includeMetadataChanges:!0,qa:!0});return Che(o,f)}(await tpe(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="firestore.googleapis.com",XC=!0;class QC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I$,this.ssl=XC}else this.host=e.host,this.ssl=e.ssl??XC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rde)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hfe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rfe;switch(r.type){case"firstParty":return new afe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YC.get(n);r&&(oe("ComponentProvider","Removing Datastore"),YC.delete(n),r.terminate())}(this),Promise.resolve()}}function rpe(t,e,n,r={}){var u;t=nl(t,cg);const i=bl(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(tL(`https://${a}`),nL("Firestore",!0)),o.host!==I$&&o.host!==a&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ps(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=tn.MOCK_USER;else{c=Rue(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new tn(h)}t._authCredentials=new ife(new gL(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xT(this.firestore,e,this._query)}}class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vf(n,Ct._jsonSchema))return new Ct(e,r||null,new ce(Qe.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:_t("string",Ct._jsonSchemaVersion),referencePath:_t("string")};class so extends xT{constructor(e,n,r){super(e,n,uT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ce(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function ipe(t,e,...n){if(t=Tn(t),yL("collection","path",e),t instanceof cg){const r=Qe.fromString(e,...n);return dC(r),new so(t,null,r)}{if(!(t instanceof Ct||t instanceof so))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return dC(r),new so(t.firestore,null,r)}}function Sf(t,e,...n){if(t=Tn(t),arguments.length===1&&(e=nT.newId()),yL("doc","path",e),t instanceof cg){const r=Qe.fromString(e,...n);return fC(r),new Ct(t,null,new ce(r))}{if(!(t instanceof Ct||t instanceof so))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return fC(r),new Ct(t.firestore,t instanceof so?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="AsyncQueue";class eP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l$(this,"async_queue_retry"),this._c=()=>{const r=Wy();r&&oe(ZC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new oo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;oe(ZC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,di("INTERNAL UNHANDLED ERROR: ",tP(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=TT.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&he(47125,{Pc:tP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fg extends cg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eP(e),this._firestoreClient=void 0,await e}}}function ope(t,e){const n=typeof t=="object"?t:sL(),r=typeof t=="string"?t:wp,i=eT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Cue("firestore");o&&rpe(i,...o)}return i}function x$(t){if(t._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||spe(t),t._firestoreClient}function spe(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,c){return new bfe(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,A$(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Qhe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Kt.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vf(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:_t("string",jn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(vf(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:_t("string",Dr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vf(e,Lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Lr(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lr._jsonSchemaVersion="firestore/vectorValue/1.0",Lr._jsonSchema={type:_t("string",Lr._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ape=/^__.*__$/;class lpe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new _f(e,this.data,n,this.fieldTransforms)}}function P$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{Ac:t})}}class PT{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new PT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(P$(this.Ac)&&ape.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class upe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ag(e)}Cc(e,n,r,i=!1){return new PT({Ac:e,methodName:n,Dc:r,path:Ht.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R$(t){const e=t._freezeSettings(),n=ag(t._databaseId);return new upe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N$(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);D$("Data must be an object, but it was:",s,r);const a=M$(r,s);let l,u;if(o.merge)l=new cr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=cpe(e,f,n);if(!s.contains(h))throw new ue(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);dpe(c,h)||c.push(h)}l=new cr(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new lpe(new qn(a),l,u)}function k$(t,e){if(O$(t=Tn(t)))return D$("Unsupported field value:",e,t),M$(t,e);if(t instanceof C$)return function(r,i){if(!P$(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=k$(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kfe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ze.fromDate(r);return{timestampValue:Ip(i.serializer,o)}}if(r instanceof Ze){const o=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ip(i.serializer,o)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:XL(i.serializer,r._byteString)};if(r instanceof Ct){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lr)return function(s,a){return{mapValue:{fields:{[IL]:{stringValue:xL},[Ep]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return cT(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${rT(r)}`)}(t,e)}function M$(t,e){const n={};return wL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(r,i)=>{const o=k$(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function O$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Dr||t instanceof jn||t instanceof Ct||t instanceof C$||t instanceof Lr)}function D$(t,e,n){if(!O$(n)||!vL(n)){const r=rT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cpe(t,e,n){if((e=Tn(e))instanceof CT)return e._internalPath;if(typeof e=="string")return L$(t,e);throw Rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const fpe=new RegExp("[~\\*/\\[\\]]");function L$(t,e,n){if(e.search(fpe)>=0)throw Rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new CT(...e.split("."))._internalPath}catch{throw Rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ue(J.INVALID_ARGUMENT,a+t+l)}function dpe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(V$("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hpe extends $${data(){return super.data()}}function V$(t,e){return typeof e=="string"?L$(t,e):e instanceof CT?e._internalPath:e._delegate._internalPath}class ppe{convertValue(e,n="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Ep].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>ht(s.doubleValue));return new Lr(n)}convertGeoPoint(e){return new Dr(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=fo(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);De(r$(r),9688,{name:e});const i=new Yc(r.get(1),r.get(3)),o=new ce(r.popFirst(5));return i.isEqual(n)||di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class is extends $${constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(V$("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=is._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}is._jsonSchemaVersion="firestore/documentSnapshot/1.0",is._jsonSchema={type:_t("string",is._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class jd extends is{data(e={}){return super.data(e)}}class Hu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Au(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jd(this._firestore,this._userDataWriter,r.key,r,new Au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new jd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new jd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:mpe(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mpe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){t=nl(t,Ct);const e=nl(t.firestore,fg);return npe(x$(e),t._key).then(n=>_pe(e,t,n))}Hu._jsonSchemaVersion="firestore/querySnapshot/1.0",Hu._jsonSchema={type:_t("string",Hu._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class gpe extends ppe{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function ype(t,e,n){t=nl(t,Ct);const r=nl(t.firestore,fg),i=U$(t.converter,e);return F$(r,[N$(R$(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mr.none())])}function vpe(t,e){const n=nl(t.firestore,fg),r=Sf(t),i=U$(t.converter,e);return F$(n,[N$(R$(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function F$(t,e){return function(r,i){const o=new oo;return r.asyncQueue.enqueueAndForget(async()=>qhe(await epe(r),i,o)),o.promise}(x$(t),e)}function _pe(t,e,n){const r=n.docs.get(e._key),i=new gpe(t);return new is(t,i,e._key,r,new Au(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Il=i})(Al),Za(new ms("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new fg(new ofe(r.getProvider("auth-internal")),new lfe(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ro(aC,lC,e),ro(aC,lC,"esm2020")})();var wpe="firebase",Epe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ro(wpe,Epe,"app");function B$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tpe=B$,q$=new gf("auth","Firebase",B$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new QE("@firebase/auth");function Spe(t,...e){Np.logLevel<=Se.WARN&&Np.warn(`Auth (${Al}): ${t}`,...e)}function Hd(t,...e){Np.logLevel<=Se.ERROR&&Np.error(`Auth (${Al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw kT(t,...e)}function gr(t,...e){return kT(t,...e)}function NT(t,e,n){const r={...Tpe(),[e]:n};return new gf("auth","Firebase",r).create(e,{appName:t.name})}function ri(t){return NT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bpe(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),NT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q$.create(t,...e)}function de(t,e,...n){if(!t)throw kT(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hd(e),new Error(e)}function pi(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Ape(){return nP()==="http:"||nP()==="https:"}function nP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ipe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ape()||Lue()||"connection"in navigator)?navigator.onLine:!0}function xpe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=Mue()||$ue()}get(){return Ipe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t,e){pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ppe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rpe=new bf(3e4,6e4);function Ao(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Io(t,e,n,r,i={}){return H$(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=yf({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return Due()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&bl(t.emulatorConfig.host)&&(u.credentials="include"),j$.fetch()(await G$(t,t.config.apiHost,n,a),u)})}async function H$(t,e,n){t._canInitEmulator=!1;const r={...Cpe,...e};try{const i=new kpe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ad(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ad(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ad(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ad(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NT(t,c,u);Qn(t,c)}}catch(i){if(i instanceof wi)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function Af(t,e,n,r,i={}){const o=await Io(t,e,n,r,i);return"mfaPendingCredential"in o&&Qn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function G$(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?MT(t.config,i):`${t.config.apiScheme}://${i}`;return Ppe.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Npe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kpe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),Rpe.get())})}}function Ad(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}function rP(t){return t!==void 0&&t.enterprise!==void 0}class Mpe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Npe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ope(t,e){return Io(t,"GET","/v2/recaptchaConfig",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dpe(t,e){return Io(t,"POST","/v1/accounts:delete",e)}async function kp(t,e){return Io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lpe(t,e=!1){const n=Tn(t),r=await n.getIdToken(e),i=OT(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Gu(Jy(i.auth_time)),issuedAtTime:Gu(Jy(i.iat)),expirationTime:Gu(Jy(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Jy(t){return Number(t)*1e3}function OT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hd("JWT malformed, contained fewer than 3 sections"),null;try{const i=X2(n);return i?JSON.parse(i):(Hd("Failed to decode base64 JWT payload"),null)}catch(i){return Hd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iP(t){const e=OT(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wi&&$pe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $pe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vpe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await ef(t,kp(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?z$(i.providerUserInfo):[],s=Fpe(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new F_(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function Upe(t){const e=Tn(t);await Mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fpe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function z$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bpe(t,e){const n=await H$(t,{},async()=>{const r=yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await G$(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&bl(t.emulatorConfig.host)&&(l.credentials="include"),j$.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qpe(t,e){return Io(t,"POST","/v2/accounts:revokeToken",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=iP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Bpe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new _a;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _a,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Vpe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new F_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ef(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lpe(this,e)}reload(){return Upe(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await ef(this,Dpe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:_,stsTokenManager:y}=n;de(f&&y,e,"internal-error");const w=_a.fromJSON(this.name,y);de(typeof f=="string",e,"internal-error"),Ni(r,e.name),Ni(i,e.name),de(typeof h=="boolean",e,"internal-error"),de(typeof g=="boolean",e,"internal-error"),Ni(o,e.name),Ni(s,e.name),Ni(a,e.name),Ni(l,e.name),Ni(u,e.name),Ni(c,e.name);const v=new fr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:w,createdAt:u,lastLoginAt:c});return _&&Array.isArray(_)&&(v.providerData=_.map(E=>({...E}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new _a;i.updateFromServerResponse(n);const o=new fr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?z$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new _a;a.updateFromIdToken(r);const l=new fr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new F_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Map;function Zr(t){pi(t instanceof Function,"Expected a class definition");let e=oP.get(t);return e?(pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}W$.type="NONE";const sP=W$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Gd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kp(this.auth,{idToken:e}).catch(()=>{});return n?fr._fromGetAccountInfoResponse(this.auth,n,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wa(Zr(sP),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Zr(sP);const s=Gd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const h=await kp(e,{idToken:c}).catch(()=>{});if(!h)break;f=await fr._fromGetAccountInfoResponse(e,h,c)}else f=fr._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new wa(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new wa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z$(e))return"Blackberry";if(eV(e))return"Webos";if(J$(e))return"Safari";if((e.includes("chrome/")||Y$(e))&&!e.includes("edge/"))return"Chrome";if(Q$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function K$(t=ln()){return/firefox\//i.test(t)}function J$(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y$(t=ln()){return/crios\//i.test(t)}function X$(t=ln()){return/iemobile/i.test(t)}function Q$(t=ln()){return/android/i.test(t)}function Z$(t=ln()){return/blackberry/i.test(t)}function eV(t=ln()){return/webos/i.test(t)}function DT(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jpe(t=ln()){var e;return DT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Hpe(){return Vue()&&document.documentMode===10}function tV(t=ln()){return DT(t)||Q$(t)||eV(t)||Z$(t)||/windows phone/i.test(t)||X$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t,e=[]){let n;switch(t){case"Browser":n=aP(ln());break;case"Worker":n=`${aP(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gpe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zpe(t,e={}){return Io(t,"GET","/v2/passwordPolicy",Ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe=6;class Kpe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Wpe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jpe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lP(this),this.idTokenSubscription=new lP(this),this.beforeStateQueue=new Gpe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await wa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kp(this,{idToken:e}),r=await fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Rn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xpe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(ri(this));const n=e?Tn(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zpe(this),n=new Kpe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qpe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Spe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function xo(t){return Tn(t)}class lP{constructor(e){this.auth=e,this.observer=null,this.addObserver=zue(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ype(t){dg=t}function rV(t){return dg.loadJS(t)}function Xpe(){return dg.recaptchaEnterpriseScript}function Qpe(){return dg.gapiScript}function Zpe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eme{constructor(){this.enterprise=new tme}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tme{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nme="recaptcha-enterprise",iV="NO_RECAPTCHA";class rme{constructor(e){this.type=nme,this.auth=xo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Ope(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Mpe(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;rP(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(iV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eme().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&rP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Xpe();l.length!==0&&(l+=a),rV(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function uP(t,e,n,r=!1,i=!1){const o=new rme(t);let s;if(i)s=iV;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function B_(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await uP(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ime(t,e){const n=eT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ps(o,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function ome(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sme(t,e,n){const r=xo(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=oV(e),{host:s,port:a}=ame(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(ps(u,r.config.emulator)&&ps(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,bl(s)?(tL(`${o}//${s}${l}`),nL("Auth",!0)):lme()}function oV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ame(t){const e=oV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:cP(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:cP(s)}}}function cP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lme(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function ume(t,e){return Io(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cme(t,e){return Af(t,"POST","/v1/accounts:signInWithPassword",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fme(t,e){return Af(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}async function dme(t,e){return Af(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends LT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new tf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B_(e,n,"signInWithPassword",cme);case"emailLink":return fme(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B_(e,r,"signUpPassword",ume);case"emailLink":return dme(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(t,e){return Af(t,"POST","/v1/accounts:signInWithIdp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hme="http://localhost";class vs extends LT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new vs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ea(e,n)}buildRequest(){const e={requestUri:hme,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pme(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mme(t){const e=wu(Eu(t)).link,n=e?wu(Eu(e)).deep_link_id:null,r=wu(Eu(t)).deep_link_id;return(r?wu(Eu(r)).link:null)||r||n||e||t}class $T{constructor(e){const n=wu(Eu(e)),r=n.apiKey??null,i=n.oobCode??null,o=pme(n.mode??null);de(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mme(e);try{return new $T(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,n){return tf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$T.parseLink(n);return de(r,"argument-error"),tf._fromEmailAndCode(e,r.code,r.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends VT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends If{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends If{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends If{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends If{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gme(t,e){return Af(t,"POST","/v1/accounts:signUp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await fr._fromIdTokenResponse(e,r,i),s=fP(r);return new _s({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fP(r);return new _s({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends wi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Op.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Op(e,n,r,i)}}function sV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Op._fromErrorAndOperation(t,o,e,r):o})}async function yme(t,e,n=!1){const r=await ef(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _s._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vme(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(ri(r));const i="reauthenticate";try{const o=await ef(t,sV(r,i,e,t),n);de(o.idToken,r,"internal-error");const s=OT(o.idToken);de(s,r,"internal-error");const{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),_s._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e,n=!1){if(Rn(t.app))return Promise.reject(ri(t));const r="signIn",i=await sV(t,r,e),o=await _s._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function _me(t,e){return aV(xo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t){const e=xo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wme(t,e,n){if(Rn(t.app))return Promise.reject(ri(t));const r=xo(t),s=await B_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gme).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&lV(t),l}),a=await _s._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Eme(t,e,n){return Rn(t.app)?Promise.reject(ri(t)):_me(Tn(t),Rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lV(t),r})}function Tme(t,e,n,r){return Tn(t).onIdTokenChanged(e,n,r)}function Sme(t,e,n){return Tn(t).beforeAuthStateChanged(e,n)}function bme(t,e,n,r){return Tn(t).onAuthStateChanged(e,n,r)}function Ame(t){return Tn(t).signOut()}const Dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dp,"1"),this.storage.removeItem(Dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ime=1e3,xme=10;class cV extends uV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Hpe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xme):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Ime)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cV.type="LOCAL";const Cme=cV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV extends uV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fV.type="SESSION";const dV=fV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pme(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Pme(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rme{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=UT("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function Nme(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function kme(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mme(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Ome(){return hV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="firebaseLocalStorageDb",Dme=1,Lp="firebaseLocalStorage",mV="fbase_key";class xf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pg(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function Lme(){const t=indexedDB.deleteDatabase(pV);return new xf(t).toPromise()}function q_(){const t=indexedDB.open(pV,Dme);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lp,{keyPath:mV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lp)?e(r):(r.close(),await Lme(),e(await q_()))})})}async function dP(t,e,n){const r=pg(t,!0).put({[mV]:e,value:n});return new xf(r).toPromise()}async function $me(t,e){const n=pg(t,!1).get(e),r=await new xf(n).toPromise();return r===void 0?null:r.value}function hP(t,e){const n=pg(t,!0).delete(e);return new xf(n).toPromise()}const Vme=800,Ume=3;class gV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ume)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hg._getInstance(Ome()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await kme(),!this.activeServiceWorker)return;this.sender=new Rme(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Mme()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q_();return await dP(e,Dp,"1"),await hP(e,Dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$me(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=pg(i,!1).getAll();return new xf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gV.type="LOCAL";const Fme=gV;new bf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t,e){return e?Zr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends LT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Bme(t){return aV(t.auth,new FT(t),t.bypassAuthState)}function qme(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),vme(n,new FT(t),t.bypassAuthState)}async function jme(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),yme(n,new FT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bme;case"linkViaPopup":case"linkViaRedirect":return jme;case"reauthViaPopup":case"reauthViaRedirect":return qme;default:Qn(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hme=new bf(2e3,1e4);async function Gme(t,e,n){if(Rn(t.app))return Promise.reject(gr(t,"operation-not-supported-in-this-environment"));const r=xo(t);bpe(t,e,VT);const i=yV(r,n);return new Xo(r,"signInViaPopup",e,i).executeNotNull()}class Xo extends vV{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=UT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hme.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zme="pendingRedirect",zd=new Map;class Wme extends vV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zd.get(this.auth._key());if(!e){try{const r=await Kme(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zd.set(this.auth._key(),e)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kme(t,e){const n=Xme(e),r=Yme(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Jme(t,e){zd.set(t._key(),e)}function Yme(t){return Zr(t._redirectPersistence)}function Xme(t){return Gd(zme,t.config.apiKey,t.name)}async function Qme(t,e,n=!1){if(Rn(t.app))return Promise.reject(ri(t));const r=xo(t),i=yV(r,e),s=await new Wme(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zme=10*60*1e3;class ege{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tge(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_V(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zme&&this.cachedEventUids.clear(),this.cachedEventUids.has(pP(e))}saveEventToCache(e){this.cachedEventUids.add(pP(e)),this.lastProcessedEventTime=Date.now()}}function pP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _V({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tge(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _V(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nge(t,e={}){return Io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rge=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ige=/^https?/;async function oge(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nge(t);for(const n of e)try{if(sge(n))return}catch{}Qn(t,"unauthorized-domain")}function sge(t){const e=U_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!ige.test(n))return!1;if(rge.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const age=new bf(3e4,6e4);function mP(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lge(t){return new Promise((e,n)=>{var i,o,s;function r(){mP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mP(),n(gr(t,"network-request-failed"))},timeout:age.get()})}if((o=(i=$r().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=$r().gapi)!=null&&s.load)r();else{const a=Zpe("iframefcb");return $r()[a]=()=>{gapi.load?r():n(gr(t,"network-request-failed"))},rV(`${Qpe()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wd=null,e})}let Wd=null;function uge(t){return Wd=Wd||lge(t),Wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cge=new bf(5e3,15e3),fge="__/auth/iframe",dge="emulator/auth/iframe",hge={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pge=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mge(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?MT(e,dge):`https://${t.config.authDomain}/${fge}`,r={apiKey:e.apiKey,appName:t.name,v:Al},i=pge.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yf(r).slice(1)}`}async function gge(t){const e=await uge(t),n=$r().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:mge(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hge,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=gr(t,"network-request-failed"),a=$r().setTimeout(()=>{o(s)},cge.get());function l(){$r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vge=500,_ge=600,wge="_blank",Ege="http://localhost";class gP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tge(t,e,n,r=vge,i=_ge){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...yge,width:r.toString(),height:i.toString(),top:o,left:s},u=ln().toLowerCase();n&&(a=Y$(u)?wge:n),K$(u)&&(e=e||Ege,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[g,_])=>`${h}${g}=${_},`,"");if(jpe(u)&&a!=="_self")return Sge(e||"",a),new gP(null);const f=window.open(e||"",a,c);de(f,t,"popup-blocked");try{f.focus()}catch{}return new gP(f)}function Sge(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bge="__/auth/handler",Age="emulator/auth/handler",Ige=encodeURIComponent("fac");async function yP(t,e,n,r,i,o){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Al,eventId:i};if(e instanceof VT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Gue(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof If){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Ige}=${encodeURIComponent(l)}`:"";return`${xge(t)}?${yf(a).slice(1)}${u}`}function xge({config:t}){return t.emulator?MT(t,Age):`https://${t.authDomain}/${bge}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="webStorageSupport";class Cge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dV,this._completeRedirectFn=Qme,this._overrideRedirectResult=Jme}async _openPopup(e,n,r,i){var s;pi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yP(e,n,r,U_(),i);return Tge(e,o,UT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await yP(e,n,r,U_(),i);return Nme(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(pi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gge(e),r=new ege(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yy,{type:Yy},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[Yy];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oge(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tV()||J$()||DT()}}const Pge=Cge;var vP="@firebase/auth",_P="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kge(t){Za(new ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nV(t)},u=new Jpe(r,i,o,l);return ome(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Za(new ms("auth-internal",e=>{const n=xo(e.getProvider("auth").getImmediate());return(r=>new Rge(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ro(vP,_P,Nge(t)),ro(vP,_P,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mge=5*60,Oge=eL("authIdTokenMaxAge")||Mge;let wP=null;const Dge=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Oge)return;const i=n==null?void 0:n.token;wP!==i&&(wP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Lge(t=sL()){const e=eT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ime(t,{popupRedirectResolver:Pge,persistence:[Fme,Cme,dV]}),r=eL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Dge(o.toString());Sme(n,s,()=>s(n.currentUser)),Tme(n,a=>s(a))}}const i=Q2("auth");return i&&sme(n,`http://${i}`),n}function $ge(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Ype({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=gr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",$ge().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kge("Browser");const Vge={apiKey:"AIzaSyCRgEDVu_nwd7k9Qv2uOkz9Gj-5inf0Txw",authDomain:"westock-app-89672.firebaseapp.com",projectId:"westock-app-89672",storageBucket:"westock-app-89672.firebasestorage.app",messagingSenderId:"206494601184",appId:"1:206494601184:web:a26a8b899f6307de00a585"},wV=oL(Vge),hu=Lge(wV),Uge=new Wr,Cf=ope(wV),Pf="we_stock_data_v1",mg="we_stock_pin";let yo=null;const Fge=async t=>{yo=t,t&&await Bge()},EP=()=>({items:[],bundles:[]}),Bge=async()=>{if(yo)try{const t=Sf(Cf,"users",yo.uid),e=await RT(t);if(e.exists()){const n=e.data();console.log(""),localStorage.setItem(Pf,JSON.stringify(n)),window.location.reload()}else{const n=bn();(n.items.length>0||n.bundles.length>0)&&(console.log(""),await BT())}}catch(t){console.error("Sync Error:",t)}},BT=async()=>{if(!yo)return;const t=bn();try{await ype(Sf(Cf,"users",yo.uid),t),console.log("")}catch(e){console.error("Upload Error:",e)}},qge=async t=>{if(!yo)throw new Error("");if(t==="up")await BT();else{const e=Sf(Cf,"users",yo.uid),n=await RT(e);if(n.exists())localStorage.setItem(Pf,JSON.stringify(n.data())),window.location.reload();else throw new Error("")}},bn=()=>{try{const t=localStorage.getItem(Pf);return t?JSON.parse(t):EP()}catch{return EP()}},Co=t=>{try{return localStorage.setItem(Pf,JSON.stringify(t)),yo&&BT(),!0}catch(e){return(e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&alert(" "),!1}},jge=t=>{const e=bn();return e.items.unshift(t),Co(e)},Hge=t=>{const e=bn(),n=e.items.findIndex(r=>r.id===t.id);return n!==-1?(e.items[n]=t,Co(e)):!1},TP=t=>bn().items.find(n=>n.id===t),Gge=t=>{const e=bn();return e.items=e.items.filter(n=>n.id!==t),e.bundles=e.bundles.map(n=>({...n,itemIds:n.itemIds.filter(r=>r!==t)})),Co(e),e},zge=t=>{const e=bn();return e.bundles.unshift(t),Co(e),e},Wge=t=>{const e=bn(),n=e.bundles.findIndex(r=>r.id===t.id);return n!==-1?(e.bundles[n]=t,Co(e)):!1},SP=t=>bn().bundles.find(n=>n.id===t),Kge=t=>{const e=bn();return e.bundles=e.bundles.filter(n=>n.id!==t),Co(e),e},Jge=t=>localStorage.setItem(mg,t),Yge=t=>localStorage.getItem(mg)===t,EV=()=>!!localStorage.getItem(mg),Xge=()=>localStorage.removeItem(mg),Qge=()=>{try{const e=(localStorage.getItem(Pf)||"").length*2/1024;return e<1024?`${e.toFixed(1)} KB`:`${(e/1024).toFixed(2)} MB`}catch{return""}},Zge=()=>{const t=bn(),e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`westock_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)},eye=t=>{try{const e=JSON.parse(t);if(!Array.isArray(e.items)||!Array.isArray(e.bundles))throw new Error("Format error");return Co(e),!0}catch{return!1}},tye=async t=>{const e=bn(),n=e.bundles.find(o=>o.id===t);if(!n)return"";const r=e.items.filter(o=>n.itemIds.includes(o.id)),i={type:"westock_share",bundle:n,items:r,createdAt:new Date().toISOString()};try{return`WS-${(await vpe(ipe(Cf,"shared_bundles"),i)).id}`}catch(o){return console.error("Share upload failed:",o),""}},nye=async t=>{if(!t.startsWith("WS-"))return!1;const e=t.replace("WS-","");try{const n=Sf(Cf,"shared_bundles",e),r=await RT(n);if(!r.exists())return!1;const i=r.data();if(i.type!=="westock_share"||!i.bundle||!i.items)return!1;const o=bn();return i.items.forEach(s=>{o.items.some(a=>a.id===s.id)||o.items.unshift(s)}),o.bundles.some(s=>s.id===i.bundle.id)||o.bundles.unshift(i.bundle),Co(o),!0}catch(n){return console.error(n),!1}},rye=({data:t,refreshData:e})=>{const n=fl(),[r,i]=$.useState(""),o=t.items.filter(u=>u.name.toLowerCase().includes(r.toLowerCase())||u.category.toLowerCase().includes(r.toLowerCase())),s=(u,c)=>{u.stopPropagation(),window.confirm("")&&(Gge(c),e())},a=u=>{n(`/add-item?id=${u}`)},l=u=>Object.values(u.stock).reduce((c,f)=>c+f,0);return O.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[O.jsxs("div",{className:"bg-white px-4 pt-4 pb-2 sticky top-0 z-10 shadow-sm",children:[O.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:""}),O.jsxs("div",{className:"relative",children:[O.jsx(bM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),O.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-gray-100 text-gray-800 rounded-lg pl-10 pr-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all",value:r,onChange:u=>i(u.target.value)})]})]}),O.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:o.length===0?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[O.jsx(lA,{size:48,className:"mb-4 opacity-20"}),O.jsx("p",{children:""})]}):o.map(u=>O.jsxs("div",{onClick:()=>a(u.id),className:"bg-white p-3 rounded-xl shadow-sm border border-gray-100 flex gap-3 relative group active:scale-[0.99] transition-transform cursor-pointer",children:[O.jsx("div",{className:"w-20 h-20 rounded-lg bg-gray-100 flex-shrink-0 overflow-hidden relative",children:u.imageUrl?O.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-full h-full object-cover"}):O.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:O.jsx(lA,{size:24})})}),O.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-0.5",children:[O.jsxs("div",{className:"flex justify-between items-start",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-gray-900 truncate pr-2 text-sm leading-tight",children:u.name}),O.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[O.jsx("span",{className:"text-[10px] text-gray-500 bg-gray-50 px-1.5 py-0.5 rounded",children:u.category}),u.location&&O.jsxs("span",{className:"flex items-center text-[10px] text-gray-400",children:[O.jsx(TM,{size:10,className:"mr-0.5"})," ",u.location]})]})]}),O.jsx("button",{onClick:c=>s(c,u.id),className:"p-1.5 text-gray-300 hover:text-red-500",children:O.jsx(AM,{size:16})})]}),O.jsxs("div",{className:"flex items-end justify-between mt-2",children:[O.jsx("div",{className:"flex gap-1 overflow-hidden",children:Object.entries(u.stock).map(([c,f])=>f>0&&O.jsxs("span",{className:"text-[10px] font-mono text-gray-500 bg-gray-50 px-1 rounded",children:[c,":",f]},c))}),O.jsxs("div",{className:"text-sm font-bold text-brand-600 bg-brand-50 px-2 py-0.5 rounded-full",children:["x",l(u)]})]})]})]},u.id))}),O.jsx("button",{onClick:()=>n("/add-item"),className:"fixed bottom-20 right-4 w-14 h-14 bg-brand-600 text-white rounded-full shadow-lg shadow-brand-500/30 flex items-center justify-center hover:bg-brand-700 active:scale-95 transition-all z-20",children:O.jsx(SM,{size:28})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iye,oye;function sye(){return{geminiUrl:iye,vertexUrl:oye}}function aye(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=sye();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ei{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];p(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>d(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function lye(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}j_(t,i,o,0,s)}}function j_(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])j_(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);p(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&j_(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uye(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function cye(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response","generateVideoResponse"]);return s!=null&&p(e,["response"],dye(s)),e}function fye(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],hye(s)),e}function dye(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>pye(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function hye(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>mye(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function pye(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],Eye(n)),e}function mye(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],Tye(n)),e}function gye(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function yye(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function vye(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],_ye(s)),e}function _ye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function TV(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],wye(s)),e}function wye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function Eye(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],qT(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Tye(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],qT(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bP;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(bP||(bP={}));var AP;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(AP||(AP={}));var IP;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(IP||(IP={}));var dr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(dr||(dr={}));var xP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(xP||(xP={}));var CP;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(CP||(CP={}));var PP;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(PP||(PP={}));var RP;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(RP||(RP={}));var NP;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(NP||(NP={}));var kP;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(kP||(kP={}));var MP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(MP||(MP={}));var OP;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(OP||(OP={}));var DP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(DP||(DP={}));var LP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(LP||(LP={}));var $P;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($P||($P={}));var VP;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(VP||(VP={}));var UP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(UP||(UP={}));var FP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(FP||(FP={}));var BP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(BP||(BP={}));var $p;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})($p||($p={}));var qP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qP||(qP={}));var jP;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jP||(jP={}));var HP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(HP||(HP={}));var H_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(H_||(H_={}));var GP;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(GP||(GP={}));var zP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zP||(zP={}));var WP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(WP||(WP={}));var KP;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(KP||(KP={}));var JP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(JP||(JP={}));var YP;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(YP||(YP={}));var XP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(XP||(XP={}));var QP;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(QP||(QP={}));var ZP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ZP||(ZP={}));var eR;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(eR||(eR={}));var tR;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tR||(tR={}));var nR;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(nR||(nR={}));var rR;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(rR||(rR={}));var iR;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(iR||(iR={}));var oR;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(oR||(oR={}));var sR;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(sR||(sR={}));var aR;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(aR||(aR={}));var lR;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(lR||(lR={}));var uR;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(uR||(uR={}));var cR;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(cR||(cR={}));var fR;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(fR||(fR={}));var dR;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(dR||(dR={}));var hR;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(hR||(hR={}));var pR;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(pR||(pR={}));var mR;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mR||(mR={}));var gR;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gR||(gR={}));var yR;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(yR||(yR={}));var vR;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vR||(vR={}));var _R;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_R||(_R={}));var wR;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wR||(wR={}));var aa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(aa||(aa={}));class G_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class pu{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,_]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(_!==null||_!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class ER{}class TR{}class Sye{}class bye{}class Aye{}class Iye{}class SR{}class bR{}class AR{}class xye{}class Vp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Vp;let i;const o=e;return n?i=fye(o):i=cye(o),Object.assign(r,i),r}}class IR{}class xR{}class CR{}class Cye{}class Pye{}class Rye{}class jT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new jT,o=vye(e);return Object.assign(r,o),r}}class Nye{}class kye{}class Mye{}class PR{}class Oye{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Dye{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class HT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new HT,o=TV(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Re(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function SV(t,e){const n=Re(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function bV(t){return Array.isArray(t)?t.map(e=>Up(e)):[Up(t)]}function Up(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function AV(t){const e=Up(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function IV(t){const e=Up(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function RR(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function xV(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>RR(e)):[RR(t)]}function z_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function NR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function kR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function sn(t){if(t==null)throw new Error("ContentUnion is required");return z_(t)?t:{role:"user",parts:xV(t)}}function GT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=sn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=sn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>sn(n)):[sn(e)]}function Kn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(NR(t)||kR(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[sn(t)]}const e=[],n=[],r=z_(t[0]);for(const i of t){const o=z_(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(NR(i)||kR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:xV(n)}),e}function Lye(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(dr).includes(n[0].toUpperCase())?n[0].toUpperCase():dr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(dr).includes(r.toUpperCase())?r.toUpperCase():dr.TYPE_UNSPECIFIED})}}function Ta(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Lye(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(dr).includes(a.toUpperCase())?a.toUpperCase():dr.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Ta(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(Ta(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=Ta(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function zT(t){return Ta(t)}function WT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function KT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Nl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ta(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ta(e.response));return t}function kl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function $ye(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ti(t,e){if(typeof e!="string")throw new Error("name must be a string");return $ye(t,e,"cachedContents")}function CV(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Po(t){return qT(t)}function Vye(t){return t!=null&&typeof t=="object"&&"name"in t}function Uye(t){return t!=null&&typeof t=="object"&&"video"in t}function Fye(t){return t!=null&&typeof t=="object"&&"uri"in t}function PV(t){var e;let n;if(Vye(t)&&(n=t.name),!(Fye(t)&&(n=t.uri,n===void 0))&&!(Uye(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function RV(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function NV(t){for(const e of["models","tunedModels","publisherModels"])if(Bye(t,e))return t[e];return[]}function Bye(t,e){return t!==null&&typeof t=="object"&&e in t}function qye(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function jye(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=qye(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function kV(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Hye(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function MV(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ml(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function OV(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gye(t){const e={},n=d(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ave(s))),p(e,["inlinedResponses"],o)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["inlinedEmbedContentResponses"],o)}return e}function zye(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Wye(t){const e={},n=d(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Kd(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&p(e,["state"],OV(i));const o=d(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const s=d(t,["metadata","endTime"]);s!=null&&p(e,["endTime"],s);const a=d(t,["metadata","updateTime"]);a!=null&&p(e,["updateTime"],a);const l=d(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&p(e,["dest"],Gye(MV(u))),e}function W_(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],OV(i));const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["createTime"]);s!=null&&p(e,["createTime"],s);const a=d(t,["startTime"]);a!=null&&p(e,["startTime"],a);const l=d(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&p(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&p(e,["src"],Kye(f));const h=d(t,["outputConfig"]);h!=null&&p(e,["dest"],zye(MV(h)));const g=d(t,["completionStats"]);return g!=null&&p(e,["completionStats"],g),e}function Kye(t){const e={},n=d(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Jye(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>bve(t,s))),p(n,["requests","requests"],o)}return n}function Yye(t){const e={},n=d(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Xye(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Qye(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ml(t,r)),n}function Zye(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ml(t,r)),n}function eve(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],tve(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const a=d(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const l=d(t,["index"]);l!=null&&p(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],f),e}function tve(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function DV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kve(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function nve(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function rve(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],Wye(Hye(i))),n}function MR(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Jye(t,kV(t,i)));const o=d(e,["config"]);return o!=null&&nve(o,n),n}function ive(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],Re(t,r));const i=d(e,["src"]);i!=null&&p(n,["inputConfig"],Yye(kV(t,i)));const o=d(e,["config"]);return o!=null&&rve(o,n),n}function ove(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function sve(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],hve(t,i));const o=d(e,["config"]);return o!=null&&ove(o,n),n}function ave(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ml(t,r)),n}function lve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ml(t,r)),n}function uve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function cve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function fve(t,e){const n={},r=d(e,["contents"]);if(r!=null){let o=GT(t,r);Array.isArray(o)&&(o=o.map(s=>s)),p(n,["requests[]","request","content"],o)}const i=d(e,["config"]);return i!=null&&(p(n,["_self"],dve(i,n)),lye(n,{"requests[].*":"requests[].request.*"})),n}function dve(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function hve(t,e){const n={},r=d(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],fve(t,i)),n}function pve(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function mve(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gve(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yve(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],DV(sn(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&p(r,["topP"],s);const a=d(e,["topK"]);a!=null&&p(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=d(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const _=d(e,["frequencyPenalty"]);_!=null&&p(r,["frequencyPenalty"],_);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],zT(v));const E=d(e,["responseJsonSchema"]);if(E!=null&&p(r,["responseJsonSchema"],E),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(N=>Mve(N))),p(n,["safetySettings"],D)}const R=d(e,["tools"]);if(n!==void 0&&R!=null){let D=kl(R);Array.isArray(D)&&(D=D.map(N=>Dve(Nl(N)))),p(n,["tools"],D)}const A=d(e,["toolConfig"]);if(n!==void 0&&A!=null&&p(n,["toolConfig"],Ove(A)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=d(e,["cachedContent"]);n!==void 0&&x!=null&&p(n,["cachedContent"],Ti(t,x));const b=d(e,["responseModalities"]);b!=null&&p(r,["responseModalities"],b);const I=d(e,["mediaResolution"]);I!=null&&p(r,["mediaResolution"],I);const C=d(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],WT(C)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=d(e,["thinkingConfig"]);M!=null&&p(r,["thinkingConfig"],M);const k=d(e,["imageConfig"]);return k!=null&&p(r,["imageConfig"],Sve(k)),r}function vve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>eve(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&p(e,["responseId"],s);const a=d(t,["usageMetadata"]);return a!=null&&p(e,["usageMetadata"],a),e}function _ve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ml(t,r)),n}function wve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ml(t,r)),n}function Eve(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Tve(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Sve(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function bve(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["request","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let a=Kn(i);Array.isArray(a)&&(a=a.map(l=>DV(l))),p(n,["request","contents"],a)}const o=d(e,["metadata"]);o!=null&&p(n,["metadata"],o);const s=d(e,["config"]);return s!=null&&p(n,["request","generationConfig"],yve(t,s,d(n,["request"],{}))),n}function Ave(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],vve(n));const r=d(t,["error"]);return r!=null&&p(e,["error"],r),e}function Ive(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function xve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=d(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function Cve(t){const e={},n=d(t,["config"]);return n!=null&&Ive(n,e),e}function Pve(t){const e={},n=d(t,["config"]);return n!=null&&xve(n,e),e}function Rve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Kd(s))),p(e,["batchJobs"],o)}return e}function Nve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>W_(s))),p(e,["batchJobs"],o)}return e}function kve(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],pve(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],mve(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],Xye(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Mve(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function Ove(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],gve(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Dve(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],Eve(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Tve(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(mi||(mi={}));class ks{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lve extends Ei{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new ks(mi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=MR(this.apiClient,e),r=n._url,i=re("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ive(this.apiClient,e);return a=re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>W_(c))}else{const u=MR(this.apiClient,e);return a=re("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Kd(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=sve(this.apiClient,e);return o=re("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Kd(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=wve(this.apiClient,e);return a=re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>W_(c))}else{const u=_ve(this.apiClient,e);return a=re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Kd(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=Zye(this.apiClient,e);s=re("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Qye(this.apiClient,e);s=re("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Pve(e);return a=re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Nve(c),h=new PR;return Object.assign(h,f),h})}else{const u=Cve(e);return a=re("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Rve(c),h=new PR;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=lve(this.apiClient,e);return a=re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>cve(c))}else{const u=ave(this.apiClient,e);return a=re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>uve(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $ve(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function OR(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>s0e(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Vve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let c=Kn(s);Array.isArray(c)&&(c=c.map(f=>OR(f))),p(e,["contents"],c)}const a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&p(e,["systemInstruction"],OR(sn(a)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>l0e(f))),p(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],a0e(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Uve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let f=Kn(s);Array.isArray(f)&&(f=f.map(h=>h)),p(e,["contents"],f)}const a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&p(e,["systemInstruction"],sn(a));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>u0e(h))),p(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function Fve(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],SV(t,r));const i=d(e,["config"]);return i!=null&&Vve(i,n),n}function Bve(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],SV(t,r));const i=d(e,["config"]);return i!=null&&Uve(i,n),n}function qve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ti(t,r)),n}function jve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ti(t,r)),n}function Hve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Gve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function zve(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Wve(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kve(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Jve(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const a=d(t,["responseJsonSchema"]);return a!=null&&p(e,["responseJsonSchema"],a),e}function Yve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ti(t,r)),n}function Xve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ti(t,r)),n}function Qve(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Zve(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function e0e(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function t0e(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function n0e(t){const e={},n=d(t,["config"]);return n!=null&&e0e(n,e),e}function r0e(t){const e={},n=d(t,["config"]);return n!=null&&t0e(n,e),e}function i0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["cachedContents"],o)}return e}function o0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["cachedContents"],o)}return e}function s0e(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],zve(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],Wve(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],$ve(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function a0e(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],Kve(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function l0e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],Qve(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Zve(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function u0e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Jve(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=d(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],a);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function c0e(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function f0e(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function d0e(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ti(t,r));const i=d(e,["config"]);return i!=null&&c0e(i,n),n}function h0e(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ti(t,r));const i=d(e,["config"]);return i!=null&&f0e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p0e extends Ei{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ks(mi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Bve(this.apiClient,e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Fve(this.apiClient,e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Xve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Yve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Gve(c),h=new xR;return Object.assign(h,f),h})}else{const u=qve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Hve(c),h=new xR;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=h0e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=d0e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=r0e(e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=o0e(c),h=new CR;return Object.assign(h,f),h})}else{const u=n0e(e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=i0e(c),h=new CR;return Object.assign(h,f),h})}}}function DR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function Sa(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,f)}}function a(g,_){r[g]&&(i[g]=function(y){return new Promise(function(w,v){o.push([g,y,w,v])>1||l(g,y)})},_&&(i[g]=_(i[g])))}function l(g,_){try{u(r[g](_))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof Ye?Promise.resolve(g.value.v).then(c,f):h(o[0][2],g)}function c(g){l("next",g)}function f(g){l("throw",g)}function h(g,_){g(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function zu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof DR=="function"?DR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m0e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:LV(n)}function LV(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function g0e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function LR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!LV(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class y0e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new v0e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class v0e{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),g0e(o)}async sendMessage(e){var n;await this.sendPromise;const r=sn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(f))!==null&&a!==void 0?a:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=sn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?LR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Sa(this,arguments,function*(){var s,a,l,u;const c=[];try{for(var f=!0,h=zu(e),g;g=yield Ye(h.next()),s=g.done,!s;f=!0){u=g.value,f=!1;const _=u;if(m0e(_)){const y=(i=(r=_.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&c.push(y)}yield yield Ye(_)}}catch(_){a={error:_}}finally{try{!f&&!s&&(l=h.return)&&(yield Ye(l.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...LR(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gg extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,gg.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _0e(t){const e={},n=d(t,["file"]);return n!=null&&p(e,["file"],n),e}function w0e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function E0e(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],PV(n)),e}function T0e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function S0e(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],PV(n)),e}function b0e(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function A0e(t){const e={},n=d(t,["config"]);return n!=null&&b0e(n,e),e}function I0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x0e extends Ei{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ks(mi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=A0e(e);return o=re("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=I0e(l),c=new Nye;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_0e(e);return o=re("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=w0e(l),c=new kye;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=S0e(e);return o=re("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=E0e(e);return o=re("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=T0e(l),c=new Mye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jd(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function C0e(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>H0e(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function P0e(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function R0e(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function N0e(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const a=d(t,["responseJsonSchema"]);return a!=null&&p(e,["responseJsonSchema"],a),e}function k0e(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const s=d(t,["enableAffectiveDialog"]);s!=null&&p(e,["enableAffectiveDialog"],s);const a=d(t,["frequencyPenalty"]);a!=null&&p(e,["frequencyPenalty"],a);const l=d(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&p(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=d(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const _=d(t,["responseModalities"]);_!=null&&p(e,["responseModalities"],_);const y=d(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const w=d(t,["routingConfig"]);w!=null&&p(e,["routingConfig"],w);const v=d(t,["seed"]);v!=null&&p(e,["seed"],v);const E=d(t,["speechConfig"]);E!=null&&p(e,["speechConfig"],$V(E));const S=d(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const R=d(t,["temperature"]);R!=null&&p(e,["temperature"],R);const A=d(t,["thinkingConfig"]);A!=null&&p(e,["thinkingConfig"],A);const x=d(t,["topK"]);x!=null&&p(e,["topK"],x);const b=d(t,["topP"]);if(b!=null&&p(e,["topP"],b),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function M0e(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function O0e(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function D0e(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],KT(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&p(e,["setup","systemInstruction"],C0e(sn(_)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let x=kl(y);Array.isArray(x)&&(x=x.map(b=>z0e(Nl(b)))),p(e,["setup","tools"],x)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],G0e(w));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const E=d(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],E);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const R=d(t,["contextWindowCompression"]);e!==void 0&&R!=null&&p(e,["setup","contextWindowCompression"],R);const A=d(t,["proactivity"]);return e!==void 0&&A!=null&&p(e,["setup","proactivity"],A),n}function L0e(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],k0e(r));const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],$V(KT(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&p(e,["setup","systemInstruction"],sn(_));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let x=kl(y);Array.isArray(x)&&(x=x.map(b=>W0e(Nl(b)))),p(e,["setup","tools"],x)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],w);const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const E=d(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],E);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const R=d(t,["contextWindowCompression"]);e!==void 0&&R!=null&&p(e,["setup","contextWindowCompression"],R);const A=d(t,["proactivity"]);return e!==void 0&&A!=null&&p(e,["setup","proactivity"],A),n}function $0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],D0e(i,n)),n}function V0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],L0e(i,n)),n}function U0e(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function F0e(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function B0e(t){const e={},n=d(t,["media"]);if(n!=null){let u=bV(n);Array.isArray(u)&&(u=u.map(c=>Jd(c))),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],Jd(IV(r)));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],Jd(AV(o)));const s=d(t,["text"]);s!=null&&p(e,["text"],s);const a=d(t,["activityStart"]);a!=null&&p(e,["activityStart"],a);const l=d(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function q0e(t){const e={},n=d(t,["media"]);if(n!=null){let u=bV(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],IV(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],AV(o));const s=d(t,["text"]);s!=null&&p(e,["text"],s);const a=d(t,["activityStart"]);a!=null&&p(e,["activityStart"],a);const l=d(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function j0e(t){const e={},n=d(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=d(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const s=d(t,["usageMetadata"]);s!=null&&p(e,["usageMetadata"],K0e(s));const a=d(t,["goAway"]);a!=null&&p(e,["goAway"],a);const l=d(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],l),e}function H0e(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],P0e(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],R0e(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],Jd(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function G0e(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $V(t){const e={},n=d(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=d(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function z0e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],M0e(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],O0e(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function W0e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>N0e(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=d(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],a);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function K0e(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const s=d(t,["thoughtsTokenCount"]);s!=null&&p(e,["thoughtsTokenCount"],s);const a=d(t,["totalTokenCount"]);a!=null&&p(e,["totalTokenCount"],a);const l=d(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(_=>_)),p(e,["promptTokensDetails"],g)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(_=>_)),p(e,["cacheTokensDetails"],g)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(_=>_)),p(e,["responseTokensDetails"],g)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(_=>_)),p(e,["toolUsePromptTokensDetails"],g)}const h=d(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J0e(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Y0e(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],X0e(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const a=d(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const l=d(t,["index"]);l!=null&&p(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],f),e}function X0e(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function Q0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let o=Kn(i);Array.isArray(o)&&(o=o.map(s=>s)),p(n,["contents"],o)}return n}function Z0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function e_e(t){const e={},n=d(t,["values"]);n!=null&&p(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&p(e,["statistics"],t_e(r)),e}function t_e(t){const e={},n=d(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function yg(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cwe(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function n_e(t){const e={},n=d(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function r_e(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function i_e(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],sn(r));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>qV(a))),p(e,["tools"],s)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],J_e(o)),n}function o_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=Kn(i);Array.isArray(s)&&(s=s.map(a=>yg(a))),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&r_e(o),n}function s_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=Kn(i);Array.isArray(s)&&(s=s.map(a=>a)),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&i_e(o,n),n}function a_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function l_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function u_e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function c_e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function f_e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function d_e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function h_e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);e!==void 0&&a!=null&&p(e,["parameters","guidanceScale"],a);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=d(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&p(e,["parameters","outputOptions","mimeType"],_);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const v=d(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const E=d(t,["editMode"]);e!==void 0&&E!=null&&p(e,["parameters","editMode"],E);const S=d(t,["baseSteps"]);return e!==void 0&&S!=null&&p(e,["parameters","editConfig","baseSteps"],S),n}function p_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>gwe(l))),p(n,["instances[0]","referenceImages"],a)}const s=d(e,["config"]);return s!=null&&h_e(s,n),n}function m_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>vg(o))),p(e,["generatedImages"],i)}return e}function g_e(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function y_e(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const s=d(t,["mimeType"]);e!==void 0&&s!=null&&p(e,["instances[]","mimeType"],s);const a=d(t,["autoTruncate"]);return e!==void 0&&a!=null&&p(e,["parameters","autoTruncate"],a),n}function v_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let a=GT(t,i);Array.isArray(a)&&(a=a.map(l=>l)),p(n,["requests[]","content"],a)}const o=d(e,["config"]);o!=null&&g_e(o,n);const s=d(e,["model"]);return s!==void 0&&p(n,["requests[]","model"],Re(t,s)),n}function __e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=GT(t,i);Array.isArray(s)&&(s=s.map(a=>a)),p(n,["instances[]","content"],s)}const o=d(e,["config"]);return o!=null&&y_e(o,n),n}function w_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function E_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>e_e(s))),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function T_e(t){const e={},n=d(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function S_e(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function b_e(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function A_e(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function I_e(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const a=d(t,["responseJsonSchema"]);return a!=null&&p(e,["responseJsonSchema"],a),e}function x_e(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],yg(sn(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&p(r,["topP"],s);const a=d(e,["topK"]);a!=null&&p(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=d(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const _=d(e,["frequencyPenalty"]);_!=null&&p(r,["frequencyPenalty"],_);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],zT(v));const E=d(e,["responseJsonSchema"]);if(E!=null&&p(r,["responseJsonSchema"],E),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(N=>ywe(N))),p(n,["safetySettings"],D)}const R=d(e,["tools"]);if(n!==void 0&&R!=null){let D=kl(R);Array.isArray(D)&&(D=D.map(N=>bwe(Nl(N)))),p(n,["tools"],D)}const A=d(e,["toolConfig"]);if(n!==void 0&&A!=null&&p(n,["toolConfig"],Swe(A)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=d(e,["cachedContent"]);n!==void 0&&x!=null&&p(n,["cachedContent"],Ti(t,x));const b=d(e,["responseModalities"]);b!=null&&p(r,["responseModalities"],b);const I=d(e,["mediaResolution"]);I!=null&&p(r,["mediaResolution"],I);const C=d(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],WT(C)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=d(e,["thinkingConfig"]);M!=null&&p(r,["thinkingConfig"],M);const k=d(e,["imageConfig"]);return k!=null&&p(r,["imageConfig"],ewe(k)),r}function C_e(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],sn(i));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&p(r,["topP"],s);const a=d(e,["topK"]);a!=null&&p(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=d(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const _=d(e,["frequencyPenalty"]);_!=null&&p(r,["frequencyPenalty"],_);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],zT(v));const E=d(e,["responseJsonSchema"]);E!=null&&p(r,["responseJsonSchema"],E);const S=d(e,["routingConfig"]);S!=null&&p(r,["routingConfig"],S);const R=d(e,["modelSelectionConfig"]);R!=null&&p(r,["modelConfig"],R);const A=d(e,["safetySettings"]);if(n!==void 0&&A!=null){let G=A;Array.isArray(G)&&(G=G.map(K=>K)),p(n,["safetySettings"],G)}const x=d(e,["tools"]);if(n!==void 0&&x!=null){let G=kl(x);Array.isArray(G)&&(G=G.map(K=>qV(Nl(K)))),p(n,["tools"],G)}const b=d(e,["toolConfig"]);n!==void 0&&b!=null&&p(n,["toolConfig"],b);const I=d(e,["labels"]);n!==void 0&&I!=null&&p(n,["labels"],I);const C=d(e,["cachedContent"]);n!==void 0&&C!=null&&p(n,["cachedContent"],Ti(t,C));const M=d(e,["responseModalities"]);M!=null&&p(r,["responseModalities"],M);const k=d(e,["mediaResolution"]);k!=null&&p(r,["mediaResolution"],k);const D=d(e,["speechConfig"]);D!=null&&p(r,["speechConfig"],BV(WT(D)));const N=d(e,["audioTimestamp"]);N!=null&&p(r,["audioTimestamp"],N);const B=d(e,["thinkingConfig"]);B!=null&&p(r,["thinkingConfig"],B);const j=d(e,["imageConfig"]);return j!=null&&p(r,["imageConfig"],twe(j)),r}function $R(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=Kn(i);Array.isArray(s)&&(s=s.map(a=>yg(a))),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],x_e(t,o,n)),n}function VR(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=Kn(i);Array.isArray(s)&&(s=s.map(a=>a)),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],C_e(t,o,n)),n}function UR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Y0e(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&p(e,["responseId"],s);const a=d(t,["usageMetadata"]);return a!=null&&p(e,["usageMetadata"],a),e}function FR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=d(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const s=d(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const a=d(t,["responseId"]);a!=null&&p(e,["responseId"],a);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function P_e(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const a=d(t,["personGeneration"]);e!==void 0&&a!=null&&p(e,["parameters","personGeneration"],a);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=d(t,["imageSize"]);if(e!==void 0&&g!=null&&p(e,["parameters","sampleImageSize"],g),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function R_e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);e!==void 0&&a!=null&&p(e,["parameters","guidanceScale"],a);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=d(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&p(e,["parameters","outputOptions","mimeType"],_);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const v=d(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const E=d(t,["imageSize"]);e!==void 0&&E!=null&&p(e,["parameters","sampleImageSize"],E);const S=d(t,["enhancePrompt"]);return e!==void 0&&S!=null&&p(e,["parameters","enhancePrompt"],S),n}function N_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&P_e(o,n),n}function k_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&R_e(o,n),n}function M_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>G_e(s))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],UV(i)),e}function O_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>vg(s))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],FV(i)),e}function D_e(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=d(t,["resolution"]);e!==void 0&&s!=null&&p(e,["parameters","resolution"],s);const a=d(t,["personGeneration"]);if(e!==void 0&&a!=null&&p(e,["parameters","personGeneration"],a),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=d(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],_g(c));const f=d(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>$we(g))),p(e,["instances[0]","referenceImages"],h)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function L_e(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=d(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const s=d(t,["durationSeconds"]);e!==void 0&&s!=null&&p(e,["parameters","durationSeconds"],s);const a=d(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&p(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const g=d(t,["enhancePrompt"]);e!==void 0&&g!=null&&p(e,["parameters","enhancePrompt"],g);const _=d(t,["generateAudio"]);e!==void 0&&_!=null&&p(e,["parameters","generateAudio"],_);const y=d(t,["lastFrame"]);e!==void 0&&y!=null&&p(e,["instances[0]","lastFrame"],_r(y));const w=d(t,["referenceImages"]);if(e!==void 0&&w!=null){let S=w;Array.isArray(S)&&(S=S.map(R=>Vwe(R))),p(e,["instances[0]","referenceImages"],S)}const v=d(t,["mask"]);e!==void 0&&v!=null&&p(e,["instances[0]","mask"],Lwe(v));const E=d(t,["compressionQuality"]);return e!==void 0&&E!=null&&p(e,["parameters","compressionQuality"],E),n}function $_e(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response","generateVideoResponse"]);return s!=null&&p(e,["response"],B_e(s)),e}function V_e(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],q_e(s)),e}function U_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],_g(o));const s=d(e,["video"]);s!=null&&p(n,["instances[0]","video"],jV(s));const a=d(e,["source"]);a!=null&&j_e(a,n);const l=d(e,["config"]);return l!=null&&D_e(l,n),n}function F_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],_r(o));const s=d(e,["video"]);s!=null&&p(n,["instances[0]","video"],HV(s));const a=d(e,["source"]);a!=null&&H_e(a,n);const l=d(e,["config"]);return l!=null&&L_e(l,n),n}function B_e(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>W_e(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function q_e(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>K_e(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function j_e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],_g(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],jV(o)),n}function H_e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],_r(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],HV(o)),n}function G_e(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],nwe(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],UV(i)),e}function vg(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],VV(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&p(e,["safetyAttributes"],FV(i));const o=d(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function z_e(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["mask"],VV(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function W_e(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],Owe(n)),e}function K_e(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],Dwe(n)),e}function J_e(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const s=d(t,["enableAffectiveDialog"]);s!=null&&p(e,["enableAffectiveDialog"],s);const a=d(t,["frequencyPenalty"]);a!=null&&p(e,["frequencyPenalty"],a);const l=d(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&p(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=d(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const _=d(t,["responseModalities"]);_!=null&&p(e,["responseModalities"],_);const y=d(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const w=d(t,["routingConfig"]);w!=null&&p(e,["routingConfig"],w);const v=d(t,["seed"]);v!=null&&p(e,["seed"],v);const E=d(t,["speechConfig"]);E!=null&&p(e,["speechConfig"],BV(E));const S=d(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const R=d(t,["temperature"]);R!=null&&p(e,["temperature"],R);const A=d(t,["thinkingConfig"]);A!=null&&p(e,["thinkingConfig"],A);const x=d(t,["topK"]);x!=null&&p(e,["topK"],x);const b=d(t,["topP"]);if(b!=null&&p(e,["topP"],b),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Y_e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function X_e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function Q_e(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Z_e(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function ewe(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function twe(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=d(t,["outputMimeType"]);i!=null&&p(e,["imageOutputOptions","mimeType"],i);const o=d(t,["outputCompressionQuality"]);return o!=null&&p(e,["imageOutputOptions","compressionQuality"],o),e}function nwe(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Po(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function VV(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],Po(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function _g(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Po(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function _r(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Po(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function rwe(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const s=d(e,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const a=d(e,["queryBase"]);return n!==void 0&&a!=null&&p(n,["_url","models_url"],RV(t,a)),r}function iwe(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const s=d(e,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const a=d(e,["queryBase"]);return n!==void 0&&a!=null&&p(n,["_url","models_url"],RV(t,a)),r}function owe(t,e){const n={},r=d(e,["config"]);return r!=null&&rwe(t,r,n),n}function swe(t,e){const n={},r=d(e,["config"]);return r!=null&&iwe(t,r,n),n}function awe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=NV(i);Array.isArray(o)&&(o=o.map(s=>K_(s))),p(e,["models"],o)}return e}function lwe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=NV(i);Array.isArray(o)&&(o=o.map(s=>J_(s))),p(e,["models"],o)}return e}function uwe(t){const e={},n=d(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function K_(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["version"]);o!=null&&p(e,["version"],o);const s=d(t,["_self"]);s!=null&&p(e,["tunedModelInfo"],Awe(s));const a=d(t,["inputTokenLimit"]);a!=null&&p(e,["inputTokenLimit"],a);const l=d(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=d(t,["temperature"]);c!=null&&p(e,["temperature"],c);const f=d(t,["maxTemperature"]);f!=null&&p(e,["maxTemperature"],f);const h=d(t,["topP"]);h!=null&&p(e,["topP"],h);const g=d(t,["topK"]);g!=null&&p(e,["topK"],g);const _=d(t,["thinking"]);return _!=null&&p(e,["thinking"],_),e}function J_(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["versionId"]);o!=null&&p(e,["version"],o);const s=d(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>T_e(h))),p(e,["endpoints"],f)}const a=d(t,["labels"]);a!=null&&p(e,["labels"],a);const l=d(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],Iwe(l));const u=d(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["checkpoints"],f)}return e}function cwe(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],S_e(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],b_e(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],J0e(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function fwe(t){const e={},n=d(t,["productImage"]);return n!=null&&p(e,["image"],_r(n)),e}function dwe(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const g=d(t,["labels"]);return e!==void 0&&g!=null&&p(e,["labels"],g),n}function hwe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["source"]);i!=null&&mwe(i,n);const o=d(e,["config"]);return o!=null&&dwe(o,n),n}function pwe(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>vg(i))),p(e,["generatedImages"],r)}return e}function mwe(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],_r(i));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>fwe(a))),p(e,["instances[0]","productImages"],s)}return n}function gwe(t){const e={},n=d(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],_r(n));const r=d(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=d(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],uwe(o));const s=d(t,["controlImageConfig"]);s!=null&&p(e,["controlImageConfig"],n_e(s));const a=d(t,["styleImageConfig"]);a!=null&&p(e,["styleImageConfig"],a);const l=d(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function UV(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function FV(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function ywe(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function vwe(t){const e={},n=d(t,["image"]);return n!=null&&p(e,["image"],_r(n)),e}function _we(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const s=d(t,["maskDilation"]);e!==void 0&&s!=null&&p(e,["parameters","maskDilation"],s);const a=d(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&p(e,["parameters","binaryColorThreshold"],a);const l=d(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function wwe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["source"]);i!=null&&Twe(i,n);const o=d(e,["config"]);return o!=null&&_we(o,n),n}function Ewe(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>z_e(i))),p(e,["generatedMasks"],r)}return e}function Twe(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],_r(i));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],vwe(o)),n}function BV(t){const e={},n=d(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=d(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Swe(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],A_e(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function bwe(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],Q_e(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Z_e(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function qV(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>I_e(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=d(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],a);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function Awe(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Iwe(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function xwe(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function Cwe(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function Pwe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],Re(t,r));const i=d(e,["config"]);return i!=null&&xwe(i,n),n}function Rwe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&Cwe(i,n),n}function Nwe(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const s=d(t,["includeRaiReason"]);e!==void 0&&s!=null&&p(e,["parameters","includeRaiReason"],s);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&p(e,["parameters","outputOptions","mimeType"],a);const l=d(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=d(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=d(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=d(t,["labels"]);e!==void 0&&f!=null&&p(e,["labels"],f);const h=d(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const g=d(t,["mode"]);return e!==void 0&&g!=null&&p(e,["parameters","mode"],g),n}function kwe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["image"]);i!=null&&p(n,["instances[0]","image"],_r(i));const o=d(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=d(e,["config"]);return s!=null&&Nwe(s,n),n}function Mwe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>vg(o))),p(e,["generatedImages"],i)}return e}function Owe(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Po(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Dwe(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Po(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Lwe(t){const e={},n=d(t,["image"]);n!=null&&p(e,["_self"],_r(n));const r=d(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function $we(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],_g(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function Vwe(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],_r(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function jV(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],Po(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function HV(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Po(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uwe="Content-Type",Fwe="X-Server-Timeout",Bwe="User-Agent",Y_="x-goog-api-client",qwe="1.30.0",jwe=`google-genai-sdk/${qwe}`,Hwe="v1beta1",Gwe="v1beta",BR=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class zwe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Hwe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Gwe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&Wwe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await qR(i),new G_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await qR(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Sa(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield Ye(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),g=h.status,_=h.code,y=`got status: ${g}. ${JSON.stringify(f)}`;if(_>=400&&_<600)throw new gg({message:y,status:_})}}catch(f){if(f.name==="ApiError")throw f}s+=u;let c=s.match(BR);for(;c;){const f=c[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new G_(h)),s=s.slice(c[0].length),c=s.match(BR)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=jwe+" "+this.clientOptions.userAgentExtra;return e[Bwe]=n,e[Y_]=n,e[Uwe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Fwe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=re("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&r.customMetadata&&(f.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(f.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function qR(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new gg({message:i,status:n}):new Error(i)}}function Wwe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kwe="mcp_used/unknown";let Jwe=!1;function GV(t){for(const e of t)if(Ywe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Jwe}function zV(t){var e;const n=(e=t[Y_])!==null&&e!==void 0?e:"";t[Y_]=(n+` ${Kwe}`).trimStart()}function Ywe(t){return t!==null&&typeof t=="object"&&t instanceof JT}function Xwe(t,e=100){return Sa(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield Ye(t.listTools({cursor:r}));for(const s of o.tools)yield yield Ye(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class JT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new JT(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,zu(Xwe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),jye(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Qwe(t,e,n){const r=new Dye;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Zwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=nEe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},g=this.apiClient,_={onopen:h,onmessage:S=>{Qwe(g,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},y=this.webSocketFactory.create(l,tEe(s),_);y.connect(),await c;const E={setup:{model:Re(this.apiClient,e.model)}};return y.send(JSON.stringify(E)),new eEe(y,this.apiClient)}}class eEe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=F0e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=U0e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(aa.PLAY)}pause(){this.sendPlaybackControl(aa.PAUSE)}stop(){this.sendPlaybackControl(aa.STOP)}resetContext(){this.sendPlaybackControl(aa.RESET_CONTEXT)}close(){this.conn.close()}}function tEe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function nEe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rEe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function iEe(t,e,n){const r=new Oye;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=j0e(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class oEe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Zwe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&GV(e.config.tools)&&zV(f);const h=uEe(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const C=this.apiClient.getApiKey();let M="BidiGenerateContent",k="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",k="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${k}=${C}`}let g=()=>{};const _=new Promise(C=>{g=C}),y=e.callbacks,w=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),g({})},v=this.apiClient,E={onopen:w,onmessage:C=>{iEe(v,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},S=this.webSocketFactory.create(c,lEe(h),E);S.connect(),await _;let R=Re(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const C=this.apiClient.getProject(),M=this.apiClient.getLocation();R=`projects/${C}/locations/${M}/`+R}let A={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[$p.AUDIO]}:e.config.responseModalities=[$p.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const x=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],b=[];for(const C of x)if(this.isCallableTool(C)){const M=C;b.push(await M.tool())}else b.push(C);b.length>0&&(e.config.tools=b);const I={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=V0e(this.apiClient,I):A=$0e(this.apiClient,I),delete A.config,S.send(JSON.stringify(A)),new aEe(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const sEe={turnComplete:!0};class aEe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Kn(n.turns),e.isVertexAI()||(r=r.map(i=>yg(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(rEe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},sEe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:q0e(e)}:n={realtimeInput:B0e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function lEe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function uEe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jR=10;function HR(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ba(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ba(t){return"callTool"in t&&typeof t.callTool=="function"}function cEe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ba(i)))!==null&&r!==void 0?r:!1}function GR(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ba(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function zR(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fEe extends Ei{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!cEe(n)||HR(n.config))return await this.generateContentInternal(l);const u=GR(n);if(u.length>0){const y=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,f;const h=Kn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:jR;let _=0;for(;_<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,w=[];for(const v of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(ba(v)){const S=await v.callTool(c.functionCalls);w.push(...S)}_++,f={role:"user",parts:w},l.contents=Kn(l.contents),l.contents.push(y),l.contents.push(f),zR(l.config)&&(h.push(y),h.push(f))}return zR(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),HR(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=GR(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ks(mi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>ba(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&GV(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),zV(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ba(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:jR;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){var h,g;return Sa(this,arguments,function*(){for(var _,y,w,v;a<o;){s&&(a++,s=!1);const A=yield Ye(u.processParamsMaybeAddMcpUsage(f)),x=yield Ye(u.generateContentStreamInternal(A)),b=[],I=[];try{for(var E=!0,S=(y=void 0,zu(x)),R;R=yield Ye(S.next()),_=R.done,!_;E=!0){v=R.value,E=!1;const C=v;if(yield yield Ye(C),C.candidates&&(!((h=C.candidates[0])===null||h===void 0)&&h.content)){I.push(C.candidates[0].content);for(const M of(g=C.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(a<o&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(M.functionCall.name)){const k=yield Ye(c.get(M.functionCall.name).callTool([M.functionCall]));b.push(...k)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(C){y={error:C}}finally{try{!E&&!_&&(w=S.return)&&(yield Ye(w.call(S)))}finally{if(y)throw y.error}}if(b.length>0){s=!0;const C=new pu;C.candidates=[{content:{role:"user",parts:b}}],yield yield Ye(C);const M=[];M.push(...I),M.push({role:"user",parts:b});const k=Kn(f.contents).concat(M);f.contents=k}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=VR(this.apiClient,e);return a=re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=FR(c),h=new pu;return Object.assign(h,f),h})}else{const u=$R(this.apiClient,e);return a=re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=UR(c),h=new pu;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=VR(this.apiClient,e);return a=re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return Sa(this,arguments,function*(){var h,g,_,y;try{for(var w=!0,v=zu(f),E;E=yield Ye(v.next()),h=E.done,!h;w=!0){y=E.value,w=!1;const S=y,R=FR(yield Ye(S.json()));R.sdkHttpResponse={headers:S.headers};const A=new pu;Object.assign(A,R),yield yield Ye(A)}}catch(S){g={error:S}}finally{try{!w&&!h&&(_=v.return)&&(yield Ye(_.call(v)))}finally{if(g)throw g.error}}})})}else{const u=$R(this.apiClient,e);return a=re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return Sa(this,arguments,function*(){var h,g,_,y;try{for(var w=!0,v=zu(f),E;E=yield Ye(v.next()),h=E.done,!h;w=!0){y=E.value,w=!1;const S=y,R=UR(yield Ye(S.json()));R.sdkHttpResponse={headers:S.headers};const A=new pu;Object.assign(A,R),yield yield Ye(A)}}catch(S){g={error:S}}finally{try{!w&&!h&&(_=v.return)&&(yield Ye(_.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=__e(this.apiClient,e);return a=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=E_e(c),h=new ER;return Object.assign(h,f),h})}else{const u=v_e(this.apiClient,e);return a=re("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=w_e(c),h=new ER;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=k_e(this.apiClient,e);return a=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=O_e(c),h=new TR;return Object.assign(h,f),h})}else{const u=N_e(this.apiClient,e);return a=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=M_e(c),h=new TR;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=p_e(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=m_e(l),c=new Sye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=kwe(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Mwe(l),c=new bye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=hwe(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=pwe(l),c=new Aye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=wwe(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Ewe(l),c=new Iye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=X_e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>J_(c))}else{const u=Y_e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>K_(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=swe(this.apiClient,e);return a=re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=lwe(c),h=new SR;return Object.assign(h,f),h})}else{const u=owe(this.apiClient,e);return a=re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=awe(c),h=new SR;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Rwe(this.apiClient,e);return a=re("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>J_(c))}else{const u=Pwe(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>K_(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=c_e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=d_e(c),h=new bR;return Object.assign(h,f),h})}else{const u=u_e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=f_e(c),h=new bR;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=s_e(this.apiClient,e);return a=re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=l_e(c),h=new AR;return Object.assign(h,f),h})}else{const u=o_e(this.apiClient,e);return a=re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=a_e(c),h=new AR;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Q0e(this.apiClient,e);return o=re("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Z0e(l),c=new xye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=F_e(this.apiClient,e);return a=re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=V_e(c),h=new Vp;return Object.assign(h,f),h})}else{const u=U_e(this.apiClient,e);return a=re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=$_e(c),h=new Vp;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dEe extends Ei{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=yye(e);return a=re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=gye(e);return a=re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=uye(e);return o=re("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hEe(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function pEe(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>SEe(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function mEe(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=d(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const s=d(e,["uses"]);n!==void 0&&s!=null&&p(n,["uses"],s);const a=d(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&p(n,["bidiGenerateContentSetup"],TEe(t,a));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function gEe(t,e){const n={},r=d(e,["config"]);return r!=null&&p(n,["config"],mEe(t,r,n)),n}function yEe(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function vEe(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _Ee(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function wEe(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function EEe(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],KT(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&p(e,["setup","systemInstruction"],pEe(sn(_)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let x=kl(y);Array.isArray(x)&&(x=x.map(b=>AEe(Nl(b)))),p(e,["setup","tools"],x)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],bEe(w));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const E=d(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],E);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const R=d(t,["contextWindowCompression"]);e!==void 0&&R!=null&&p(e,["setup","contextWindowCompression"],R);const A=d(t,["proactivity"]);return e!==void 0&&A!=null&&p(e,["setup","proactivity"],A),n}function TEe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],EEe(i,n)),n}function SEe(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],yEe(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],vEe(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],hEe(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function bEe(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function AEe(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],_Ee(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],wEe(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IEe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function xEe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=IEe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class CEe extends Ei{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=gEe(this.apiClient,e);o=re("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=xEe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PEe(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function REe(t){const e={},n=d(t,["config"]);return n!=null&&PEe(n,e),e}function NEe(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function kEe(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&NEe(r,e),e}function MEe(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function OEe(t,e){const n={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["customMetadata"],o)}const i=d(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function DEe(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],$Ee(s)),e}function LEe(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=d(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=d(t,["config"]);return i!=null&&OEe(i,e),e}function $Ee(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function VEe(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function UEe(t){const e={},n=d(t,["config"]);return n!=null&&VEe(n,e),e}function FEe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["fileSearchStores"],o)}return e}function BEe(t,e){const n={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=d(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),p(e,["customMetadata"],a)}const s=d(t,["chunkingConfig"]);return e!==void 0&&s!=null&&p(e,["chunkingConfig"],s),n}function qEe(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=d(t,["config"]);return r!=null&&BEe(r,e),e}function jEe(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HEe(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function GEe(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&HEe(r,e),e}function zEe(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function WEe(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function KEe(t){const e={},n=d(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=d(t,["config"]);return r!=null&&WEe(r,e),e}function JEe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YEe extends Ei{constructor(e){super(),this.apiClient=e,this.list=async n=>new ks(mi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zEe(e);return o=re("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=GEe(e);i=re("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=KEe(e);return o=re("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=JEe(l),c=new Cye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XEe extends Ei{constructor(e,n=new YEe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ks(mi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=REe(e);return o=re("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=MEe(e);return o=re("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=kEe(e);i=re("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=UEe(e);return o=re("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=FEe(l),c=new Pye;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qEe(e);return o=re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=jEe(l),c=new Rye;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=LEe(e);return o=re("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=DEe(l),c=new jT;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QEe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function ZEe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function eTe(t,e,n){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);if(s!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=d(t,["batchSize"]);e!==void 0&&a!=null&&p(e,["tuningTask","hyperparameters","batchSize"],a);const l=d(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function tTe(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=d(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec"],WR(g))}else if(i==="PREFERENCE_TUNING"){const g=d(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec"],WR(g))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const s=d(t,["description"]);e!==void 0&&s!=null&&p(e,["description"],s);let a=d(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=d(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=d(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=d(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=d(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=d(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=d(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=d(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=d(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=d(t,["labels"]);e!==void 0&&f!=null&&p(e,["labels"],f);const h=d(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function nTe(t,e){const n={},r=d(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&hTe(o);const s=d(t,["config"]);return s!=null&&eTe(s,n),n}function rTe(t,e){const n={},r=d(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&pTe(o,n,e);const s=d(t,["config"]);return s!=null&&tTe(s,n,e),n}function iTe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function oTe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function sTe(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),r}function aTe(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),r}function lTe(t,e){const n={},r=d(t,["config"]);return r!=null&&sTe(r,n),n}function uTe(t,e){const n={},r=d(t,["config"]);return r!=null&&aTe(r,n),n}function cTe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>WV(a))),p(n,["tuningJobs"],s)}return n}function fTe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>X_(a))),p(n,["tuningJobs"],s)}return n}function dTe(t,e){const n={},r=d(t,["name"]);r!=null&&p(n,["model"],r);const i=d(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function hTe(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function pTe(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function WV(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["state"]);o!=null&&p(n,["state"],CV(o));const s=d(t,["createTime"]);s!=null&&p(n,["createTime"],s);const a=d(t,["tuningTask","startTime"]);a!=null&&p(n,["startTime"],a);const l=d(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["description"]);c!=null&&p(n,["description"],c);const f=d(t,["baseModel"]);f!=null&&p(n,["baseModel"],f);const h=d(t,["_self"]);return h!=null&&p(n,["tunedModel"],dTe(h)),n}function X_(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["state"]);o!=null&&p(n,["state"],CV(o));const s=d(t,["createTime"]);s!=null&&p(n,["createTime"],s);const a=d(t,["startTime"]);a!=null&&p(n,["startTime"],a);const l=d(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["error"]);c!=null&&p(n,["error"],c);const f=d(t,["description"]);f!=null&&p(n,["description"],f);const h=d(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const g=d(t,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const _=d(t,["preTunedModel"]);_!=null&&p(n,["preTunedModel"],_);const y=d(t,["supervisedTuningSpec"]);y!=null&&p(n,["supervisedTuningSpec"],y);const w=d(t,["preferenceOptimizationSpec"]);w!=null&&p(n,["preferenceOptimizationSpec"],w);const v=d(t,["tuningDataStats"]);v!=null&&p(n,["tuningDataStats"],v);const E=d(t,["encryptionSpec"]);E!=null&&p(n,["encryptionSpec"],E);const S=d(t,["partnerModelTuningSpec"]);S!=null&&p(n,["partnerModelTuningSpec"],S);const R=d(t,["customBaseModel"]);R!=null&&p(n,["customBaseModel"],R);const A=d(t,["experiment"]);A!=null&&p(n,["experiment"],A);const x=d(t,["labels"]);x!=null&&p(n,["labels"],x);const b=d(t,["outputUri"]);b!=null&&p(n,["outputUri"],b);const I=d(t,["pipelineJob"]);I!=null&&p(n,["pipelineJob"],I);const C=d(t,["serviceAccount"]);C!=null&&p(n,["serviceAccount"],C);const M=d(t,["tunedModelDisplayName"]);M!=null&&p(n,["tunedModelDisplayName"],M);const k=d(t,["veoTuningSpec"]);return k!=null&&p(n,["veoTuningSpec"],k),n}function mTe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["metadata"]);o!=null&&p(n,["metadata"],o);const s=d(t,["done"]);s!=null&&p(n,["done"],s);const a=d(t,["error"]);return a!=null&&p(n,["error"],a),n}function WR(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gTe extends Ei{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ks(mi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:H_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=oTe(e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>X_(c))}else{const u=iTe(e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>WV(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=uTe(e);return a=re("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=fTe(c),h=new IR;return Object.assign(h,f),h})}else{const u=lTe(e);return a=re("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=cTe(c),h=new IR;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=ZEe(e);s=re("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=QEe(e);s=re("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=rTe(e,e);return o=re("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>X_(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=nTe(e);return o=re("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>mTe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yTe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const vTe=1024*1024*8,_Te=3,wTe=1e3,ETe=2,Fp="x-goog-upload-status";async function TTe(t,e,n){var r;const i=await KV(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Fp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function STe(t,e,n){var r;const i=await KV(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Fp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=TV(o),a=new HT;return Object.assign(a,s),a}async function KV(t,e,n){var r,i;let o=0,s=0,a=new G_(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(vTe,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,h=wTe;for(;f<_Te&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Fp]));)f++,await ATe(h),h=h*ETe;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Fp])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function bTe(t){return{size:t.size,type:t.type}}function ATe(t){return new Promise(e=>setTimeout(e,t))}class ITe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await TTe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await STe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bTe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xTe{create(e,n,r){return new CTe(e,n,r)}}class CTe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KR="x-goog-api-key";class PTe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(KR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(KR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RTe="gl-node/";class NTe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=aye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new PTe(this.apiKey);this.apiClient=new zwe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:RTe+"web",uploader:new ITe,downloader:new yTe}),this.models=new fEe(this.apiClient),this.live=new oEe(this.apiClient,i,new xTe),this.batches=new Lve(this.apiClient),this.chats=new y0e(this.models,this.apiClient),this.caches=new p0e(this.apiClient),this.files=new x0e(this.apiClient),this.operations=new dEe(this.apiClient),this.authTokens=new CEe(this.apiClient),this.tunings=new gTe(this.apiClient),this.fileSearchStores=new XEe(this.apiClient)}}const kTe=new NTe({apiKey:"AIzaSyAM29gXXeHXgQSAF9JQu19wVUD2HOUD3ko"}),MTe=(t,e=600,n=.6)=>new Promise((r,i)=>{const o=new FileReader;o.readAsDataURL(t),o.onload=s=>{var l;const a=new Image;a.src=(l=s.target)==null?void 0:l.result,a.onload=()=>{const u=Math.min(a.width,a.height),c=(a.width-u)/2,f=(a.height-u)/2,h=document.createElement("canvas");h.width=e,h.height=e;const g=h.getContext("2d");if(!g){i(new Error("Canvas context missing"));return}g.drawImage(a,c,f,u,u,0,0,e,e);const _=h.toDataURL("image/jpeg",n);r(_)},a.onerror=u=>i(u)},o.onerror=s=>i(s)}),OTe=async(t,e)=>{try{const r=(await kTe.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{data:t,mimeType:e}},{text:`You are an inventory manager for 'YSQUARE Bijoux'. 
            Your task is to identify this exact product from the official website.
            
            Steps:
            1. Use Google Search to find this product image on 'site:ysquarebijoux.com'.
            2. If you find a match, use the EXACT product name from the website (e.g., "18K Gold Plated Chunky Hoop Earrings").
            3. If no exact match is found on the website, generate a descriptive name following the brand style (Material + Shape + Type).
            4. Determine the category (Necklace, Earrings, Ring, Bracelet, Accessory).

            Return the result in JSON format.`}]},config:{tools:[{googleSearch:{}}],responseMimeType:"application/json",responseSchema:{type:dr.OBJECT,properties:{name:{type:dr.STRING,description:"The exact product name from the website"},category:{type:dr.STRING}},required:["name","category"]}}})).text;if(!r)throw new Error("No response from AI");const i=r.replace(/```json|```/g,"").trim();return JSON.parse(i)}catch(n){return console.error("Gemini Analysis Error:",n),{name:"",category:""}}},DTe=({message:t,type:e,onClose:n})=>{$.useEffect(()=>{const s=setTimeout(n,3e3);return()=>clearTimeout(s)},[n]);const r={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",info:"bg-blue-50 border-blue-200 text-blue-800"},o={success:_M,error:JB,info:s3}[e];return O.jsxs("div",{className:`fixed top-4 left-4 right-4 z-[100] flex items-start p-4 rounded-xl shadow-lg border animate-[slideIn_0.3s_ease-out] ${r[e]}`,children:[O.jsx(o,{className:"w-5 h-5 mt-0.5 mr-3 flex-shrink-0"}),O.jsx("p",{className:"flex-1 text-sm font-medium",children:t}),O.jsx("button",{onClick:n,className:"ml-2 text-current opacity-60 hover:opacity-100",children:O.jsx(Jv,{size:18})}),O.jsx("style",{children:`
        @keyframes slideIn {
          from { transform: translateY(-100%); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
      `})]})},JV=$.createContext(void 0),LTe=({children:t})=>{const[e,n]=$.useState(null),r=(i,o)=>{n({message:i,type:o})};return O.jsxs(JV.Provider,{value:{showToast:r},children:[t,e&&O.jsx(DTe,{message:e.message,type:e.type,onClose:()=>n(null)})]})},wg=()=>{const t=$.useContext(JV);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},$Te=({refreshData:t})=>{const e=fl(),[n]=yM(),r=n.get("id"),{showToast:i}=wg(),o=$.useRef(null),[s,a]=$.useState(""),[l,u]=$.useState(""),[c,f]=$.useState(""),[h,g]=$.useState(""),[_,y]=$.useState(null),[w,v]=$.useState(!1),[E,S]=$.useState(null),[R,A]=$.useState(!1),[x,b]=$.useState({[Zt.XS]:0,[Zt.S]:0,[Zt.M]:0,[Zt.L]:0,[Zt.OTHER]:0}),I=[" A","","",""];$.useEffect(()=>{if(r){const N=TP(r);N&&(a(N.name),u(N.category),f(N.location||""),g(N.note||""),y(N.imageUrl||null),b(N.stock))}},[r]);const C=()=>{navigator.vibrate&&navigator.vibrate(10)},M=async N=>{var j;const B=(j=N.target.files)==null?void 0:j[0];if(B){S(null),C();try{const G=await MTe(B,600,.6);y(G);{v(!0);const K=G.split(",")[1];try{const V=await OTe(K,"image/jpeg");a(V.name),u(V.category),C(),i("AI ","success")}catch{S("AI "),i("AI ","info")}finally{v(!1)}}}catch{i("","error")}}},k=(N,B)=>{b(j=>{const G=Math.max(0,j[N]+B);return G!==j[N]&&C(),{...j,[N]:G}})},D=()=>{var j;if(!s){i("","error");return}const N={id:r||Date.now().toString(),name:s,category:l||"",imageUrl:_||void 0,stock:x,location:c||"",note:h,createdAt:r&&((j=TP(r))==null?void 0:j.createdAt)||Date.now()};let B=!1;r?(B=Hge(N),B&&i("","success")):(B=jge(N),B&&i("","success")),B&&(navigator.vibrate&&navigator.vibrate(50),t(),R&&!r?(a(""),b({[Zt.XS]:0,[Zt.S]:0,[Zt.M]:0,[Zt.L]:0,[Zt.OTHER]:0}),g(""),y(null),window.scrollTo(0,0)):e("/inventory"))};return O.jsxs("div",{className:"min-h-screen bg-gray-50 pb-safe-area",children:[O.jsxs("div",{className:"bg-white px-4 py-3 sticky top-0 flex items-center justify-between shadow-sm z-10",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-gray-600",children:O.jsx(vM,{size:24})}),O.jsx("h1",{className:"text-lg font-bold ml-2",children:r?"":""})]}),!r&&O.jsxs("button",{onClick:()=>A(!R),className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full border ${R?"bg-brand-50 border-brand-200 text-brand-700":"bg-gray-50 border-gray-200 text-gray-500"}`,children:[O.jsx(m3,{size:12}),""]})]}),O.jsxs("div",{className:"p-4 space-y-6 pb-24",children:[O.jsxs("div",{className:"flex flex-col items-center",children:[O.jsxs("div",{onClick:()=>{var N;return(N=o.current)==null?void 0:N.click()},className:`w-40 h-40 bg-gray-100 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center cursor-pointer overflow-hidden relative shadow-sm ${E?"border-red-300":"border-gray-300"}`,children:[_?O.jsx("img",{src:_,alt:"Preview",className:"w-full h-full object-cover"}):O.jsxs(O.Fragment,{children:[O.jsx(g3,{size:32,className:"text-gray-400 mb-1 opacity-50"}),O.jsx("span",{className:"text-xs text-gray-400",children:""}),O.jsx("span",{className:"text-[10px] text-gray-300 mt-1",children:""})]}),w&&O.jsx("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white backdrop-blur-sm",children:O.jsx(Wv,{className:"animate-spin mb-2"})})]}),O.jsx("input",{ref:o,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:M})]}),O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),O.jsxs("div",{className:"relative",children:[O.jsx("input",{type:"text",value:s,onChange:N=>a(N.target.value),placeholder:"T",className:"w-full border-b border-gray-200 py-2 focus:border-brand-500 focus:outline-none bg-transparent font-medium"}),w&&O.jsx(v3,{className:"absolute right-0 top-2 text-brand-400 animate-pulse",size:16})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),O.jsx("input",{type:"text",value:l,onChange:N=>u(N.target.value),placeholder:"",className:"w-full border-b border-gray-200 py-2 focus:border-brand-500 focus:outline-none bg-transparent"})]})]}),O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[O.jsxs("div",{className:"flex justify-between items-center mb-4",children:[O.jsx("h3",{className:"text-sm font-medium text-gray-700",children:""}),O.jsxs("span",{className:"text-xs text-gray-400 bg-gray-50 px-2 py-0.5 rounded",children:[": ",Object.values(x).reduce((N,B)=>N+B,0)]})]}),O.jsx("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:Object.values(Zt).map(N=>O.jsxs("div",{className:"flex items-center justify-between border-b border-gray-50 pb-2",children:[O.jsx("span",{className:"text-gray-600 font-medium text-sm w-8",children:N}),O.jsxs("div",{className:"flex items-center",children:[O.jsx("button",{onClick:()=>k(N,-1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-l text-gray-600 active:bg-gray-200",children:"-"}),O.jsx("input",{type:"number",value:x[N],readOnly:!0,className:"w-10 text-center bg-gray-50 h-8 font-bold text-gray-800 text-sm"}),O.jsx("button",{onClick:()=>k(N,1),className:"w-8 h-8 flex items-center justify-center bg-brand-500 text-white rounded-r active:bg-brand-600",children:"+"})]})]},N))})]}),O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsxs("div",{children:[O.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[O.jsx(TM,{size:16,className:"mr-1 text-gray-500"})," "]}),O.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:I.map(N=>O.jsx("button",{onClick:()=>f(N),className:`text-xs px-2 py-1 rounded-full border ${c===N?"bg-brand-50 border-brand-200 text-brand-700":"bg-gray-50 border-gray-200 text-gray-600"}`,children:N},N))}),O.jsx("input",{type:"text",value:c,onChange:N=>f(N.target.value),placeholder:"",className:"w-full border-b border-gray-200 py-1 text-sm focus:border-brand-500 focus:outline-none"})]}),O.jsxs("div",{children:[O.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[O.jsx(i3,{size:16,className:"mr-1 text-gray-500"})," "]}),O.jsx("textarea",{value:h,onChange:N=>g(N.target.value),placeholder:"...",rows:1,className:"w-full border-b border-gray-200 py-1 text-sm focus:border-brand-500 focus:outline-none resize-none"})]})]})]}),O.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t z-20 flex gap-3",children:[R&&!r&&O.jsx("div",{className:"flex-1 bg-gray-100 text-gray-400 font-bold py-3.5 rounded-xl flex items-center justify-center text-sm",children:""}),O.jsx("button",{onClick:D,className:"flex-[2] bg-brand-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-brand-500/20 active:scale-[0.98] transition-all",children:r?"":R?"":""})]})]})},VTe=({data:t,refreshData:e})=>{const n=fl(),{showToast:r}=wg(),[i,o]=$.useState(null),[s,a]=$.useState(!1),[l,u]=$.useState(!1),[c,f]=$.useState(""),[h,g]=$.useState(!1),_=A=>A.slice(0,3).map(x=>{var b;return(b=t.items.find(I=>I.id===x))==null?void 0:b.imageUrl}),y=(A,x)=>{A.stopPropagation(),window.confirm("")&&(Kge(x),e())},w=(A,x)=>{A.stopPropagation(),n(`/create-bundle?id=${x}`)},v=async(A,x)=>{A.stopPropagation(),a(!0);try{const b=await tye(x);b?o(b):r("","error")}catch{r("","error")}finally{a(!1)}},E=async()=>{if(!c.trim()){r("","error");return}const A=c.trim();g(!0);try{await nye(A)?(r("","success"),e(),u(!1),f("")):r("","error")}catch{r("","error")}finally{g(!1)}},S=async()=>{try{const A=await navigator.clipboard.readText();A?f(A):r("","info")}catch{r("","error")}},R=A=>{let x=0;return A.forEach(b=>{const I=t.items.find(C=>C.id===b);I&&(x+=Object.values(I.stock).reduce((C,M)=>C+M,0))}),{styles:A.length,pieces:x}};return O.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[s&&O.jsx("div",{className:"fixed inset-0 bg-black/30 z-[60] flex items-center justify-center backdrop-blur-sm",children:O.jsxs("div",{className:"bg-white px-6 py-4 rounded-xl shadow-xl flex items-center gap-3",children:[O.jsx(Wv,{className:"animate-spin text-brand-600"}),O.jsx("span",{className:"font-bold text-gray-700",children:"..."})]})}),O.jsxs("div",{className:"bg-white px-4 pt-4 pb-4 sticky top-0 z-10 shadow-sm flex justify-between items-center",children:[O.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),O.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-1 text-xs font-bold text-brand-600 bg-brand-50 px-3 py-1.5 rounded-full border border-brand-100 active:bg-brand-100",children:[O.jsx(aA,{size:14})," "]})]}),O.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-24",children:t.bundles.length===0?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[O.jsx(wM,{size:48,className:"mb-4 opacity-20"}),O.jsx("p",{children:""})]}):t.bundles.map(A=>{const x=_(A.itemIds),{styles:b,pieces:I}=R(A.itemIds);return O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 active:bg-gray-50 transition-colors cursor-pointer group",children:[O.jsxs("div",{className:"flex justify-between items-start mb-3",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-gray-900",children:A.name}),O.jsx("p",{className:"text-xs text-gray-500 mt-1",children:A.description||""})]}),O.jsxs("div",{className:"flex gap-1",children:[O.jsx("button",{onClick:C=>w(C,A.id),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"",children:O.jsx(h3,{size:16})}),O.jsx("button",{onClick:C=>v(C,A.id),className:"p-1.5 text-gray-400 hover:text-brand-600 hover:bg-brand-50 rounded-full transition-colors",title:"",children:O.jsx(Kv,{size:16})}),O.jsx("button",{onClick:C=>y(C,A.id),className:"p-1.5 text-gray-300 hover:text-red-500",children:O.jsx(AM,{size:16})})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("div",{className:"flex -space-x-2",children:[x.map((C,M)=>O.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-gray-200 overflow-hidden",children:C?O.jsx("img",{src:C,alt:"",className:"w-full h-full object-cover"}):O.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-300",children:O.jsx("span",{className:"text-[8px]",children:""})})},M)),b>3&&O.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500",children:["+",b-3]})]}),O.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[" ",O.jsx("span",{className:"font-bold text-gray-600",children:b}),"  ",O.jsx("span",{className:"font-bold text-brand-600",children:I})," "]})]})]},A.id)})}),O.jsx("button",{onClick:()=>n("/create-bundle"),className:"fixed bottom-20 right-4 w-14 h-14 bg-brand-600 text-white rounded-full shadow-lg shadow-brand-500/30 flex items-center justify-center hover:bg-brand-700 active:scale-95 transition-all z-20",children:O.jsx(SM,{size:28})}),i&&O.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-6 backdrop-blur-sm animate-[fadeIn_0.2s_ease-out]",children:O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-[scaleIn_0.2s_ease-out]",children:[O.jsxs("div",{className:"bg-brand-600 p-4 flex justify-between items-center",children:[O.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[O.jsx(Kv,{size:20})," "]}),O.jsx("button",{onClick:()=>o(null),className:"text-white/80 hover:text-white bg-white/10 rounded-full p-1",children:O.jsx(Jv,{size:20})})]}),O.jsxs("div",{className:"p-6",children:[O.jsx("p",{className:"text-sm text-gray-600 mb-3",children:""}),O.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-3 mb-4 relative group",children:O.jsx("div",{className:"w-full py-2 bg-transparent text-xl text-brand-700 font-mono font-bold text-center tracking-wider select-all",children:i})}),O.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(i).then(()=>r("","success"))},className:"w-full bg-brand-600 text-white font-bold py-3 rounded-xl hover:bg-brand-700 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[O.jsx(t3,{size:18})," "]})]})]})}),l&&O.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-6 backdrop-blur-sm animate-[fadeIn_0.2s_ease-out]",children:O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-[scaleIn_0.2s_ease-out]",children:[O.jsxs("div",{className:"bg-brand-600 p-4 flex justify-between items-center",children:[O.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[O.jsx(aA,{size:20})," "]}),O.jsx("button",{onClick:()=>u(!1),className:"text-white/80 hover:text-white bg-white/10 rounded-full p-1",children:O.jsx(Jv,{size:20})})]}),O.jsxs("div",{className:"p-6",children:[O.jsx("p",{className:"text-sm text-gray-600 mb-3",children:" (WS-...)"}),O.jsxs("div",{className:"relative mb-4",children:[O.jsx("textarea",{value:c,onChange:A=>f(A.target.value),placeholder:"...",className:"w-full h-16 bg-gray-50 border border-gray-200 rounded-xl p-3 text-sm text-gray-800 font-mono break-all resize-none focus:outline-none focus:border-brand-500 focus:ring-1 focus:ring-brand-500"}),O.jsxs("button",{onClick:S,className:"absolute bottom-2 right-2 text-[10px] bg-white border border-gray-200 px-2 py-1 rounded-md text-brand-600 font-bold flex items-center gap-1 shadow-sm hover:bg-gray-50",children:[O.jsx(ZB,{size:12})," "]})]}),O.jsx("button",{onClick:E,disabled:h,className:"w-full bg-brand-600 text-white font-bold py-3 rounded-xl hover:bg-brand-700 active:scale-[0.98] transition-all flex justify-center",children:h?O.jsx(Wv,{className:"animate-spin"}):""})]})]})})]})},UTe=({data:t,refreshData:e})=>{const n=fl(),[r]=yM(),i=r.get("id"),{showToast:o}=wg(),[s,a]=$.useState(""),[l,u]=$.useState(""),[c,f]=$.useState(new Set),[h,g]=$.useState("");$.useEffect(()=>{if(i){const v=SP(i);v&&(a(v.name),u(v.description),f(new Set(v.itemIds)))}},[i]);const _=v=>{const E=new Set(c);E.has(v)?E.delete(v):E.add(v),f(E)},y=()=>{var E;if(!s){o("","error");return}if(c.size===0){o("","error");return}const v={id:i||Date.now().toString(),name:s,description:l,itemIds:Array.from(c),createdAt:i&&((E=SP(i))==null?void 0:E.createdAt)||Date.now()};i?(Wge(v),o("","success")):(zge(v),o("","success")),e(),n("/bundles")},w=t.items.filter(v=>v.name.toLowerCase().includes(h.toLowerCase()));return O.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 pb-safe-area",children:[O.jsxs("div",{className:"bg-white px-4 py-3 shadow-sm z-10",children:[O.jsxs("div",{className:"flex items-center mb-4",children:[O.jsx("button",{onClick:()=>n(-1),className:"p-2 -ml-2 text-gray-600",children:O.jsx(vM,{size:24})}),O.jsx("h1",{className:"text-lg font-bold ml-2",children:i?"":""}),O.jsx("button",{onClick:y,className:"ml-auto text-brand-600 font-bold text-sm px-3 py-1 rounded-full bg-brand-50",children:""})]}),O.jsx("input",{type:"text",placeholder:" (: )",value:s,onChange:v=>a(v.target.value),className:"w-full text-lg font-bold placeholder-gray-300 border-none focus:ring-0 p-0 mb-2"}),O.jsx("input",{type:"text",placeholder:"...",value:l,onChange:v=>u(v.target.value),className:"w-full text-sm text-gray-600 placeholder-gray-300 border-none focus:ring-0 p-0"})]}),O.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[O.jsx("div",{className:"p-4 bg-gray-50 border-b",children:O.jsxs("div",{className:"relative",children:[O.jsx(bM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),O.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-white rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none shadow-sm",value:h,onChange:v=>g(v.target.value)})]})}),O.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:w.map(v=>{const E=c.has(v.id),S=Object.values(v.stock).reduce((R,A)=>R+A,0);return O.jsxs("div",{onClick:()=>_(v.id),className:`flex items-center p-3 rounded-xl border transition-all cursor-pointer ${E?"bg-brand-50 border-brand-200":"bg-white border-gray-100"}`,children:[O.jsx("div",{className:`mr-4 ${E?"text-brand-500":"text-gray-300"}`,children:E?O.jsx(_M,{size:24,fill:"currentColor",className:"text-white bg-brand-500 rounded-full"}):O.jsx(QB,{size:24})}),O.jsx("div",{className:"w-12 h-12 rounded bg-gray-100 mr-3 overflow-hidden",children:v.imageUrl&&O.jsx("img",{src:v.imageUrl,className:"w-full h-full object-cover",alt:""})}),O.jsxs("div",{children:[O.jsx("h4",{className:`font-medium ${E?"text-brand-900":"text-gray-800"}`,children:v.name}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("span",{className:"text-xs text-gray-500",children:v.category}),O.jsxs("span",{className:"text-xs text-brand-600 bg-brand-50 px-1 rounded",children:[": ",S]})]})]})]},v.id)})})]}),O.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4 flex justify-between items-center text-sm font-medium text-gray-600 shadow-lg",children:O.jsxs("span",{children:[" ",c.size," "]})})]})},YV=$.createContext(void 0),FTe=()=>{const t=$.useContext(YV);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},BTe=({children:t})=>{const[e,n]=$.useState(null),[r,i]=$.useState(!0),o=async()=>{try{await Gme(hu,Uge)}catch(u){throw console.error("Google Login failed",u),u}},s=async(u,c)=>{await wme(hu,u,c)},a=async(u,c)=>{await Eme(hu,u,c)},l=async()=>{await Ame(hu)};return $.useEffect(()=>bme(hu,c=>{n(c),Fge(c),i(!1)}),[]),O.jsx(YV.Provider,{value:{currentUser:e,loading:r,login:o,logout:l,signupEmail:s,loginEmail:a},children:!r&&t})},qTe=({refreshData:t})=>{var j,G,K;const{showToast:e}=wg(),{currentUser:n,login:r,logout:i,loginEmail:o,signupEmail:s}=FTe(),a=$.useRef(null),[l,u]=$.useState(EV()),c=Qge(),[f,h]=$.useState(!1),[g,_]=$.useState(!1),[y,w]=$.useState(""),[v,E]=$.useState(""),[S,R]=$.useState(!1),[A,x]=$.useState(!1),b=/MicroMessenger/i.test(navigator.userAgent),I=()=>{Zge(),e("","success")},C=()=>{var V;window.confirm(" ")&&((V=a.current)==null||V.click())},M=V=>{var te;const H=(te=V.target.files)==null?void 0:te[0];if(!H)return;const X=new FileReader;X.onload=Z=>{var le;eye((le=Z.target)==null?void 0:le.result)?(e("","success"),t&&t()):e("","error"),a.current&&(a.current.value="")},X.readAsText(H)},k=()=>{if(l)window.confirm("")&&(Xge(),u(!1),e("","info"));else{const V=prompt(" 6  PIN ");V&&V.length>=4?(Jge(V),u(!0),e("","success")):V&&e("","error")}},D=async V=>{if(!n){e("","error");return}if(window.confirm(V==="up"?"":"")){x(!0);try{await qge(V),e("","success")}catch(H){e(": "+H.message,"error")}finally{x(!1)}}},N=async()=>{if(b){e("","info");return}try{await r(),h(!1),e("","success")}catch{e("","error")}},B=async V=>{V.preventDefault(),R(!0);try{g?(await s(y,v),e("","success")):(await o(y,v),e("","success")),h(!1)}catch(H){e(H.message.includes("auth/invalid-credential")?"":": "+H.code,"error")}finally{R(!1)}};return O.jsxs("div",{className:"min-h-screen bg-gray-50 pb-safe-area",children:[O.jsxs("div",{className:"bg-gray-900 text-white p-6 pt-10 pb-16 rounded-b-[2.5rem] shadow-sm relative overflow-hidden",children:[O.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[O.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white/20 bg-brand-500 flex items-center justify-center",children:n!=null&&n.photoURL?O.jsx("img",{src:n.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):O.jsx("span",{className:"text-xl font-bold",children:n?(((j=n.displayName)==null?void 0:j[0])||((G=n.email)==null?void 0:G[0])||"U").toUpperCase():""})}),O.jsx("div",{children:n?O.jsxs(O.Fragment,{children:[O.jsx("h1",{className:"text-xl font-bold",children:n.displayName||((K=n.email)==null?void 0:K.split("@")[0])||""}),O.jsxs("p",{className:"text-gray-400 text-sm flex items-center gap-1",children:[O.jsx(e3,{size:12,className:"text-green-400"})," "]})]}):O.jsxs(O.Fragment,{children:[O.jsx("h1",{className:"text-xl font-bold",children:""}),O.jsx("p",{className:"text-gray-400 text-sm",children:""})]})})]}),O.jsx("div",{className:"absolute top-8 right-6",children:n?O.jsx("button",{onClick:i,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:O.jsx(c3,{size:20})}):O.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-brand-600 hover:bg-brand-500 rounded-full text-sm font-bold flex items-center gap-2 transition-colors",children:[O.jsx(u3,{size:16})," "]})})]}),O.jsxs("div",{className:"px-4 -mt-10 space-y-4 pb-24 relative z-20",children:[n&&O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[O.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 flex items-center gap-2",children:[O.jsx(p3,{size:18,className:`text-brand-600 ${A?"animate-spin":""}`}),O.jsx("h2",{className:"font-bold text-gray-800",children:""})]}),O.jsxs("div",{className:"p-4 flex gap-3",children:[O.jsx("button",{onClick:()=>D("up"),className:"flex-1 py-2 bg-gray-50 hover:bg-brand-50 text-brand-700 text-xs font-bold rounded-lg border border-transparent hover:border-brand-200 transition-all",children:"  ()"}),O.jsx("button",{onClick:()=>D("down"),className:"flex-1 py-2 bg-gray-50 hover:bg-blue-50 text-blue-700 text-xs font-bold rounded-lg border border-transparent hover:border-blue-200 transition-all",children:"  ()"})]})]}),O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[O.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 flex items-center gap-2",children:[O.jsx(y3,{size:18,className:"text-brand-600"}),O.jsx("h2",{className:"font-bold text-gray-800",children:""})]}),O.jsx("div",{className:"p-0",children:O.jsxs("button",{onClick:k,className:"w-full px-4 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${l?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}`,children:O.jsx(EM,{size:20})}),O.jsxs("div",{className:"text-left",children:[O.jsx("span",{className:"block text-sm font-bold text-gray-800",children:""}),O.jsx("span",{className:"block text-xs text-gray-500",children:l?" ()":" ()"})]})]}),O.jsx(XB,{size:16,className:"text-gray-300"})]})})]}),O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[O.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 flex items-center gap-2",children:[O.jsx(n3,{size:18,className:"text-blue-600"}),O.jsx("h2",{className:"font-bold text-gray-800",children:""})]}),O.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[O.jsxs("button",{onClick:I,className:"flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 rounded-xl p-4 transition-colors",children:[O.jsx(r3,{size:24,className:"text-gray-600 mb-2"}),O.jsx("span",{className:"text-sm font-bold text-gray-800",children:""})]}),O.jsxs("button",{onClick:C,className:"flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 rounded-xl p-4 transition-colors",children:[O.jsx(_3,{size:24,className:"text-gray-600 mb-2"}),O.jsx("span",{className:"text-sm font-bold text-gray-800",children:""})]}),O.jsx("input",{ref:a,type:"file",accept:".json",className:"hidden",onChange:M})]}),O.jsxs("div",{className:"px-4 py-2 bg-gray-50 text-[10px] text-gray-400 text-center",children:[": ",c]})]}),!n&&O.jsxs("div",{className:"p-4 bg-yellow-50 text-yellow-800 text-xs rounded-xl border border-yellow-100 text-center",children:["",O.jsx("br",{}),""]})]}),f&&O.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-[scaleIn_0.2s_ease-out]",children:[O.jsxs("div",{className:"p-6 pb-0",children:[O.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:g?"":""}),O.jsx("p",{className:"text-sm text-gray-500 mb-6",children:""}),O.jsxs("form",{onSubmit:B,className:"space-y-4",children:[O.jsxs("div",{className:"space-y-1",children:[O.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1",children:""}),O.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl px-3 border border-gray-200 focus-within:border-brand-500 focus-within:ring-1 focus-within:ring-brand-500 transition-all",children:[O.jsx(f3,{size:18,className:"text-gray-400"}),O.jsx("input",{type:"email",required:!0,className:"flex-1 bg-transparent py-3 px-2 outline-none text-sm",placeholder:"name@example.com",value:y,onChange:V=>w(V.target.value)})]})]}),O.jsxs("div",{className:"space-y-1",children:[O.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1",children:""}),O.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl px-3 border border-gray-200 focus-within:border-brand-500 focus-within:ring-1 focus-within:ring-brand-500 transition-all",children:[O.jsx(a3,{size:18,className:"text-gray-400"}),O.jsx("input",{type:"password",required:!0,minLength:6,className:"flex-1 bg-transparent py-3 px-2 outline-none text-sm",placeholder:"6",value:v,onChange:V=>E(V.target.value)})]})]}),O.jsx("button",{type:"submit",disabled:S,className:"w-full bg-brand-600 text-white font-bold py-3 rounded-xl hover:bg-brand-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:S?O.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):g?"":""})]}),O.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs",children:[O.jsx("button",{type:"button",onClick:()=>_(!g),className:"text-brand-600 font-bold hover:underline",children:g?"":""}),O.jsx("button",{type:"button",onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:""})]})]}),O.jsxs("div",{className:"relative my-6",children:[O.jsx("div",{className:"absolute inset-0 flex items-center",children:O.jsx("div",{className:"w-full border-t border-gray-100"})}),O.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:O.jsx("span",{className:"bg-white px-2 text-gray-400",children:""})})]}),O.jsx("div",{className:"p-6 pt-0 bg-gray-50/50",children:O.jsxs("button",{onClick:N,className:`w-full bg-white border border-gray-200 text-gray-700 font-bold py-3 rounded-xl flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors ${b?"opacity-50 cursor-not-allowed":""}`,children:[O.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[O.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),O.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),O.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),O.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google  ",b&&"()"]})})]})})]})},jTe=({onUnlock:t})=>{const[e,n]=$.useState(""),[r,i]=$.useState(!1),o=()=>{Yge(e)?t():(i(!0),n(""),setTimeout(()=>i(!1),500))};return O.jsxs("div",{className:"h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-8",children:[O.jsx("div",{className:"mb-8 p-6 bg-gray-800 rounded-full",children:O.jsx(EM,{size:48,className:"text-brand-500"})}),O.jsx("h2",{className:"text-2xl font-bold mb-8",children:"WeStock "}),O.jsxs("div",{className:"w-full max-w-xs relative",children:[O.jsx("input",{type:"password",value:e,onChange:s=>n(s.target.value),placeholder:"PIN",maxLength:6,className:`w-full bg-gray-800 border-2 ${r?"border-red-500 animate-pulse":"border-gray-700"} rounded-xl px-4 py-4 text-center text-2xl tracking-[0.5em] focus:outline-none focus:border-brand-500`}),O.jsx("button",{onClick:o,className:"absolute right-2 top-2 bottom-2 bg-brand-600 px-4 rounded-lg flex items-center justify-center",children:O.jsx(YB,{})})]})]})},HTe=({children:t})=>{const e=lf(),r=!["/add-item","/create-bundle"].includes(e.pathname);return O.jsxs("div",{className:"font-sans text-gray-900 bg-gray-50 min-h-screen",children:[O.jsx("main",{className:r?"pb-16":"",children:t}),r&&O.jsx(w3,{})]})},GTe=()=>{const[t,e]=$.useState({items:[],bundles:[]}),[n,r]=$.useState(EV()),i=()=>e(bn());return $.useEffect(()=>{i()},[]),n?O.jsx(jTe,{onUnlock:()=>r(!1)}):O.jsx(zB,{children:O.jsx(HTe,{children:O.jsxs(qB,{children:[O.jsx(Vo,{path:"/",element:O.jsx(_ue,{data:t})}),O.jsx(Vo,{path:"/inventory",element:O.jsx(rye,{data:t,refreshData:i})}),O.jsx(Vo,{path:"/add-item",element:O.jsx($Te,{refreshData:i})}),O.jsx(Vo,{path:"/bundles",element:O.jsx(VTe,{data:t,refreshData:i})}),O.jsx(Vo,{path:"/create-bundle",element:O.jsx(UTe,{data:t,refreshData:i})}),O.jsx(Vo,{path:"/share",element:O.jsx(qTe,{refreshData:i})})]})})})},zTe=()=>O.jsx(BTe,{children:O.jsx(LTe,{children:O.jsx(GTe,{})})}),XV=document.getElementById("root");if(!XV)throw new Error("Could not find root element to mount to");const WTe=Xy.createRoot(XV);WTe.render(O.jsx(F.StrictMode,{children:O.jsx(zTe,{})}));
