function QV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RR={exports:{}},Rp={},NR={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=Symbol.for("react.element"),ZV=Symbol.for("react.portal"),eU=Symbol.for("react.fragment"),tU=Symbol.for("react.strict_mode"),nU=Symbol.for("react.profiler"),rU=Symbol.for("react.provider"),iU=Symbol.for("react.context"),oU=Symbol.for("react.forward_ref"),sU=Symbol.for("react.suspense"),aU=Symbol.for("react.memo"),lU=Symbol.for("react.lazy"),CS=Symbol.iterator;function uU(t){return t===null||typeof t!="object"?null:(t=CS&&t[CS]||t["@@iterator"],typeof t=="function"?t:null)}var MR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kR=Object.assign,OR={};function nl(t,e,n){this.props=t,this.context=e,this.refs=OR,this.updater=n||MR}nl.prototype.isReactComponent={};nl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DR(){}DR.prototype=nl.prototype;function $0(t,e,n){this.props=t,this.context=e,this.refs=OR,this.updater=n||MR}var V0=$0.prototype=new DR;V0.constructor=$0;kR(V0,nl.prototype);V0.isPureReactComponent=!0;var PS=Array.isArray,LR=Object.prototype.hasOwnProperty,U0={current:null},$R={key:!0,ref:!0,__self:!0,__source:!0};function VR(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)LR.call(e,r)&&!$R.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Jc,type:t,key:o,ref:s,props:i,_owner:U0.current}}function cU(t,e){return{$$typeof:Jc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function F0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jc}function fU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var RS=/\/+/g;function Ig(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fU(""+t.key):e.toString(36)}function md(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Jc:case ZV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ig(s,0):r,PS(i)?(n="",t!=null&&(n=t.replace(RS,"$&/")+"/"),md(i,e,n,"",function(u){return u})):i!=null&&(F0(i)&&(i=cU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(RS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",PS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ig(o,a);s+=md(o,e,n,l,i)}else if(l=uU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ig(o,a++),s+=md(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Mf(t,e,n){if(t==null)return t;var r=[],i=0;return md(t,r,"","",function(o){return e.call(n,o,i++)}),r}function dU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},gd={transition:null},hU={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:gd,ReactCurrentOwner:U0};function UR(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Mf,forEach:function(t,e,n){Mf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mf(t,function(){e++}),e},toArray:function(t){return Mf(t,function(e){return e})||[]},only:function(t){if(!F0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=nl;we.Fragment=eU;we.Profiler=nU;we.PureComponent=$0;we.StrictMode=tU;we.Suspense=sU;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hU;we.act=UR;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kR({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=U0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)LR.call(e,l)&&!$R.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Jc,type:t.type,key:i,ref:o,props:r,_owner:s}};we.createContext=function(t){return t={$$typeof:iU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rU,_context:t},t.Consumer=t};we.createElement=VR;we.createFactory=function(t){var e=VR.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:oU,render:t}};we.isValidElement=F0;we.lazy=function(t){return{$$typeof:lU,_payload:{_status:-1,_result:t},_init:dU}};we.memo=function(t,e){return{$$typeof:aU,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=gd.transition;gd.transition={};try{t()}finally{gd.transition=e}};we.unstable_act=UR;we.useCallback=function(t,e){return hn.current.useCallback(t,e)};we.useContext=function(t){return hn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};we.useEffect=function(t,e){return hn.current.useEffect(t,e)};we.useId=function(){return hn.current.useId()};we.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return hn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};we.useRef=function(t){return hn.current.useRef(t)};we.useState=function(t){return hn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return hn.current.useTransition()};we.version="18.3.1";NR.exports=we;var $=NR.exports;const U=ze($),pU=QV({__proto__:null,default:U},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mU=$,gU=Symbol.for("react.element"),yU=Symbol.for("react.fragment"),vU=Object.prototype.hasOwnProperty,_U=mU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wU={key:!0,ref:!0,__self:!0,__source:!0};function FR(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)vU.call(e,r)&&!wU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gU,type:t,key:o,ref:s,props:i,_owner:_U.current}}Rp.Fragment=yU;Rp.jsx=FR;Rp.jsxs=FR;RR.exports=Rp;var L=RR.exports,Fy={},BR={exports:{}},Nn={},qR={exports:{}},HR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var X=F.length;F.push(j);e:for(;0<X;){var te=X-1>>>1,Z=F[te];if(0<i(Z,j))F[te]=j,F[X]=Z,X=te;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],X=F.pop();if(X!==j){F[0]=X;e:for(var te=0,Z=F.length,ue=Z>>>1;te<ue;){var _e=2*(te+1)-1,Ve=F[_e],je=_e+1,Jt=F[je];if(0>i(Ve,X))je<Z&&0>i(Jt,Ve)?(F[te]=Jt,F[je]=X,te=je):(F[te]=Ve,F[_e]=X,te=_e);else if(je<Z&&0>i(Jt,X))F[te]=Jt,F[je]=X,te=je;else break e}}return j}function i(F,j){var X=F.sortIndex-j.sortIndex;return X!==0?X:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,g=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=F)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function R(F){if(v=!1,S(F),!y)if(n(l)!==null)y=!0,z(b);else{var j=n(u);j!==null&&K(R,j.startTime-F)}}function b(F,j){y=!1,v&&(v=!1,_(I),I=-1),g=!0;var X=h;try{for(S(j),f=n(l);f!==null&&(!(f.expirationTime>j)||F&&!M());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var Z=te(f.expirationTime<=j);j=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),S(j)}else r(l);f=n(l)}if(f!==null)var ue=!0;else{var _e=n(u);_e!==null&&K(R,_e.startTime-j),ue=!1}return ue}finally{f=null,h=X,g=!1}}var C=!1,A=null,I=-1,P=5,k=-1;function M(){return!(t.unstable_now()-k<P)}function O(){if(A!==null){var F=t.unstable_now();k=F;var j=!0;try{j=A(!0,F)}finally{j?N():(C=!1,A=null)}}else C=!1}var N;if(typeof E=="function")N=function(){E(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,H=q.port2;q.port1.onmessage=O,N=function(){H.postMessage(null)}}else N=function(){w(O,0)};function z(F){A=F,C||(C=!0,N())}function K(F,j){I=w(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,z(b))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var X=h;h=j;try{return F()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=h;h=F;try{return j()}finally{h=X}},t.unstable_scheduleCallback=function(F,j,X){var te=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?te+X:te):X=te,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=X+Z,F={id:c++,callback:j,priorityLevel:F,startTime:X,expirationTime:Z,sortIndex:-1},X>te?(F.sortIndex=X,e(u,F),n(l)===null&&F===n(u)&&(v?(_(I),I=-1):v=!0,K(R,X-te))):(F.sortIndex=Z,e(l,F),y||g||(y=!0,z(b))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var j=h;return function(){var X=h;h=j;try{return F.apply(this,arguments)}finally{h=X}}}})(HR);qR.exports=HR;var EU=qR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TU=$,Rn=EU;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GR=new Set,Uu={};function ps(t,e){_a(t,e),_a(t+"Capture",e)}function _a(t,e){for(Uu[t]=e,t=0;t<e.length;t++)GR.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),By=Object.prototype.hasOwnProperty,SU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NS={},MS={};function AU(t){return By.call(MS,t)?!0:By.call(NS,t)?!1:SU.test(t)?MS[t]=!0:(NS[t]=!0,!1)}function bU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IU(t,e,n,r){if(e===null||typeof e>"u"||bU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var B0=/[\-:]([a-z])/g;function q0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(B0,q0);Wt[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(B0,q0);Wt[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(B0,q0);Wt[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function H0(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IU(e,n,i,r)&&(n=null),r||i===null?AU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mi=TU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kf=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),G0=Symbol.for("react.strict_mode"),qy=Symbol.for("react.profiler"),zR=Symbol.for("react.provider"),jR=Symbol.for("react.context"),z0=Symbol.for("react.forward_ref"),Hy=Symbol.for("react.suspense"),Gy=Symbol.for("react.suspense_list"),j0=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),WR=Symbol.for("react.offscreen"),kS=Symbol.iterator;function Gl(t){return t===null||typeof t!="object"?null:(t=kS&&t[kS]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,xg;function uu(t){if(xg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xg=e&&e[1]||""}return`
`+xg+t}var Cg=!1;function Pg(t,e){if(!t||Cg)return"";Cg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Cg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uu(t):""}function xU(t){switch(t.tag){case 5:return uu(t.type);case 16:return uu("Lazy");case 13:return uu("Suspense");case 19:return uu("SuspenseList");case 0:case 2:case 15:return t=Pg(t.type,!1),t;case 11:return t=Pg(t.type.render,!1),t;case 1:return t=Pg(t.type,!0),t;default:return""}}function zy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case Fs:return"Portal";case qy:return"Profiler";case G0:return"StrictMode";case Hy:return"Suspense";case Gy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jR:return(t.displayName||"Context")+".Consumer";case zR:return(t._context.displayName||"Context")+".Provider";case z0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j0:return e=t.displayName||null,e!==null?e:zy(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return zy(t(e))}catch{}}return null}function CU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zy(e);case 8:return e===G0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PU(t){var e=KR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Of(t){t._valueTracker||(t._valueTracker=PU(t))}function JR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ud(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jy(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function OS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YR(t,e){e=e.checked,e!=null&&H0(t,"checked",e,!1)}function Wy(t,e){YR(t,e);var n=oo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ky(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ky(t,e.type,oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function DS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ky(t,e,n){(e!=="number"||Ud(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cu=Array.isArray;function na(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function LS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(cu(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oo(n)}}function XR(t,e){var n=oo(e.value),r=oo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $S(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function QR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?QR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Df,ZR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Df=Df||document.createElement("div"),Df.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Df.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RU=["Webkit","ms","Moz","O"];Object.keys(vu).forEach(function(t){RU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vu[e]=vu[t]})});function eN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vu.hasOwnProperty(t)&&vu[t]?(""+e).trim():e+"px"}function tN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NU=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xy(t,e){if(e){if(NU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Qy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zy=null;function W0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ev=null,ra=null,ia=null;function VS(t){if(t=Qc(t)){if(typeof ev!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Dp(e),ev(t.stateNode,t.type,e))}}function nN(t){ra?ia?ia.push(t):ia=[t]:ra=t}function rN(){if(ra){var t=ra,e=ia;if(ia=ra=null,VS(t),e)for(t=0;t<e.length;t++)VS(e[t])}}function iN(t,e){return t(e)}function oN(){}var Rg=!1;function sN(t,e,n){if(Rg)return t(e,n);Rg=!0;try{return iN(t,e,n)}finally{Rg=!1,(ra!==null||ia!==null)&&(oN(),rN())}}function Bu(t,e){var n=t.stateNode;if(n===null)return null;var r=Dp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var tv=!1;if(ri)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){tv=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{tv=!1}function MU(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var _u=!1,Fd=null,Bd=!1,nv=null,kU={onError:function(t){_u=!0,Fd=t}};function OU(t,e,n,r,i,o,s,a,l){_u=!1,Fd=null,MU.apply(kU,arguments)}function DU(t,e,n,r,i,o,s,a,l){if(OU.apply(this,arguments),_u){if(_u){var u=Fd;_u=!1,Fd=null}else throw Error(Q(198));Bd||(Bd=!0,nv=u)}}function ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function US(t){if(ms(t)!==t)throw Error(Q(188))}function LU(t){var e=t.alternate;if(!e){if(e=ms(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return US(i),t;if(o===r)return US(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function lN(t){return t=LU(t),t!==null?uN(t):null}function uN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uN(t);if(e!==null)return e;t=t.sibling}return null}var cN=Rn.unstable_scheduleCallback,FS=Rn.unstable_cancelCallback,$U=Rn.unstable_shouldYield,VU=Rn.unstable_requestPaint,pt=Rn.unstable_now,UU=Rn.unstable_getCurrentPriorityLevel,K0=Rn.unstable_ImmediatePriority,fN=Rn.unstable_UserBlockingPriority,qd=Rn.unstable_NormalPriority,FU=Rn.unstable_LowPriority,dN=Rn.unstable_IdlePriority,Np=null,xr=null;function BU(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(Np,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:GU,qU=Math.log,HU=Math.LN2;function GU(t){return t>>>=0,t===0?32:31-(qU(t)/HU|0)|0}var Lf=64,$f=4194304;function fu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=fu(a):(o&=s,o!==0&&(r=fu(o)))}else s=n&~i,s!==0?r=fu(s):o!==0&&(r=fu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function zU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-dr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=zU(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hN(){var t=Lf;return Lf<<=1,!(Lf&4194240)&&(Lf=64),t}function Ng(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function WU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function J0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function pN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mN,Y0,gN,yN,vN,iv=!1,Vf=[],Gi=null,zi=null,ji=null,qu=new Map,Hu=new Map,Oi=[],KU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BS(t,e){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(e.pointerId)}}function jl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Qc(e),e!==null&&Y0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JU(t,e,n,r,i){switch(e){case"focusin":return Gi=jl(Gi,t,e,n,r,i),!0;case"dragenter":return zi=jl(zi,t,e,n,r,i),!0;case"mouseover":return ji=jl(ji,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qu.set(o,jl(qu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hu.set(o,jl(Hu.get(o)||null,t,e,n,r,i)),!0}return!1}function _N(t){var e=$o(t.target);if(e!==null){var n=ms(e);if(n!==null){if(e=n.tag,e===13){if(e=aN(n),e!==null){t.blockedOn=e,vN(t.priority,function(){gN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ov(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zy=r,n.target.dispatchEvent(r),Zy=null}else return e=Qc(n),e!==null&&Y0(e),t.blockedOn=n,!1;e.shift()}return!0}function qS(t,e,n){yd(t)&&n.delete(e)}function YU(){iv=!1,Gi!==null&&yd(Gi)&&(Gi=null),zi!==null&&yd(zi)&&(zi=null),ji!==null&&yd(ji)&&(ji=null),qu.forEach(qS),Hu.forEach(qS)}function Wl(t,e){t.blockedOn===e&&(t.blockedOn=null,iv||(iv=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,YU)))}function Gu(t){function e(i){return Wl(i,t)}if(0<Vf.length){Wl(Vf[0],t);for(var n=1;n<Vf.length;n++){var r=Vf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gi!==null&&Wl(Gi,t),zi!==null&&Wl(zi,t),ji!==null&&Wl(ji,t),qu.forEach(e),Hu.forEach(e),n=0;n<Oi.length;n++)r=Oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Oi.length&&(n=Oi[0],n.blockedOn===null);)_N(n),n.blockedOn===null&&Oi.shift()}var oa=mi.ReactCurrentBatchConfig,Gd=!0;function XU(t,e,n,r){var i=Le,o=oa.transition;oa.transition=null;try{Le=1,X0(t,e,n,r)}finally{Le=i,oa.transition=o}}function QU(t,e,n,r){var i=Le,o=oa.transition;oa.transition=null;try{Le=4,X0(t,e,n,r)}finally{Le=i,oa.transition=o}}function X0(t,e,n,r){if(Gd){var i=ov(t,e,n,r);if(i===null)Bg(t,e,r,zd,n),BS(t,r);else if(JU(i,t,e,n,r))r.stopPropagation();else if(BS(t,r),e&4&&-1<KU.indexOf(t)){for(;i!==null;){var o=Qc(i);if(o!==null&&mN(o),o=ov(t,e,n,r),o===null&&Bg(t,e,r,zd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Bg(t,e,r,null,n)}}var zd=null;function ov(t,e,n,r){if(zd=null,t=W0(r),t=$o(t),t!==null)if(e=ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zd=t,null}function wN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UU()){case K0:return 1;case fN:return 4;case qd:case FU:return 16;case dN:return 536870912;default:return 16}default:return 16}}var Ui=null,Q0=null,vd=null;function EN(){if(vd)return vd;var t,e=Q0,n=e.length,r,i="value"in Ui?Ui.value:Ui.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return vd=i.slice(t,1<r?1-r:void 0)}function _d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uf(){return!0}function HS(){return!1}function Mn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uf:HS,this.isPropagationStopped=HS,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uf)},persist:function(){},isPersistent:Uf}),e}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z0=Mn(rl),Xc=at({},rl,{view:0,detail:0}),ZU=Mn(Xc),Mg,kg,Kl,Mp=at({},Xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ew,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kl&&(Kl&&t.type==="mousemove"?(Mg=t.screenX-Kl.screenX,kg=t.screenY-Kl.screenY):kg=Mg=0,Kl=t),Mg)},movementY:function(t){return"movementY"in t?t.movementY:kg}}),GS=Mn(Mp),eF=at({},Mp,{dataTransfer:0}),tF=Mn(eF),nF=at({},Xc,{relatedTarget:0}),Og=Mn(nF),rF=at({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),iF=Mn(rF),oF=at({},rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sF=Mn(oF),aF=at({},rl,{data:0}),zS=Mn(aF),lF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cF[t])?!!e[t]:!1}function ew(){return fF}var dF=at({},Xc,{key:function(t){if(t.key){var e=lF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ew,charCode:function(t){return t.type==="keypress"?_d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hF=Mn(dF),pF=at({},Mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jS=Mn(pF),mF=at({},Xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ew}),gF=Mn(mF),yF=at({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),vF=Mn(yF),_F=at({},Mp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wF=Mn(_F),EF=[9,13,27,32],tw=ri&&"CompositionEvent"in window,wu=null;ri&&"documentMode"in document&&(wu=document.documentMode);var TF=ri&&"TextEvent"in window&&!wu,TN=ri&&(!tw||wu&&8<wu&&11>=wu),WS=" ",KS=!1;function SN(t,e){switch(t){case"keyup":return EF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function SF(t,e){switch(t){case"compositionend":return AN(e);case"keypress":return e.which!==32?null:(KS=!0,WS);case"textInput":return t=e.data,t===WS&&KS?null:t;default:return null}}function AF(t,e){if(qs)return t==="compositionend"||!tw&&SN(t,e)?(t=EN(),vd=Q0=Ui=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TN&&e.locale!=="ko"?null:e.data;default:return null}}var bF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bF[t.type]:e==="textarea"}function bN(t,e,n,r){nN(r),e=jd(e,"onChange"),0<e.length&&(n=new Z0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Eu=null,zu=null;function IF(t){LN(t,0)}function kp(t){var e=zs(t);if(JR(e))return t}function xF(t,e){if(t==="change")return e}var IN=!1;if(ri){var Dg;if(ri){var Lg="oninput"in document;if(!Lg){var YS=document.createElement("div");YS.setAttribute("oninput","return;"),Lg=typeof YS.oninput=="function"}Dg=Lg}else Dg=!1;IN=Dg&&(!document.documentMode||9<document.documentMode)}function XS(){Eu&&(Eu.detachEvent("onpropertychange",xN),zu=Eu=null)}function xN(t){if(t.propertyName==="value"&&kp(zu)){var e=[];bN(e,zu,t,W0(t)),sN(IF,e)}}function CF(t,e,n){t==="focusin"?(XS(),Eu=e,zu=n,Eu.attachEvent("onpropertychange",xN)):t==="focusout"&&XS()}function PF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kp(zu)}function RF(t,e){if(t==="click")return kp(e)}function NF(t,e){if(t==="input"||t==="change")return kp(e)}function MF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:MF;function ju(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!By.call(e,i)||!gr(t[i],e[i]))return!1}return!0}function QS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ZS(t,e){var n=QS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=QS(n)}}function CN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PN(){for(var t=window,e=Ud();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ud(t.document)}return e}function nw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kF(t){var e=PN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CN(n.ownerDocument.documentElement,n)){if(r!==null&&nw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ZS(n,o);var s=ZS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OF=ri&&"documentMode"in document&&11>=document.documentMode,Hs=null,sv=null,Tu=null,av=!1;function eA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;av||Hs==null||Hs!==Ud(r)||(r=Hs,"selectionStart"in r&&nw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tu&&ju(Tu,r)||(Tu=r,r=jd(sv,"onSelect"),0<r.length&&(e=new Z0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hs)))}function Ff(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gs={animationend:Ff("Animation","AnimationEnd"),animationiteration:Ff("Animation","AnimationIteration"),animationstart:Ff("Animation","AnimationStart"),transitionend:Ff("Transition","TransitionEnd")},$g={},RN={};ri&&(RN=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Op(t){if($g[t])return $g[t];if(!Gs[t])return t;var e=Gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RN)return $g[t]=e[n];return t}var NN=Op("animationend"),MN=Op("animationiteration"),kN=Op("animationstart"),ON=Op("transitionend"),DN=new Map,tA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(t,e){DN.set(t,e),ps(e,[t])}for(var Vg=0;Vg<tA.length;Vg++){var Ug=tA[Vg],DF=Ug.toLowerCase(),LF=Ug[0].toUpperCase()+Ug.slice(1);mo(DF,"on"+LF)}mo(NN,"onAnimationEnd");mo(MN,"onAnimationIteration");mo(kN,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(ON,"onTransitionEnd");_a("onMouseEnter",["mouseout","mouseover"]);_a("onMouseLeave",["mouseout","mouseover"]);_a("onPointerEnter",["pointerout","pointerover"]);_a("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$F=new Set("cancel close invalid load scroll toggle".split(" ").concat(du));function nA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DU(r,e,void 0,t),t.currentTarget=null}function LN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;nA(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;nA(i,a,u),o=l}}}if(Bd)throw t=nv,Bd=!1,nv=null,t}function Ke(t,e){var n=e[dv];n===void 0&&(n=e[dv]=new Set);var r=t+"__bubble";n.has(r)||($N(e,t,2,!1),n.add(r))}function Fg(t,e,n){var r=0;e&&(r|=4),$N(n,t,r,e)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function Wu(t){if(!t[Bf]){t[Bf]=!0,GR.forEach(function(n){n!=="selectionchange"&&($F.has(n)||Fg(n,!1,t),Fg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bf]||(e[Bf]=!0,Fg("selectionchange",!1,e))}}function $N(t,e,n,r){switch(wN(e)){case 1:var i=XU;break;case 4:i=QU;break;default:i=X0}n=i.bind(null,e,n,t),i=void 0,!tv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bg(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=$o(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}sN(function(){var u=o,c=W0(n),f=[];e:{var h=DN.get(t);if(h!==void 0){var g=Z0,y=t;switch(t){case"keypress":if(_d(n)===0)break e;case"keydown":case"keyup":g=hF;break;case"focusin":y="focus",g=Og;break;case"focusout":y="blur",g=Og;break;case"beforeblur":case"afterblur":g=Og;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=GS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=tF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=gF;break;case NN:case MN:case kN:g=iF;break;case ON:g=vF;break;case"scroll":g=ZU;break;case"wheel":g=wF;break;case"copy":case"cut":case"paste":g=sF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=jS}var v=(e&4)!==0,w=!v&&t==="scroll",_=v?h!==null?h+"Capture":null:h;v=[];for(var E=u,S;E!==null;){S=E;var R=S.stateNode;if(S.tag===5&&R!==null&&(S=R,_!==null&&(R=Bu(E,_),R!=null&&v.push(Ku(E,R,S)))),w)break;E=E.return}0<v.length&&(h=new g(h,y,null,n,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Zy&&(y=n.relatedTarget||n.fromElement)&&($o(y)||y[ii]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?$o(y):null,y!==null&&(w=ms(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(v=GS,R="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=jS,R="onPointerLeave",_="onPointerEnter",E="pointer"),w=g==null?h:zs(g),S=y==null?h:zs(y),h=new v(R,E+"leave",g,n,c),h.target=w,h.relatedTarget=S,R=null,$o(c)===u&&(v=new v(_,E+"enter",y,n,c),v.target=S,v.relatedTarget=w,R=v),w=R,g&&y)t:{for(v=g,_=y,E=0,S=v;S;S=Ns(S))E++;for(S=0,R=_;R;R=Ns(R))S++;for(;0<E-S;)v=Ns(v),E--;for(;0<S-E;)_=Ns(_),S--;for(;E--;){if(v===_||_!==null&&v===_.alternate)break t;v=Ns(v),_=Ns(_)}v=null}else v=null;g!==null&&rA(f,h,g,v,!1),y!==null&&w!==null&&rA(f,w,y,v,!0)}}e:{if(h=u?zs(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var b=xF;else if(JS(h))if(IN)b=NF;else{b=PF;var C=CF}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=RF);if(b&&(b=b(t,u))){bN(f,b,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Ky(h,"number",h.value)}switch(C=u?zs(u):window,t){case"focusin":(JS(C)||C.contentEditable==="true")&&(Hs=C,sv=u,Tu=null);break;case"focusout":Tu=sv=Hs=null;break;case"mousedown":av=!0;break;case"contextmenu":case"mouseup":case"dragend":av=!1,eA(f,n,c);break;case"selectionchange":if(OF)break;case"keydown":case"keyup":eA(f,n,c)}var A;if(tw)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else qs?SN(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(TN&&n.locale!=="ko"&&(qs||I!=="onCompositionStart"?I==="onCompositionEnd"&&qs&&(A=EN()):(Ui=c,Q0="value"in Ui?Ui.value:Ui.textContent,qs=!0)),C=jd(u,I),0<C.length&&(I=new zS(I,t,null,n,c),f.push({event:I,listeners:C}),A?I.data=A:(A=AN(n),A!==null&&(I.data=A)))),(A=TF?SF(t,n):AF(t,n))&&(u=jd(u,"onBeforeInput"),0<u.length&&(c=new zS("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=A))}LN(f,e)})}function Ku(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bu(t,n),o!=null&&r.unshift(Ku(t,o,i)),o=Bu(t,e),o!=null&&r.push(Ku(t,o,i))),t=t.return}return r}function Ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Bu(n,o),l!=null&&s.unshift(Ku(n,l,a))):i||(l=Bu(n,o),l!=null&&s.push(Ku(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var VF=/\r\n?/g,UF=/\u0000|\uFFFD/g;function iA(t){return(typeof t=="string"?t:""+t).replace(VF,`
`).replace(UF,"")}function qf(t,e,n){if(e=iA(e),iA(t)!==e&&n)throw Error(Q(425))}function Wd(){}var lv=null,uv=null;function cv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fv=typeof setTimeout=="function"?setTimeout:void 0,FF=typeof clearTimeout=="function"?clearTimeout:void 0,oA=typeof Promise=="function"?Promise:void 0,BF=typeof queueMicrotask=="function"?queueMicrotask:typeof oA<"u"?function(t){return oA.resolve(null).then(t).catch(qF)}:fv;function qF(t){setTimeout(function(){throw t})}function qg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gu(e)}function Wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var il=Math.random().toString(36).slice(2),br="__reactFiber$"+il,Ju="__reactProps$"+il,ii="__reactContainer$"+il,dv="__reactEvents$"+il,HF="__reactListeners$"+il,GF="__reactHandles$"+il;function $o(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ii]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sA(t);t!==null;){if(n=t[br])return n;t=sA(t)}return e}t=n,n=t.parentNode}return null}function Qc(t){return t=t[br]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Dp(t){return t[Ju]||null}var hv=[],js=-1;function go(t){return{current:t}}function Ze(t){0>js||(t.current=hv[js],hv[js]=null,js--)}function Ge(t,e){js++,hv[js]=t.current,t.current=e}var so={},an=go(so),_n=go(!1),es=so;function wa(t,e){var n=t.type.contextTypes;if(!n)return so;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function Kd(){Ze(_n),Ze(an)}function aA(t,e,n){if(an.current!==so)throw Error(Q(168));Ge(an,e),Ge(_n,n)}function VN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,CU(t)||"Unknown",i));return at({},n,r)}function Jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||so,es=an.current,Ge(an,t),Ge(_n,_n.current),!0}function lA(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=VN(t,e,es),r.__reactInternalMemoizedMergedChildContext=t,Ze(_n),Ze(an),Ge(an,t)):Ze(_n),Ge(_n,n)}var zr=null,Lp=!1,Hg=!1;function UN(t){zr===null?zr=[t]:zr.push(t)}function zF(t){Lp=!0,UN(t)}function yo(){if(!Hg&&zr!==null){Hg=!0;var t=0,e=Le;try{var n=zr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zr=null,Lp=!1}catch(i){throw zr!==null&&(zr=zr.slice(t+1)),cN(K0,yo),i}finally{Le=e,Hg=!1}}return null}var Ws=[],Ks=0,Yd=null,Xd=0,Vn=[],Un=0,ts=null,Wr=1,Kr="";function Ro(t,e){Ws[Ks++]=Xd,Ws[Ks++]=Yd,Yd=t,Xd=e}function FN(t,e,n){Vn[Un++]=Wr,Vn[Un++]=Kr,Vn[Un++]=ts,ts=t;var r=Wr;t=Kr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var o=32-dr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Wr=1<<32-dr(e)+i|n<<i|r,Kr=o+t}else Wr=1<<o|n<<i|r,Kr=t}function rw(t){t.return!==null&&(Ro(t,1),FN(t,1,0))}function iw(t){for(;t===Yd;)Yd=Ws[--Ks],Ws[Ks]=null,Xd=Ws[--Ks],Ws[Ks]=null;for(;t===ts;)ts=Vn[--Un],Vn[Un]=null,Kr=Vn[--Un],Vn[Un]=null,Wr=Vn[--Un],Vn[Un]=null}var Pn=null,Cn=null,et=!1,or=null;function BN(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,Cn=Wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ts!==null?{id:Wr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pn=t,Cn=null,!0):!1;default:return!1}}function pv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mv(t){if(et){var e=Cn;if(e){var n=e;if(!uA(t,e)){if(pv(t))throw Error(Q(418));e=Wi(n.nextSibling);var r=Pn;e&&uA(t,e)?BN(r,n):(t.flags=t.flags&-4097|2,et=!1,Pn=t)}}else{if(pv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,et=!1,Pn=t}}}function cA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function Hf(t){if(t!==Pn)return!1;if(!et)return cA(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cv(t.type,t.memoizedProps)),e&&(e=Cn)){if(pv(t))throw qN(),Error(Q(418));for(;e;)BN(t,e),e=Wi(e.nextSibling)}if(cA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=Wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=Pn?Wi(t.stateNode.nextSibling):null;return!0}function qN(){for(var t=Cn;t;)t=Wi(t.nextSibling)}function Ea(){Cn=Pn=null,et=!1}function ow(t){or===null?or=[t]:or.push(t)}var jF=mi.ReactCurrentBatchConfig;function Jl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Gf(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fA(t){var e=t._init;return e(t._payload)}function HN(t){function e(_,E){if(t){var S=_.deletions;S===null?(_.deletions=[E],_.flags|=16):S.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=Xi(_,E),_.index=0,_.sibling=null,_}function o(_,E,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<E?(_.flags|=2,E):S):(_.flags|=2,E)):(_.flags|=1048576,E)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,S,R){return E===null||E.tag!==6?(E=Yg(S,_.mode,R),E.return=_,E):(E=i(E,S),E.return=_,E)}function l(_,E,S,R){var b=S.type;return b===Bs?c(_,E,S.props.children,R,S.key):E!==null&&(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ni&&fA(b)===E.type)?(R=i(E,S.props),R.ref=Jl(_,E,S),R.return=_,R):(R=Id(S.type,S.key,S.props,null,_.mode,R),R.ref=Jl(_,E,S),R.return=_,R)}function u(_,E,S,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Xg(S,_.mode,R),E.return=_,E):(E=i(E,S.children||[]),E.return=_,E)}function c(_,E,S,R,b){return E===null||E.tag!==7?(E=Wo(S,_.mode,R,b),E.return=_,E):(E=i(E,S),E.return=_,E)}function f(_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Yg(""+E,_.mode,S),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case kf:return S=Id(E.type,E.key,E.props,null,_.mode,S),S.ref=Jl(_,null,E),S.return=_,S;case Fs:return E=Xg(E,_.mode,S),E.return=_,E;case Ni:var R=E._init;return f(_,R(E._payload),S)}if(cu(E)||Gl(E))return E=Wo(E,_.mode,S,null),E.return=_,E;Gf(_,E)}return null}function h(_,E,S,R){var b=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(_,E,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kf:return S.key===b?l(_,E,S,R):null;case Fs:return S.key===b?u(_,E,S,R):null;case Ni:return b=S._init,h(_,E,b(S._payload),R)}if(cu(S)||Gl(S))return b!==null?null:c(_,E,S,R,null);Gf(_,S)}return null}function g(_,E,S,R,b){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(S)||null,a(E,_,""+R,b);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case kf:return _=_.get(R.key===null?S:R.key)||null,l(E,_,R,b);case Fs:return _=_.get(R.key===null?S:R.key)||null,u(E,_,R,b);case Ni:var C=R._init;return g(_,E,S,C(R._payload),b)}if(cu(R)||Gl(R))return _=_.get(S)||null,c(E,_,R,b,null);Gf(E,R)}return null}function y(_,E,S,R){for(var b=null,C=null,A=E,I=E=0,P=null;A!==null&&I<S.length;I++){A.index>I?(P=A,A=null):P=A.sibling;var k=h(_,A,S[I],R);if(k===null){A===null&&(A=P);break}t&&A&&k.alternate===null&&e(_,A),E=o(k,E,I),C===null?b=k:C.sibling=k,C=k,A=P}if(I===S.length)return n(_,A),et&&Ro(_,I),b;if(A===null){for(;I<S.length;I++)A=f(_,S[I],R),A!==null&&(E=o(A,E,I),C===null?b=A:C.sibling=A,C=A);return et&&Ro(_,I),b}for(A=r(_,A);I<S.length;I++)P=g(A,_,I,S[I],R),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?I:P.key),E=o(P,E,I),C===null?b=P:C.sibling=P,C=P);return t&&A.forEach(function(M){return e(_,M)}),et&&Ro(_,I),b}function v(_,E,S,R){var b=Gl(S);if(typeof b!="function")throw Error(Q(150));if(S=b.call(S),S==null)throw Error(Q(151));for(var C=b=null,A=E,I=E=0,P=null,k=S.next();A!==null&&!k.done;I++,k=S.next()){A.index>I?(P=A,A=null):P=A.sibling;var M=h(_,A,k.value,R);if(M===null){A===null&&(A=P);break}t&&A&&M.alternate===null&&e(_,A),E=o(M,E,I),C===null?b=M:C.sibling=M,C=M,A=P}if(k.done)return n(_,A),et&&Ro(_,I),b;if(A===null){for(;!k.done;I++,k=S.next())k=f(_,k.value,R),k!==null&&(E=o(k,E,I),C===null?b=k:C.sibling=k,C=k);return et&&Ro(_,I),b}for(A=r(_,A);!k.done;I++,k=S.next())k=g(A,_,I,k.value,R),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?I:k.key),E=o(k,E,I),C===null?b=k:C.sibling=k,C=k);return t&&A.forEach(function(O){return e(_,O)}),et&&Ro(_,I),b}function w(_,E,S,R){if(typeof S=="object"&&S!==null&&S.type===Bs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case kf:e:{for(var b=S.key,C=E;C!==null;){if(C.key===b){if(b=S.type,b===Bs){if(C.tag===7){n(_,C.sibling),E=i(C,S.props.children),E.return=_,_=E;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Ni&&fA(b)===C.type){n(_,C.sibling),E=i(C,S.props),E.ref=Jl(_,C,S),E.return=_,_=E;break e}n(_,C);break}else e(_,C);C=C.sibling}S.type===Bs?(E=Wo(S.props.children,_.mode,R,S.key),E.return=_,_=E):(R=Id(S.type,S.key,S.props,null,_.mode,R),R.ref=Jl(_,E,S),R.return=_,_=R)}return s(_);case Fs:e:{for(C=S.key;E!==null;){if(E.key===C)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(_,E.sibling),E=i(E,S.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=Xg(S,_.mode,R),E.return=_,_=E}return s(_);case Ni:return C=S._init,w(_,E,C(S._payload),R)}if(cu(S))return y(_,E,S,R);if(Gl(S))return v(_,E,S,R);Gf(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(_,E.sibling),E=i(E,S),E.return=_,_=E):(n(_,E),E=Yg(S,_.mode,R),E.return=_,_=E),s(_)):n(_,E)}return w}var Ta=HN(!0),GN=HN(!1),Qd=go(null),Zd=null,Js=null,sw=null;function aw(){sw=Js=Zd=null}function lw(t){var e=Qd.current;Ze(Qd),t._currentValue=e}function gv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sa(t,e){Zd=t,sw=Js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(sw!==t)if(t={context:t,memoizedValue:e,next:null},Js===null){if(Zd===null)throw Error(Q(308));Js=t,Zd.dependencies={lanes:0,firstContext:t}}else Js=Js.next=t;return e}var Vo=null;function uw(t){Vo===null?Vo=[t]:Vo.push(t)}function zN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uw(e)):(n.next=i.next,i.next=n),e.interleaved=n,oi(t,r)}function oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mi=!1;function cw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oi(t,n)}return i=r.interleaved,i===null?(e.next=e,uw(r)):(e.next=i.next,i.next=e),r.interleaved=e,oi(t,n)}function wd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J0(t,n)}}function dA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eh(t,e,n,r){var i=t.updateQueue;Mi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(h=e,g=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(g,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(g,f,h):y,h==null)break e;f=at({},f,h);break e;case 2:Mi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=f):c=c.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);rs|=s,t.lanes=s,t.memoizedState=f}}function hA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var Zc={},Cr=go(Zc),Yu=go(Zc),Xu=go(Zc);function Uo(t){if(t===Zc)throw Error(Q(174));return t}function fw(t,e){switch(Ge(Xu,e),Ge(Yu,t),Ge(Cr,Zc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yy(e,t)}Ze(Cr),Ge(Cr,e)}function Sa(){Ze(Cr),Ze(Yu),Ze(Xu)}function WN(t){Uo(Xu.current);var e=Uo(Cr.current),n=Yy(e,t.type);e!==n&&(Ge(Yu,t),Ge(Cr,n))}function dw(t){Yu.current===t&&(Ze(Cr),Ze(Yu))}var it=go(0);function th(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gg=[];function hw(){for(var t=0;t<Gg.length;t++)Gg[t]._workInProgressVersionPrimary=null;Gg.length=0}var Ed=mi.ReactCurrentDispatcher,zg=mi.ReactCurrentBatchConfig,ns=0,st=null,At=null,Lt=null,nh=!1,Su=!1,Qu=0,WF=0;function Yt(){throw Error(Q(321))}function pw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function mw(t,e,n,r,i,o){if(ns=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ed.current=t===null||t.memoizedState===null?XF:QF,t=n(r,i),Su){o=0;do{if(Su=!1,Qu=0,25<=o)throw Error(Q(301));o+=1,Lt=At=null,e.updateQueue=null,Ed.current=ZF,t=n(r,i)}while(Su)}if(Ed.current=rh,e=At!==null&&At.next!==null,ns=0,Lt=At=st=null,nh=!1,e)throw Error(Q(300));return t}function gw(){var t=Qu!==0;return Qu=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?st.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Kn(){if(At===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=Lt===null?st.memoizedState:Lt.next;if(e!==null)Lt=e,At=t;else{if(t===null)throw Error(Q(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Lt===null?st.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Zu(t,e){return typeof e=="function"?e(t):e}function jg(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=At,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ns&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,st.lanes|=c,rs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,gr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,st.lanes|=o,rs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wg(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);gr(o,e.memoizedState)||(yn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function KN(){}function JN(t,e){var n=st,r=Kn(),i=e(),o=!gr(r.memoizedState,i);if(o&&(r.memoizedState=i,yn=!0),r=r.queue,yw(QN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,ec(9,XN.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(Q(349));ns&30||YN(n,e,i)}return i}function YN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XN(t,e,n,r){e.value=n,e.getSnapshot=r,ZN(e)&&eM(t)}function QN(t,e,n){return n(function(){ZN(e)&&eM(t)})}function ZN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function eM(t){var e=oi(t,1);e!==null&&hr(e,t,1,-1)}function pA(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:t},e.queue=t,t=t.dispatch=YF.bind(null,st,t),[e.memoizedState,t]}function ec(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tM(){return Kn().memoizedState}function Td(t,e,n,r){var i=Tr();st.flags|=t,i.memoizedState=ec(1|e,n,void 0,r===void 0?null:r)}function $p(t,e,n,r){var i=Kn();r=r===void 0?null:r;var o=void 0;if(At!==null){var s=At.memoizedState;if(o=s.destroy,r!==null&&pw(r,s.deps)){i.memoizedState=ec(e,n,o,r);return}}st.flags|=t,i.memoizedState=ec(1|e,n,o,r)}function mA(t,e){return Td(8390656,8,t,e)}function yw(t,e){return $p(2048,8,t,e)}function nM(t,e){return $p(4,2,t,e)}function rM(t,e){return $p(4,4,t,e)}function iM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oM(t,e,n){return n=n!=null?n.concat([t]):null,$p(4,4,iM.bind(null,e,t),n)}function vw(){}function sM(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aM(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lM(t,e,n){return ns&21?(gr(n,e)||(n=hN(),st.lanes|=n,rs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function KF(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=zg.transition;zg.transition={};try{t(!1),e()}finally{Le=n,zg.transition=r}}function uM(){return Kn().memoizedState}function JF(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cM(t))fM(e,n);else if(n=zN(t,e,n,r),n!==null){var i=dn();hr(n,t,r,i),dM(n,e,r)}}function YF(t,e,n){var r=Yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cM(t))fM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,gr(a,s)){var l=e.interleaved;l===null?(i.next=i,uw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zN(t,e,i,r),n!==null&&(i=dn(),hr(n,t,r,i),dM(n,e,r))}}function cM(t){var e=t.alternate;return t===st||e!==null&&e===st}function fM(t,e){Su=nh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J0(t,n)}}var rh={readContext:Wn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},XF={readContext:Wn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:mA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Td(4194308,4,iM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Td(4194308,4,t,e)},useInsertionEffect:function(t,e){return Td(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JF.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:pA,useDebugValue:vw,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=pA(!1),e=t[0];return t=KF.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=Tr();if(et){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Ut===null)throw Error(Q(349));ns&30||YN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,mA(QN.bind(null,r,o,t),[t]),r.flags|=2048,ec(9,XN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Ut.identifierPrefix;if(et){var n=Kr,r=Wr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QF={readContext:Wn,useCallback:sM,useContext:Wn,useEffect:yw,useImperativeHandle:oM,useInsertionEffect:nM,useLayoutEffect:rM,useMemo:aM,useReducer:jg,useRef:tM,useState:function(){return jg(Zu)},useDebugValue:vw,useDeferredValue:function(t){var e=Kn();return lM(e,At.memoizedState,t)},useTransition:function(){var t=jg(Zu)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:KN,useSyncExternalStore:JN,useId:uM,unstable_isNewReconciler:!1},ZF={readContext:Wn,useCallback:sM,useContext:Wn,useEffect:yw,useImperativeHandle:oM,useInsertionEffect:nM,useLayoutEffect:rM,useMemo:aM,useReducer:Wg,useRef:tM,useState:function(){return Wg(Zu)},useDebugValue:vw,useDeferredValue:function(t){var e=Kn();return At===null?e.memoizedState=t:lM(e,At.memoizedState,t)},useTransition:function(){var t=Wg(Zu)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:KN,useSyncExternalStore:JN,useId:uM,unstable_isNewReconciler:!1};function nr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vp={isMounted:function(t){return(t=t._reactInternals)?ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Yi(t),o=Zr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ki(t,o,i),e!==null&&(hr(e,t,i,r),wd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Yi(t),o=Zr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ki(t,o,i),e!==null&&(hr(e,t,i,r),wd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=Yi(t),i=Zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ki(t,i,r),e!==null&&(hr(e,t,r,n),wd(e,t,r))}};function gA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ju(n,r)||!ju(i,o):!0}function hM(t,e,n){var r=!1,i=so,o=e.contextType;return typeof o=="object"&&o!==null?o=Wn(o):(i=wn(e)?es:an.current,r=e.contextTypes,o=(r=r!=null)?wa(t,i):so),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function yA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vp.enqueueReplaceState(e,e.state,null)}function vv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Wn(o):(o=wn(e)?es:an.current,i.context=wa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(yv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vp.enqueueReplaceState(i,i.state,null),eh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Aa(t,e){try{var n="",r=e;do n+=xU(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Kg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _v(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var e4=typeof WeakMap=="function"?WeakMap:Map;function pM(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){oh||(oh=!0,Pv=r),_v(t,e)},n}function mM(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_v(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_v(t,e),typeof r!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function vA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new e4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=p4.bind(null,t,e,n),e.then(t,t))}function _A(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,Ki(n,e,1))),n.lanes|=1),t)}var t4=mi.ReactCurrentOwner,yn=!1;function cn(t,e,n,r){e.child=t===null?GN(e,null,n,r):Ta(e,t.child,n,r)}function EA(t,e,n,r,i){n=n.render;var o=e.ref;return sa(e,i),r=mw(t,e,n,r,o,i),n=gw(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,si(t,e,i)):(et&&n&&rw(e),e.flags|=1,cn(t,e,r,i),e.child)}function TA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Iw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,gM(t,e,o,r,i)):(t=Id(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ju,n(s,r)&&t.ref===e.ref)return si(t,e,i)}return e.flags|=1,t=Xi(o,r),t.ref=e.ref,t.return=e,e.child=t}function gM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ju(o,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,si(t,e,i)}return wv(t,e,n,r,i)}function yM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Xs,bn),bn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Xs,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(Xs,bn),bn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ge(Xs,bn),bn|=r;return cn(t,e,i,n),e.child}function vM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wv(t,e,n,r,i){var o=wn(n)?es:an.current;return o=wa(e,o),sa(e,i),n=mw(t,e,n,r,o,i),r=gw(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,si(t,e,i)):(et&&r&&rw(e),e.flags|=1,cn(t,e,n,i),e.child)}function SA(t,e,n,r,i){if(wn(n)){var o=!0;Jd(e)}else o=!1;if(sa(e,i),e.stateNode===null)Sd(t,e),hM(e,n,r),vv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wn(u):(u=wn(n)?es:an.current,u=wa(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&yA(e,s,r,u),Mi=!1;var h=e.memoizedState;s.state=h,eh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||_n.current||Mi?(typeof c=="function"&&(yv(e,n,c,r),l=e.memoizedState),(a=Mi||gA(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,jN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:nr(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=wn(n)?es:an.current,l=wa(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&yA(e,s,r,l),Mi=!1,h=e.memoizedState,s.state=h,eh(e,r,s,i);var y=e.memoizedState;a!==f||h!==y||_n.current||Mi?(typeof g=="function"&&(yv(e,n,g,r),y=e.memoizedState),(u=Mi||gA(e,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ev(t,e,n,r,o,i)}function Ev(t,e,n,r,i,o){vM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&lA(e,n,!1),si(t,e,o);r=e.stateNode,t4.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ta(e,t.child,null,o),e.child=Ta(e,null,a,o)):cn(t,e,a,o),e.memoizedState=r.state,i&&lA(e,n,!0),e.child}function _M(t){var e=t.stateNode;e.pendingContext?aA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aA(t,e.context,!1),fw(t,e.containerInfo)}function AA(t,e,n,r,i){return Ea(),ow(i),e.flags|=256,cn(t,e,n,r),e.child}var Tv={dehydrated:null,treeContext:null,retryLane:0};function Sv(t){return{baseLanes:t,cachePool:null,transitions:null}}function wM(t,e,n){var r=e.pendingProps,i=it.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(it,i&1),t===null)return mv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Bp(s,r,0,null),t=Wo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Sv(n),e.memoizedState=Tv,t):_w(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return n4(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Xi(a,o):(o=Wo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Sv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Tv,r}return o=t.child,t=o.sibling,r=Xi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _w(t,e){return e=Bp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zf(t,e,n,r){return r!==null&&ow(r),Ta(e,t.child,null,n),t=_w(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n4(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Kg(Error(Q(422))),zf(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Bp({mode:"visible",children:r.children},i,0,null),o=Wo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ta(e,t.child,null,s),e.child.memoizedState=Sv(s),e.memoizedState=Tv,o);if(!(e.mode&1))return zf(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=Kg(o,r,void 0),zf(t,e,s,r)}if(a=(s&t.childLanes)!==0,yn||a){if(r=Ut,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,oi(t,i),hr(r,t,i,-1))}return bw(),r=Kg(Error(Q(421))),zf(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=m4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Cn=Wi(i.nextSibling),Pn=e,et=!0,or=null,t!==null&&(Vn[Un++]=Wr,Vn[Un++]=Kr,Vn[Un++]=ts,Wr=t.id,Kr=t.overflow,ts=e),e=_w(e,r.children),e.flags|=4096,e)}function bA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gv(t.return,e,n)}function Jg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function EM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(cn(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bA(t,n,e);else if(t.tag===19)bA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(it,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&th(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&th(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jg(e,!0,n,null,o);break;case"together":Jg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function r4(t,e,n){switch(e.tag){case 3:_M(e),Ea();break;case 5:WN(e);break;case 1:wn(e.type)&&Jd(e);break;case 4:fw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(Qd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?wM(t,e,n):(Ge(it,it.current&1),t=si(t,e,n),t!==null?t.sibling:null);Ge(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,yM(t,e,n)}return si(t,e,n)}var TM,Av,SM,AM;TM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Av=function(){};SM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Uo(Cr.current);var o=null;switch(n){case"input":i=jy(t,i),r=jy(t,r),o=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":i=Jy(t,i),r=Jy(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wd)}Xy(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};AM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yl(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function i4(t,e,n){var r=e.pendingProps;switch(iw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return wn(e.type)&&Kd(),Xt(e),null;case 3:return r=e.stateNode,Sa(),Ze(_n),Ze(an),hw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(Mv(or),or=null))),Av(t,e),Xt(e),null;case 5:dw(e);var i=Uo(Xu.current);if(n=e.type,t!==null&&e.stateNode!=null)SM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Xt(e),null}if(t=Uo(Cr.current),Hf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[br]=e,r[Ju]=o,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<du.length;i++)Ke(du[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":OS(r,o),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",r);break;case"textarea":LS(r,o),Ke("invalid",r)}Xy(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&qf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&qf(r.textContent,a,t),i=["children",""+a]):Uu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Of(r),DS(r,o,!0);break;case"textarea":Of(r),$S(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=QR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[br]=e,t[Ju]=r,TM(t,e,!1,!1),e.stateNode=t;e:{switch(s=Qy(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<du.length;i++)Ke(du[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":OS(t,r),i=jy(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":LS(t,r),i=Jy(t,r),Ke("invalid",t);break;default:i=r}Xy(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?tN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fu(t,l):typeof l=="number"&&Fu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ke("scroll",t):l!=null&&H0(t,o,l,s))}switch(n){case"input":Of(t),DS(t,r,!1);break;case"textarea":Of(t),$S(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?na(t,!!r.multiple,o,!1):r.defaultValue!=null&&na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)AM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Uo(Xu.current),Uo(Cr.current),Hf(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(o=r.nodeValue!==n)&&(t=Pn,t!==null))switch(t.tag){case 3:qf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Xt(e),null;case 13:if(Ze(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Cn!==null&&e.mode&1&&!(e.flags&128))qN(),Ea(),e.flags|=98560,o=!1;else if(o=Hf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[br]=e}else Ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),o=!1}else or!==null&&(Mv(or),or=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?It===0&&(It=3):bw())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return Sa(),Av(t,e),t===null&&Wu(e.stateNode.containerInfo),Xt(e),null;case 10:return lw(e.type._context),Xt(e),null;case 17:return wn(e.type)&&Kd(),Xt(e),null;case 19:if(Ze(it),o=e.memoizedState,o===null)return Xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Yl(o,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=th(t),s!==null){for(e.flags|=128,Yl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(it,it.current&1|2),e.child}t=t.sibling}o.tail!==null&&pt()>ba&&(e.flags|=128,r=!0,Yl(o,!1),e.lanes=4194304)}else{if(!r)if(t=th(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!et)return Xt(e),null}else 2*pt()-o.renderingStartTime>ba&&n!==1073741824&&(e.flags|=128,r=!0,Yl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,n=it.current,Ge(it,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return Aw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function o4(t,e){switch(iw(e),e.tag){case 1:return wn(e.type)&&Kd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sa(),Ze(_n),Ze(an),hw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dw(e),null;case 13:if(Ze(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(it),null;case 4:return Sa(),null;case 10:return lw(e.type._context),null;case 22:case 23:return Aw(),null;case 24:return null;default:return null}}var jf=!1,nn=!1,s4=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ys(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function bv(t,e,n){try{n()}catch(r){ct(t,e,r)}}var IA=!1;function a4(t,e){if(lv=Gd,t=PN(),nw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uv={focusedElem:t,selectionRange:n},Gd=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:nr(e.type,v),w);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(R){ct(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return y=IA,IA=!1,y}function Au(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&bv(e,n,o)}i=i.next}while(i!==r)}}function Up(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Iv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bM(t){var e=t.alternate;e!==null&&(t.alternate=null,bM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[Ju],delete e[dv],delete e[HF],delete e[GF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IM(t){return t.tag===5||t.tag===3||t.tag===4}function xA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wd));else if(r!==4&&(t=t.child,t!==null))for(xv(t,e,n),t=t.sibling;t!==null;)xv(t,e,n),t=t.sibling}function Cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cv(t,e,n),t=t.sibling;t!==null;)Cv(t,e,n),t=t.sibling}var qt=null,rr=!1;function Pi(t,e,n){for(n=n.child;n!==null;)xM(t,e,n),n=n.sibling}function xM(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(Np,n)}catch{}switch(n.tag){case 5:nn||Ys(n,e);case 6:var r=qt,i=rr;qt=null,Pi(t,e,n),qt=r,rr=i,qt!==null&&(rr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(rr?(t=qt,n=n.stateNode,t.nodeType===8?qg(t.parentNode,n):t.nodeType===1&&qg(t,n),Gu(t)):qg(qt,n.stateNode));break;case 4:r=qt,i=rr,qt=n.stateNode.containerInfo,rr=!0,Pi(t,e,n),qt=r,rr=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&bv(n,e,s),i=i.next}while(i!==r)}Pi(t,e,n);break;case 1:if(!nn&&(Ys(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}Pi(t,e,n);break;case 21:Pi(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Pi(t,e,n),nn=r):Pi(t,e,n);break;default:Pi(t,e,n)}}function CA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new s4),e.forEach(function(r){var i=g4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,rr=!1;break e;case 3:qt=a.stateNode.containerInfo,rr=!0;break e;case 4:qt=a.stateNode.containerInfo,rr=!0;break e}a=a.return}if(qt===null)throw Error(Q(160));xM(o,s,i),qt=null,rr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CM(e,t),e=e.sibling}function CM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),Er(t),r&4){try{Au(3,t,t.return),Up(3,t)}catch(v){ct(t,t.return,v)}try{Au(5,t,t.return)}catch(v){ct(t,t.return,v)}}break;case 1:er(e,t),Er(t),r&512&&n!==null&&Ys(n,n.return);break;case 5:if(er(e,t),Er(t),r&512&&n!==null&&Ys(n,n.return),t.flags&32){var i=t.stateNode;try{Fu(i,"")}catch(v){ct(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&YR(i,o),Qy(a,s);var u=Qy(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?tN(i,f):c==="dangerouslySetInnerHTML"?ZR(i,f):c==="children"?Fu(i,f):H0(i,c,f,u)}switch(a){case"input":Wy(i,o);break;case"textarea":XR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?na(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?na(i,!!o.multiple,o.defaultValue,!0):na(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ju]=o}catch(v){ct(t,t.return,v)}}break;case 6:if(er(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){ct(t,t.return,v)}}break;case 3:if(er(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gu(e.containerInfo)}catch(v){ct(t,t.return,v)}break;case 4:er(e,t),Er(t);break;case 13:er(e,t),Er(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Tw=pt())),r&4&&CA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(u=nn)||c,er(e,t),nn=u):er(e,t),Er(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(f=se=c;se!==null;){switch(h=se,g=h.child,h.tag){case 0:case 11:case 14:case 15:Au(4,h,h.return);break;case 1:Ys(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){ct(r,n,v)}}break;case 5:Ys(h,h.return);break;case 22:if(h.memoizedState!==null){RA(f);continue}}g!==null?(g.return=h,se=g):RA(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eN("display",s))}catch(v){ct(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ct(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:er(e,t),Er(t),r&4&&CA(t);break;case 21:break;default:er(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IM(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fu(i,""),r.flags&=-33);var o=xA(t);Cv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=xA(t);xv(t,a,s);break;default:throw Error(Q(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l4(t,e,n){se=t,PM(t)}function PM(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||jf;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nn;a=jf;var u=nn;if(jf=s,(nn=l)&&!u)for(se=i;se!==null;)s=se,l=s.child,s.tag===22&&s.memoizedState!==null?NA(i):l!==null?(l.return=s,se=l):NA(i);for(;o!==null;)se=o,PM(o),o=o.sibling;se=i,jf=a,nn=u}PA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):PA(t)}}function PA(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Up(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&hA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Gu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}nn||e.flags&512&&Iv(e)}catch(h){ct(e,e.return,h)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function RA(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function NA(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Up(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ct(e,i,l)}}var o=e.return;try{Iv(e)}catch(l){ct(e,o,l)}break;case 5:var s=e.return;try{Iv(e)}catch(l){ct(e,s,l)}}}catch(l){ct(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var u4=Math.ceil,ih=mi.ReactCurrentDispatcher,ww=mi.ReactCurrentOwner,Gn=mi.ReactCurrentBatchConfig,Ce=0,Ut=null,vt=null,jt=0,bn=0,Xs=go(0),It=0,tc=null,rs=0,Fp=0,Ew=0,bu=null,gn=null,Tw=0,ba=1/0,Gr=null,oh=!1,Pv=null,Ji=null,Wf=!1,Fi=null,sh=0,Iu=0,Rv=null,Ad=-1,bd=0;function dn(){return Ce&6?pt():Ad!==-1?Ad:Ad=pt()}function Yi(t){return t.mode&1?Ce&2&&jt!==0?jt&-jt:jF.transition!==null?(bd===0&&(bd=hN()),bd):(t=Le,t!==0||(t=window.event,t=t===void 0?16:wN(t.type)),t):1}function hr(t,e,n,r){if(50<Iu)throw Iu=0,Rv=null,Error(Q(185));Yc(t,n,r),(!(Ce&2)||t!==Ut)&&(t===Ut&&(!(Ce&2)&&(Fp|=n),It===4&&Di(t,jt)),En(t,r),n===1&&Ce===0&&!(e.mode&1)&&(ba=pt()+500,Lp&&yo()))}function En(t,e){var n=t.callbackNode;jU(t,e);var r=Hd(t,t===Ut?jt:0);if(r===0)n!==null&&FS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&FS(n),e===1)t.tag===0?zF(MA.bind(null,t)):UN(MA.bind(null,t)),BF(function(){!(Ce&6)&&yo()}),n=null;else{switch(pN(r)){case 1:n=K0;break;case 4:n=fN;break;case 16:n=qd;break;case 536870912:n=dN;break;default:n=qd}n=$M(n,RM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RM(t,e){if(Ad=-1,bd=0,Ce&6)throw Error(Q(327));var n=t.callbackNode;if(aa()&&t.callbackNode!==n)return null;var r=Hd(t,t===Ut?jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ah(t,r);else{e=r;var i=Ce;Ce|=2;var o=MM();(Ut!==t||jt!==e)&&(Gr=null,ba=pt()+500,jo(t,e));do try{d4();break}catch(a){NM(t,a)}while(!0);aw(),ih.current=o,Ce=i,vt!==null?e=0:(Ut=null,jt=0,e=It)}if(e!==0){if(e===2&&(i=rv(t),i!==0&&(r=i,e=Nv(t,i))),e===1)throw n=tc,jo(t,0),Di(t,r),En(t,pt()),n;if(e===6)Di(t,r);else{if(i=t.current.alternate,!(r&30)&&!c4(i)&&(e=ah(t,r),e===2&&(o=rv(t),o!==0&&(r=o,e=Nv(t,o))),e===1))throw n=tc,jo(t,0),Di(t,r),En(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:No(t,gn,Gr);break;case 3:if(Di(t,r),(r&130023424)===r&&(e=Tw+500-pt(),10<e)){if(Hd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fv(No.bind(null,t,gn,Gr),e);break}No(t,gn,Gr);break;case 4:if(Di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-dr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*u4(r/1960))-r,10<r){t.timeoutHandle=fv(No.bind(null,t,gn,Gr),r);break}No(t,gn,Gr);break;case 5:No(t,gn,Gr);break;default:throw Error(Q(329))}}}return En(t,pt()),t.callbackNode===n?RM.bind(null,t):null}function Nv(t,e){var n=bu;return t.current.memoizedState.isDehydrated&&(jo(t,e).flags|=256),t=ah(t,e),t!==2&&(e=gn,gn=n,e!==null&&Mv(e)),t}function Mv(t){gn===null?gn=t:gn.push.apply(gn,t)}function c4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~Ew,e&=~Fp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function MA(t){if(Ce&6)throw Error(Q(327));aa();var e=Hd(t,0);if(!(e&1))return En(t,pt()),null;var n=ah(t,e);if(t.tag!==0&&n===2){var r=rv(t);r!==0&&(e=r,n=Nv(t,r))}if(n===1)throw n=tc,jo(t,0),Di(t,e),En(t,pt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,No(t,gn,Gr),En(t,pt()),null}function Sw(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(ba=pt()+500,Lp&&yo())}}function is(t){Fi!==null&&Fi.tag===0&&!(Ce&6)&&aa();var e=Ce;Ce|=1;var n=Gn.transition,r=Le;try{if(Gn.transition=null,Le=1,t)return t()}finally{Le=r,Gn.transition=n,Ce=e,!(Ce&6)&&yo()}}function Aw(){bn=Xs.current,Ze(Xs)}function jo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FF(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(iw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kd();break;case 3:Sa(),Ze(_n),Ze(an),hw();break;case 5:dw(r);break;case 4:Sa();break;case 13:Ze(it);break;case 19:Ze(it);break;case 10:lw(r.type._context);break;case 22:case 23:Aw()}n=n.return}if(Ut=t,vt=t=Xi(t.current,null),jt=bn=e,It=0,tc=null,Ew=Fp=rs=0,gn=bu=null,Vo!==null){for(e=0;e<Vo.length;e++)if(n=Vo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Vo=null}return t}function NM(t,e){do{var n=vt;try{if(aw(),Ed.current=rh,nh){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nh=!1}if(ns=0,Lt=At=st=null,Su=!1,Qu=0,ww.current=null,n===null||n.return===null){It=1,tc=e,vt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=_A(s);if(g!==null){g.flags&=-257,wA(g,s,a,o,e),g.mode&1&&vA(o,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){vA(o,u,e),bw();break e}l=Error(Q(426))}}else if(et&&a.mode&1){var w=_A(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),wA(w,s,a,o,e),ow(Aa(l,a));break e}}o=l=Aa(l,a),It!==4&&(It=2),bu===null?bu=[o]:bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=pM(o,l,e);dA(o,_);break e;case 1:a=l;var E=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ji===null||!Ji.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=mM(o,a,e);dA(o,R);break e}}o=o.return}while(o!==null)}OM(n)}catch(b){e=b,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function MM(){var t=ih.current;return ih.current=rh,t===null?rh:t}function bw(){(It===0||It===3||It===2)&&(It=4),Ut===null||!(rs&268435455)&&!(Fp&268435455)||Di(Ut,jt)}function ah(t,e){var n=Ce;Ce|=2;var r=MM();(Ut!==t||jt!==e)&&(Gr=null,jo(t,e));do try{f4();break}catch(i){NM(t,i)}while(!0);if(aw(),Ce=n,ih.current=r,vt!==null)throw Error(Q(261));return Ut=null,jt=0,It}function f4(){for(;vt!==null;)kM(vt)}function d4(){for(;vt!==null&&!$U();)kM(vt)}function kM(t){var e=LM(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?OM(t):vt=e,ww.current=null}function OM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=o4(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,vt=null;return}}else if(n=i4(n,e,bn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);It===0&&(It=5)}function No(t,e,n){var r=Le,i=Gn.transition;try{Gn.transition=null,Le=1,h4(t,e,n,r)}finally{Gn.transition=i,Le=r}return null}function h4(t,e,n,r){do aa();while(Fi!==null);if(Ce&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(WU(t,o),t===Ut&&(vt=Ut=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wf||(Wf=!0,$M(qd,function(){return aa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gn.transition,Gn.transition=null;var s=Le;Le=1;var a=Ce;Ce|=4,ww.current=null,a4(t,n),CM(n,t),kF(uv),Gd=!!lv,uv=lv=null,t.current=n,l4(n),VU(),Ce=a,Le=s,Gn.transition=o}else t.current=n;if(Wf&&(Wf=!1,Fi=t,sh=i),o=t.pendingLanes,o===0&&(Ji=null),BU(n.stateNode),En(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oh)throw oh=!1,t=Pv,Pv=null,t;return sh&1&&t.tag!==0&&aa(),o=t.pendingLanes,o&1?t===Rv?Iu++:(Iu=0,Rv=t):Iu=0,yo(),null}function aa(){if(Fi!==null){var t=pN(sh),e=Gn.transition,n=Le;try{if(Gn.transition=null,Le=16>t?16:t,Fi===null)var r=!1;else{if(t=Fi,Fi=null,sh=0,Ce&6)throw Error(Q(331));var i=Ce;for(Ce|=4,se=t.current;se!==null;){var o=se,s=o.child;if(se.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:Au(8,c,o)}var f=c.child;if(f!==null)f.return=c,se=f;else for(;se!==null;){c=se;var h=c.sibling,g=c.return;if(bM(c),c===u){se=null;break}if(h!==null){h.return=g,se=h;break}se=g}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}se=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,se=s;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Au(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,se=_;break e}se=o.return}}var E=t.current;for(se=E;se!==null;){s=se;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,se=S;else e:for(s=E;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Up(9,a)}}catch(b){ct(a,a.return,b)}if(a===s){se=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,se=R;break e}se=a.return}}if(Ce=i,yo(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(Np,t)}catch{}r=!0}return r}finally{Le=n,Gn.transition=e}}return!1}function kA(t,e,n){e=Aa(n,e),e=pM(t,e,1),t=Ki(t,e,1),e=dn(),t!==null&&(Yc(t,1,e),En(t,e))}function ct(t,e,n){if(t.tag===3)kA(t,t,n);else for(;e!==null;){if(e.tag===3){kA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ji===null||!Ji.has(r))){t=Aa(n,t),t=mM(e,t,1),e=Ki(e,t,1),t=dn(),e!==null&&(Yc(e,1,t),En(e,t));break}}e=e.return}}function p4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(jt&n)===n&&(It===4||It===3&&(jt&130023424)===jt&&500>pt()-Tw?jo(t,0):Ew|=n),En(t,e)}function DM(t,e){e===0&&(t.mode&1?(e=$f,$f<<=1,!($f&130023424)&&($f=4194304)):e=1);var n=dn();t=oi(t,e),t!==null&&(Yc(t,e,n),En(t,n))}function m4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DM(t,n)}function g4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),DM(t,n)}var LM;LM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,r4(t,e,n);yn=!!(t.flags&131072)}else yn=!1,et&&e.flags&1048576&&FN(e,Xd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sd(t,e),t=e.pendingProps;var i=wa(e,an.current);sa(e,n),i=mw(null,e,r,t,i,n);var o=gw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(o=!0,Jd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cw(e),i.updater=Vp,e.stateNode=i,i._reactInternals=e,vv(e,r,t,n),e=Ev(null,e,r,!0,o,n)):(e.tag=0,et&&o&&rw(e),cn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=v4(r),t=nr(r,t),i){case 0:e=wv(null,e,r,t,n);break e;case 1:e=SA(null,e,r,t,n);break e;case 11:e=EA(null,e,r,t,n);break e;case 14:e=TA(null,e,r,nr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),wv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),SA(t,e,r,i,n);case 3:e:{if(_M(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,jN(t,e),eh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Aa(Error(Q(423)),e),e=AA(t,e,r,n,i);break e}else if(r!==i){i=Aa(Error(Q(424)),e),e=AA(t,e,r,n,i);break e}else for(Cn=Wi(e.stateNode.containerInfo.firstChild),Pn=e,et=!0,or=null,n=GN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ea(),r===i){e=si(t,e,n);break e}cn(t,e,r,n)}e=e.child}return e;case 5:return WN(e),t===null&&mv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,cv(r,i)?s=null:o!==null&&cv(r,o)&&(e.flags|=32),vM(t,e),cn(t,e,s,n),e.child;case 6:return t===null&&mv(e),null;case 13:return wM(t,e,n);case 4:return fw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ta(e,null,r,n):cn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),EA(t,e,r,i,n);case 7:return cn(t,e,e.pendingProps,n),e.child;case 8:return cn(t,e,e.pendingProps.children,n),e.child;case 12:return cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ge(Qd,r._currentValue),r._currentValue=s,o!==null)if(gr(o.value,s)){if(o.children===i.children&&!_n.current){e=si(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Zr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),gv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),gv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sa(e,n),i=Wn(i),r=r(i),e.flags|=1,cn(t,e,r,n),e.child;case 14:return r=e.type,i=nr(r,e.pendingProps),i=nr(r.type,i),TA(t,e,r,i,n);case 15:return gM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Sd(t,e),e.tag=1,wn(r)?(t=!0,Jd(e)):t=!1,sa(e,n),hM(e,r,i),vv(e,r,i,n),Ev(null,e,r,!0,t,n);case 19:return EM(t,e,n);case 22:return yM(t,e,n)}throw Error(Q(156,e.tag))};function $M(t,e){return cN(t,e)}function y4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new y4(t,e,n,r)}function Iw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function v4(t){if(typeof t=="function")return Iw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===z0)return 11;if(t===j0)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Id(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Iw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bs:return Wo(n.children,i,o,e);case G0:s=8,i|=8;break;case qy:return t=qn(12,n,e,i|2),t.elementType=qy,t.lanes=o,t;case Hy:return t=qn(13,n,e,i),t.elementType=Hy,t.lanes=o,t;case Gy:return t=qn(19,n,e,i),t.elementType=Gy,t.lanes=o,t;case WR:return Bp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zR:s=10;break e;case jR:s=9;break e;case z0:s=11;break e;case j0:s=14;break e;case Ni:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=qn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Wo(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function Bp(t,e,n,r){return t=qn(22,t,r,e),t.elementType=WR,t.lanes=n,t.stateNode={isHidden:!1},t}function Yg(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Xg(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ng(0),this.expirationTimes=Ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ng(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xw(t,e,n,r,i,o,s,a,l){return t=new _4(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=qn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cw(o),t}function w4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VM(t){if(!t)return so;t=t._reactInternals;e:{if(ms(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(wn(n))return VN(t,n,e)}return e}function UM(t,e,n,r,i,o,s,a,l){return t=xw(n,r,!0,t,i,o,s,a,l),t.context=VM(null),n=t.current,r=dn(),i=Yi(n),o=Zr(r,i),o.callback=e??null,Ki(n,o,i),t.current.lanes=i,Yc(t,i,r),En(t,r),t}function qp(t,e,n,r){var i=e.current,o=dn(),s=Yi(i);return n=VM(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ki(i,e,s),t!==null&&(hr(t,i,s,o),wd(t,i,s)),s}function lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cw(t,e){OA(t,e),(t=t.alternate)&&OA(t,e)}function E4(){return null}var FM=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pw(t){this._internalRoot=t}Hp.prototype.render=Pw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));qp(t,e,null,null)};Hp.prototype.unmount=Pw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;is(function(){qp(null,t,null,null)}),e[ii]=null}};function Hp(t){this._internalRoot=t}Hp.prototype.unstable_scheduleHydration=function(t){if(t){var e=yN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oi.length&&e!==0&&e<Oi[n].priority;n++);Oi.splice(n,0,t),n===0&&_N(t)}};function Rw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DA(){}function T4(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=lh(s);o.call(u)}}var s=UM(e,r,t,0,null,!1,!1,"",DA);return t._reactRootContainer=s,t[ii]=s.current,Wu(t.nodeType===8?t.parentNode:t),is(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=lh(l);a.call(u)}}var l=xw(t,0,!1,null,null,!1,!1,"",DA);return t._reactRootContainer=l,t[ii]=l.current,Wu(t.nodeType===8?t.parentNode:t),is(function(){qp(e,l,n,r)}),l}function zp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=lh(s);a.call(l)}}qp(e,s,t,i)}else s=T4(n,e,t,i,r);return lh(s)}mN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fu(e.pendingLanes);n!==0&&(J0(e,n|1),En(e,pt()),!(Ce&6)&&(ba=pt()+500,yo()))}break;case 13:is(function(){var r=oi(t,1);if(r!==null){var i=dn();hr(r,t,1,i)}}),Cw(t,1)}};Y0=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var n=dn();hr(e,t,134217728,n)}Cw(t,134217728)}};gN=function(t){if(t.tag===13){var e=Yi(t),n=oi(t,e);if(n!==null){var r=dn();hr(n,t,e,r)}Cw(t,e)}};yN=function(){return Le};vN=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};ev=function(t,e,n){switch(e){case"input":if(Wy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dp(r);if(!i)throw Error(Q(90));JR(r),Wy(r,i)}}}break;case"textarea":XR(t,n);break;case"select":e=n.value,e!=null&&na(t,!!n.multiple,e,!1)}};iN=Sw;oN=is;var S4={usingClientEntryPoint:!1,Events:[Qc,zs,Dp,nN,rN,Sw]},Xl={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A4={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lN(t),t===null?null:t.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||E4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{Np=Kf.inject(A4),xr=Kf}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S4;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rw(e))throw Error(Q(200));return w4(t,e,null,n)};Nn.createRoot=function(t,e){if(!Rw(t))throw Error(Q(299));var n=!1,r="",i=FM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xw(t,1,!1,null,null,n,!1,r,i),t[ii]=e.current,Wu(t.nodeType===8?t.parentNode:t),new Pw(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=lN(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return is(t)};Nn.hydrate=function(t,e,n){if(!Gp(e))throw Error(Q(200));return zp(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!Rw(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=FM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=UM(e,null,t,1,n??null,i,!1,o,s),t[ii]=e.current,Wu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Hp(e)};Nn.render=function(t,e,n){if(!Gp(e))throw Error(Q(200));return zp(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Gp(t))throw Error(Q(40));return t._reactRootContainer?(is(function(){zp(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};Nn.unstable_batchedUpdates=Sw;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gp(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return zp(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function BM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BM)}catch(t){console.error(t)}}BM(),BR.exports=Nn;var b4=BR.exports,LA=b4;Fy.createRoot=LA.createRoot,Fy.hydrateRoot=LA.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const $A="popstate";function I4(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=gs(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),kv("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:qM(o))}function r(i,o){jp(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return C4(e,n,r,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x4(){return Math.random().toString(36).substr(2,8)}function VA(t,e){return{usr:t.state,key:t.key,idx:e}}function kv(t,e,n,r){return n===void 0&&(n=null),nc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gs(e):e,{state:n,key:e&&e.key||r||x4()})}function qM(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function C4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Bi.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(nc({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=Bi.Pop;let w=c(),_=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:_})}function h(w,_){a=Bi.Push;let E=kv(v.location,w,_);n&&n(E,w),u=c()+1;let S=VA(E,u),R=v.createHref(E);try{s.pushState(S,"",R)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(R)}o&&l&&l({action:a,location:v.location,delta:1})}function g(w,_){a=Bi.Replace;let E=kv(v.location,w,_);n&&n(E,w),u=c();let S=VA(E,u),R=v.createHref(E);s.replaceState(S,"",R),o&&l&&l({action:a,location:v.location,delta:0})}function y(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:qM(w);return E=E.replace(/ $/,"%20"),Ct(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let v={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($A,f),l=w,()=>{i.removeEventListener($A,f),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let _=y(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:g,go(w){return s.go(w)}};return v}var UA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(UA||(UA={}));function P4(t,e,n){return n===void 0&&(n="/"),R4(t,e,n)}function R4(t,e,n,r){let i=typeof e=="string"?gs(e):e,o=zM(i.pathname||"/",n);if(o==null)return null;let s=HM(t);N4(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=H4(o);a=F4(s[l],u)}return a}function HM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ko([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),HM(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:V4(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of GM(o.path))i(o,s,l)}),e}function GM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=GM(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function N4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const M4=/^:[\w-]+$/,k4=3,O4=2,D4=1,L4=10,$4=-2,FA=t=>t==="*";function V4(t,e){let n=t.split("/"),r=n.length;return n.some(FA)&&(r+=$4),e&&(r+=O4),n.filter(i=>!FA(i)).reduce((i,o)=>i+(M4.test(o)?k4:o===""?D4:L4),r)}function U4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function F4(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=B4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ko([o,f.pathname]),pathnameBase:Y4(Ko([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Ko([o,f.pathnameBase]))}return s}function B4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=q4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:g}=c;if(h==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[f];return g&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function q4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function H4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const G4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,z4=t=>G4.test(t);function j4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gs(t):t,o;if(n)if(z4(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),jp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=BA(n.substring(1),"/"):o=BA(n,e)}else o=e;return{pathname:o,search:X4(r),hash:Q4(i)}}function BA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function K4(t,e){let n=W4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function J4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=gs(t):(i=nc({},t),Ct(!i.pathname||!i.pathname.includes("?"),Qg("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Qg("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Qg("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=j4(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ko=t=>t.join("/").replace(/\/\/+/g,"/"),Y4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Q4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jM=["post","put","patch","delete"];new Set(jM);const eB=["get",...jM];new Set(eB);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}const Nw=$.createContext(null),tB=$.createContext(null),Wp=$.createContext(null),Kp=$.createContext(null),ol=$.createContext({outlet:null,matches:[],isDataRoute:!1}),WM=$.createContext(null);function Jp(){return $.useContext(Kp)!=null}function ef(){return Jp()||Ct(!1),$.useContext(Kp).location}function KM(t){$.useContext(Wp).static||$.useLayoutEffect(t)}function sl(){let{isDataRoute:t}=$.useContext(ol);return t?pB():nB()}function nB(){Jp()||Ct(!1);let t=$.useContext(Nw),{basename:e,future:n,navigator:r}=$.useContext(Wp),{matches:i}=$.useContext(ol),{pathname:o}=ef(),s=JSON.stringify(K4(i,n.v7_relativeSplatPath)),a=$.useRef(!1);return KM(()=>{a.current=!0}),$.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=J4(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ko([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function rB(t,e){return iB(t,e)}function iB(t,e,n,r){Jp()||Ct(!1);let{navigator:i}=$.useContext(Wp),{matches:o}=$.useContext(ol),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ef(),c;if(e){var f;let w=typeof e=="string"?gs(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Ct(!1),c=w}else c=u;let h=c.pathname||"/",g=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=P4(t,{pathname:g}),v=uB(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ko([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ko([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&v?$.createElement(Kp.Provider,{value:{location:rc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Bi.Pop}},v):v}function oB(){let t=hB(),e=Z4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const sB=$.createElement(oB,null);class aB extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(ol.Provider,{value:this.props.routeContext},$.createElement(WM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lB(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(Nw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(ol.Provider,{value:e},r)}function uB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Ct(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:g}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let g,y=!1,v=null,w=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||sB,l&&(u<0&&h===0?(mB("route-fallback"),y=!0,w=null):u===h&&(y=!0,w=f.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,h+1)),E=()=>{let S;return g?S=v:y?S=w:f.route.Component?S=$.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,$.createElement(lB,{match:f,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?$.createElement(aB,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var JM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JM||{}),YM=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(YM||{});function cB(t){let e=$.useContext(Nw);return e||Ct(!1),e}function fB(t){let e=$.useContext(tB);return e||Ct(!1),e}function dB(t){let e=$.useContext(ol);return e||Ct(!1),e}function XM(t){let e=dB(),n=e.matches[e.matches.length-1];return n.route.id||Ct(!1),n.route.id}function hB(){var t;let e=$.useContext(WM),n=fB(),r=XM();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pB(){let{router:t}=cB(JM.UseNavigateStable),e=XM(YM.UseNavigateStable),n=$.useRef(!1);return KM(()=>{n.current=!0}),$.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rc({fromRouteId:e},o)))},[t,e])}const qA={};function mB(t,e,n){qA[t]||(qA[t]=!0)}function gB(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Mo(t){Ct(!1)}function yB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bi.Pop,navigator:o,static:s=!1,future:a}=t;Jp()&&Ct(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:o,static:s,future:rc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=gs(r));let{pathname:c="/",search:f="",hash:h="",state:g=null,key:y="default"}=r,v=$.useMemo(()=>{let w=zM(c,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:g,key:y},navigationType:i}},[l,c,f,h,g,y,i]);return v==null?null:$.createElement(Wp.Provider,{value:u},$.createElement(Kp.Provider,{children:n,value:v}))}function vB(t){let{children:e,location:n}=t;return rB(Ov(e),n)}new Promise(()=>{});function Ov(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let o=[...e,i];if(r.type===$.Fragment){n.push.apply(n,Ov(r.props.children,o));return}r.type!==Mo&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ov(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function _B(t,e){let n=Dv(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}const wB="6";try{window.__reactRouterVersion=wB}catch{}const EB="startTransition",HA=pU[EB];function TB(t){let{basename:e,children:n,future:r,window:i}=t,o=$.useRef();o.current==null&&(o.current=I4({window:i,v5Compat:!0}));let s=o.current,[a,l]=$.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=$.useCallback(f=>{u&&HA?HA(()=>l(f)):l(f)},[l,u]);return $.useLayoutEffect(()=>s.listen(c),[s,c]),$.useEffect(()=>gB(r),[r]),$.createElement(yB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var GA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(GA||(GA={}));var zA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zA||(zA={}));function QM(t){let e=$.useRef(Dv(t)),n=$.useRef(!1),r=ef(),i=$.useMemo(()=>_B(r.search,n.current?null:e.current),[r.search]),o=sl(),s=$.useCallback((a,l)=>{const u=Dv(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),xe=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>$.createElement("svg",{ref:c,...SB,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${AB(t)}`,a].join(" "),...u},[...e.map(([f,h])=>$.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=xe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=xe("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=xe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=xe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=xe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=xe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=xe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=xe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=xe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=xe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=xe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=xe("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=xe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=xe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=xe("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=xe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),YB=()=>{const t=sl(),e=ef(),n=[{path:"/",icon:$B,label:""},{path:"/inventory",icon:BB,label:""},{path:"/bundles",icon:tk,label:""},{path:"/share",icon:zB,label:""}];return L.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 pb-safe-area shadow-[0_-1px_3px_rgba(0,0,0,0.05)] z-50",children:L.jsx("div",{className:"flex justify-around items-center h-16",children:n.map(r=>{const i=e.pathname===r.path;return L.jsxs("button",{onClick:()=>t(r.path),className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${i?"text-brand-600":"text-gray-400 hover:text-gray-600"}`,children:[L.jsx(r.icon,{size:24,strokeWidth:i?2.5:2}),L.jsx("span",{className:"text-[10px] font-medium",children:r.label})]},r.path)})})})};function ak(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ak(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ak(t))&&(r&&(r+=" "),r+=e);return r}var XB=Array.isArray,Tn=XB,QB=typeof Nf=="object"&&Nf&&Nf.Object===Object&&Nf,lk=QB,ZB=lk,e3=typeof self=="object"&&self&&self.Object===Object&&self,t3=ZB||e3||Function("return this")(),Br=t3,n3=Br,r3=n3.Symbol,tf=r3,WA=tf,uk=Object.prototype,i3=uk.hasOwnProperty,o3=uk.toString,Ql=WA?WA.toStringTag:void 0;function s3(t){var e=i3.call(t,Ql),n=t[Ql];try{t[Ql]=void 0;var r=!0}catch{}var i=o3.call(t);return r&&(e?t[Ql]=n:delete t[Ql]),i}var a3=s3,l3=Object.prototype,u3=l3.toString;function c3(t){return u3.call(t)}var f3=c3,KA=tf,d3=a3,h3=f3,p3="[object Null]",m3="[object Undefined]",JA=KA?KA.toStringTag:void 0;function g3(t){return t==null?t===void 0?m3:p3:JA&&JA in Object(t)?d3(t):h3(t)}var gi=g3;function y3(t){return t!=null&&typeof t=="object"}var yi=y3,v3=gi,_3=yi,w3="[object Symbol]";function E3(t){return typeof t=="symbol"||_3(t)&&v3(t)==w3}var al=E3,T3=Tn,S3=al,A3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b3=/^\w*$/;function I3(t,e){if(T3(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||S3(t)?!0:b3.test(t)||!A3.test(t)||e!=null&&t in Object(e)}var Mw=I3;function x3(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vo=x3;const ll=ze(vo);var C3=gi,P3=vo,R3="[object AsyncFunction]",N3="[object Function]",M3="[object GeneratorFunction]",k3="[object Proxy]";function O3(t){if(!P3(t))return!1;var e=C3(t);return e==N3||e==M3||e==R3||e==k3}var kw=O3;const be=ze(kw);var D3=Br,L3=D3["__core-js_shared__"],$3=L3,Zg=$3,YA=function(){var t=/[^.]+$/.exec(Zg&&Zg.keys&&Zg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function V3(t){return!!YA&&YA in t}var U3=V3,F3=Function.prototype,B3=F3.toString;function q3(t){if(t!=null){try{return B3.call(t)}catch{}try{return t+""}catch{}}return""}var ck=q3,H3=kw,G3=U3,z3=vo,j3=ck,W3=/[\\^$.*+?()[\]{}|]/g,K3=/^\[object .+?Constructor\]$/,J3=Function.prototype,Y3=Object.prototype,X3=J3.toString,Q3=Y3.hasOwnProperty,Z3=RegExp("^"+X3.call(Q3).replace(W3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function e6(t){if(!z3(t)||G3(t))return!1;var e=H3(t)?Z3:K3;return e.test(j3(t))}var t6=e6;function n6(t,e){return t==null?void 0:t[e]}var r6=n6,i6=t6,o6=r6;function s6(t,e){var n=o6(t,e);return i6(n)?n:void 0}var ys=s6,a6=ys,l6=a6(Object,"create"),Yp=l6,XA=Yp;function u6(){this.__data__=XA?XA(null):{},this.size=0}var c6=u6;function f6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var d6=f6,h6=Yp,p6="__lodash_hash_undefined__",m6=Object.prototype,g6=m6.hasOwnProperty;function y6(t){var e=this.__data__;if(h6){var n=e[t];return n===p6?void 0:n}return g6.call(e,t)?e[t]:void 0}var v6=y6,_6=Yp,w6=Object.prototype,E6=w6.hasOwnProperty;function T6(t){var e=this.__data__;return _6?e[t]!==void 0:E6.call(e,t)}var S6=T6,A6=Yp,b6="__lodash_hash_undefined__";function I6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=A6&&e===void 0?b6:e,this}var x6=I6,C6=c6,P6=d6,R6=v6,N6=S6,M6=x6;function ul(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ul.prototype.clear=C6;ul.prototype.delete=P6;ul.prototype.get=R6;ul.prototype.has=N6;ul.prototype.set=M6;var k6=ul;function O6(){this.__data__=[],this.size=0}var D6=O6;function L6(t,e){return t===e||t!==t&&e!==e}var Ow=L6,$6=Ow;function V6(t,e){for(var n=t.length;n--;)if($6(t[n][0],e))return n;return-1}var Xp=V6,U6=Xp,F6=Array.prototype,B6=F6.splice;function q6(t){var e=this.__data__,n=U6(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():B6.call(e,n,1),--this.size,!0}var H6=q6,G6=Xp;function z6(t){var e=this.__data__,n=G6(e,t);return n<0?void 0:e[n][1]}var j6=z6,W6=Xp;function K6(t){return W6(this.__data__,t)>-1}var J6=K6,Y6=Xp;function X6(t,e){var n=this.__data__,r=Y6(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Q6=X6,Z6=D6,e5=H6,t5=j6,n5=J6,r5=Q6;function cl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cl.prototype.clear=Z6;cl.prototype.delete=e5;cl.prototype.get=t5;cl.prototype.has=n5;cl.prototype.set=r5;var Qp=cl,i5=ys,o5=Br,s5=i5(o5,"Map"),Dw=s5,QA=k6,a5=Qp,l5=Dw;function u5(){this.size=0,this.__data__={hash:new QA,map:new(l5||a5),string:new QA}}var c5=u5;function f5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var d5=f5,h5=d5;function p5(t,e){var n=t.__data__;return h5(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Zp=p5,m5=Zp;function g5(t){var e=m5(this,t).delete(t);return this.size-=e?1:0,e}var y5=g5,v5=Zp;function _5(t){return v5(this,t).get(t)}var w5=_5,E5=Zp;function T5(t){return E5(this,t).has(t)}var S5=T5,A5=Zp;function b5(t,e){var n=A5(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var I5=b5,x5=c5,C5=y5,P5=w5,R5=S5,N5=I5;function fl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fl.prototype.clear=x5;fl.prototype.delete=C5;fl.prototype.get=P5;fl.prototype.has=R5;fl.prototype.set=N5;var Lw=fl,fk=Lw,M5="Expected a function";function $w(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(M5);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new($w.Cache||fk),n}$w.Cache=fk;var dk=$w;const k5=ze(dk);var O5=dk,D5=500;function L5(t){var e=O5(t,function(r){return n.size===D5&&n.clear(),r}),n=e.cache;return e}var $5=L5,V5=$5,U5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,F5=/\\(\\)?/g,B5=V5(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(U5,function(n,r,i,o){e.push(i?o.replace(F5,"$1"):r||n)}),e}),q5=B5;function H5(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Vw=H5,ZA=tf,G5=Vw,z5=Tn,j5=al,eb=ZA?ZA.prototype:void 0,tb=eb?eb.toString:void 0;function hk(t){if(typeof t=="string")return t;if(z5(t))return G5(t,hk)+"";if(j5(t))return tb?tb.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var W5=hk,K5=W5;function J5(t){return t==null?"":K5(t)}var pk=J5,Y5=Tn,X5=Mw,Q5=q5,Z5=pk;function eq(t,e){return Y5(t)?t:X5(t,e)?[t]:Q5(Z5(t))}var mk=eq,tq=al;function nq(t){if(typeof t=="string"||tq(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var em=nq,rq=mk,iq=em;function oq(t,e){e=rq(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[iq(e[n++])];return n&&n==r?t:void 0}var Uw=oq,sq=Uw;function aq(t,e,n){var r=t==null?void 0:sq(t,e);return r===void 0?n:r}var gk=aq;const zn=ze(gk);function lq(t){return t==null}var uq=lq;const Me=ze(uq);var cq=gi,fq=Tn,dq=yi,hq="[object String]";function pq(t){return typeof t=="string"||!fq(t)&&dq(t)&&cq(t)==hq}var mq=pq;const os=ze(mq);var yk={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw=Symbol.for("react.element"),Bw=Symbol.for("react.portal"),tm=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),rm=Symbol.for("react.profiler"),im=Symbol.for("react.provider"),om=Symbol.for("react.context"),gq=Symbol.for("react.server_context"),sm=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),um=Symbol.for("react.memo"),cm=Symbol.for("react.lazy"),yq=Symbol.for("react.offscreen"),vk;vk=Symbol.for("react.module.reference");function Xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fw:switch(t=t.type,t){case tm:case rm:case nm:case am:case lm:return t;default:switch(t=t&&t.$$typeof,t){case gq:case om:case sm:case cm:case um:case im:return t;default:return e}}case Bw:return e}}}$e.ContextConsumer=om;$e.ContextProvider=im;$e.Element=Fw;$e.ForwardRef=sm;$e.Fragment=tm;$e.Lazy=cm;$e.Memo=um;$e.Portal=Bw;$e.Profiler=rm;$e.StrictMode=nm;$e.Suspense=am;$e.SuspenseList=lm;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(t){return Xn(t)===om};$e.isContextProvider=function(t){return Xn(t)===im};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fw};$e.isForwardRef=function(t){return Xn(t)===sm};$e.isFragment=function(t){return Xn(t)===tm};$e.isLazy=function(t){return Xn(t)===cm};$e.isMemo=function(t){return Xn(t)===um};$e.isPortal=function(t){return Xn(t)===Bw};$e.isProfiler=function(t){return Xn(t)===rm};$e.isStrictMode=function(t){return Xn(t)===nm};$e.isSuspense=function(t){return Xn(t)===am};$e.isSuspenseList=function(t){return Xn(t)===lm};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===tm||t===rm||t===nm||t===am||t===lm||t===yq||typeof t=="object"&&t!==null&&(t.$$typeof===cm||t.$$typeof===um||t.$$typeof===im||t.$$typeof===om||t.$$typeof===sm||t.$$typeof===vk||t.getModuleId!==void 0)};$e.typeOf=Xn;yk.exports=$e;var vq=yk.exports,_q=gi,wq=yi,Eq="[object Number]";function Tq(t){return typeof t=="number"||wq(t)&&_q(t)==Eq}var _k=Tq;const Sq=ze(_k);var Aq=_k;function bq(t){return Aq(t)&&t!=+t}var Iq=bq;const nf=ze(Iq);var lr=function(e){return e===0?0:e>0?1:-1},Fo=function(e){return os(e)&&e.indexOf("%")===e.length-1},ie=function(e){return Sq(e)&&!nf(e)},xq=function(e){return Me(e)},xt=function(e){return ie(e)||os(e)},Cq=0,fm=function(e){var n=++Cq;return"".concat(e||"").concat(n)},ss=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!os(e))return r;var o;if(Fo(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return nf(o)&&(o=r),i&&o>n&&(o=n),o},Ds=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Pq=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ms=function(e,n){return ie(e)&&ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function Lv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):zn(r,e))===n})}var Rq=function(e,n){return ie(e)&&ie(n)?e-n:os(e)&&os(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function la(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}var Nq=["viewBox","children"],Mq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nb=["points","pathLength"],ey={svg:Nq,polygon:nb,polyline:nb},qw=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],uh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!ll(r))return null;var i={};return Object.keys(r).forEach(function(o){qw.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},kq=function(e,n,r){return function(i){return e(n,r,i),null}},ch=function(e,n,r){if(!ll(e)||$v(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];qw.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=kq(s,n,r))}),i},Oq=["children"],Dq=["children"];function rb(t,e){if(t==null)return{};var n=Lq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ib={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ei=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ob=null,ty=null,Hw=function t(e){if(e===ob&&Array.isArray(ty))return ty;var n=[];return $.Children.forEach(e,function(r){Me(r)||(vq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ty=n,ob=e,n};function pr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ei(i)}):r=[ei(e)],Hw(t).forEach(function(i){var o=zn(i,"type.displayName")||zn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function In(t,e){var n=pr(t,e);return n&&n[0]}var sb=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ie(r)||r<=0||!ie(i)||i<=0)},$q=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Vq=function(e){return e&&e.type&&os(e.type)&&$q.indexOf(e.type)>=0},Uq=function(e,n,r,i){var o,s=(o=ey==null?void 0:ey[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!be(e)&&(i&&s.includes(n)||Mq.includes(n))||r&&qw.includes(n)},Oe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!ll(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Uq((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},Vv=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ab(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!ab(o,s))return!1}return!0},ab=function(e,n){if(Me(e)&&Me(n))return!0;if(!Me(e)&&!Me(n)){var r=e.props||{},i=r.children,o=rb(r,Oq),s=n.props||{},a=s.children,l=rb(s,Dq);return i&&a?la(o,l)&&Vv(i,a):!i&&!a?la(o,l):!1}return!1},lb=function(e,n){var r=[],i={};return Hw(e).forEach(function(o,s){if(Vq(o))r.push(o);else if(o){var a=ei(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},Fq=function(e){var n=e&&e.type;return n&&ib[n]?ib[n]:null},Bq=function(e,n){return Hw(n).indexOf(e)},qq=["children","width","height","viewBox","className","style","title","desc"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function Hq(t,e){if(t==null)return{};var n=Gq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fv(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=Hq(t,qq),c=i||{width:n,height:r,x:0,y:0},f=Ne("recharts-surface",o);return U.createElement("svg",Uv({},Oe(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),U.createElement("title",null,a),U.createElement("desc",null,l),e)}var zq=["children","className"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function jq(t,e){if(t==null)return{};var n=Wq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $t=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=jq(t,zq),o=Ne("recharts-layer",r);return U.createElement("g",Bv({className:o},Oe(i,!0),{ref:e}),n)}),Jo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Kq(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Jq=Kq,Yq=Jq;function Xq(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Yq(t,e,n)}var Qq=Xq,Zq="\\ud800-\\udfff",e9="\\u0300-\\u036f",t9="\\ufe20-\\ufe2f",n9="\\u20d0-\\u20ff",r9=e9+t9+n9,i9="\\ufe0e\\ufe0f",o9="\\u200d",s9=RegExp("["+o9+Zq+r9+i9+"]");function a9(t){return s9.test(t)}var wk=a9;function l9(t){return t.split("")}var u9=l9,Ek="\\ud800-\\udfff",c9="\\u0300-\\u036f",f9="\\ufe20-\\ufe2f",d9="\\u20d0-\\u20ff",h9=c9+f9+d9,p9="\\ufe0e\\ufe0f",m9="["+Ek+"]",qv="["+h9+"]",Hv="\\ud83c[\\udffb-\\udfff]",g9="(?:"+qv+"|"+Hv+")",Tk="[^"+Ek+"]",Sk="(?:\\ud83c[\\udde6-\\uddff]){2}",Ak="[\\ud800-\\udbff][\\udc00-\\udfff]",y9="\\u200d",bk=g9+"?",Ik="["+p9+"]?",v9="(?:"+y9+"(?:"+[Tk,Sk,Ak].join("|")+")"+Ik+bk+")*",_9=Ik+bk+v9,w9="(?:"+[Tk+qv+"?",qv,Sk,Ak,m9].join("|")+")",E9=RegExp(Hv+"(?="+Hv+")|"+w9+_9,"g");function T9(t){return t.match(E9)||[]}var S9=T9,A9=u9,b9=wk,I9=S9;function x9(t){return b9(t)?I9(t):A9(t)}var C9=x9,P9=Qq,R9=wk,N9=C9,M9=pk;function k9(t){return function(e){e=M9(e);var n=R9(e)?N9(e):void 0,r=n?n[0]:e.charAt(0),i=n?P9(n,1).join(""):e.slice(1);return r[t]()+i}}var O9=k9,D9=O9,L9=D9("toUpperCase"),$9=L9;const dm=ze($9);function He(t){return function(){return t}}const xk=Math.cos,fh=Math.sin,yr=Math.sqrt,dh=Math.PI,hm=2*dh,Gv=Math.PI,zv=2*Gv,ko=1e-6,V9=zv-ko;function Ck(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function U9(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ck;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class F9{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ck:U9(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ko)if(!(Math.abs(f*l-u*c)>ko)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,y=i-a,v=l*l+u*u,w=g*g+y*y,_=Math.sqrt(v),E=Math.sqrt(h),S=o*Math.tan((Gv-Math.acos((v+h-w)/(2*_*E)))/2),R=S/E,b=S/_;Math.abs(R-1)>ko&&this._append`L${e+R*c},${n+R*f}`,this._append`A${o},${o},0,0,${+(f*g>c*y)},${this._x1=e+b*l},${this._y1=n+b*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ko||Math.abs(this._y1-c)>ko)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%zv+zv),h>V9?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>ko&&this._append`A${r},${r},0,${+(h>=Gv)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Gw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new F9(e)}function zw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pk(t){this._context=t}Pk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function pm(t){return new Pk(t)}function Rk(t){return t[0]}function Nk(t){return t[1]}function Mk(t,e){var n=He(!0),r=null,i=pm,o=null,s=Gw(a);t=typeof t=="function"?t:t===void 0?Rk:He(t),e=typeof e=="function"?e:e===void 0?Nk:He(e);function a(l){var u,c=(l=zw(l)).length,f,h=!1,g;for(r==null&&(o=i(g=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(g)return o=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:He(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Jf(t,e,n){var r=null,i=He(!0),o=null,s=pm,a=null,l=Gw(u);t=typeof t=="function"?t:t===void 0?Rk:He(+t),e=typeof e=="function"?e:He(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Nk:He(+n);function u(f){var h,g,y,v=(f=zw(f)).length,w,_=!1,E,S=new Array(v),R=new Array(v);for(o==null&&(a=s(E=l())),h=0;h<=v;++h){if(!(h<v&&i(w=f[h],h,f))===_)if(_=!_)g=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=h-1;y>=g;--y)a.point(S[y],R[y]);a.lineEnd(),a.areaEnd()}_&&(S[h]=+t(w,h,f),R[h]=+e(w,h,f),a.point(r?+r(w,h,f):S[h],n?+n(w,h,f):R[h]))}if(E)return a=null,E+""||null}function c(){return Mk().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:He(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:He(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:He(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class kk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function B9(t){return new kk(t,!0)}function q9(t){return new kk(t,!1)}const jw={draw(t,e){const n=yr(e/dh);t.moveTo(n,0),t.arc(0,0,n,0,hm)}},H9={draw(t,e){const n=yr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Ok=yr(1/3),G9=Ok*2,z9={draw(t,e){const n=yr(e/G9),r=n*Ok;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},j9={draw(t,e){const n=yr(e),r=-n/2;t.rect(r,r,n,n)}},W9=.8908130915292852,Dk=fh(dh/10)/fh(7*dh/10),K9=fh(hm/10)*Dk,J9=-xk(hm/10)*Dk,Y9={draw(t,e){const n=yr(e*W9),r=K9*n,i=J9*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=hm*o/5,a=xk(s),l=fh(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},ny=yr(3),X9={draw(t,e){const n=-yr(e/(ny*3));t.moveTo(0,n*2),t.lineTo(-ny*n,-n),t.lineTo(ny*n,-n),t.closePath()}},Dn=-.5,Ln=yr(3)/2,jv=1/yr(12),Q9=(jv/2+1)*3,Z9={draw(t,e){const n=yr(e/Q9),r=n/2,i=n*jv,o=r,s=n*jv+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Dn*r-Ln*i,Ln*r+Dn*i),t.lineTo(Dn*o-Ln*s,Ln*o+Dn*s),t.lineTo(Dn*a-Ln*l,Ln*a+Dn*l),t.lineTo(Dn*r+Ln*i,Dn*i-Ln*r),t.lineTo(Dn*o+Ln*s,Dn*s-Ln*o),t.lineTo(Dn*a+Ln*l,Dn*l-Ln*a),t.closePath()}};function eH(t,e){let n=null,r=Gw(i);t=typeof t=="function"?t:He(t||jw),e=typeof e=="function"?e:He(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:He(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:He(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function hh(){}function ph(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Lk(t){this._context=t}Lk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ph(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tH(t){return new Lk(t)}function $k(t){this._context=t}$k.prototype={areaStart:hh,areaEnd:hh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nH(t){return new $k(t)}function Vk(t){this._context=t}Vk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ph(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rH(t){return new Vk(t)}function Uk(t){this._context=t}Uk.prototype={areaStart:hh,areaEnd:hh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iH(t){return new Uk(t)}function ub(t){return t<0?-1:1}function cb(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(ub(o)+ub(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function fb(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ry(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function mh(t){this._context=t}mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ry(this,this._t0,fb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ry(this,fb(this,n=cb(this,t,e)),n);break;default:ry(this,this._t0,n=cb(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Fk(t){this._context=new Bk(t)}(Fk.prototype=Object.create(mh.prototype)).point=function(t,e){mh.prototype.point.call(this,e,t)};function Bk(t){this._context=t}Bk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function oH(t){return new mh(t)}function sH(t){return new Fk(t)}function qk(t){this._context=t}qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=db(t),i=db(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function db(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function aH(t){return new qk(t)}function mm(t,e){this._context=t,this._t=e}mm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function lH(t){return new mm(t,.5)}function uH(t){return new mm(t,0)}function cH(t){return new mm(t,1)}function Ia(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Wv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function fH(t,e){return t[e]}function dH(t){const e=[];return e.key=t,e}function hH(){var t=He([]),e=Wv,n=Ia,r=fH;function i(o){var s=Array.from(t.apply(this,arguments),dH),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=zw(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:He(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:He(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Wv:typeof o=="function"?o:He(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ia,i):n},i}function pH(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Ia(t,e)}}function mH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Ia(t,e)}}function gH(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,g=(f-h)/2,y=0;y<a;++y){var v=t[e[y]],w=v[r][1]||0,_=v[r-1][1]||0;g+=w-_}l+=f,u+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ia(t,e)}}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}var yH=["type","size","sizeType"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(this,arguments)}function hb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hb(Object(n),!0).forEach(function(r){vH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vH(t,e,n){return e=_H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _H(t){var e=wH(t,"string");return ic(e)=="symbol"?e:e+""}function wH(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EH(t,e){if(t==null)return{};var n=TH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Hk={symbolCircle:jw,symbolCross:H9,symbolDiamond:z9,symbolSquare:j9,symbolStar:Y9,symbolTriangle:X9,symbolWye:Z9},SH=Math.PI/180,AH=function(e){var n="symbol".concat(dm(e));return Hk[n]||jw},bH=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*SH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},IH=function(e,n){Hk["symbol".concat(dm(e))]=n},Ww=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=EH(e,yH),u=pb(pb({},l),{},{type:r,size:o,sizeType:a}),c=function(){var w=AH(r),_=eH().type(w).size(bH(o,a,r));return _()},f=u.className,h=u.cx,g=u.cy,y=Oe(u,!0);return h===+h&&g===+g&&o===+o?U.createElement("path",Kv({},y,{className:Ne("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};Ww.registerSymbol=IH;function xa(t){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(this,arguments)}function mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mb(Object(n),!0).forEach(function(r){oc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zk(r.key),r)}}function RH(t,e,n){return e&&PH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NH(t,e,n){return e=gh(e),MH(t,Gk()?Reflect.construct(e,n||[],gh(t).constructor):e.apply(t,n))}function MH(t,e){if(e&&(xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kH(t)}function kH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gk=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gh(t)}function OH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yv(t,e)}function oc(t,e,n){return e=zk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zk(t){var e=DH(t,"string");return xa(e)=="symbol"?e:e+""}function DH(t,e){if(xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $n=32,Kw=function(t){function e(){return CH(this,e),NH(this,e,arguments)}return OH(e,t),RH(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=$n/2,s=$n/6,a=$n/3,l=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:$n,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat($n,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat($n/8,"h").concat($n,"v").concat($n*3/4,"h").concat(-$n,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var u=xH({},r);return delete u.legendIcon,U.cloneElement(r.legendIcon,u)}return U.createElement(Ww,{fill:l,cx:o,cy:o,size:$n,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:$n,height:$n},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,y){var v=g.formatter||l,w=Ne(oc(oc({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var _=be(g.value)?null:g.value;Jo(!be(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=g.inactive?u:g.color;return U.createElement("li",Jv({className:w,style:f,key:"legend-item-".concat(y)},ch(r.props,g,y)),U.createElement(Fv,{width:s,height:s,viewBox:c,style:h},r.renderIcon(g)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},v?v(_,g,y):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}($.PureComponent);oc(Kw,"displayName","Legend");oc(Kw,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var LH=Qp;function $H(){this.__data__=new LH,this.size=0}var VH=$H;function UH(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var FH=UH;function BH(t){return this.__data__.get(t)}var qH=BH;function HH(t){return this.__data__.has(t)}var GH=HH,zH=Qp,jH=Dw,WH=Lw,KH=200;function JH(t,e){var n=this.__data__;if(n instanceof zH){var r=n.__data__;if(!jH||r.length<KH-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new WH(r)}return n.set(t,e),this.size=n.size,this}var YH=JH,XH=Qp,QH=VH,ZH=FH,eG=qH,tG=GH,nG=YH;function dl(t){var e=this.__data__=new XH(t);this.size=e.size}dl.prototype.clear=QH;dl.prototype.delete=ZH;dl.prototype.get=eG;dl.prototype.has=tG;dl.prototype.set=nG;var jk=dl,rG="__lodash_hash_undefined__";function iG(t){return this.__data__.set(t,rG),this}var oG=iG;function sG(t){return this.__data__.has(t)}var aG=sG,lG=Lw,uG=oG,cG=aG;function yh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new lG;++e<n;)this.add(t[e])}yh.prototype.add=yh.prototype.push=uG;yh.prototype.has=cG;var Wk=yh;function fG(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Kk=fG;function dG(t,e){return t.has(e)}var Jk=dG,hG=Wk,pG=Kk,mG=Jk,gG=1,yG=2;function vG(t,e,n,r,i,o){var s=n&gG,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,g=n&yG?new hG:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var y=t[f],v=e[f];if(r)var w=s?r(v,y,f,e,t,o):r(y,v,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(g){if(!pG(e,function(_,E){if(!mG(g,E)&&(y===_||i(y,_,n,r,o)))return g.push(E)})){h=!1;break}}else if(!(y===v||i(y,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var Yk=vG,_G=Br,wG=_G.Uint8Array,EG=wG;function TG(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var SG=TG;function AG(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Jw=AG,gb=tf,yb=EG,bG=Ow,IG=Yk,xG=SG,CG=Jw,PG=1,RG=2,NG="[object Boolean]",MG="[object Date]",kG="[object Error]",OG="[object Map]",DG="[object Number]",LG="[object RegExp]",$G="[object Set]",VG="[object String]",UG="[object Symbol]",FG="[object ArrayBuffer]",BG="[object DataView]",vb=gb?gb.prototype:void 0,iy=vb?vb.valueOf:void 0;function qG(t,e,n,r,i,o,s){switch(n){case BG:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case FG:return!(t.byteLength!=e.byteLength||!o(new yb(t),new yb(e)));case NG:case MG:case DG:return bG(+t,+e);case kG:return t.name==e.name&&t.message==e.message;case LG:case VG:return t==e+"";case OG:var a=xG;case $G:var l=r&PG;if(a||(a=CG),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=RG,s.set(t,e);var c=IG(a(t),a(e),r,i,o,s);return s.delete(t),c;case UG:if(iy)return iy.call(t)==iy.call(e)}return!1}var HG=qG;function GG(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Xk=GG,zG=Xk,jG=Tn;function WG(t,e,n){var r=e(t);return jG(t)?r:zG(r,n(t))}var KG=WG;function JG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var YG=JG;function XG(){return[]}var QG=XG,ZG=YG,ez=QG,tz=Object.prototype,nz=tz.propertyIsEnumerable,_b=Object.getOwnPropertySymbols,rz=_b?function(t){return t==null?[]:(t=Object(t),ZG(_b(t),function(e){return nz.call(t,e)}))}:ez,iz=rz;function oz(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sz=oz,az=gi,lz=yi,uz="[object Arguments]";function cz(t){return lz(t)&&az(t)==uz}var fz=cz,wb=fz,dz=yi,Qk=Object.prototype,hz=Qk.hasOwnProperty,pz=Qk.propertyIsEnumerable,mz=wb(function(){return arguments}())?wb:function(t){return dz(t)&&hz.call(t,"callee")&&!pz.call(t,"callee")},Yw=mz,vh={exports:{}};function gz(){return!1}var yz=gz;vh.exports;(function(t,e){var n=Br,r=yz,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(vh,vh.exports);var Zk=vh.exports,vz=9007199254740991,_z=/^(?:0|[1-9]\d*)$/;function wz(t,e){var n=typeof t;return e=e??vz,!!e&&(n=="number"||n!="symbol"&&_z.test(t))&&t>-1&&t%1==0&&t<e}var Xw=wz,Ez=9007199254740991;function Tz(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ez}var Qw=Tz,Sz=gi,Az=Qw,bz=yi,Iz="[object Arguments]",xz="[object Array]",Cz="[object Boolean]",Pz="[object Date]",Rz="[object Error]",Nz="[object Function]",Mz="[object Map]",kz="[object Number]",Oz="[object Object]",Dz="[object RegExp]",Lz="[object Set]",$z="[object String]",Vz="[object WeakMap]",Uz="[object ArrayBuffer]",Fz="[object DataView]",Bz="[object Float32Array]",qz="[object Float64Array]",Hz="[object Int8Array]",Gz="[object Int16Array]",zz="[object Int32Array]",jz="[object Uint8Array]",Wz="[object Uint8ClampedArray]",Kz="[object Uint16Array]",Jz="[object Uint32Array]",Je={};Je[Bz]=Je[qz]=Je[Hz]=Je[Gz]=Je[zz]=Je[jz]=Je[Wz]=Je[Kz]=Je[Jz]=!0;Je[Iz]=Je[xz]=Je[Uz]=Je[Cz]=Je[Fz]=Je[Pz]=Je[Rz]=Je[Nz]=Je[Mz]=Je[kz]=Je[Oz]=Je[Dz]=Je[Lz]=Je[$z]=Je[Vz]=!1;function Yz(t){return bz(t)&&Az(t.length)&&!!Je[Sz(t)]}var Xz=Yz;function Qz(t){return function(e){return t(e)}}var eO=Qz,_h={exports:{}};_h.exports;(function(t,e){var n=lk,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(_h,_h.exports);var Zz=_h.exports,ej=Xz,tj=eO,Eb=Zz,Tb=Eb&&Eb.isTypedArray,nj=Tb?tj(Tb):ej,tO=nj,rj=sz,ij=Yw,oj=Tn,sj=Zk,aj=Xw,lj=tO,uj=Object.prototype,cj=uj.hasOwnProperty;function fj(t,e){var n=oj(t),r=!n&&ij(t),i=!n&&!r&&sj(t),o=!n&&!r&&!i&&lj(t),s=n||r||i||o,a=s?rj(t.length,String):[],l=a.length;for(var u in t)(e||cj.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||aj(u,l)))&&a.push(u);return a}var dj=fj,hj=Object.prototype;function pj(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||hj;return t===n}var mj=pj;function gj(t,e){return function(n){return t(e(n))}}var nO=gj,yj=nO,vj=yj(Object.keys,Object),_j=vj,wj=mj,Ej=_j,Tj=Object.prototype,Sj=Tj.hasOwnProperty;function Aj(t){if(!wj(t))return Ej(t);var e=[];for(var n in Object(t))Sj.call(t,n)&&n!="constructor"&&e.push(n);return e}var bj=Aj,Ij=kw,xj=Qw;function Cj(t){return t!=null&&xj(t.length)&&!Ij(t)}var gm=Cj,Pj=dj,Rj=bj,Nj=gm;function Mj(t){return Nj(t)?Pj(t):Rj(t)}var Zw=Mj,kj=KG,Oj=iz,Dj=Zw;function Lj(t){return kj(t,Dj,Oj)}var $j=Lj,Sb=$j,Vj=1,Uj=Object.prototype,Fj=Uj.hasOwnProperty;function Bj(t,e,n,r,i,o){var s=n&Vj,a=Sb(t),l=a.length,u=Sb(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:Fj.call(e,h)))return!1}var g=o.get(t),y=o.get(e);if(g&&y)return g==e&&y==t;var v=!0;o.set(t,e),o.set(e,t);for(var w=s;++f<l;){h=a[f];var _=t[h],E=e[h];if(r)var S=s?r(E,_,h,e,t,o):r(_,E,h,t,e,o);if(!(S===void 0?_===E||i(_,E,n,r,o):S)){v=!1;break}w||(w=h=="constructor")}if(v&&!w){var R=t.constructor,b=e.constructor;R!=b&&"constructor"in t&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof b=="function"&&b instanceof b)&&(v=!1)}return o.delete(t),o.delete(e),v}var qj=Bj,Hj=ys,Gj=Br,zj=Hj(Gj,"DataView"),jj=zj,Wj=ys,Kj=Br,Jj=Wj(Kj,"Promise"),Yj=Jj,Xj=ys,Qj=Br,Zj=Xj(Qj,"Set"),rO=Zj,e8=ys,t8=Br,n8=e8(t8,"WeakMap"),r8=n8,Xv=jj,Qv=Dw,Zv=Yj,e_=rO,t_=r8,iO=gi,hl=ck,Ab="[object Map]",i8="[object Object]",bb="[object Promise]",Ib="[object Set]",xb="[object WeakMap]",Cb="[object DataView]",o8=hl(Xv),s8=hl(Qv),a8=hl(Zv),l8=hl(e_),u8=hl(t_),Oo=iO;(Xv&&Oo(new Xv(new ArrayBuffer(1)))!=Cb||Qv&&Oo(new Qv)!=Ab||Zv&&Oo(Zv.resolve())!=bb||e_&&Oo(new e_)!=Ib||t_&&Oo(new t_)!=xb)&&(Oo=function(t){var e=iO(t),n=e==i8?t.constructor:void 0,r=n?hl(n):"";if(r)switch(r){case o8:return Cb;case s8:return Ab;case a8:return bb;case l8:return Ib;case u8:return xb}return e});var c8=Oo,oy=jk,f8=Yk,d8=HG,h8=qj,Pb=c8,Rb=Tn,Nb=Zk,p8=tO,m8=1,Mb="[object Arguments]",kb="[object Array]",Yf="[object Object]",g8=Object.prototype,Ob=g8.hasOwnProperty;function y8(t,e,n,r,i,o){var s=Rb(t),a=Rb(e),l=s?kb:Pb(t),u=a?kb:Pb(e);l=l==Mb?Yf:l,u=u==Mb?Yf:u;var c=l==Yf,f=u==Yf,h=l==u;if(h&&Nb(t)){if(!Nb(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new oy),s||p8(t)?f8(t,e,n,r,i,o):d8(t,e,l,n,r,i,o);if(!(n&m8)){var g=c&&Ob.call(t,"__wrapped__"),y=f&&Ob.call(e,"__wrapped__");if(g||y){var v=g?t.value():t,w=y?e.value():e;return o||(o=new oy),i(v,w,n,r,o)}}return h?(o||(o=new oy),h8(t,e,n,r,i,o)):!1}var v8=y8,_8=v8,Db=yi;function oO(t,e,n,r,i){return t===e?!0:t==null||e==null||!Db(t)&&!Db(e)?t!==t&&e!==e:_8(t,e,n,r,oO,i)}var eE=oO,w8=jk,E8=eE,T8=1,S8=2;function A8(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new w8;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?E8(c,u,T8|S8,r,f):h))return!1}}return!0}var b8=A8,I8=vo;function x8(t){return t===t&&!I8(t)}var sO=x8,C8=sO,P8=Zw;function R8(t){for(var e=P8(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,C8(i)]}return e}var N8=R8;function M8(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var aO=M8,k8=b8,O8=N8,D8=aO;function L8(t){var e=O8(t);return e.length==1&&e[0][2]?D8(e[0][0],e[0][1]):function(n){return n===t||k8(n,t,e)}}var $8=L8;function V8(t,e){return t!=null&&e in Object(t)}var U8=V8,F8=mk,B8=Yw,q8=Tn,H8=Xw,G8=Qw,z8=em;function j8(t,e,n){e=F8(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=z8(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&G8(i)&&H8(s,i)&&(q8(t)||B8(t)))}var W8=j8,K8=U8,J8=W8;function Y8(t,e){return t!=null&&J8(t,e,K8)}var X8=Y8,Q8=eE,Z8=gk,eW=X8,tW=Mw,nW=sO,rW=aO,iW=em,oW=1,sW=2;function aW(t,e){return tW(t)&&nW(e)?rW(iW(t),e):function(n){var r=Z8(n,t);return r===void 0&&r===e?eW(n,t):Q8(e,r,oW|sW)}}var lW=aW;function uW(t){return t}var pl=uW;function cW(t){return function(e){return e==null?void 0:e[t]}}var fW=cW,dW=Uw;function hW(t){return function(e){return dW(e,t)}}var pW=hW,mW=fW,gW=pW,yW=Mw,vW=em;function _W(t){return yW(t)?mW(vW(t)):gW(t)}var wW=_W,EW=$8,TW=lW,SW=pl,AW=Tn,bW=wW;function IW(t){return typeof t=="function"?t:t==null?SW:typeof t=="object"?AW(t)?TW(t[0],t[1]):EW(t):bW(t)}var ml=IW;function xW(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var CW=xW;function PW(t){return t!==t}var RW=PW;function NW(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var MW=NW,kW=CW,OW=RW,DW=MW;function LW(t,e,n){return e===e?DW(t,e,n):kW(t,OW,n)}var $W=LW,VW=$W;function UW(t,e){var n=t==null?0:t.length;return!!n&&VW(t,e,0)>-1}var FW=UW;function BW(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var qW=BW;function HW(){}var GW=HW,sy=rO,zW=GW,jW=Jw,WW=1/0,KW=sy&&1/jW(new sy([,-0]))[1]==WW?function(t){return new sy(t)}:zW,JW=KW,YW=Wk,XW=FW,QW=qW,ZW=Jk,e7=JW,t7=Jw,n7=200;function r7(t,e,n){var r=-1,i=XW,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=QW;else if(o>=n7){var u=e?null:e7(t);if(u)return t7(u);s=!1,i=ZW,l=new YW}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var i7=r7,o7=ml,s7=i7;function a7(t,e){return t&&t.length?s7(t,o7(e)):[]}var l7=a7;const Lb=ze(l7);function lO(t,e,n){return e===!0?Lb(t,n):be(e)?Lb(t,e):t}function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}var u7=["ref"];function $b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$b(Object(n),!0).forEach(function(r){ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cO(r.key),r)}}function f7(t,e,n){return e&&Vb(t.prototype,e),n&&Vb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d7(t,e,n){return e=wh(e),h7(t,uO()?Reflect.construct(e,n||[],wh(t).constructor):e.apply(t,n))}function h7(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p7(t)}function p7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uO=function(){return!!t})()}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wh(t)}function m7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n_(t,e)}function ym(t,e,n){return e=cO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cO(t){var e=g7(t,"string");return Ca(e)=="symbol"?e:e+""}function g7(t,e){if(Ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function y7(t,e){if(t==null)return{};var n=v7(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _7(t){return t.value}function w7(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=y7(e,u7);return U.createElement(Kw,n)}var Ub=1,ua=function(t){function e(){var n;c7(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=d7(this,e,[].concat(i)),ym(n,"lastBoundingBox",{width:-1,height:-1}),n}return m7(e,t),f7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Ub||Math.abs(i.height-this.lastBoundingBox.height)>Ub)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Hr(Hr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Hr(Hr({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},w7(o,Hr(Hr({},this.props),{},{payload:lO(c,u,_7)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Hr(Hr({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ie(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);ym(ua,"displayName","Legend");ym(ua,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Fb=tf,E7=Yw,T7=Tn,Bb=Fb?Fb.isConcatSpreadable:void 0;function S7(t){return T7(t)||E7(t)||!!(Bb&&t&&t[Bb])}var A7=S7,b7=Xk,I7=A7;function fO(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=I7),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?fO(a,e-1,n,r,i):b7(i,a):r||(i[i.length]=a)}return i}var dO=fO;function x7(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var C7=x7,P7=C7,R7=P7(),N7=R7,M7=N7,k7=Zw;function O7(t,e){return t&&M7(t,e,k7)}var hO=O7,D7=gm;function L7(t,e){return function(n,r){if(n==null)return n;if(!D7(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var $7=L7,V7=hO,U7=$7,F7=U7(V7),tE=F7,B7=tE,q7=gm;function H7(t,e){var n=-1,r=q7(t)?Array(t.length):[];return B7(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var pO=H7;function G7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var z7=G7,qb=al;function j7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=qb(t),s=e!==void 0,a=e===null,l=e===e,u=qb(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var W7=j7,K7=W7;function J7(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=K7(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Y7=J7,ay=Vw,X7=Uw,Q7=ml,Z7=pO,eK=z7,tK=eO,nK=Y7,rK=pl,iK=Tn;function oK(t,e,n){e.length?e=ay(e,function(o){return iK(o)?function(s){return X7(s,o.length===1?o[0]:o)}:o}):e=[rK];var r=-1;e=ay(e,tK(Q7));var i=Z7(t,function(o,s,a){var l=ay(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return eK(i,function(o,s){return nK(o,s,n)})}var sK=oK;function aK(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var lK=aK,uK=lK,Hb=Math.max;function cK(t,e,n){return e=Hb(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Hb(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),uK(t,this,a)}}var fK=cK;function dK(t){return function(){return t}}var hK=dK,pK=ys,mK=function(){try{var t=pK(Object,"defineProperty");return t({},"",{}),t}catch{}}(),mO=mK,gK=hK,Gb=mO,yK=pl,vK=Gb?function(t,e){return Gb(t,"toString",{configurable:!0,enumerable:!1,value:gK(e),writable:!0})}:yK,_K=vK,wK=800,EK=16,TK=Date.now;function SK(t){var e=0,n=0;return function(){var r=TK(),i=EK-(r-n);if(n=r,i>0){if(++e>=wK)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var AK=SK,bK=_K,IK=AK,xK=IK(bK),CK=xK,PK=pl,RK=fK,NK=CK;function MK(t,e){return NK(RK(t,e,PK),t+"")}var kK=MK,OK=Ow,DK=gm,LK=Xw,$K=vo;function VK(t,e,n){if(!$K(n))return!1;var r=typeof e;return(r=="number"?DK(n)&&LK(e,n.length):r=="string"&&e in n)?OK(n[e],t):!1}var vm=VK,UK=dO,FK=sK,BK=kK,zb=vm,qK=BK(function(t,e){if(t==null)return[];var n=e.length;return n>1&&zb(t,e[0],e[1])?e=[]:n>2&&zb(e[0],e[1],e[2])&&(e=[e[0]]),FK(t,UK(e,1),[])}),HK=qK;const nE=ze(HK);function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(this,arguments)}function GK(t,e){return KK(t)||WK(t,e)||jK(t,e)||zK()}function zK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jK(t,e){if(t){if(typeof t=="string")return jb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jb(t,e)}}function jb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function KK(t){if(Array.isArray(t))return t}function Wb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wb(Object(n),!0).forEach(function(r){JK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JK(t,e,n){return e=YK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YK(t){var e=XK(t,"string");return sc(e)=="symbol"?e:e+""}function XK(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QK(t){return Array.isArray(t)&&xt(t[0])&&xt(t[1])?t.join(" ~ "):t}var ZK=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,y=e.labelClassName,v=e.label,w=e.labelFormatter,_=e.accessibilityLayer,E=_===void 0?!1:_,S=function(){if(c&&c.length){var O={padding:0,margin:0},N=(h?nE(c,h):c).map(function(q,H){if(q.type==="none")return null;var z=ly({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},a),K=q.formatter||f||QK,F=q.value,j=q.name,X=F,te=j;if(K&&X!=null&&te!=null){var Z=K(F,j,q,H,c);if(Array.isArray(Z)){var ue=GK(Z,2);X=ue[0],te=ue[1]}else X=Z}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:z},xt(te)?U.createElement("span",{className:"recharts-tooltip-item-name"},te):null,xt(te)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},X),U.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:O},N)}return null},R=ly({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=ly({margin:0},u),C=!Me(v),A=C?v:"",I=Ne("recharts-default-tooltip",g),P=Ne("recharts-tooltip-label",y);C&&w&&c!==void 0&&c!==null&&(A=w(v,c));var k=E?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",r_({className:I,style:R},k),U.createElement("p",{className:P,style:b},U.isValidElement(A)?A:"".concat(A)),S())};function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function Xf(t,e,n){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eJ(t){var e=tJ(t,"string");return ac(e)=="symbol"?e:e+""}function tJ(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zl="recharts-tooltip-wrapper",nJ={visibility:"hidden"};function rJ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ne(Zl,Xf(Xf(Xf(Xf({},"".concat(Zl,"-right"),ie(n)&&e&&ie(e.x)&&n>=e.x),"".concat(Zl,"-left"),ie(n)&&e&&ie(e.x)&&n<e.x),"".concat(Zl,"-bottom"),ie(r)&&e&&ie(e.y)&&r>=e.y),"".concat(Zl,"-top"),ie(r)&&e&&ie(e.y)&&r<e.y))}function Kb(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ie(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,g=l[r];return h<g?Math.max(f,l[r]):Math.max(c,l[r])}var y=f+a,v=l[r]+u;return y>v?Math.max(c,l[r]):Math.max(f,l[r])}function iJ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function oJ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=Kb({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=Kb({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=iJ({translateX:c,translateY:f,useTranslate3d:a})):u=nJ,{cssProperties:u,cssClasses:rJ({translateX:c,translateY:f,coordinate:n})}}function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}function Jb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jb(Object(n),!0).forEach(function(r){o_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yO(r.key),r)}}function lJ(t,e,n){return e&&aJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uJ(t,e,n){return e=Eh(e),cJ(t,gO()?Reflect.construct(e,n||[],Eh(t).constructor):e.apply(t,n))}function cJ(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fJ(t)}function fJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eh(t)}function dJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(t,e)}function o_(t,e,n){return e=yO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yO(t){var e=hJ(t,"string");return Pa(e)=="symbol"?e:e+""}function hJ(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xb=1,pJ=function(t){function e(){var n;sJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=uJ(this,e,[].concat(i)),o_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),o_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return dJ(e,t),lJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Xb||Math.abs(r.height-this.state.lastBoundingBox.height)>Xb)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,y=i.position,v=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,S=oJ({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:g,position:y,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:_}),R=S.cssClasses,b=S.cssProperties,C=Yb(Yb({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},E);return U.createElement("div",{tabIndex:-1,className:R,style:C,ref:function(I){r.wrapperNode=I}},u)}}])}($.PureComponent),mJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},rf={isSsr:mJ()};function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function Qb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qb(Object(n),!0).forEach(function(r){rE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_O(r.key),r)}}function vJ(t,e,n){return e&&yJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _J(t,e,n){return e=Th(e),wJ(t,vO()?Reflect.construct(e,n||[],Th(t).constructor):e.apply(t,n))}function wJ(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EJ(t)}function EJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vO=function(){return!!t})()}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Th(t)}function TJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s_(t,e)}function rE(t,e,n){return e=_O(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _O(t){var e=SJ(t,"string");return Ra(e)=="symbol"?e:e+""}function SJ(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AJ(t){return t.dataKey}function bJ(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(ZK,e)}var Sr=function(t){function e(){return gJ(this,e),_J(this,e,arguments)}return TJ(e,t),vJ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,y=i.payload,v=i.payloadUniqBy,w=i.position,_=i.reverseDirection,E=i.useTranslate3d,S=i.viewBox,R=i.wrapperStyle,b=y??[];f&&b.length&&(b=lO(y.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),v,AJ));var C=b.length>0;return U.createElement(pJ,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:C,offset:g,position:w,reverseDirection:_,useTranslate3d:E,viewBox:S,wrapperStyle:R},bJ(u,Zb(Zb({},this.props),{},{payload:b})))}}])}($.PureComponent);rE(Sr,"displayName","Tooltip");rE(Sr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!rf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var IJ=Br,xJ=function(){return IJ.Date.now()},CJ=xJ,PJ=/\s/;function RJ(t){for(var e=t.length;e--&&PJ.test(t.charAt(e)););return e}var NJ=RJ,MJ=NJ,kJ=/^\s+/;function OJ(t){return t&&t.slice(0,MJ(t)+1).replace(kJ,"")}var DJ=OJ,LJ=DJ,eI=vo,$J=al,tI=NaN,VJ=/^[-+]0x[0-9a-f]+$/i,UJ=/^0b[01]+$/i,FJ=/^0o[0-7]+$/i,BJ=parseInt;function qJ(t){if(typeof t=="number")return t;if($J(t))return tI;if(eI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=eI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=LJ(t);var n=UJ.test(t);return n||FJ.test(t)?BJ(t.slice(2),n?2:8):VJ.test(t)?tI:+t}var wO=qJ,HJ=vo,uy=CJ,nI=wO,GJ="Expected a function",zJ=Math.max,jJ=Math.min;function WJ(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(GJ);e=nI(e)||0,HJ(n)&&(c=!!n.leading,f="maxWait"in n,o=f?zJ(nI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(C){var A=r,I=i;return r=i=void 0,u=C,s=t.apply(I,A),s}function y(C){return u=C,a=setTimeout(_,e),c?g(C):s}function v(C){var A=C-l,I=C-u,P=e-A;return f?jJ(P,o-I):P}function w(C){var A=C-l,I=C-u;return l===void 0||A>=e||A<0||f&&I>=o}function _(){var C=uy();if(w(C))return E(C);a=setTimeout(_,v(C))}function E(C){return a=void 0,h&&r?g(C):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function R(){return a===void 0?s:E(uy())}function b(){var C=uy(),A=w(C);if(r=arguments,i=this,l=C,A){if(a===void 0)return y(l);if(f)return clearTimeout(a),a=setTimeout(_,e),g(l)}return a===void 0&&(a=setTimeout(_,e)),s}return b.cancel=S,b.flush=R,b}var KJ=WJ,JJ=KJ,YJ=vo,XJ="Expected a function";function QJ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(XJ);return YJ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),JJ(t,e,{leading:r,maxWait:e,trailing:i})}var ZJ=QJ;const EO=ze(ZJ);function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){eY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eY(t,e,n){return e=tY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tY(t){var e=nY(t,"string");return lc(e)=="symbol"?e:e+""}function nY(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rY(t,e){return aY(t)||sY(t,e)||oY(t,e)||iY()}function iY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oY(t,e){if(t){if(typeof t=="string")return iI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iI(t,e)}}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function aY(t){if(Array.isArray(t))return t}var lY=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,y=t.debounce,v=y===void 0?0:y,w=t.id,_=t.className,E=t.onResize,S=t.style,R=S===void 0?{}:S,b=$.useRef(null),C=$.useRef();C.current=E,$.useImperativeHandle(e,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var A=$.useState({containerWidth:i.width,containerHeight:i.height}),I=rY(A,2),P=I[0],k=I[1],M=$.useCallback(function(N,q){k(function(H){var z=Math.round(N),K=Math.round(q);return H.containerWidth===z&&H.containerHeight===K?H:{containerWidth:z,containerHeight:K}})},[]);$.useEffect(function(){var N=function(j){var X,te=j[0].contentRect,Z=te.width,ue=te.height;M(Z,ue),(X=C.current)===null||X===void 0||X.call(C,Z,ue)};v>0&&(N=EO(N,v,{trailing:!0,leading:!1}));var q=new ResizeObserver(N),H=b.current.getBoundingClientRect(),z=H.width,K=H.height;return M(z,K),q.observe(b.current),function(){q.disconnect()}},[M,v]);var O=$.useMemo(function(){var N=P.containerWidth,q=P.containerHeight;if(N<0||q<0)return null;Jo(Fo(s)||Fo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Jo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=Fo(s)?N:s,z=Fo(l)?q:l;n&&n>0&&(H?z=H/n:z&&(H=z*n),h&&z>h&&(z=h)),Jo(H>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,z,s,l,c,f,n);var K=!Array.isArray(g)&&ei(g.type).endsWith("Chart");return U.Children.map(g,function(F){return U.isValidElement(F)?$.cloneElement(F,Qf({width:H,height:z},K?{style:Qf({height:"100%",width:"100%",maxHeight:z,maxWidth:H},F.props.style)}:{})):F})},[n,g,l,h,f,c,P,s]);return U.createElement("div",{id:w?"".concat(w):void 0,className:Ne("recharts-responsive-container",_),style:Qf(Qf({},R),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:b},O)}),iE=function(e){return null};iE.displayName="Cell";function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){uY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uY(t,e,n){return e=cY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cY(t){var e=fY(t,"string");return uc(e)=="symbol"?e:e+""}function fY(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ks={widthCache:{},cacheCount:0},dY=2e3,hY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sI="recharts_measurement_span";function pY(t){var e=a_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var xu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rf.isSsr)return{width:0,height:0};var r=pY(n),i=JSON.stringify({text:e,copyStyle:r});if(ks.widthCache[i])return ks.widthCache[i];try{var o=document.getElementById(sI);o||(o=document.createElement("span"),o.setAttribute("id",sI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=a_(a_({},hY),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ks.widthCache[i]=l,++ks.cacheCount>dY&&(ks.cacheCount=0,ks.widthCache={}),l}catch{return{width:0,height:0}}},mY=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function Sh(t,e){return _Y(t)||vY(t,e)||yY(t,e)||gY()}function gY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(t,e){if(t){if(typeof t=="string")return aI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aI(t,e)}}function aI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function _Y(t){if(Array.isArray(t))return t}function wY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TY(r.key),r)}}function EY(t,e,n){return e&&lI(t.prototype,e),n&&lI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TY(t){var e=SY(t,"string");return cc(e)=="symbol"?e:e+""}function SY(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},IY=Object.keys(TO),Qs="NaN";function xY(t,e){return t*TO[e]}var Zf=function(){function t(e,n){wY(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!AY.test(n)&&(this.num=NaN,this.unit=""),IY.includes(n)&&(this.num=xY(e,n),this.unit="px")}return EY(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=bY.exec(n))!==null&&r!==void 0?r:[],o=Sh(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function SO(t){if(t.includes(Qs))return Qs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=uI.exec(e))!==null&&n!==void 0?n:[],i=Sh(r,4),o=i[1],s=i[2],a=i[3],l=Zf.parse(o??""),u=Zf.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Qs;e=e.replace(uI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=cI.exec(e))!==null&&f!==void 0?f:[],g=Sh(h,4),y=g[1],v=g[2],w=g[3],_=Zf.parse(y??""),E=Zf.parse(w??""),S=v==="+"?_.add(E):_.subtract(E);if(S.isNaN())return Qs;e=e.replace(cI,S.toString())}return e}var fI=/\(([^()]*)\)/;function CY(t){for(var e=t;e.includes("(");){var n=fI.exec(e),r=Sh(n,2),i=r[1];e=e.replace(fI,SO(i))}return e}function PY(t){var e=t.replace(/\s+/g,"");return e=CY(e),e=SO(e),e}function RY(t){try{return PY(t)}catch{return Qs}}function cy(t){var e=RY(t.slice(5,-1));return e===Qs?"":e}var NY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MY=["dx","dy","angle","className","breakAll"];function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}function dI(t,e){if(t==null)return{};var n=kY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hI(t,e){return $Y(t)||LY(t,e)||DY(t,e)||OY()}function OY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DY(t,e){if(t){if(typeof t=="string")return pI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(t,e)}}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function $Y(t){if(Array.isArray(t))return t}var AO=/[ \f\n\r\t\v\u2028\u2029]+/,bO=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Me(n)||(r?o=n.toString().split(""):o=n.toString().split(AO));var s=o.map(function(l){return{word:l,width:xu(l,i).width}}),a=r?0:xu("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},VY=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ie(s),f=a,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(z,K){var F=K.word,j=K.width,X=z[z.length-1];if(X&&(i==null||o||X.width+j+r<Number(i)))X.words.push(F),X.width+=j+r;else{var te={words:[F],width:j};z.push(te)}return z},[])},g=h(n),y=function(H){return H.reduce(function(z,K){return z.width>K.width?z:K})};if(!c)return g;for(var v="",w=function(H){var z=f.slice(0,H),K=bO({breakAll:u,style:l,children:z+v}).wordsWithComputedWidth,F=h(K),j=F.length>s||y(F).width>Number(i);return[j,F]},_=0,E=f.length-1,S=0,R;_<=E&&S<=f.length-1;){var b=Math.floor((_+E)/2),C=b-1,A=w(C),I=hI(A,2),P=I[0],k=I[1],M=w(b),O=hI(M,1),N=O[0];if(!P&&!N&&(_=b+1),P&&N&&(E=b-1),!P&&N){R=k;break}S++}return R||g},mI=function(e){var n=Me(e)?[]:e.toString().split(AO);return[{words:n}]},UY=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!rf.isSsr){var l,u,c=bO({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return mI(i);return VY({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return mI(i)},gI="#808080",Ah=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,y=e.verticalAnchor,v=y===void 0?"end":y,w=e.fill,_=w===void 0?gI:w,E=dI(e,NY),S=$.useMemo(function(){return UY({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:f,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,f,E.style,E.width]),R=E.dx,b=E.dy,C=E.angle,A=E.className,I=E.breakAll,P=dI(E,MY);if(!xt(r)||!xt(o))return null;var k=r+(ie(R)?R:0),M=o+(ie(b)?b:0),O;switch(v){case"start":O=cy("calc(".concat(u,")"));break;case"middle":O=cy("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:O=cy("calc(".concat(S.length-1," * -").concat(a,")"));break}var N=[];if(f){var q=S[0].width,H=E.width;N.push("scale(".concat((ie(H)?H/q:1)/q,")"))}return C&&N.push("rotate(".concat(C,", ").concat(k,", ").concat(M,")")),N.length&&(P.transform=N.join(" ")),U.createElement("text",l_({},Oe(P,!0),{x:k,y:M,className:Ne("recharts-text",A),textAnchor:g,fill:_.includes("url")?gI:_}),S.map(function(z,K){var F=z.words.join(I?"":" ");return U.createElement("tspan",{x:k,dy:K===0?O:a,key:"".concat(F,"-").concat(K)},F)}))};function Qi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function FY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oE(t){let e,n,r;t.length!==2?(e=Qi,n=(a,l)=>Qi(t(a),l),r=(a,l)=>t(a)-l):(e=t===Qi||t===FY?t:BY,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function BY(){return 0}function IO(t){return t===null?NaN:+t}function*qY(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const HY=oE(Qi),of=HY.right;oE(IO).center;class yI extends Map{constructor(e,n=jY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(vI(this,e))}has(e){return super.has(vI(this,e))}set(e,n){return super.set(GY(this,e),n)}delete(e){return super.delete(zY(this,e))}}function vI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function GY({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zY({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function jY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function WY(t=Qi){if(t===Qi)return xO;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function xO(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const KY=Math.sqrt(50),JY=Math.sqrt(10),YY=Math.sqrt(2);function bh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=KY?10:o>=JY?5:o>=YY?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?bh(t,e,n*2):[a,l,u]}function u_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?bh(e,t,n):bh(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function c_(t,e,n){return e=+e,t=+t,n=+n,bh(t,e,n)[2]}function f_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?c_(e,t,n):c_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function _I(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function wI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function CO(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?xO:WY(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*f/l+h)),y=Math.min(r,Math.floor(e+(l-u)*f/l+h));CO(t,e,g,y,i)}const o=t[e];let s=n,a=r;for(eu(t,n,e),i(t[r],o)>0&&eu(t,n,r);s<a;){for(eu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?eu(t,n,a):(++a,eu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function eu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function XY(t,e,n){if(t=Float64Array.from(qY(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return wI(t);if(e>=1)return _I(t);var r,i=(r-1)*e,o=Math.floor(i),s=_I(CO(t,o).subarray(0,o+1)),a=wI(t.subarray(o+1));return s+(a-s)*(i-o)}}function QY(t,e,n=IO){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function ZY(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Qn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const d_=Symbol("implicit");function sE(){var t=new yI,e=[],n=[],r=d_;function i(o){let s=t.get(o);if(s===void 0){if(r!==d_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new yI;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return sE(e,n).unknown(r)},Qn.apply(i,arguments),i}function fc(){var t=sE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,g=i<r,y=g?i:r,v=g?r:i;o=(v-y)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),y+=(v-y-o*(h-l))*c,s=o*(1-l),a&&(y=Math.round(y),s=Math.round(s));var w=ZY(h).map(function(_){return y+o*_});return n(g?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return fc(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Qn.apply(f(),arguments)}function PO(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return PO(e())},t}function Cu(){return PO(fc.apply(null,arguments).paddingInner(1))}function aE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function RO(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sf(){}var dc=.7,Ih=1/dc,ca="\\s*([+-]?\\d+)\\s*",hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eX=/^#([0-9a-f]{3,8})$/,tX=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),nX=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),rX=new RegExp(`^rgba\\(${ca},${ca},${ca},${hc}\\)$`),iX=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${hc}\\)$`),oX=new RegExp(`^hsl\\(${hc},${Pr},${Pr}\\)$`),sX=new RegExp(`^hsla\\(${hc},${Pr},${Pr},${hc}\\)$`),EI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aE(sf,pc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:TI,formatHex:TI,formatHex8:aX,formatHsl:lX,formatRgb:SI,toString:SI});function TI(){return this.rgb().formatHex()}function aX(){return this.rgb().formatHex8()}function lX(){return NO(this).formatHsl()}function SI(){return this.rgb().formatRgb()}function pc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=eX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?AI(e):n===3?new vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ed(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ed(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tX.exec(t))?new vn(e[1],e[2],e[3],1):(e=nX.exec(t))?new vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rX.exec(t))?ed(e[1],e[2],e[3],e[4]):(e=iX.exec(t))?ed(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oX.exec(t))?xI(e[1],e[2]/100,e[3]/100,1):(e=sX.exec(t))?xI(e[1],e[2]/100,e[3]/100,e[4]):EI.hasOwnProperty(t)?AI(EI[t]):t==="transparent"?new vn(NaN,NaN,NaN,0):null}function AI(t){return new vn(t>>16&255,t>>8&255,t&255,1)}function ed(t,e,n,r){return r<=0&&(t=e=n=NaN),new vn(t,e,n,r)}function uX(t){return t instanceof sf||(t=pc(t)),t?(t=t.rgb(),new vn(t.r,t.g,t.b,t.opacity)):new vn}function h_(t,e,n,r){return arguments.length===1?uX(t):new vn(t,e,n,r??1)}function vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}aE(vn,h_,RO(sf,{brighter(t){return t=t==null?Ih:Math.pow(Ih,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dc:Math.pow(dc,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vn(Yo(this.r),Yo(this.g),Yo(this.b),xh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bI,formatHex:bI,formatHex8:cX,formatRgb:II,toString:II}));function bI(){return`#${Bo(this.r)}${Bo(this.g)}${Bo(this.b)}`}function cX(){return`#${Bo(this.r)}${Bo(this.g)}${Bo(this.b)}${Bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function II(){const t=xh(this.opacity);return`${t===1?"rgb(":"rgba("}${Yo(this.r)}, ${Yo(this.g)}, ${Yo(this.b)}${t===1?")":`, ${t})`}`}function xh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bo(t){return t=Yo(t),(t<16?"0":"")+t.toString(16)}function xI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new sr(t,e,n,r)}function NO(t){if(t instanceof sr)return new sr(t.h,t.s,t.l,t.opacity);if(t instanceof sf||(t=pc(t)),!t)return new sr;if(t instanceof sr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new sr(s,a,l,t.opacity)}function fX(t,e,n,r){return arguments.length===1?NO(t):new sr(t,e,n,r??1)}function sr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}aE(sr,fX,RO(sf,{brighter(t){return t=t==null?Ih:Math.pow(Ih,t),new sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dc:Math.pow(dc,t),new sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vn(fy(t>=240?t-240:t+120,i,r),fy(t,i,r),fy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new sr(CI(this.h),td(this.s),td(this.l),xh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xh(this.opacity);return`${t===1?"hsl(":"hsla("}${CI(this.h)}, ${td(this.s)*100}%, ${td(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CI(t){return t=(t||0)%360,t<0?t+360:t}function td(t){return Math.max(0,Math.min(1,t||0))}function fy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const lE=t=>()=>t;function dX(t,e){return function(n){return t+n*e}}function hX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pX(t){return(t=+t)==1?MO:function(e,n){return n-e?hX(e,n,t):lE(isNaN(e)?n:e)}}function MO(t,e){var n=e-t;return n?dX(t,n):lE(isNaN(t)?e:t)}const PI=function t(e){var n=pX(e);function r(i,o){var s=n((i=h_(i)).r,(o=h_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=MO(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function mX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function gX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=gl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function vX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ch(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _X(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var p_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dy=new RegExp(p_.source,"g");function wX(t){return function(){return t}}function EX(t){return function(e){return t(e)+""}}function TX(t,e){var n=p_.lastIndex=dy.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=p_.exec(t))&&(i=dy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Ch(r,i)})),n=dy.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?EX(l[0].x):wX(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function gl(t,e){var n=typeof e,r;return e==null||n==="boolean"?lE(e):(n==="number"?Ch:n==="string"?(r=pc(e))?(e=r,PI):TX:e instanceof pc?PI:e instanceof Date?vX:gX(e)?mX:Array.isArray(e)?yX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_X:Ch)(t,e)}function uE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function SX(t,e){e===void 0&&(e=t,t=gl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function AX(t){return function(){return t}}function Ph(t){return+t}var RI=[0,1];function fn(t){return t}function m_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:AX(isNaN(e)?NaN:.5)}function bX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function IX(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=m_(i,r),o=n(s,o)):(r=m_(r,i),o=n(o,s)),function(a){return o(r(a))}}function xX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=m_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=of(t,a,1,r)-1;return o[l](i[l](a))}}function af(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _m(){var t=RI,e=RI,n=gl,r,i,o,s=fn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==fn&&(s=bX(t[0],t[h-1])),a=h>2?xX:IX,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Ch)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Ph),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=uE,c()},f.clamp=function(h){return arguments.length?(s=h?!0:fn,c()):s!==fn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return r=h,i=g,c()}}function cE(){return _m()(fn,fn)}function CX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Na(t){return t=Rh(Math.abs(t)),t?t[1]:NaN}function PX(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function RX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var NX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mc(t){if(!(e=NX.exec(t)))throw new Error("invalid format: "+t);var e;return new fE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}mc.prototype=fE.prototype;function fE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}fE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MX(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var kO;function kX(t,e){var n=Rh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(kO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Rh(t,Math.max(0,e+o-1))[0]}function NI(t,e){var n=Rh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const MI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:CX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>NI(t*100,e),r:NI,s:kX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kI(t){return t}var OI=Array.prototype.map,DI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OX(t){var e=t.grouping===void 0||t.thousands===void 0?kI:PX(OI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?kI:RX(OI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=mc(f);var h=f.fill,g=f.align,y=f.sign,v=f.symbol,w=f.zero,_=f.width,E=f.comma,S=f.precision,R=f.trim,b=f.type;b==="n"?(E=!0,b="g"):MI[b]||(S===void 0&&(S=12),R=!0,b="g"),(w||h==="0"&&g==="=")&&(w=!0,h="0",g="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",A=v==="$"?r:/[%p]/.test(b)?s:"",I=MI[b],P=/[defgprs%]/.test(b);S=S===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(M){var O=C,N=A,q,H,z;if(b==="c")N=I(M)+N,M="";else{M=+M;var K=M<0||1/M<0;if(M=isNaN(M)?l:I(Math.abs(M),S),R&&(M=MX(M)),K&&+M==0&&y!=="+"&&(K=!1),O=(K?y==="("?y:a:y==="-"||y==="("?"":y)+O,N=(b==="s"?DI[8+kO/3]:"")+N+(K&&y==="("?")":""),P){for(q=-1,H=M.length;++q<H;)if(z=M.charCodeAt(q),48>z||z>57){N=(z===46?i+M.slice(q+1):M.slice(q))+N,M=M.slice(0,q);break}}}E&&!w&&(M=e(M,1/0));var F=O.length+M.length+N.length,j=F<_?new Array(_-F+1).join(h):"";switch(E&&w&&(M=e(j+M,j.length?_-N.length:1/0),j=""),g){case"<":M=O+M+N+j;break;case"=":M=O+j+M+N;break;case"^":M=j.slice(0,F=j.length>>1)+O+M+N+j.slice(F);break;default:M=j+O+M+N;break}return o(M)}return k.toString=function(){return f+""},k}function c(f,h){var g=u((f=mc(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Na(h)/3)))*3,v=Math.pow(10,-y),w=DI[8+y/3];return function(_){return g(v*_)+w}}return{format:u,formatPrefix:c}}var nd,dE,OO;DX({thousands:",",grouping:[3],currency:["$",""]});function DX(t){return nd=OX(t),dE=nd.format,OO=nd.formatPrefix,nd}function LX(t){return Math.max(0,-Na(Math.abs(t)))}function $X(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Na(e)/3)))*3-Na(Math.abs(t)))}function VX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Na(e)-Na(t))+1}function DO(t,e,n,r){var i=f_(t,e,n),o;switch(r=mc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=$X(i,s))&&(r.precision=o),OO(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=VX(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=LX(i))&&(r.precision=o-(r.type==="%")*2);break}}return dE(r)}function _o(t){var e=t.domain;return t.ticks=function(n){var r=e();return u_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return DO(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=c_(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Nh(){var t=cE();return t.copy=function(){return af(t,Nh())},Qn.apply(t,arguments),_o(t)}function LO(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ph),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return LO(t).unknown(e)},t=arguments.length?Array.from(t,Ph):[0,1],_o(n)}function $O(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function LI(t){return Math.log(t)}function $I(t){return Math.exp(t)}function UX(t){return-Math.log(-t)}function FX(t){return-Math.exp(-t)}function BX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qX(t){return t===10?BX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function HX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function VI(t){return(e,n)=>-t(-e,n)}function hE(t){const e=t(LI,$I),n=e.domain;let r=10,i,o;function s(){return i=HX(r),o=qX(r),n()[0]<0?(i=VI(i),o=VI(o),t(UX,FX)):t(LI,$I),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),g=i(c),y,v;const w=a==null?10:+a;let _=[];if(!(r%1)&&g-h<w){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(y=1;y<r;++y)if(v=h<0?y/o(-h):y*o(h),!(v<u)){if(v>c)break;_.push(v)}}else for(;h<=g;++h)for(y=r-1;y>=1;--y)if(v=h>0?y/o(-h):y*o(h),!(v<u)){if(v>c)break;_.push(v)}_.length*2<w&&(_=u_(u,c,w))}else _=u_(h,g,Math.min(g-h,w)).map(o);return f?_.reverse():_},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=mc(l)).precision==null&&(l.trim=!0),l=dE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n($O(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function VO(){const t=hE(_m()).domain([1,10]);return t.copy=()=>af(t,VO()).base(t.base()),Qn.apply(t,arguments),t}function UI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function FI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function pE(t){var e=1,n=t(UI(e),FI(e));return n.constant=function(r){return arguments.length?t(UI(e=+r),FI(e)):e},_o(n)}function UO(){var t=pE(_m());return t.copy=function(){return af(t,UO()).constant(t.constant())},Qn.apply(t,arguments)}function BI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function GX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zX(t){return t<0?-t*t:t*t}function mE(t){var e=t(fn,fn),n=1;function r(){return n===1?t(fn,fn):n===.5?t(GX,zX):t(BI(n),BI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},_o(e)}function gE(){var t=mE(_m());return t.copy=function(){return af(t,gE()).exponent(t.exponent())},Qn.apply(t,arguments),t}function jX(){return gE.apply(null,arguments).exponent(.5)}function qI(t){return Math.sign(t)*t*t}function WX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function FO(){var t=cE(),e=[0,1],n=!1,r;function i(o){var s=WX(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(qI(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ph)).map(qI)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return FO(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Qn.apply(i,arguments),_o(i)}function BO(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=QY(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[of(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Qi),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return BO().domain(t).range(e).unknown(r)},Qn.apply(o,arguments)}function qO(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[of(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return qO().domain([t,e]).range(i).unknown(o)},Qn.apply(_o(s),arguments)}function HO(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[of(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return HO().domain(t).range(e).unknown(n)},Qn.apply(i,arguments)}const hy=new Date,py=new Date;function Rt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Rt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(hy.setTime(+o),py.setTime(+s),t(hy),t(py),Math.floor(n(hy,py))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Mh=Rt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Mh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Rt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Mh);Mh.range;const Jr=1e3,Hn=Jr*60,Yr=Hn*60,ai=Yr*24,yE=ai*7,HI=ai*30,my=ai*365,qo=Rt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getUTCSeconds());qo.range;const vE=Rt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jr)},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getMinutes());vE.range;const _E=Rt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Hn)},(t,e)=>(e-t)/Hn,t=>t.getUTCMinutes());_E.range;const wE=Rt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jr-t.getMinutes()*Hn)},(t,e)=>{t.setTime(+t+e*Yr)},(t,e)=>(e-t)/Yr,t=>t.getHours());wE.range;const EE=Rt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Yr)},(t,e)=>(e-t)/Yr,t=>t.getUTCHours());EE.range;const lf=Rt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Hn)/ai,t=>t.getDate()-1);lf.range;const wm=Rt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ai,t=>t.getUTCDate()-1);wm.range;const GO=Rt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ai,t=>Math.floor(t/ai));GO.range;function vs(t){return Rt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Hn)/yE)}const Em=vs(0),kh=vs(1),KX=vs(2),JX=vs(3),Ma=vs(4),YX=vs(5),XX=vs(6);Em.range;kh.range;KX.range;JX.range;Ma.range;YX.range;XX.range;function _s(t){return Rt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/yE)}const Tm=_s(0),Oh=_s(1),QX=_s(2),ZX=_s(3),ka=_s(4),eQ=_s(5),tQ=_s(6);Tm.range;Oh.range;QX.range;ZX.range;ka.range;eQ.range;tQ.range;const TE=Rt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());TE.range;const SE=Rt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());SE.range;const li=Rt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});li.range;const ui=Rt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ui.range;function zO(t,e,n,r,i,o){const s=[[qo,1,Jr],[qo,5,5*Jr],[qo,15,15*Jr],[qo,30,30*Jr],[o,1,Hn],[o,5,5*Hn],[o,15,15*Hn],[o,30,30*Hn],[i,1,Yr],[i,3,3*Yr],[i,6,6*Yr],[i,12,12*Yr],[r,1,ai],[r,2,2*ai],[n,1,yE],[e,1,HI],[e,3,3*HI],[t,1,my]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const g=f&&typeof f.range=="function"?f:l(u,c,f),y=g?g.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,f){const h=Math.abs(c-u)/f,g=oE(([,,w])=>w).right(s,h);if(g===s.length)return t.every(f_(u/my,c/my,f));if(g===0)return Mh.every(Math.max(f_(u,c,f),1));const[y,v]=s[h/s[g-1][2]<s[g][2]/h?g-1:g];return y.every(v)}return[a,l]}const[nQ,rQ]=zO(ui,SE,Tm,GO,EE,_E),[iQ,oQ]=zO(li,TE,Em,lf,wE,vE);function gy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function yy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function sQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=nu(i),c=ru(i),f=nu(o),h=ru(o),g=nu(s),y=ru(s),v=nu(a),w=ru(a),_=nu(l),E=ru(l),S={a:K,A:F,b:j,B:X,c:null,d:JI,e:JI,f:PQ,g:UQ,G:BQ,H:IQ,I:xQ,j:CQ,L:jO,m:RQ,M:NQ,p:te,q:Z,Q:QI,s:ZI,S:MQ,u:kQ,U:OQ,V:DQ,w:LQ,W:$Q,x:null,X:null,y:VQ,Y:FQ,Z:qQ,"%":XI},R={a:ue,A:_e,b:Ve,B:je,c:null,d:YI,e:YI,f:jQ,g:nZ,G:iZ,H:HQ,I:GQ,j:zQ,L:KO,m:WQ,M:KQ,p:Jt,q:Nt,Q:QI,s:ZI,S:JQ,u:YQ,U:XQ,V:QQ,w:ZQ,W:eZ,x:null,X:null,y:tZ,Y:rZ,Z:oZ,"%":XI},b={a:k,A:M,b:O,B:N,c:q,d:WI,e:WI,f:TQ,g:jI,G:zI,H:KI,I:KI,j:vQ,L:EQ,m:yQ,M:_Q,p:P,q:gQ,Q:AQ,s:bQ,S:wQ,u:fQ,U:dQ,V:hQ,w:cQ,W:pQ,x:H,X:z,y:jI,Y:zI,Z:mQ,"%":SQ};S.x=C(n,S),S.X=C(r,S),S.c=C(e,S),R.x=C(n,R),R.X=C(r,R),R.c=C(e,R);function C(ne,ge){return function(ye){var Y=[],qe=-1,Ee=0,dt=ne.length,nt,Mt,Zn;for(ye instanceof Date||(ye=new Date(+ye));++qe<dt;)ne.charCodeAt(qe)===37&&(Y.push(ne.slice(Ee,qe)),(Mt=GI[nt=ne.charAt(++qe)])!=null?nt=ne.charAt(++qe):Mt=nt==="e"?" ":"0",(Zn=ge[nt])&&(nt=Zn(ye,Mt)),Y.push(nt),Ee=qe+1);return Y.push(ne.slice(Ee,qe)),Y.join("")}}function A(ne,ge){return function(ye){var Y=tu(1900,void 0,1),qe=I(Y,ne,ye+="",0),Ee,dt;if(qe!=ye.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ge&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ee=yy(tu(Y.y,0,1)),dt=Ee.getUTCDay(),Ee=dt>4||dt===0?Oh.ceil(Ee):Oh(Ee),Ee=wm.offset(Ee,(Y.V-1)*7),Y.y=Ee.getUTCFullYear(),Y.m=Ee.getUTCMonth(),Y.d=Ee.getUTCDate()+(Y.w+6)%7):(Ee=gy(tu(Y.y,0,1)),dt=Ee.getDay(),Ee=dt>4||dt===0?kh.ceil(Ee):kh(Ee),Ee=lf.offset(Ee,(Y.V-1)*7),Y.y=Ee.getFullYear(),Y.m=Ee.getMonth(),Y.d=Ee.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),dt="Z"in Y?yy(tu(Y.y,0,1)).getUTCDay():gy(tu(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(dt+5)%7:Y.w+Y.U*7-(dt+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,yy(Y)):gy(Y)}}function I(ne,ge,ye,Y){for(var qe=0,Ee=ge.length,dt=ye.length,nt,Mt;qe<Ee;){if(Y>=dt)return-1;if(nt=ge.charCodeAt(qe++),nt===37){if(nt=ge.charAt(qe++),Mt=b[nt in GI?ge.charAt(qe++):nt],!Mt||(Y=Mt(ne,ye,Y))<0)return-1}else if(nt!=ye.charCodeAt(Y++))return-1}return Y}function P(ne,ge,ye){var Y=u.exec(ge.slice(ye));return Y?(ne.p=c.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function k(ne,ge,ye){var Y=g.exec(ge.slice(ye));return Y?(ne.w=y.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function M(ne,ge,ye){var Y=f.exec(ge.slice(ye));return Y?(ne.w=h.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function O(ne,ge,ye){var Y=_.exec(ge.slice(ye));return Y?(ne.m=E.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function N(ne,ge,ye){var Y=v.exec(ge.slice(ye));return Y?(ne.m=w.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function q(ne,ge,ye){return I(ne,e,ge,ye)}function H(ne,ge,ye){return I(ne,n,ge,ye)}function z(ne,ge,ye){return I(ne,r,ge,ye)}function K(ne){return s[ne.getDay()]}function F(ne){return o[ne.getDay()]}function j(ne){return l[ne.getMonth()]}function X(ne){return a[ne.getMonth()]}function te(ne){return i[+(ne.getHours()>=12)]}function Z(ne){return 1+~~(ne.getMonth()/3)}function ue(ne){return s[ne.getUTCDay()]}function _e(ne){return o[ne.getUTCDay()]}function Ve(ne){return l[ne.getUTCMonth()]}function je(ne){return a[ne.getUTCMonth()]}function Jt(ne){return i[+(ne.getUTCHours()>=12)]}function Nt(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ge=C(ne+="",S);return ge.toString=function(){return ne},ge},parse:function(ne){var ge=A(ne+="",!1);return ge.toString=function(){return ne},ge},utcFormat:function(ne){var ge=C(ne+="",R);return ge.toString=function(){return ne},ge},utcParse:function(ne){var ge=A(ne+="",!0);return ge.toString=function(){return ne},ge}}}var GI={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,aQ=/^%/,lQ=/[\\^$*+?|[\]().{}]/g;function Pe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function uQ(t){return t.replace(lQ,"\\$&")}function nu(t){return new RegExp("^(?:"+t.map(uQ).join("|")+")","i")}function ru(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function cQ(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function fQ(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function dQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function pQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zI(t,e,n){var r=Ft.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jI(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gQ(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function yQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function WI(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vQ(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function KI(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function _Q(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function wQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function EQ(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function TQ(t,e,n){var r=Ft.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function SQ(t,e,n){var r=aQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function AQ(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bQ(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function JI(t,e){return Pe(t.getDate(),e,2)}function IQ(t,e){return Pe(t.getHours(),e,2)}function xQ(t,e){return Pe(t.getHours()%12||12,e,2)}function CQ(t,e){return Pe(1+lf.count(li(t),t),e,3)}function jO(t,e){return Pe(t.getMilliseconds(),e,3)}function PQ(t,e){return jO(t,e)+"000"}function RQ(t,e){return Pe(t.getMonth()+1,e,2)}function NQ(t,e){return Pe(t.getMinutes(),e,2)}function MQ(t,e){return Pe(t.getSeconds(),e,2)}function kQ(t){var e=t.getDay();return e===0?7:e}function OQ(t,e){return Pe(Em.count(li(t)-1,t),e,2)}function WO(t){var e=t.getDay();return e>=4||e===0?Ma(t):Ma.ceil(t)}function DQ(t,e){return t=WO(t),Pe(Ma.count(li(t),t)+(li(t).getDay()===4),e,2)}function LQ(t){return t.getDay()}function $Q(t,e){return Pe(kh.count(li(t)-1,t),e,2)}function VQ(t,e){return Pe(t.getFullYear()%100,e,2)}function UQ(t,e){return t=WO(t),Pe(t.getFullYear()%100,e,2)}function FQ(t,e){return Pe(t.getFullYear()%1e4,e,4)}function BQ(t,e){var n=t.getDay();return t=n>=4||n===0?Ma(t):Ma.ceil(t),Pe(t.getFullYear()%1e4,e,4)}function qQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pe(e/60|0,"0",2)+Pe(e%60,"0",2)}function YI(t,e){return Pe(t.getUTCDate(),e,2)}function HQ(t,e){return Pe(t.getUTCHours(),e,2)}function GQ(t,e){return Pe(t.getUTCHours()%12||12,e,2)}function zQ(t,e){return Pe(1+wm.count(ui(t),t),e,3)}function KO(t,e){return Pe(t.getUTCMilliseconds(),e,3)}function jQ(t,e){return KO(t,e)+"000"}function WQ(t,e){return Pe(t.getUTCMonth()+1,e,2)}function KQ(t,e){return Pe(t.getUTCMinutes(),e,2)}function JQ(t,e){return Pe(t.getUTCSeconds(),e,2)}function YQ(t){var e=t.getUTCDay();return e===0?7:e}function XQ(t,e){return Pe(Tm.count(ui(t)-1,t),e,2)}function JO(t){var e=t.getUTCDay();return e>=4||e===0?ka(t):ka.ceil(t)}function QQ(t,e){return t=JO(t),Pe(ka.count(ui(t),t)+(ui(t).getUTCDay()===4),e,2)}function ZQ(t){return t.getUTCDay()}function eZ(t,e){return Pe(Oh.count(ui(t)-1,t),e,2)}function tZ(t,e){return Pe(t.getUTCFullYear()%100,e,2)}function nZ(t,e){return t=JO(t),Pe(t.getUTCFullYear()%100,e,2)}function rZ(t,e){return Pe(t.getUTCFullYear()%1e4,e,4)}function iZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ka(t):ka.ceil(t),Pe(t.getUTCFullYear()%1e4,e,4)}function oZ(){return"+0000"}function XI(){return"%"}function QI(t){return+t}function ZI(t){return Math.floor(+t/1e3)}var Os,YO,XO;sZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sZ(t){return Os=sQ(t),YO=Os.format,Os.parse,XO=Os.utcFormat,Os.utcParse,Os}function aZ(t){return new Date(t)}function lZ(t){return t instanceof Date?+t:+new Date(+t)}function AE(t,e,n,r,i,o,s,a,l,u){var c=cE(),f=c.invert,h=c.domain,g=u(".%L"),y=u(":%S"),v=u("%I:%M"),w=u("%I %p"),_=u("%a %d"),E=u("%b %d"),S=u("%B"),R=u("%Y");function b(C){return(l(C)<C?g:a(C)<C?y:s(C)<C?v:o(C)<C?w:r(C)<C?i(C)<C?_:E:n(C)<C?S:R)(C)}return c.invert=function(C){return new Date(f(C))},c.domain=function(C){return arguments.length?h(Array.from(C,lZ)):h().map(aZ)},c.ticks=function(C){var A=h();return t(A[0],A[A.length-1],C??10)},c.tickFormat=function(C,A){return A==null?b:u(A)},c.nice=function(C){var A=h();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?h($O(A,C)):c},c.copy=function(){return af(c,AE(t,e,n,r,i,o,s,a,l,u))},c}function uZ(){return Qn.apply(AE(iQ,oQ,li,TE,Em,lf,wE,vE,qo,YO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cZ(){return Qn.apply(AE(nQ,rQ,ui,SE,Tm,wm,EE,_E,qo,XO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sm(){var t=0,e=1,n,r,i,o,s=fn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var g,y;return arguments.length?([g,y]=h,s=f(g,y),u):[s(0),s(1)]}}return u.range=c(gl),u.rangeRound=c(uE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function wo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function QO(){var t=_o(Sm()(fn));return t.copy=function(){return wo(t,QO())},vi.apply(t,arguments)}function ZO(){var t=hE(Sm()).domain([1,10]);return t.copy=function(){return wo(t,ZO()).base(t.base())},vi.apply(t,arguments)}function eD(){var t=pE(Sm());return t.copy=function(){return wo(t,eD()).constant(t.constant())},vi.apply(t,arguments)}function bE(){var t=mE(Sm());return t.copy=function(){return wo(t,bE()).exponent(t.exponent())},vi.apply(t,arguments)}function fZ(){return bE.apply(null,arguments).exponent(.5)}function tD(){var t=[],e=fn;function n(r){if(r!=null&&!isNaN(r=+r))return e((of(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Qi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>XY(t,o/r))},n.copy=function(){return tD(e).domain(t)},vi.apply(n,arguments)}function Am(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=fn,c,f=!1,h;function g(v){return isNaN(v=+v)?h:(v=.5+((v=+c(v))-o)*(r*v<r*o?a:l),u(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(u=v,g):u};function y(v){return function(w){var _,E,S;return arguments.length?([_,E,S]=w,u=SX(v,[_,E,S]),g):[u(0),u(.5),u(1)]}}return g.range=y(gl),g.rangeRound=y(uE),g.unknown=function(v){return arguments.length?(h=v,g):h},function(v){return c=v,i=v(t),o=v(e),s=v(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,g}}function nD(){var t=_o(Am()(fn));return t.copy=function(){return wo(t,nD())},vi.apply(t,arguments)}function rD(){var t=hE(Am()).domain([.1,1,10]);return t.copy=function(){return wo(t,rD()).base(t.base())},vi.apply(t,arguments)}function iD(){var t=pE(Am());return t.copy=function(){return wo(t,iD()).constant(t.constant())},vi.apply(t,arguments)}function IE(){var t=mE(Am());return t.copy=function(){return wo(t,IE()).exponent(t.exponent())},vi.apply(t,arguments)}function dZ(){return IE.apply(null,arguments).exponent(.5)}const e1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fc,scaleDiverging:nD,scaleDivergingLog:rD,scaleDivergingPow:IE,scaleDivergingSqrt:dZ,scaleDivergingSymlog:iD,scaleIdentity:LO,scaleImplicit:d_,scaleLinear:Nh,scaleLog:VO,scaleOrdinal:sE,scalePoint:Cu,scalePow:gE,scaleQuantile:BO,scaleQuantize:qO,scaleRadial:FO,scaleSequential:QO,scaleSequentialLog:ZO,scaleSequentialPow:bE,scaleSequentialQuantile:tD,scaleSequentialSqrt:fZ,scaleSequentialSymlog:eD,scaleSqrt:jX,scaleSymlog:UO,scaleThreshold:HO,scaleTime:uZ,scaleUtc:cZ,tickFormat:DO},Symbol.toStringTag,{value:"Module"}));var hZ=al;function pZ(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!hZ(s):n(s,a)))var a=s,l=o}return l}var oD=pZ;function mZ(t,e){return t>e}var gZ=mZ,yZ=oD,vZ=gZ,_Z=pl;function wZ(t){return t&&t.length?yZ(t,_Z,vZ):void 0}var EZ=wZ;const bm=ze(EZ);function TZ(t,e){return t<e}var SZ=TZ,AZ=oD,bZ=SZ,IZ=pl;function xZ(t){return t&&t.length?AZ(t,IZ,bZ):void 0}var CZ=xZ;const Im=ze(CZ);var PZ=Vw,RZ=ml,NZ=pO,MZ=Tn;function kZ(t,e){var n=MZ(t)?PZ:NZ;return n(t,RZ(e))}var OZ=kZ,DZ=dO,LZ=OZ;function $Z(t,e){return DZ(LZ(t,e),1)}var VZ=$Z;const UZ=ze(VZ);var FZ=eE;function BZ(t,e){return FZ(t,e)}var qZ=BZ;const xE=ze(qZ);var yl=1e9,HZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},PE,tt=!0,Jn="[DecimalError] ",Xo=Jn+"Invalid argument: ",CE=Jn+"Exponent out of range: ",vl=Math.floor,Do=Math.pow,GZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xn,Ot=1e7,Xe=7,sD=9007199254740991,Dh=vl(sD/Xe),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return ti(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return Be(ti(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return wt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(xn))throw Error(Jn+"NaN");if(n.s<1)throw Error(Jn+(n.s?"NaN":"-Infinity"));return n.eq(xn)?new r(0):(tt=!1,e=ti(gc(n,o),gc(t,o),o),tt=!0,Be(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uD(e,t):aD(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Jn+"NaN");return n.s?(tt=!1,e=ti(n,t,0,1).times(t),tt=!0,n.minus(e)):Be(new r(n),i)};ae.naturalExponential=ae.exp=function(){return lD(this)};ae.naturalLogarithm=ae.ln=function(){return gc(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aD(e,t):uD(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xo+t);if(e=wt(i)+1,r=i.d.length-1,n=r*Xe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Jn+"NaN")}for(t=wt(a),tt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Ir(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(ti(a,o,s+2)).times(.5),Ir(o.d).slice(0,s)===(e=Ir(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Be(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return tt=!0,Be(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,g=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+g[r]*h[i-r-1]+e,o[i--]=a%Ot|0,e=a/Ot|0;o[i]=(o[i]+e)%Ot|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,tt?Be(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Lr(t,0,yl),e===void 0?e=r.rounding:Lr(e,0,8),Be(n,t+wt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=as(r,!0):(Lr(t,0,yl),e===void 0?e=i.rounding:Lr(e,0,8),r=Be(new i(r),t+1,e),n=as(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?as(i):(Lr(t,0,yl),e===void 0?e=o.rounding:Lr(e,0,8),r=Be(new o(i),t+wt(i)+1,e),n=as(r.abs(),!1,t+wt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Be(new e(t),wt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(xn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Jn+"Infinity");return a}if(a.eq(xn))return a;if(r=l.precision,t.eq(xn))return Be(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=sD){for(i=new l(xn),e=Math.ceil(r/Xe+4),tt=!1;n%2&&(i=i.times(a),n1(i.d,e)),n=vl(n/2),n!==0;)a=a.times(a),n1(a.d,e);return tt=!0,t.s<0?new l(xn).div(i):Be(i,r)}}else if(o<0)throw Error(Jn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,tt=!1,i=t.times(gc(a,r+u)),tt=!0,i=lD(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=wt(i),r=as(i,n<=o.toExpNeg||n>=o.toExpPos)):(Lr(t,1,yl),e===void 0?e=o.rounding:Lr(e,0,8),i=Be(new o(i),t,e),n=wt(i),r=as(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Lr(t,1,yl),e===void 0?e=r.rounding:Lr(e,0,8)),Be(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wt(t),n=t.constructor;return as(t,e<=n.toExpNeg||e>=n.toExpPos)};function aD(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),tt?Be(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/Xe),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ot|0,l[o]%=Ot;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,tt?Be(e,f):e}function Lr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Xo+t)}function Ir(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Xe-r.length,n&&(o+=ki(n)),o+=r;s=t[e],r=s+"",n=Xe-r.length,n&&(o+=ki(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ti=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Ot|0,s=o/Ot|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ot+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,g,y,v,w,_,E,S,R,b,C,A,I,P=r.constructor,k=r.s==i.s?1:-1,M=r.d,O=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Jn+"Division by zero");for(l=r.e-i.e,A=O.length,b=M.length,g=new P(k),y=g.d=[],u=0;O[u]==(M[u]||0);)++u;if(O[u]>(M[u]||0)&&--l,o==null?E=o=P.precision:s?E=o+(wt(r)-wt(i))+1:E=o,E<0)return new P(0);if(E=E/Xe+2|0,u=0,A==1)for(c=0,O=O[0],E++;(u<b||c)&&E--;u++)S=c*Ot+(M[u]||0),y[u]=S/O|0,c=S%O|0;else{for(c=Ot/(O[0]+1)|0,c>1&&(O=t(O,c),M=t(M,c),A=O.length,b=M.length),R=A,v=M.slice(0,A),w=v.length;w<A;)v[w++]=0;I=O.slice(),I.unshift(0),C=O[0],O[1]>=Ot/2&&++C;do c=0,a=e(O,v,A,w),a<0?(_=v[0],A!=w&&(_=_*Ot+(v[1]||0)),c=_/C|0,c>1?(c>=Ot&&(c=Ot-1),f=t(O,c),h=f.length,w=v.length,a=e(f,v,h,w),a==1&&(c--,n(f,A<h?I:O,h))):(c==0&&(a=c=1),f=O.slice()),h=f.length,h<w&&f.unshift(0),n(v,f,w),a==-1&&(w=v.length,a=e(O,v,A,w),a<1&&(c++,n(v,A<w?I:O,w))),w=v.length):a===0&&(c++,v=[0]),y[u++]=c,a&&v[0]?v[w++]=M[R]||0:(v=[M[R]],w=1);while((R++<b||v[0]!==void 0)&&E--)}return y[0]||y.shift(),g.e=l,Be(g,s?o+wt(g)+1:o)}}();function lD(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(wt(t)>16)throw Error(CE+wt(t));if(!t.s)return new c(xn);for(tt=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Do(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(xn),c.precision=a;;){if(i=Be(i.times(t),a),n=n.times(++l),s=o.plus(ti(i,n,a)),Ir(s.d).slice(0,a)===Ir(o.d).slice(0,a)){for(;u--;)o=Be(o.times(o),a);return c.precision=f,e==null?(tt=!0,Be(o,f)):o}o=s}}function wt(t){for(var e=t.e*Xe,n=t.d[0];n>=10;n/=10)e++;return e}function vy(t,e,n){if(e>t.LN10.sd())throw tt=!0,n&&(t.precision=n),Error(Jn+"LN10 precision limit exceeded");return Be(new t(t.LN10),e)}function ki(t){for(var e="";t--;)e+="0";return e}function gc(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,g=t,y=g.d,v=g.constructor,w=v.precision;if(g.s<1)throw Error(Jn+(g.s?"NaN":"-Infinity"));if(g.eq(xn))return new v(0);if(e==null?(tt=!1,u=w):u=e,g.eq(10))return e==null&&(tt=!0),vy(v,u);if(u+=h,v.precision=u,n=Ir(y),r=n.charAt(0),o=wt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Ir(g.d),r=n.charAt(0),f++;o=wt(g),r>1?(g=new v("0."+n),o++):g=new v(r+"."+n.slice(1))}else return l=vy(v,u+2,w).times(o+""),g=gc(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=w,e==null?(tt=!0,Be(g,w)):g;for(a=s=g=ti(g.minus(xn),g.plus(xn),u),c=Be(g.times(g),u),i=3;;){if(s=Be(s.times(c),u),l=a.plus(ti(s,new v(i),u)),Ir(l.d).slice(0,u)===Ir(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(vy(v,u+2,w).times(o+""))),a=ti(a,new v(f),u),v.precision=w,e==null?(tt=!0,Be(a,w)):a;a=l,i+=2}}function t1(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vl(n/Xe),t.d=[],r=(n+1)%Xe,n<0&&(r+=Xe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Xe;r<i;)t.d.push(+e.slice(r,r+=Xe));e=e.slice(r),r=Xe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),tt&&(t.e>Dh||t.e<-Dh))throw Error(CE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Be(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Xe,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Xe),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=Xe,i=r-Xe+s}if(n!==void 0&&(o=Do(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Do(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=wt(t),f.length=1,e=e-o-1,f[0]=Do(10,(Xe-e%Xe)%Xe),t.e=vl(-e/Xe)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Do(10,Xe-r),f[c]=i>0?(u/Do(10,s-i)%Do(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Ot&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Ot)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(tt&&(t.e>Dh||t.e<-Dh))throw Error(CE+wt(t));return t}function uD(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),tt?Be(e,g):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(g/Xe),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ot-1;--l[o],l[i]+=Ot}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,tt?Be(e,g):e):new h(0)}function as(t,e,n){var r,i=wt(t),o=Ir(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ki(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ki(-i-1)+o,n&&(r=n-s)>0&&(o+=ki(r))):i>=s?(o+=ki(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ki(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ki(r))),t.s<0?"-"+o:o}function n1(t,e){if(t.length>e)return t.length=e,!0}function cD(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Xo+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return t1(s,o.toString())}else if(typeof o!="string")throw Error(Xo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,GZ.test(o))t1(s,o);else throw Error(Xo+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=cD,i.config=i.set=zZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function zZ(t){if(!t||typeof t!="object")throw Error(Jn+"Object expected");var e,n,r,i=["precision",1,yl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Xo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Xo+n+": "+r);return this}var PE=cD(HZ);xn=new PE(1);const Ue=PE;function jZ(t){return YZ(t)||JZ(t)||KZ(t)||WZ()}function WZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KZ(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function JZ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YZ(t){if(Array.isArray(t))return g_(t)}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var XZ=function(e){return e},fD={},dD=function(e){return e===fD},r1=function(e){return function n(){return arguments.length===0||arguments.length===1&&dD(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},QZ=function t(e,n){return e===1?n:r1(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==fD}).length;return s>=e?n.apply(void 0,i):t(e-s,r1(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return dD(f)?l.shift():f});return n.apply(void 0,jZ(c).concat(l))}))})},xm=function(e){return QZ(e.length,e)},y_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},ZZ=xm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),eee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return XZ;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},v_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},hD=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function tee(t){var e;return t===0?e=1:e=Math.floor(new Ue(t).abs().log(10).toNumber())+1,e}function nee(t,e,n){for(var r=new Ue(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var ree=xm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),iee=xm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),oee=xm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Cm={rangeStep:nee,getDigitCount:tee,interpolateNumber:ree,uninterpolateNumber:iee,uninterpolateTruncation:oee};function __(t){return lee(t)||aee(t)||pD(t)||see()}function see(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lee(t){if(Array.isArray(t))return w_(t)}function yc(t,e){return fee(t)||cee(t,e)||pD(t,e)||uee()}function uee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pD(t,e){if(t){if(typeof t=="string")return w_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w_(t,e)}}function w_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cee(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function fee(t){if(Array.isArray(t))return t}function mD(t){var e=yc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function gD(t,e,n){if(t.lte(0))return new Ue(0);var r=Cm.getDigitCount(t.toNumber()),i=new Ue(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Ue(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Ue(Math.ceil(l))}function dee(t,e,n){var r=1,i=new Ue(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ue(10).pow(Cm.getDigitCount(t)-1),i=new Ue(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ue(Math.floor(t)))}else t===0?i=new Ue(Math.floor((e-1)/2)):n||(i=new Ue(Math.floor(t)));var s=Math.floor((e-1)/2),a=eee(ZZ(function(l){return i.add(new Ue(l-s).mul(r)).toNumber()}),y_);return a(0,e)}function yD(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var o=gD(new Ue(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ue(0):(s=new Ue(t).add(e).div(2),s=s.sub(new Ue(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ue(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?yD(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Ue(a).mul(o)),tickMax:s.add(new Ue(l).mul(o))})}function hee(t){var e=yc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=mD([n,r]),l=yc(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(__(y_(0,i-1).map(function(){return 1/0}))):[].concat(__(y_(0,i-1).map(function(){return-1/0})),[c]);return n>r?v_(f):f}if(u===c)return dee(u,i,o);var h=yD(u,c,s,o),g=h.step,y=h.tickMin,v=h.tickMax,w=Cm.rangeStep(y,v.add(new Ue(.1).mul(g)),g);return n>r?v_(w):w}function pee(t,e){var n=yc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=mD([r,i]),a=yc(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=gD(new Ue(u).sub(l).div(c-1),o,0),h=[].concat(__(Cm.rangeStep(new Ue(l),new Ue(u).sub(new Ue(.99).mul(f)),f)),[u]);return r>i?v_(h):h}var mee=hD(hee),gee=hD(pee),yee="Invariant failed";function ls(t,e){throw new Error(yee)}var vee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}function _ee(t,e){return See(t)||Tee(t,e)||Eee(t,e)||wee()}function wee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eee(t,e){if(t){if(typeof t=="string")return i1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i1(t,e)}}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function See(t){if(Array.isArray(t))return t}function Aee(t,e){if(t==null)return{};var n=bee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Iee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wD(r.key),r)}}function Cee(t,e,n){return e&&xee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pee(t,e,n){return e=$h(e),Ree(t,vD()?Reflect.construct(e,n||[],$h(t).constructor):e.apply(t,n))}function Ree(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nee(t)}function Nee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vD=function(){return!!t})()}function $h(t){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$h(t)}function Mee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function _D(t,e,n){return e=wD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wD(t){var e=kee(t,"string");return Oa(e)=="symbol"?e:e+""}function kee(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pm=function(t){function e(){return Iee(this,e),Pee(this,e,arguments)}return Mee(e,t),Cee(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Aee(r,vee),g=Oe(h,!1);this.props.direction==="x"&&c.type!=="number"&&ls();var y=l.map(function(v){var w=u(v,a),_=w.x,E=w.y,S=w.value,R=w.errorVal;if(!R)return null;var b=[],C,A;if(Array.isArray(R)){var I=_ee(R,2);C=I[0],A=I[1]}else C=A=R;if(o==="vertical"){var P=c.scale,k=E+i,M=k+s,O=k-s,N=P(S-C),q=P(S+A);b.push({x1:q,y1:M,x2:q,y2:O}),b.push({x1:N,y1:k,x2:q,y2:k}),b.push({x1:N,y1:M,x2:N,y2:O})}else if(o==="horizontal"){var H=f.scale,z=_+i,K=z-s,F=z+s,j=H(S-C),X=H(S+A);b.push({x1:K,y1:X,x2:F,y2:X}),b.push({x1:z,y1:j,x2:z,y2:X}),b.push({x1:K,y1:j,x2:F,y2:j})}return U.createElement($t,Lh({className:"recharts-errorBar",key:"bar-".concat(b.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},g),b.map(function(te){return U.createElement("line",Lh({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return U.createElement($t,{className:"recharts-errorBars"},y)}}])}(U.Component);_D(Pm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_D(Pm,"displayName","ErrorBar");function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dee(t){var e=Lee(t,"string");return vc(e)=="symbol"?e:e+""}function Lee(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ED=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=In(n,ua);if(!s)return null;var a=ua.defaultProps,l=a!==void 0?Po(Po({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,g=f.props,y=g.sectors||g.data||[];return c.concat(y.map(function(v){return{type:s.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,g=h!==void 0?Po(Po({},h),f.props):{},y=g.dataKey,v=g.name,w=g.legendType,_=g.hide;return{inactive:_,dataKey:y,type:l.iconType||w||"square",color:RE(f),value:v||y,payload:g}}),Po(Po(Po({},l),ua.getWithHeight(s,i)),{},{payload:u,item:s})};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function s1(t){return Fee(t)||Uee(t)||Vee(t)||$ee()}function $ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vee(t,e){if(t){if(typeof t=="string")return T_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(t,e)}}function Uee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fee(t){if(Array.isArray(t))return T_(t)}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fa(t,e,n){return e=Bee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=qee(t,"string");return _c(e)=="symbol"?e:e+""}function qee(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $r(t,e,n){return Me(t)||Me(e)?n:xt(e)?zn(t,e,n):be(e)?e(t):n}function Pu(t,e,n,r){var i=UZ(t,function(a){return $r(a,e)});if(n==="number"){var o=i.filter(function(a){return ie(a)||parseFloat(a)});return o.length?[Im(o),bm(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Me(a)}):i;return s.map(function(a){return xt(a)||a instanceof Date?a:""})}var Hee=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(lr(f-c)!==lr(h-f)){var y=[];if(lr(h-f)===lr(l[1]-l[0])){g=h;var v=f+l[1]-l[0];y[0]=Math.min(v,(v+c)/2),y[1]=Math.max(v,(v+c)/2)}else{g=c;var w=h+l[1]-l[0];y[0]=Math.min(f,(w+f)/2),y[1]=Math.max(f,(w+f)/2)}var _=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){s=i[u].index;break}}else{var E=Math.min(c,h),S=Math.max(c,h);if(e>(E+f)/2&&e<=(S+f)/2){s=i[u].index;break}}}else for(var R=0;R<a;R++)if(R===0&&e<=(r[R].coordinate+r[R+1].coordinate)/2||R>0&&R<a-1&&e>(r[R].coordinate+r[R-1].coordinate)/2&&e<=(r[R].coordinate+r[R+1].coordinate)/2||R===a-1&&e>(r[R].coordinate+r[R-1].coordinate)/2){s=r[R].index;break}return s},RE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Gee=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),h=0,g=f.length;h<g;h++){var y=c[f[h]],v=y.items,w=y.cateAxisId,_=v.filter(function(A){return ei(A.type).indexOf("Bar")>=0});if(_&&_.length){var E=_[0].type.defaultProps,S=E!==void 0?ft(ft({},E),_[0].props):_[0].props,R=S.barSize,b=S[w];s[b]||(s[b]=[]);var C=Me(R)?n:R;s[b].push({item:_[0],stackList:_.slice(1),barSize:Me(C)?void 0:ss(C,r,0)})}}return s},zee=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=ss(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,g=i/l,y=s.reduce(function(R,b){return R+b.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&g>0&&(h=!0,g*=.9,y=l*g);var v=(i-y)/2>>0,w={offset:v-u,size:0};c=s.reduce(function(R,b){var C={item:b.item,position:{offset:w.offset+w.size+u,size:h?g:b.barSize}},A=[].concat(s1(R),[C]);return w=A[A.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(I){A.push({item:I,position:w})}),A},f)}else{var _=ss(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var E=(i-2*_-(l-1)*u)/l;E>1&&(E>>=0);var S=a===+a?Math.min(E,a):E;c=s.reduce(function(R,b,C){var A=[].concat(s1(R),[{item:b.item,position:{offset:_+(E+u)*C+(E-S)/2,size:S}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(I){A.push({item:I,position:A[A.length-1].position})}),A},f)}return c},jee=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=ED({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,g=u.align,y=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&y==="middle")&&g!=="center"&&ie(e[g]))return ft(ft({},e),{},fa({},g,e[g]+(f||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&y!=="middle"&&ie(e[y]))return ft(ft({},e),{},fa({},y,e[y]+(h||0)))}return e},Wee=function(e,n,r){return Me(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},TD=function(e,n,r,i,o){var s=n.props.children,a=pr(s,Pm).filter(function(u){return Wee(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=$r(c,r);if(Me(f))return u;var h=Array.isArray(f)?[Im(f),bm(f)]:[f,f],g=l.reduce(function(y,v){var w=$r(c,v,0),_=h[0]-Math.abs(Array.isArray(w)?w[0]:w),E=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(_,y[0]),Math.max(E,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Kee=function(e,n,r,i,o){var s=n.map(function(a){return TD(e,a,r,o,i)}).filter(function(a){return!Me(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},SD=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&TD(e,l,u,i)||Pu(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},AD=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Ho=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?lr(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!nf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},_y=new WeakMap,rd=function(e,n){if(typeof n!="function")return e;_y.has(e)||_y.set(e,new WeakMap);var r=_y.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Jee=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:fc(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Nh(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Cu(),realScaleType:"point"}:o==="category"?{scale:fc(),realScaleType:"band"}:{scale:Nh(),realScaleType:"linear"};if(os(i)){var l="scale".concat(dm(i));return{scale:(e1[l]||Cu)(),realScaleType:e1[l]?l:"point"}}return be(i)?{scale:i}:{scale:Cu(),realScaleType:"point"}},l1=1e-4,Yee=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-l1,s=Math.max(i[0],i[1])+l1,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Xee=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Qee=function(e,n){if(!n||n.length!==2||!ie(n[0])||!ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(o[0]=r),(!ie(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Zee=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=nf(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},ete=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=nf(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},tte={sign:Zee,expand:pH,none:Ia,silhouette:mH,wiggle:gH,positive:ete},nte=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=tte[r],s=hH().keys(i).value(function(a,l){return+$r(a,l,0)}).order(Wv).offset(o);return s(e)},rte=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var g,y=(g=h.type)!==null&&g!==void 0&&g.defaultProps?ft(ft({},h.type.defaultProps),h.props):h.props,v=y.stackId,w=y.hide;if(w)return f;var _=y[r],E=f[_]||{hasStack:!1,stackGroups:{}};if(xt(v)){var S=E.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),E.hasStack=!0,E.stackGroups[v]=S}else E.stackGroups[fm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return ft(ft({},f),{},fa({},_,E))},l),c={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,w){var _=g.stackGroups[w];return ft(ft({},v),{},fa({},w,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:nte(e,_.items,o)}))},y)}return ft(ft({},f),{},fa({},h,g))},c)},ite=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=mee(u,o,a);return e.domain([Im(c),bm(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=gee(f,o,a);return{niceTicks:h}}return null},u1=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=$r(s,n.dataKey,n.domain[a]);return Me(l)?null:n.scale(l)-o/2+i},ote=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},ste=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(xt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},ate=function(e){return e.reduce(function(n,r){return[Im(r.concat([n[0]]).filter(ie)),bm(r.concat([n[1]]).filter(ie))]},[1/0,-1/0])},bD=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=ate(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},c1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S_=function(e,n,r){if(be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(c1.test(e[0])){var o=+c1.exec(e[0])[1];i[0]=n[0]-o}else be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(f1.test(e[1])){var s=+f1.exec(e[1])[1];i[1]=n[1]+s}else be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Vh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=nE(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},d1=function(e,n,r){return!e||!e.length||xE(e,zn(r,"type.defaultProps.domain"))?n:e},ID=function(e,n){var r=e.type.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ft(ft({},Oe(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:RE(e),value:$r(n,i),type:l,payload:n,chartType:u,hide:c})};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function h1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(n),!0).forEach(function(r){lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lte(t,e,n){return e=ute(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ute(t){var e=cte(t,"string");return wc(e)=="symbol"?e:e+""}function cte(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uh=Math.PI/180,fte=function(e){return e*180/Math.PI},zt=function(e,n,r,i){return{x:e+Math.cos(-Uh*i)*r,y:n+Math.sin(-Uh*i)*r}},dte=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},hte=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=dte({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:fte(u),angleInRadian:u}},pte=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},mte=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},m1=function(e,n){var r=e.x,i=e.y,o=hte({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=pte(n),f=c.startAngle,h=c.endAngle,g=a,y;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;y=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=f}return y?p1(p1({},n),{},{radius:s,angle:mte(g,n)}):null};function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}var gte=["offset"];function yte(t){return Ete(t)||wte(t)||_te(t)||vte()}function vte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(t,e){if(t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function wte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ete(t){if(Array.isArray(t))return A_(t)}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tte(t,e){if(t==null)return{};var n=Ste(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ste(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){Ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ate(t,e,n){return e=bte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bte(t){var e=Ite(t,"string");return Ec(e)=="symbol"?e:e+""}function Ite(t,e){if(Ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}var xte=function(e){var n=e.value,r=e.formatter,i=Me(e.children)?n:e.children;return be(r)?r(i):i},Cte=function(e,n){var r=lr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Pte=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,y=l.endAngle,v=l.clockWise,w=(f+h)/2,_=Cte(g,y),E=_>=0?1:-1,S,R;i==="insideStart"?(S=g+E*s,R=v):i==="insideEnd"?(S=y-E*s,R=!v):i==="end"&&(S=y+E*s,R=v),R=_<=0?R:!R;var b=zt(u,c,w,S),C=zt(u,c,w,S+(R?1:-1)*359),A="M".concat(b.x,",").concat(b.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(R?0:1,`,
    `).concat(C.x,",").concat(C.y),I=Me(e.id)?fm("recharts-radial-line-"):e.id;return U.createElement("text",Tc({},r,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",a)}),U.createElement("defs",null,U.createElement("path",{id:I,d:A})),U.createElement("textPath",{xlinkHref:"#".concat(I)},n))},Rte=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var g=zt(s,a,u+r,h),y=g.x,v=g.y;return{x:y,y:v,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,_=zt(s,a,w,h),E=_.x,S=_.y;return{x:E,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Nte=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,h=f*i,g=f>0?"end":"start",y=f>0?"start":"end",v=u>=0?1:-1,w=v*i,_=v>0?"end":"start",E=v>0?"start":"end";if(o==="top"){var S={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return St(St({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var R={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return St(St({},R),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var b={x:a-w,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return St(St({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(o==="right"){var C={x:a+u+w,y:l+c/2,textAnchor:E,verticalAnchor:"middle"};return St(St({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?St({x:a+w,y:l+c/2,textAnchor:E,verticalAnchor:"middle"},A):o==="insideRight"?St({x:a+u-w,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},A):o==="insideTop"?St({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},A):o==="insideBottom"?St({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},A):o==="insideTopLeft"?St({x:a+w,y:l+h,textAnchor:E,verticalAnchor:y},A):o==="insideTopRight"?St({x:a+u-w,y:l+h,textAnchor:_,verticalAnchor:y},A):o==="insideBottomLeft"?St({x:a+w,y:l+c-h,textAnchor:E,verticalAnchor:g},A):o==="insideBottomRight"?St({x:a+u-w,y:l+c-h,textAnchor:_,verticalAnchor:g},A):ll(o)&&(ie(o.x)||Fo(o.x))&&(ie(o.y)||Fo(o.y))?St({x:a+ss(o.x,u),y:l+ss(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):St({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Mte=function(e){return"cx"in e&&ie(e.cx)};function rn(t){var e=t.offset,n=e===void 0?5:e,r=Tte(t,gte),i=St({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||Me(a)&&Me(l)&&!$.isValidElement(u)&&!be(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var g;if(be(u)){if(g=$.createElement(u,i),$.isValidElement(g))return g}else g=xte(i);var y=Mte(o),v=Oe(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Pte(i,g,v);var w=y?Rte(i):Nte(i);return U.createElement(Ah,Tc({className:Ne("recharts-label",f)},v,w,{breakAll:h}),g)}rn.displayName="Label";var xD=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,g=e.top,y=e.left,v=e.width,w=e.height,_=e.clockWise,E=e.labelViewBox;if(E)return E;if(ie(v)&&ie(w)){if(ie(f)&&ie(h))return{x:f,y:h,width:v,height:w};if(ie(g)&&ie(y))return{x:g,y,width:v,height:w}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(n)&&ie(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},kte=function(e,n){return e?e===!0?U.createElement(rn,{key:"label-implicit",viewBox:n}):xt(e)?U.createElement(rn,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===rn?$.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):be(e)?U.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):ll(e)?U.createElement(rn,Tc({viewBox:n},e,{key:"label-implicit"})):null:null},Ote=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=xD(e),s=pr(i,rn).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=kte(e.label,n||o);return[a].concat(yte(s))};rn.parseViewBox=xD;rn.renderCallByParent=Ote;function Dte(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Lte=Dte;const $te=ze(Lte);function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}var Vte=["valueAccessor"],Ute=["data","dataKey","clockWise","id","textBreakAll"];function Fte(t){return Gte(t)||Hte(t)||qte(t)||Bte()}function Bte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function Hte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gte(t){if(Array.isArray(t))return b_(t)}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}function y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(n),!0).forEach(function(r){zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e,n){return e=jte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=Wte(t,"string");return Sc(e)=="symbol"?e:e+""}function Wte(t,e){if(Sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _1(t,e){if(t==null)return{};var n=Kte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jte=function(e){return Array.isArray(e.value)?$te(e.value):e.value};function Zi(t){var e=t.valueAccessor,n=e===void 0?Jte:e,r=_1(t,Vte),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=_1(r,Ute);return!i||!i.length?null:U.createElement($t,{className:"recharts-label-list"},i.map(function(c,f){var h=Me(o)?n(c,f):$r(c&&c.payload,o),g=Me(a)?{}:{id:"".concat(a,"-").concat(f)};return U.createElement(rn,Fh({},Oe(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:rn.parseViewBox(Me(s)?c:v1(v1({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Zi.displayName="LabelList";function Yte(t,e){return t?t===!0?U.createElement(Zi,{key:"labelList-implicit",data:e}):U.isValidElement(t)||be(t)?U.createElement(Zi,{key:"labelList-implicit",data:e,content:t}):ll(t)?U.createElement(Zi,Fh({data:e},t,{key:"labelList-implicit"})):null:null}function Xte(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=pr(r,Zi).map(function(s,a){return $.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=Yte(t.label,e);return[o].concat(Fte(i))}Zi.renderCallByParent=Xte;function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function w1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w1(Object(n),!0).forEach(function(r){Qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qte(t,e,n){return e=Zte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zte(t){var e=ene(t,"string");return Ac(e)=="symbol"?e:e+""}function ene(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tne=function(e,n){var r=lr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},id=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/Uh,h=u?o:o+s*f,g=zt(n,r,c,h),y=zt(n,r,i,h),v=u?o-s*f:o,w=zt(n,r,c*Math.cos(f*Uh),v);return{center:g,circleTangency:y,lineTangency:w,theta:f}},CD=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=tne(s,a),u=s+l,c=zt(n,r,o,s),f=zt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=zt(n,r,i,s),y=zt(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},nne=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=lr(c-u),h=id({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),g=h.circleTangency,y=h.lineTangency,v=h.theta,w=id({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),_=w.circleTangency,E=w.lineTangency,S=w.theta,R=l?Math.abs(u-c):Math.abs(u-c)-v-S;if(R<0)return a?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):CD({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var b="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(R>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var C=id({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=C.circleTangency,I=C.lineTangency,P=C.theta,k=id({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),M=k.circleTangency,O=k.lineTangency,N=k.theta,q=l?Math.abs(u-c):Math.abs(u-c)-P-N;if(q<0&&s===0)return"".concat(b,"L").concat(n,",").concat(r,"Z");b+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else b+="L".concat(n,",").concat(r,"Z");return b},rne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PD=function(e){var n=E1(E1({},rne),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<o||c===f)return null;var g=Ne("recharts-sector",h),y=s-o,v=ss(a,y,0,!0),w;return v>0&&Math.abs(c-f)<360?w=nne({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(v,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=CD({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),U.createElement("path",I_({},Oe(n,!0),{className:g,d:w,role:"img"}))};function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(this,arguments)}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ine(t,e,n){return e=one(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=sne(t,"string");return bc(e)=="symbol"?e:e+""}function sne(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A1={curveBasisClosed:nH,curveBasisOpen:rH,curveBasis:tH,curveBumpX:B9,curveBumpY:q9,curveLinearClosed:iH,curveLinear:pm,curveMonotoneX:oH,curveMonotoneY:sH,curveNatural:aH,curveStep:lH,curveStepAfter:cH,curveStepBefore:uH},od=function(e){return e.x===+e.x&&e.y===+e.y},iu=function(e){return e.x},ou=function(e){return e.y},ane=function(e,n){if(be(e))return e;var r="curve".concat(dm(e));return(r==="curveMonotone"||r==="curveBump")&&n?A1["".concat(r).concat(n==="vertical"?"Y":"X")]:A1[r]||pm},lne=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=ane(r,a),f=u?o.filter(function(v){return od(v)}):o,h;if(Array.isArray(s)){var g=u?s.filter(function(v){return od(v)}):s,y=f.map(function(v,w){return S1(S1({},v),{},{base:g[w]})});return a==="vertical"?h=Jf().y(ou).x1(iu).x0(function(v){return v.base.x}):h=Jf().x(iu).y1(ou).y0(function(v){return v.base.y}),h.defined(od).curve(c),h(y)}return a==="vertical"&&ie(s)?h=Jf().y(ou).x1(iu).x0(s):ie(s)?h=Jf().x(iu).y1(ou).y0(s):h=Mk().x(iu).y(ou),h.defined(od).curve(c),h(f)},b1=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?lne(e):i;return $.createElement("path",x_({},Oe(e,!1),uh(e),{className:Ne("recharts-curve",n),d:s,ref:o}))},RD={exports:{}},une="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cne=une,fne=cne;function ND(){}function MD(){}MD.resetWarningCache=ND;var dne=function(){function t(r,i,o,s,a,l){if(l!==fne){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:MD,resetWarningCache:ND};return n.PropTypes=n,n};RD.exports=dne();var hne=RD.exports;const ke=ze(hne);var pne=Object.getOwnPropertyNames,mne=Object.getOwnPropertySymbols,gne=Object.prototype.hasOwnProperty;function I1(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function sd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function yne(t){return t!=null?t[Symbol.toStringTag]:void 0}function x1(t){return pne(t).concat(mne(t))}var vne=Object.hasOwn||function(t,e){return gne.call(t,e)};function ws(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var _ne="__v",wne="__o",Ene="_owner",C1=Object.getOwnPropertyDescriptor,P1=Object.keys;function Tne(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Sne(t,e){return ws(t.getTime(),e.getTime())}function Ane(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function bne(t,e){return t===e}function R1(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),c=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,g=a.value;if(n.equals(h[0],g[0],l,f,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Ine=ws;function xne(t,e,n){var r=P1(t),i=r.length;if(P1(e).length!==i)return!1;for(;i-- >0;)if(!kD(t,e,n,r[i]))return!1;return!0}function su(t,e,n){var r=x1(t),i=r.length;if(x1(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!kD(t,e,n,o)||(s=C1(t,o),a=C1(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Cne(t,e){return ws(t.valueOf(),e.valueOf())}function Pne(t,e){return t.source===e.source&&t.flags===e.flags}function N1(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,c=0;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Rne(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Nne(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function kD(t,e,n,r){return(r===Ene||r===wne||r===_ne)&&(t.$$typeof||e.$$typeof)?!0:vne(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Mne="[object Arguments]",kne="[object Boolean]",One="[object Date]",Dne="[object Error]",Lne="[object Map]",$ne="[object Number]",Vne="[object Object]",Une="[object RegExp]",Fne="[object Set]",Bne="[object String]",qne="[object URL]",Hne=Array.isArray,M1=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,k1=Object.assign,Gne=Object.prototype.toString.call.bind(Object.prototype.toString);function zne(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(v,w,_){if(v===w)return!0;if(v==null||w==null)return!1;var E=typeof v;if(E!==typeof w)return!1;if(E!=="object")return E==="number"?s(v,w,_):E==="function"?i(v,w,_):!1;var S=v.constructor;if(S!==w.constructor)return!1;if(S===Object)return a(v,w,_);if(Hne(v))return e(v,w,_);if(M1!=null&&M1(v))return f(v,w,_);if(S===Date)return n(v,w,_);if(S===RegExp)return u(v,w,_);if(S===Map)return o(v,w,_);if(S===Set)return c(v,w,_);var R=Gne(v);if(R===One)return n(v,w,_);if(R===Une)return u(v,w,_);if(R===Lne)return o(v,w,_);if(R===Fne)return c(v,w,_);if(R===Vne)return typeof v.then!="function"&&typeof w.then!="function"&&a(v,w,_);if(R===qne)return h(v,w,_);if(R===Dne)return r(v,w,_);if(R===Mne)return a(v,w,_);if(R===kne||R===$ne||R===Bne)return l(v,w,_);if(g){var b=g[R];if(!b){var C=yne(v);C&&(b=g[C])}if(b)return b(v,w,_)}return!1}}function jne(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?su:Tne,areDatesEqual:Sne,areErrorsEqual:Ane,areFunctionsEqual:bne,areMapsEqual:r?I1(R1,su):R1,areNumbersEqual:Ine,areObjectsEqual:r?su:xne,arePrimitiveWrappersEqual:Cne,areRegExpsEqual:Pne,areSetsEqual:r?I1(N1,su):N1,areTypedArraysEqual:r?su:Rne,areUrlsEqual:Nne,unknownTagComparators:void 0};if(n&&(i=k1({},i,n(i))),e){var o=sd(i.areArraysEqual),s=sd(i.areMapsEqual),a=sd(i.areObjectsEqual),l=sd(i.areSetsEqual);i=k1({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function Wne(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function Kne(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var Jne=Eo();Eo({strict:!0});Eo({circular:!0});Eo({circular:!0,strict:!0});Eo({createInternalComparator:function(){return ws}});Eo({strict:!0,createInternalComparator:function(){return ws}});Eo({circular:!0,createInternalComparator:function(){return ws}});Eo({circular:!0,createInternalComparator:function(){return ws},strict:!0});function Eo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=jne(t),l=zne(a),u=r?r(l):Wne(l);return Kne({circular:n,comparator:l,createState:i,equals:u,strict:s})}function Yne(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function O1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Yne(i)};requestAnimationFrame(r)}function C_(t){"@babel/helpers - typeof";return C_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C_(t)}function Xne(t){return tre(t)||ere(t)||Zne(t)||Qne()}function Qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zne(t,e){if(t){if(typeof t=="string")return D1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D1(t,e)}}function D1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ere(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tre(t){if(Array.isArray(t))return t}function nre(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Xne(s),l=a[0],u=a.slice(1);if(typeof l=="number"){O1(i.bind(null,u),l);return}i(l),O1(i.bind(null,u));return}C_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function L1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(n),!0).forEach(function(r){OD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OD(t,e,n){return e=rre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rre(t){var e=ire(t,"string");return Ic(e)==="symbol"?e:String(e)}function ire(t,e){if(Ic(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ore=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},sre=function(e){return e},are=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ru=function(e,n){return Object.keys(n).reduce(function(r,i){return $1($1({},r),{},OD({},i,e(i,n[i])))},{})},V1=function(e,n,r){return e.map(function(i){return"".concat(are(i)," ").concat(n,"ms ").concat(r)}).join(",")};function lre(t,e){return fre(t)||cre(t,e)||DD(t,e)||ure()}function ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function fre(t){if(Array.isArray(t))return t}function dre(t){return mre(t)||pre(t)||DD(t)||hre()}function hre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DD(t,e){if(t){if(typeof t=="string")return P_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(t,e)}}function pre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mre(t){if(Array.isArray(t))return P_(t)}function P_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bh=1e-4,LD=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},$D=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},U1=function(e,n){return function(r){var i=LD(e,n);return $D(i,r)}},gre=function(e,n){return function(r){var i=LD(e,n),o=[].concat(dre(i.map(function(s,a){return s*a}).slice(1)),[0]);return $D(o,r)}},F1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=lre(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=U1(i,s),h=U1(o,a),g=gre(i,s),y=function(_){return _>1?1:_<0?0:_},v=function(_){for(var E=_>1?1:_,S=E,R=0;R<8;++R){var b=f(S)-E,C=g(S);if(Math.abs(b-E)<Bh||C<Bh)return h(S);S=y(S-b/C)}return h(S)};return v.isStepper=!1,v},yre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,h){var g=-(c-f)*r,y=h*o,v=h+(g-y)*a/1e3,w=h*a/1e3+c;return Math.abs(w-f)<Bh&&Math.abs(v)<Bh?[f,0]:[w,v]};return l.isStepper=!0,l.dt=a,l},vre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return F1(i);case"spring":return yre();default:if(i.split("(")[0]==="cubic-bezier")return F1(i)}return typeof i=="function"?i:null};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function B1(t){return Ere(t)||wre(t)||VD(t)||_re()}function _re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ere(t){if(Array.isArray(t))return N_(t)}function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(n),!0).forEach(function(r){R_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R_(t,e,n){return e=Tre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){var e=Sre(t,"string");return xc(e)==="symbol"?e:String(e)}function Sre(t,e){if(xc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Are(t,e){return xre(t)||Ire(t,e)||VD(t,e)||bre()}function bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VD(t,e){if(t){if(typeof t=="string")return N_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N_(t,e)}}function N_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ire(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function xre(t){if(Array.isArray(t))return t}var qh=function(e,n,r){return e+(n-e)*r},M_=function(e){var n=e.from,r=e.to;return n!==r},Cre=function t(e,n,r){var i=Ru(function(o,s){if(M_(s)){var a=e(s.from,s.to,s.velocity),l=Are(a,2),u=l[0],c=l[1];return Bt(Bt({},s),{},{from:u,velocity:c})}return s},n);return r<1?Ru(function(o,s){return M_(s)?Bt(Bt({},s),{},{velocity:qh(s.velocity,i[o].velocity,r),from:qh(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Pre=function(t,e,n,r,i){var o=ore(t,e),s=o.reduce(function(w,_){return Bt(Bt({},w),{},R_({},_,[t[_],e[_]]))},{}),a=o.reduce(function(w,_){return Bt(Bt({},w),{},R_({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Ru(function(_,E){return E.from},a)},g=function(){return!Object.values(a).filter(M_).length},y=function(_){u||(u=_);var E=_-u,S=E/n.dt;a=Cre(n,a,S),i(Bt(Bt(Bt({},t),e),h())),u=_,g()||(l=requestAnimationFrame(f))},v=function(_){c||(c=_);var E=(_-c)/r,S=Ru(function(b,C){return qh.apply(void 0,B1(C).concat([n(E)]))},s);if(i(Bt(Bt(Bt({},t),e),S)),E<1)l=requestAnimationFrame(f);else{var R=Ru(function(b,C){return qh.apply(void 0,B1(C).concat([n(1)]))},s);i(Bt(Bt(Bt({},t),e),R))}};return f=n.isStepper?y:v,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Da(t){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(t)}var Rre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Nre(t,e){if(t==null)return{};var n=Mre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wy(t){return Lre(t)||Dre(t)||Ore(t)||kre()}function kre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(t,e){if(t){if(typeof t=="string")return k_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(t,e)}}function Dre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lre(t){if(Array.isArray(t))return k_(t)}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H1(Object(n),!0).forEach(function(r){hu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hu(t,e,n){return e=UD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UD(r.key),r)}}function Ure(t,e,n){return e&&Vre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UD(t){var e=Fre(t,"string");return Da(e)==="symbol"?e:String(e)}function Fre(t,e){if(Da(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Da(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function qre(t){var e=Hre();return function(){var r=Hh(t),i;if(e){var o=Hh(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return D_(this,i)}}function D_(t,e){if(e&&(Da(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L_(t)}function L_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hh(t){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(t)}var ao=function(t){Bre(n,t);var e=qre(n);function n(r,i){var o;$re(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,h=s.children,g=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(L_(o)),o.changeStyle=o.changeStyle.bind(L_(o)),!a||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),D_(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},D_(o);o.state={style:l?hu({},l,u):u}}else o.state={style:{}};return o}return Ure(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(a){if(!s){var g={style:l?hu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(Jne(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=y||u?f:i.to;if(this.state&&h){var w={style:l?hu({},l,v):v};(l&&h[l]!==v||!l&&h!==v)&&this.setState(w)}this.runAnimation(tr(tr({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=Pre(s,a,vre(u),l,this.changeStyle),y=function(){o.stopJSAnimation=g()};this.manager.start([h,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,h=f===void 0?0:f,g=function(v,w,_){if(_===0)return v;var E=w.duration,S=w.easing,R=S===void 0?"ease":S,b=w.style,C=w.properties,A=w.onAnimationEnd,I=_>0?s[_-1]:w,P=C||Object.keys(b);if(typeof R=="function"||R==="spring")return[].concat(wy(v),[o.runJSAnimation.bind(o,{from:I.style,to:b,duration:E,easing:R}),E]);var k=V1(P,E,R),M=tr(tr(tr({},I.style),b),{},{transition:k});return[].concat(wy(v),[M,E,A]).filter(sre)};return this.manager.start([l].concat(wy(s.reduce(g,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=nre());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var v=a?hu({},a,l):l,w=V1(Object.keys(v),s,u);y.start([c,o,tr(tr({},v),{},{transition:w}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Nre(i,Rre),u=$.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(g){var y=g.props,v=y.style,w=v===void 0?{}:v,_=y.className,E=$.cloneElement(g,tr(tr({},l),{},{style:tr(tr({},w),c),className:_}));return E};return u===1?f($.Children.only(o)):U.createElement("div",null,$.Children.map(o,function(h){return f(h)}))}}]),n}($.PureComponent);ao.displayName="Animate";ao.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ao.propTypes={from:ke.oneOfType([ke.object,ke.string]),to:ke.oneOfType([ke.object,ke.string]),attributeName:ke.string,duration:ke.number,begin:ke.number,easing:ke.oneOfType([ke.string,ke.func]),steps:ke.arrayOf(ke.shape({duration:ke.number.isRequired,style:ke.object.isRequired,easing:ke.oneOfType([ke.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ke.func]),properties:ke.arrayOf("string"),onAnimationEnd:ke.func})),children:ke.oneOfType([ke.node,ke.func]),isActive:ke.bool,canBegin:ke.bool,onAnimationEnd:ke.func,shouldReAnimate:ke.bool,onAnimationStart:ke.func,onAnimationReStart:ke.func};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}function Gre(t,e){return Kre(t)||Wre(t,e)||jre(t,e)||zre()}function zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jre(t,e){if(t){if(typeof t=="string")return G1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G1(t,e)}}function G1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Kre(t){if(Array.isArray(t))return t}function z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(n),!0).forEach(function(r){Jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t,e,n){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Xre(t,"string");return Cc(e)=="symbol"?e:e+""}function Xre(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W1=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var y=Math.min(s,o);c="M ".concat(e,",").concat(n+a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*y,`
            L `).concat(e+r,",").concat(n+i-a*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Qre=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Zre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NE=function(e){var n=j1(j1({},Zre),e),r=$.useRef(),i=$.useState(-1),o=Gre(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,g=n.className,y=n.animationEasing,v=n.animationDuration,w=n.animationBegin,_=n.isAnimationActive,E=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=Ne("recharts-rectangle",g);return E?U.createElement(ao,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:v,animationEasing:y,isActive:E},function(R){var b=R.width,C=R.height,A=R.x,I=R.y;return U.createElement(ao,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,isActive:_,easing:y},U.createElement("path",Gh({},Oe(n,!0),{className:S,d:W1(A,I,b,C,h),ref:r})))}):U.createElement("path",Gh({},Oe(n,!0),{className:S,d:W1(l,u,c,f,h)}))};function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}var FD=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ne("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",$_({},Oe(e,!1),uh(e),{className:s,cx:n,cy:r,r:i})):null};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}var eie=["x","y","top","left","width","height","className"];function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(this,arguments)}function K1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return e=rie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return Pc(e)=="symbol"?e:e+""}function iie(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oie(t,e){if(t==null)return{};var n=sie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aie=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},lie=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,g=h===void 0?0:h,y=e.className,v=oie(e,eie),w=tie({x:r,y:o,top:a,left:u,width:f,height:g},v);return!ie(r)||!ie(o)||!ie(f)||!ie(g)||!ie(a)||!ie(u)?null:U.createElement("path",V_({},Oe(w,!0),{className:Ne("recharts-cross",y),d:aie(r,o,f,g,a,u)}))},uie=nO,cie=uie(Object.getPrototypeOf,Object),fie=cie,die=gi,hie=fie,pie=yi,mie="[object Object]",gie=Function.prototype,yie=Object.prototype,BD=gie.toString,vie=yie.hasOwnProperty,_ie=BD.call(Object);function wie(t){if(!pie(t)||die(t)!=mie)return!1;var e=hie(t);if(e===null)return!0;var n=vie.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&BD.call(n)==_ie}var Eie=wie;const Tie=ze(Eie);var Sie=gi,Aie=yi,bie="[object Boolean]";function Iie(t){return t===!0||t===!1||Aie(t)&&Sie(t)==bie}var xie=Iie;const Cie=ze(xie);function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zh.apply(this,arguments)}function Pie(t,e){return kie(t)||Mie(t,e)||Nie(t,e)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nie(t,e){if(t){if(typeof t=="string")return J1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J1(t,e)}}function J1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function kie(t){if(Array.isArray(t))return t}function Y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(n),!0).forEach(function(r){Oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e,n){return e=Die(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Die(t){var e=Lie(t,"string");return Rc(e)=="symbol"?e:e+""}function Lie(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q1=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},$ie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vie=function(e){var n=X1(X1({},$ie),e),r=$.useRef(),i=$.useState(-1),o=Pie(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,y=n.animationEasing,v=n.animationDuration,w=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var E=Ne("recharts-trapezoid",g);return _?U.createElement(ao,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:v,animationEasing:y,isActive:_},function(S){var R=S.upperWidth,b=S.lowerWidth,C=S.height,A=S.x,I=S.y;return U.createElement(ao,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,easing:y},U.createElement("path",zh({},Oe(n,!0),{className:E,d:Q1(A,I,R,b,C),ref:r})))}):U.createElement("g",null,U.createElement("path",zh({},Oe(n,!0),{className:E,d:Q1(l,u,c,f,h)})))},Uie=["option","shapeType","propTransformer","activeClassName","isActive"];function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function Fie(t,e){if(t==null)return{};var n=Bie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z1(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=Gie(t,"string");return Nc(e)=="symbol"?e:e+""}function Gie(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zie(t,e){return jh(jh({},e),t)}function jie(t,e){return t==="symbols"}function ex(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(NE,n);case"trapezoid":return U.createElement(Vie,n);case"sector":return U.createElement(PD,n);case"symbols":if(jie(e))return U.createElement(Ww,n);break;default:return null}}function Wie(t){return $.isValidElement(t)?t.props:t}function Kie(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?zie:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Fie(t,Uie),u;if($.isValidElement(e))u=$.cloneElement(e,jh(jh({},l),Wie(e)));else if(be(e))u=e(l);else if(Tie(e)&&!Cie(e)){var c=i(e,l);u=U.createElement(ex,{shapeType:n,elementProps:c})}else{var f=l;u=U.createElement(ex,{shapeType:n,elementProps:f})}return a?U.createElement($t,{className:s},u):u}function Rm(t,e){return e!=null&&"trapezoids"in t.props}function Nm(t,e){return e!=null&&"sectors"in t.props}function Mc(t,e){return e!=null&&"points"in t.props}function Jie(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Yie(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Xie(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Qie(t,e){var n;return Rm(t,e)?n=Jie:Nm(t,e)?n=Yie:Mc(t,e)&&(n=Xie),n}function Zie(t,e){var n;return Rm(t,e)?n="trapezoids":Nm(t,e)?n="sectors":Mc(t,e)&&(n="points"),n}function eoe(t,e){if(Rm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Nm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Mc(t,e)?e.payload:{}}function toe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Zie(n,e),o=eoe(n,e),s=r.filter(function(l,u){var c=xE(o,l),f=n.props[i].filter(function(y){var v=Qie(n,e);return v(y,e)}),h=n.props[i].indexOf(f[f.length-1]),g=u===h;return c&&g}),a=r.indexOf(s[s.length-1]);return a}var noe=Math.ceil,roe=Math.max;function ioe(t,e,n,r){for(var i=-1,o=roe(noe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var ooe=ioe,soe=wO,tx=1/0,aoe=17976931348623157e292;function loe(t){if(!t)return t===0?t:0;if(t=soe(t),t===tx||t===-tx){var e=t<0?-1:1;return e*aoe}return t===t?t:0}var uoe=loe,coe=ooe,foe=vm,Ey=uoe;function doe(t){return function(e,n,r){return r&&typeof r!="number"&&foe(e,n,r)&&(n=r=void 0),e=Ey(e),n===void 0?(n=e,e=0):n=Ey(n),r=r===void 0?e<n?1:-1:Ey(r),coe(e,n,r,t)}}var hoe=doe,poe=hoe,moe=poe(),goe=moe;const Wh=ze(goe);function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nx(Object(n),!0).forEach(function(r){qD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qD(t,e,n){return e=yoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yoe(t){var e=voe(t,"string");return kc(e)=="symbol"?e:e+""}function voe(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _oe=["Webkit","Moz","O","ms"],woe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=_oe.reduce(function(o,s){return rx(rx({},o),{},qD({},s+r,n))},{});return i[e]=n,i};function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(n),!0).forEach(function(r){An(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ox(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GD(r.key),r)}}function Toe(t,e,n){return e&&ox(t.prototype,e),n&&ox(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Soe(t,e,n){return e=Jh(e),Aoe(t,HD()?Reflect.construct(e,n||[],Jh(t).constructor):e.apply(t,n))}function Aoe(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return boe(t)}function boe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HD=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jh(t)}function Ioe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U_(t,e)}function An(t,e,n){return e=GD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GD(t){var e=xoe(t,"string");return La(e)=="symbol"?e:e+""}function xoe(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Coe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Cu().domain(Wh(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},sx=function(e){return e.changedTouches&&!!e.changedTouches.length},$a=function(t){function e(n){var r;return Eoe(this,e),r=Soe(this,e,[n]),An(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),An(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),An(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),An(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),An(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),An(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),An(r,"handleSlideDragStart",function(i){var o=sx(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ioe(e,t),Toe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(s,f),y=e.getIndexInRange(s,h);return{startIndex:g-g%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=$r(o[r],a,r);return be(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,y=l.onChange,v=r.pageX-o;v>0?v=Math.min(v,u+c-f-a,u+c-f-s):v<0&&(v=Math.max(v,u-s,u-a));var w=this.getIndex({startX:s+v,endX:a+v});(w.startIndex!==h||w.endIndex!==g)&&y&&y(w),this.setState({startX:s+v,endX:a+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=sx(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,h=c.width,g=c.travellerWidth,y=c.onChange,v=c.gap,w=c.data,_={startX:this.state.startX,endX:this.state.endX},E=r.pageX-o;E>0?E=Math.min(E,f+h-g-u):E<0&&(E=Math.max(E,f-u)),_[s]=u+E;var S=this.getIndex(_),R=S.startIndex,b=S.endIndex,C=function(){var I=w.length-1;return s==="startX"&&(a>l?R%v===0:b%v===0)||a<l&&b===I||s==="endX"&&(a>l?b%v===0:R%v===0)||a>l&&b===I};this.setState(An(An({},s,u+E),"brushMoveStartX",r.pageX),function(){y&&C()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var g=a[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(An({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return U.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=$.Children.only(u);return f?U.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,y=l.data,v=l.startIndex,w=l.endIndex,_=Math.max(r,this.props.x),E=Ty(Ty({},Oe(this.props,!1)),{},{x:_,y:u,width:c,height:f}),S=g||"Min value: ".concat((o=y[v])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=y[w])===null||s===void 0?void 0:s.name);return U.createElement($t,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),a.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,E))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,g=5,y={pointerEvents:"none",fill:u};return U.createElement($t,{className:"recharts-brush-texts"},U.createElement(Ah,Kh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:s+a/2},y),this.getTextOfTick(i)),U.createElement(Ah,Kh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:s+a/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,y=h.endX,v=h.isTextActive,w=h.isSlideMoving,_=h.isTravellerMoving,E=h.isTravellerFocused;if(!i||!i.length||!ie(a)||!ie(l)||!ie(u)||!ie(c)||u<=0||c<=0)return null;var S=Ne("recharts-brush",o),R=U.Children.count(s)===1,b=woe("userSelect","none");return U.createElement($t,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(v||w||_||E||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):be(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Ty({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Coe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}($.PureComponent);An($a,"displayName","Brush");An($a,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Poe=tE;function Roe(t,e){var n;return Poe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Noe=Roe,Moe=Kk,koe=ml,Ooe=Noe,Doe=Tn,Loe=vm;function $oe(t,e,n){var r=Doe(t)?Moe:Ooe;return n&&Loe(t,e,n)&&(e=void 0),r(t,koe(e))}var Voe=$oe;const Uoe=ze(Voe);var Rr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},ax=mO;function Foe(t,e,n){e=="__proto__"&&ax?ax(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Boe=Foe,qoe=Boe,Hoe=hO,Goe=ml;function zoe(t,e){var n={};return e=Goe(e),Hoe(t,function(r,i,o){qoe(n,i,e(r,i,o))}),n}var joe=zoe;const Woe=ze(joe);function Koe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Joe=Koe,Yoe=tE;function Xoe(t,e){var n=!0;return Yoe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Qoe=Xoe,Zoe=Joe,ese=Qoe,tse=ml,nse=Tn,rse=vm;function ise(t,e,n){var r=nse(t)?Zoe:ese;return n&&rse(t,e,n)&&(e=void 0),r(t,tse(e))}var ose=ise;const sse=ze(ose);var ase=["x","y"];function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}function lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lx(Object(n),!0).forEach(function(r){lse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lse(t,e,n){return e=use(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function use(t){var e=cse(t,"string");return Oc(e)=="symbol"?e:e+""}function cse(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fse(t,e){if(t==null)return{};var n=dse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hse(t,e){var n=t.x,r=t.y,i=fse(t,ase),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return au(au(au(au(au({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function ux(t){return U.createElement(Kie,F_({shapeType:"rectangle",propTransformer:hse,activeClassName:"recharts-active-bar"},t))}var pse=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ie(r)||xq(r);return o?e(r,i):(o||ls(),n)}},mse=["value","background"],zD;function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}function gse(t,e){if(t==null)return{};var n=yse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(this,arguments)}function cx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(n),!0).forEach(function(r){qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WD(r.key),r)}}function _se(t,e,n){return e&&fx(t.prototype,e),n&&fx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wse(t,e,n){return e=Xh(e),Ese(t,jD()?Reflect.construct(e,n||[],Xh(t).constructor):e.apply(t,n))}function Ese(t,e){if(e&&(Va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(t)}function Tse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jD=function(){return!!t})()}function Xh(t){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xh(t)}function Sse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function qi(t,e,n){return e=WD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WD(t){var e=Ase(t,"string");return Va(e)=="symbol"?e:e+""}function Ase(t,e){if(Va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Es=function(t){function e(){var n;vse(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=wse(this,e,[].concat(i)),qi(n,"state",{isAnimationFinished:!1}),qi(n,"id",fm("recharts-bar-")),qi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),qi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Sse(e,t),_se(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Oe(this.props,!1);return r&&r.map(function(f,h){var g=h===l,y=g?u:s,v=yt(yt(yt({},c),f),{},{isActive:g,option:y,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement($t,Yh({className:"recharts-bar-rectangle"},ch(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(ux,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return U.createElement(ao,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,v=o.map(function(w,_){var E=h&&h[_];if(E){var S=Ms(E.x,w.x),R=Ms(E.y,w.y),b=Ms(E.width,w.width),C=Ms(E.height,w.height);return yt(yt({},w),{},{x:S(y),y:R(y),width:b(y),height:C(y)})}if(s==="horizontal"){var A=Ms(0,w.height),I=A(y);return yt(yt({},w),{},{y:w.y+w.height-I,height:I})}var P=Ms(0,w.width),k=P(y);return yt(yt({},w),{},{width:k})});return U.createElement($t,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!xE(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Oe(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=gse(u,mse);if(!f)return null;var g=yt(yt(yt(yt(yt({},h),{},{fill:"#eee"},f),l),ch(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return U.createElement(ux,Yh({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=pr(c,Pm);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,g=function(w,_){var E=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:E,errorVal:$r(w,_)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement($t,y,f.map(function(v){return U.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,g=r.isAnimationActive,y=r.background,v=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,_=Ne("recharts-bar",s),E=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,R=E||S,b=Me(v)?this.id:v;return U.createElement($t,{className:_},E||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(b)},U.createElement("rect",{x:E?u:u-f/2,y:S?c:c-h/2,width:E?f:f*2,height:S?h:h*2}))):null,U.createElement($t,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(b,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,b),(!g||w)&&Zi.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);zD=Es;qi(Es,"displayName","Bar");qi(Es,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!rf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qi(Es,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,g=Xee(r,n);if(!g)return null;var y=e.layout,v=n.type.defaultProps,w=v!==void 0?yt(yt({},v),n.props):n.props,_=w.dataKey,E=w.children,S=w.minPointSize,R=y==="horizontal"?s:o,b=u?R.scale.domain():null,C=ote({numericAxis:R}),A=pr(E,iE),I=f.map(function(P,k){var M,O,N,q,H,z;u?M=Qee(u[c+k],b):(M=$r(P,_),Array.isArray(M)||(M=[C,M]));var K=pse(S,zD.defaultProps.minPointSize)(M[1],k);if(y==="horizontal"){var F,j=[s.scale(M[0]),s.scale(M[1])],X=j[0],te=j[1];O=u1({axis:o,ticks:a,bandSize:i,offset:g.offset,entry:P,index:k}),N=(F=te??X)!==null&&F!==void 0?F:void 0,q=g.size;var Z=X-te;if(H=Number.isNaN(Z)?0:Z,z={x:O,y:s.y,width:q,height:s.height},Math.abs(K)>0&&Math.abs(H)<Math.abs(K)){var ue=lr(H||K)*(Math.abs(K)-Math.abs(H));N-=ue,H+=ue}}else{var _e=[o.scale(M[0]),o.scale(M[1])],Ve=_e[0],je=_e[1];if(O=Ve,N=u1({axis:s,ticks:l,bandSize:i,offset:g.offset,entry:P,index:k}),q=je-Ve,H=g.size,z={x:o.x,y:N,width:o.width,height:H},Math.abs(K)>0&&Math.abs(q)<Math.abs(K)){var Jt=lr(q||K)*(Math.abs(K)-Math.abs(q));q+=Jt}}return yt(yt(yt({},P),{},{x:O,y:N,width:q,height:H,value:u?M:M[1],payload:P,background:z},A&&A[k]&&A[k].props),{},{tooltipPayload:[ID(n,P)],tooltipPosition:{x:O+q/2,y:N+H/2}})});return yt({data:I,layout:y},h)});function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function bse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KD(r.key),r)}}function Ise(t,e,n){return e&&dx(t.prototype,e),n&&dx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hx(Object(n),!0).forEach(function(r){Mm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mm(t,e,n){return e=KD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KD(t){var e=xse(t,"string");return Dc(e)=="symbol"?e:e+""}function xse(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cse=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!In(u,Es);return c.reduce(function(g,y){var v=n[y],w=v.orientation,_=v.domain,E=v.padding,S=E===void 0?{}:E,R=v.mirror,b=v.reversed,C="".concat(w).concat(R?"Mirror":""),A,I,P,k,M;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var O=_[1]-_[0],N=1/0,q=v.categoricalDomain.sort(Rq);if(q.forEach(function(_e,Ve){Ve>0&&(N=Math.min((_e||0)-(q[Ve-1]||0),N))}),Number.isFinite(N)){var H=N/O,z=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(A=H*z/2),v.padding==="no-gap"){var K=ss(e.barCategoryGap,H*z),F=H*z/2;A=F-K-(F-K)/z*K}}}i==="xAxis"?I=[r.left+(S.left||0)+(A||0),r.left+r.width-(S.right||0)-(A||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(A||0),r.top+r.height-(S.bottom||0)-(A||0)]:I=v.range,b&&(I=[I[1],I[0]]);var j=Jee(v,o,h),X=j.scale,te=j.realScaleType;X.domain(_).range(I),Yee(X);var Z=ite(X,ir(ir({},v),{},{realScaleType:te}));i==="xAxis"?(M=w==="top"&&!R||w==="bottom"&&R,P=r.left,k=f[C]-M*v.height):i==="yAxis"&&(M=w==="left"&&!R||w==="right"&&R,P=f[C]-M*v.width,k=r.top);var ue=ir(ir(ir({},v),Z),{},{realScaleType:te,x:P,y:k,scale:X,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return ue.bandSize=Vh(ue,Z),!v.hide&&i==="xAxis"?f[C]+=(M?-1:1)*ue.height:v.hide||(f[C]+=(M?-1:1)*ue.width),ir(ir({},g),{},Mm({},y,ue))},{})},JD=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Pse=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return JD({x:n,y:r},{x:i,y:o})},YD=function(){function t(e){bse(this,t),this.scale=e}return Ise(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Mm(YD,"EPS",1e-4);var ME=function(e){var n=Object.keys(e).reduce(function(r,i){return ir(ir({},r),{},Mm({},i,YD.create(e[i])))},{});return ir(ir({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Woe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return sse(i,function(o,s){return n[s].isInRange(o)})}})};function Rse(t){return(t%180+180)%180}var Nse=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Rse(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Mse=k5(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XD=$.createContext(void 0),QD=$.createContext(void 0),ZD=$.createContext(void 0),kse=$.createContext({}),e2=$.createContext(void 0),t2=$.createContext(0),n2=$.createContext(0),px=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=Mse(o);return U.createElement(XD.Provider,{value:r},U.createElement(QD.Provider,{value:i},U.createElement(kse.Provider,{value:o},U.createElement(ZD.Provider,{value:c},U.createElement(e2.Provider,{value:s},U.createElement(t2.Provider,{value:u},U.createElement(n2.Provider,{value:l},a)))))))},Ose=function(){return $.useContext(e2)},r2=function(e){var n=$.useContext(XD);n==null&&ls();var r=n[e];return r==null&&ls(),r},i2=function(e){var n=$.useContext(QD);n==null&&ls();var r=n[e];return r==null&&ls(),r},Dse=function(){var e=$.useContext(ZD);return e},o2=function(){return $.useContext(n2)},s2=function(){return $.useContext(t2)};function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function Lse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l2(r.key),r)}}function Vse(t,e,n){return e&&$se(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Use(t,e,n){return e=Qh(e),Fse(t,a2()?Reflect.construct(e,n||[],Qh(t).constructor):e.apply(t,n))}function Fse(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bse(t)}function Bse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a2=function(){return!!t})()}function Qh(t){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qh(t)}function qse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q_(t,e)}function mx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mx(Object(n),!0).forEach(function(r){kE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kE(t,e,n){return e=l2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l2(t){var e=Hse(t,"string");return Ua(e)=="symbol"?e:e+""}function Hse(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gse(t,e){return Kse(t)||Wse(t,e)||jse(t,e)||zse()}function zse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jse(t,e){if(t){if(typeof t=="string")return yx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yx(t,e)}}function yx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Kse(t){if(Array.isArray(t))return t}function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}var Jse=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):be(e)?r=e(n):r=U.createElement("line",H_({},n,{className:"recharts-reference-line-line"})),r},Yse=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,h=o.width,g=o.height;if(r){var y=u.y,v=e.y.apply(y,{position:s});if(Rr(u,"discard")&&!e.y.isInRange(v))return null;var w=[{x:c+h,y:v},{x:c,y:v}];return l==="left"?w.reverse():w}if(n){var _=u.x,E=e.x.apply(_,{position:s});if(Rr(u,"discard")&&!e.x.isInRange(E))return null;var S=[{x:E,y:f+g},{x:E,y:f}];return a==="top"?S.reverse():S}if(i){var R=u.segment,b=R.map(function(C){return e.apply(C,{position:s})});return Rr(u,"discard")&&Uoe(b,function(C){return!e.isInRange(C)})?null:b}return null};function Xse(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=Ose(),c=r2(i),f=i2(o),h=Dse();if(!u||!h)return null;Jo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=ME({x:c.scale,y:f.scale}),y=xt(e),v=xt(n),w=r&&r.length===2,_=Yse(g,y,v,w,h,t.position,c.orientation,f.orientation,t);if(!_)return null;var E=Gse(_,2),S=E[0],R=S.x,b=S.y,C=E[1],A=C.x,I=C.y,P=Rr(t,"hidden")?"url(#".concat(u,")"):void 0,k=gx(gx({clipPath:P},Oe(t,!0)),{},{x1:R,y1:b,x2:A,y2:I});return U.createElement($t,{className:Ne("recharts-reference-line",a)},Jse(s,k),rn.renderCallByParent(t,Pse({x1:R,y1:b,x2:A,y2:I})))}var OE=function(t){function e(){return Lse(this,e),Use(this,e,arguments)}return qse(e,t),Vse(e,[{key:"render",value:function(){return U.createElement(Xse,this.props)}}])}(U.Component);kE(OE,"displayName","ReferenceLine");kE(OE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function Fa(t){"@babel/helpers - typeof";return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(t)}function vx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vx(Object(n),!0).forEach(function(r){km(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c2(r.key),r)}}function eae(t,e,n){return e&&Zse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tae(t,e,n){return e=Zh(e),nae(t,u2()?Reflect.construct(e,n||[],Zh(t).constructor):e.apply(t,n))}function nae(t,e){if(e&&(Fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rae(t)}function rae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u2=function(){return!!t})()}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zh(t)}function iae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function km(t,e,n){return e=c2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2(t){var e=oae(t,"string");return Fa(e)=="symbol"?e:e+""}function oae(t,e){if(Fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sae=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=ME({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Rr(e,"discard")&&!s.isInRange(a)?null:a},Om=function(t){function e(){return Qse(this,e),tae(this,e,arguments)}return iae(e,t),eae(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=xt(i),c=xt(o);if(Jo(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=sae(this.props);if(!f)return null;var h=f.x,g=f.y,y=this.props,v=y.shape,w=y.className,_=Rr(this.props,"hidden")?"url(#".concat(l,")"):void 0,E=_x(_x({clipPath:_},Oe(this.props,!0)),{},{cx:h,cy:g});return U.createElement($t,{className:Ne("recharts-reference-dot",w)},e.renderDot(v,E),rn.renderCallByParent(this.props,{x:h-s,y:g-s,width:2*s,height:2*s}))}}])}(U.Component);km(Om,"displayName","ReferenceDot");km(Om,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});km(Om,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):be(t)?n=t(e):n=U.createElement(FD,G_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function wx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(n),!0).forEach(function(r){Dm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d2(r.key),r)}}function uae(t,e,n){return e&&lae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cae(t,e,n){return e=ep(e),fae(t,f2()?Reflect.construct(e,n||[],ep(t).constructor):e.apply(t,n))}function fae(t,e){if(e&&(Ba(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dae(t)}function dae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f2=function(){return!!t})()}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ep(t)}function hae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W_(t,e)}function Dm(t,e,n){return e=d2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d2(t){var e=pae(t,"string");return Ba(e)=="symbol"?e:e+""}function pae(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mae=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=ME({x:c.scale,y:f.scale}),g={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Rr(o,"discard")&&(!h.isInRange(g)||!h.isInRange(y))?null:JD(g,y)},Lm=function(t){function e(){return aae(this,e),cae(this,e,arguments)}return hae(e,t),uae(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Jo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xt(i),h=xt(o),g=xt(s),y=xt(a),v=this.props.shape;if(!f&&!h&&!g&&!y&&!v)return null;var w=mae(f,h,g,y,this.props);if(!w&&!v)return null;var _=Rr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return U.createElement($t,{className:Ne("recharts-reference-area",l)},e.renderRect(v,Ex(Ex({clipPath:_},Oe(this.props,!0)),w)),rn.renderCallByParent(this.props,w))}}])}(U.Component);Dm(Lm,"displayName","ReferenceArea");Dm(Lm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dm(Lm,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):be(t)?n=t(e):n=U.createElement(NE,j_({},e,{className:"recharts-reference-area-rect"})),n});function h2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function gae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Nse(r,n)}function yae(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function tp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function vae(t,e){return h2(t,e+1)}function _ae(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:h2(r,u)};var v=l,w,_=function(){return w===void 0&&(w=n(y,v)),w},E=y.coordinate,S=l===0||tp(t,E,_,c,a);S||(l=0,c=s,u+=1),S&&(c=E+t*(_()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function Tx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tx(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return e=Eae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=Tae(t,"string");return Lc(e)=="symbol"?e:e+""}function Tae(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sae(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var g=o[h],y,v=function(){return y===void 0&&(y=n(g,h)),y};if(h===s-1){var w=t*(g.coordinate+t*v()/2-l);o[h]=g=en(en({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else o[h]=g=en(en({},g),{},{tickCoord:g.coordinate});var _=tp(t,g.tickCoord,v,a,l);_&&(l=g.tickCoord-t*(v()/2+i),o[h]=en(en({},g),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function Aae(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=en(en({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=tp(t,c.tickCoord,function(){return f},l,u);g&&(u=c.tickCoord-t*(f/2+i),s[a-1]=en(en({},c),{},{isShow:!0}))}for(var y=o?a-1:a,v=function(E){var S=s[E],R,b=function(){return R===void 0&&(R=n(S,E)),R};if(E===0){var C=t*(S.coordinate-t*b()/2-l);s[E]=S=en(en({},S),{},{tickCoord:C<0?S.coordinate-C*t:S.coordinate})}else s[E]=S=en(en({},S),{},{tickCoord:S.coordinate});var A=tp(t,S.tickCoord,b,l,u);A&&(l=S.tickCoord+t*(b()/2+i),s[E]=en(en({},S),{},{isShow:!0}))},w=0;w<y;w++)v(w);return s}function bae(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ie(l)||rf.isSsr)return vae(i,typeof l=="number"&&ie(l)?l:0);var h=[],g=a==="top"||a==="bottom"?"width":"height",y=c&&g==="width"?xu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(S,R){var b=be(u)?u(S.value,R):S.value;return g==="width"?gae(xu(b,{fontSize:e,letterSpacing:n}),y,f):xu(b,{fontSize:e,letterSpacing:n})[g]},w=i.length>=2?lr(i[1].coordinate-i[0].coordinate):1,_=yae(o,w,g);return l==="equidistantPreserveStart"?_ae(w,_,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Aae(w,_,v,i,s,l==="preserveStartEnd"):h=Sae(w,_,v,i,s),h.filter(function(E){return E.isShow}))}var Iae=["viewBox"],xae=["viewBox"],Cae=["ticks"];function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(this,arguments)}function Sx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sx(Object(n),!0).forEach(function(r){DE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sy(t,e){if(t==null)return{};var n=Pae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ax(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m2(r.key),r)}}function Nae(t,e,n){return e&&Ax(t.prototype,e),n&&Ax(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mae(t,e,n){return e=np(e),kae(t,p2()?Reflect.construct(e,n||[],np(t).constructor):e.apply(t,n))}function kae(t,e){if(e&&(qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oae(t)}function Oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p2=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},np(t)}function Dae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function DE(t,e,n){return e=m2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2(t){var e=Lae(t,"string");return qa(e)=="symbol"?e:e+""}function Lae(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $m=function(t){function e(n){var r;return Rae(this,e),r=Mae(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Dae(e,t),Nae(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Sy(r,Iae),a=this.props,l=a.viewBox,u=Sy(a,xae);return!la(o,l)||!la(s,u)||!la(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,g,y,v,w,_,E,S=f?-1:1,R=r.tickSize||c,b=ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=y=r.coordinate,w=s+ +!f*l,v=w-S*R,E=v-S*h,_=b;break;case"left":v=w=r.coordinate,y=o+ +!f*a,g=y-S*R,_=g-S*h,E=b;break;case"right":v=w=r.coordinate,y=o+ +f*a,g=y+S*R,_=g+S*h,E=b;break;default:g=y=r.coordinate,w=s+ +f*l,v=w+S*R,E=v+S*h,_=b;break}return{line:{x1:g,y1:v,x2:y,y2:w},tick:{x:_,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Tt(Tt(Tt({},Oe(this.props,!1)),Oe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Tt(Tt({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var g=+(l==="left"&&!u||l==="right"&&u);f=Tt(Tt({},f),{},{x1:i+g*s,y1:o,x2:i+g*s,y2:o+a})}return U.createElement("line",Zs({},f,{className:Ne("recharts-cartesian-axis-line",zn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,h=a.unit,g=bae(Tt(Tt({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),w=Oe(this.props,!1),_=Oe(c,!1),E=Tt(Tt({},w),{},{fill:"none"},Oe(l,!1)),S=g.map(function(R,b){var C=s.getTickLineCoord(R),A=C.line,I=C.tick,P=Tt(Tt(Tt(Tt({textAnchor:y,verticalAnchor:v},w),{},{stroke:"none",fill:u},_),I),{},{index:b,payload:R,visibleTicksCount:g.length,tickFormatter:f});return U.createElement($t,Zs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},ch(s.props,R,b)),l&&U.createElement("line",Zs({},E,A,{className:Ne("recharts-cartesian-axis-tick-line",zn(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(be(f)?f(R.value,b):R.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,g=Sy(f,Cae),y=h;return be(l)&&(y=h&&h.length>0?l(this.props):l(g)),s<=0||a<=0||!y||!y.length?null:U.createElement($t,{className:Ne("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ne(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?s=U.cloneElement(r,Tt(Tt({},i),{},{className:a})):be(r)?s=r(Tt(Tt({},i),{},{className:a})):s=U.createElement(Ah,Zs({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}($.Component);DE($m,"displayName","CartesianAxis");DE($m,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function Ha(t){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(t)}function $ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v2(r.key),r)}}function Uae(t,e,n){return e&&Vae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fae(t,e,n){return e=rp(e),Bae(t,g2()?Reflect.construct(e,n||[],rp(t).constructor):e.apply(t,n))}function Bae(t,e){if(e&&(Ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qae(t)}function qae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g2=function(){return!!t})()}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(t)}function Hae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J_(t,e)}function y2(t,e,n){return e=v2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v2(t){var e=Gae(t,"string");return Ha(e)=="symbol"?e:e+""}function Gae(t,e){if(Ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}function zae(t){var e=t.xAxisId,n=o2(),r=s2(),i=r2(e);return i==null?null:$.createElement($m,Y_({},i,{className:Ne("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ho(s,!0)}}))}var Vm=function(t){function e(){return $ae(this,e),Fae(this,e,arguments)}return Hae(e,t),Uae(e,[{key:"render",value:function(){return $.createElement(zae,this.props)}}])}($.Component);y2(Vm,"displayName","XAxis");y2(Vm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function jae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E2(r.key),r)}}function Kae(t,e,n){return e&&Wae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jae(t,e,n){return e=ip(e),Yae(t,_2()?Reflect.construct(e,n||[],ip(t).constructor):e.apply(t,n))}function Yae(t,e){if(e&&(Ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xae(t)}function Xae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_2=function(){return!!t})()}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ip(t)}function Qae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X_(t,e)}function w2(t,e,n){return e=E2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E2(t){var e=Zae(t,"string");return Ga(e)=="symbol"?e:e+""}function Zae(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}var ele=function(e){var n=e.yAxisId,r=o2(),i=s2(),o=i2(n);return o==null?null:$.createElement($m,Q_({},o,{className:Ne("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Ho(a,!0)}}))},LE=function(t){function e(){return jae(this,e),Jae(this,e,arguments)}return Qae(e,t),Kae(e,[{key:"render",value:function(){return $.createElement(ele,this.props)}}])}($.Component);w2(LE,"displayName","YAxis");w2(LE,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function bx(t){return ile(t)||rle(t)||nle(t)||tle()}function tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nle(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function rle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ile(t){if(Array.isArray(t))return Z_(t)}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var e0=function(e,n,r,i,o){var s=pr(e,OE),a=pr(e,Om),l=[].concat(bx(s),bx(a)),u=pr(e,Lm),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(v,w){if(w.props[c]===r&&Rr(w.props,"extendDomain")&&ie(w.props[f])){var _=w.props[f];return[Math.min(v[0],_),Math.max(v[1],_)]}return v},h)),u.length){var g="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(v,w){if(w.props[c]===r&&Rr(w.props,"extendDomain")&&ie(w.props[g])&&ie(w.props[y])){var _=w.props[g],E=w.props[y];return[Math.min(v[0],_,E),Math.max(v[1],_,E)]}return v},h)}return o&&o.length&&(h=o.reduce(function(v,w){return ie(w)?[Math.min(v[0],w),Math.max(v[1],w)]:v},h)),h},T2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,f||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,y=new Array(g);h<g;h++)y[h]=f[h].fn;return y},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,g,y){var v=n?n+u:u;if(!this._events[v])return!1;var w=this._events[v],_=arguments.length,E,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,h),!0;case 5:return w.fn.call(w.context,c,f,h,g),!0;case 6:return w.fn.call(w.context,c,f,h,g,y),!0}for(S=1,E=new Array(_-1);S<_;S++)E[S-1]=arguments[S];w.fn.apply(w.context,E)}else{var R=w.length,b;for(S=0;S<R;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),_){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,c);break;case 3:w[S].fn.call(w[S].context,c,f);break;case 4:w[S].fn.call(w[S].context,c,f,h);break;default:if(!E)for(b=1,E=new Array(_-1);b<_;b++)E[b-1]=arguments[b];w[S].fn.apply(w[S].context,E)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return s(this,g),this;var y=this._events[g];if(y.fn)y.fn===c&&(!h||y.once)&&(!f||y.context===f)&&s(this,g);else{for(var v=0,w=[],_=y.length;v<_;v++)(y[v].fn!==c||h&&!y[v].once||f&&y[v].context!==f)&&w.push(y[v]);w.length?this._events[g]=w.length===1?w[0]:w:s(this,g)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(T2);var ole=T2.exports;const sle=ze(ole);var Ay=new sle,by="recharts.syncMouseEvents";function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function ale(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S2(r.key),r)}}function ule(t,e,n){return e&&lle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iy(t,e,n){return e=S2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S2(t){var e=cle(t,"string");return $c(e)=="symbol"?e:e+""}function cle(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fle=function(){function t(){ale(this,t),Iy(this,"activeIndex",0),Iy(this,"coordinateList",[]),Iy(this,"layout","horizontal")}return ule(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function dle(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ie(r)&&ie(i))return!0}return!1}function hle(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function A2(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=zt(e,n,r,i),a=zt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function ple(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=zt(a,l,u,f),g=zt(a,l,c,f);r=h.x,i=h.y,o=g.x,s=g.y}else return A2(e);return[{x:r,y:i},{x:o,y:s}]}function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function Ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(n),!0).forEach(function(r){mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mle(t,e,n){return e=gle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=yle(t,"string");return Vc(e)=="symbol"?e:e+""}function yle(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vle(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var y,v=b1;if(h==="ScatterChart")y=s,v=lie;else if(h==="BarChart")y=hle(f,s,l,c),v=NE;else if(f==="radial"){var w=A2(s),_=w.cx,E=w.cy,S=w.radius,R=w.startAngle,b=w.endAngle;y={cx:_,cy:E,startAngle:R,endAngle:b,innerRadius:S,outerRadius:S},v=PD}else y={points:ple(f,s,l)},v=b1;var C=ad(ad(ad(ad({stroke:"#ccc",pointerEvents:"none"},l),y),Oe(g,!1)),{},{payload:a,payloadIndex:u,className:Ne("recharts-tooltip-cursor",g.className)});return $.isValidElement(g)?$.cloneElement(g,C):$.createElement(v,C)}var _le=["item"],wle=["children","className","width","height","style","compact","title","desc"];function za(t){"@babel/helpers - typeof";return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(t)}function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ea.apply(this,arguments)}function xx(t,e){return Sle(t)||Tle(t,e)||I2(t,e)||Ele()}function Ele(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Sle(t){if(Array.isArray(t))return t}function Cx(t,e){if(t==null)return{};var n=Ale(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ale(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ble(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ile(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x2(r.key),r)}}function xle(t,e,n){return e&&Ile(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cle(t,e,n){return e=op(e),Ple(t,b2()?Reflect.construct(e,n||[],op(t).constructor):e.apply(t,n))}function Ple(t,e){if(e&&(za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rle(t)}function Rle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b2=function(){return!!t})()}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},op(t)}function Nle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t0(t,e)}function t0(t,e){return t0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t0(t,e)}function ja(t){return Ole(t)||kle(t)||I2(t)||Mle()}function Mle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I2(t,e){if(t){if(typeof t=="string")return n0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n0(t,e)}}function kle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ole(t){if(Array.isArray(t))return n0(t)}function n0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Px(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fe(t,e,n){return e=x2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x2(t){var e=Dle(t,"string");return za(e)=="symbol"?e:e+""}function Dle(t,e){if(za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lle={xAxis:["bottom","top"],yAxis:["left","right"]},$le={width:"100%",height:"100%"},C2={x:0,y:0};function ld(t){return t}var Vle=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Ule=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return G(G(G({},i),zt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return G(G(G({},i),zt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return C2},Um=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(ja(a),ja(u)):a},[]);return s.length>0?s:e&&e.length&&ie(i)&&ie(o)?e.slice(i,o+1):[]};function P2(t){return t==="number"?[0,"auto"]:void 0}var r0=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=Um(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var g=f===void 0?a:f;h=Lv(g,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(ja(l),[ID(u,h)]):l},[])},Rx=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=Vle(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Hee(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=r0(e,n,c,f),g=Ule(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},Fle=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,g=AD(c,o);return r.reduce(function(y,v){var w,_=v.type.defaultProps!==void 0?G(G({},v.type.defaultProps),v.props):v.props,E=_.type,S=_.dataKey,R=_.allowDataOverflow,b=_.allowDuplicatedCategory,C=_.scale,A=_.ticks,I=_.includeHidden,P=_[s];if(y[P])return y;var k=Um(e.data,{graphicalItems:i.filter(function(Z){var ue,_e=s in Z.props?Z.props[s]:(ue=Z.type.defaultProps)===null||ue===void 0?void 0:ue[s];return _e===P}),dataStartIndex:l,dataEndIndex:u}),M=k.length,O,N,q;dle(_.domain,R,E)&&(O=S_(_.domain,null,R),g&&(E==="number"||C!=="auto")&&(q=Pu(k,S,"category")));var H=P2(E);if(!O||O.length===0){var z,K=(z=_.domain)!==null&&z!==void 0?z:H;if(S){if(O=Pu(k,S,E),E==="category"&&g){var F=Pq(O);b&&F?(N=O,O=Wh(0,M)):b||(O=d1(K,O,v).reduce(function(Z,ue){return Z.indexOf(ue)>=0?Z:[].concat(ja(Z),[ue])},[]))}else if(E==="category")b?O=O.filter(function(Z){return Z!==""&&!Me(Z)}):O=d1(K,O,v).reduce(function(Z,ue){return Z.indexOf(ue)>=0||ue===""||Me(ue)?Z:[].concat(ja(Z),[ue])},[]);else if(E==="number"){var j=Kee(k,i.filter(function(Z){var ue,_e,Ve=s in Z.props?Z.props[s]:(ue=Z.type.defaultProps)===null||ue===void 0?void 0:ue[s],je="hide"in Z.props?Z.props.hide:(_e=Z.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ve===P&&(I||!je)}),S,o,c);j&&(O=j)}g&&(E==="number"||C!=="auto")&&(q=Pu(k,S,"category"))}else g?O=Wh(0,M):a&&a[P]&&a[P].hasStack&&E==="number"?O=h==="expand"?[0,1]:bD(a[P].stackGroups,l,u):O=SD(k,i.filter(function(Z){var ue=s in Z.props?Z.props[s]:Z.type.defaultProps[s],_e="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ue===P&&(I||!_e)}),E,c,!0);if(E==="number")O=e0(f,O,P,o,A),K&&(O=S_(K,O,R));else if(E==="category"&&K){var X=K,te=O.every(function(Z){return X.indexOf(Z)>=0});te&&(O=X)}}return G(G({},y),{},fe({},P,G(G({},_),{},{axisType:o,domain:O,categoricalDomain:q,duplicateDomain:N,originalDomain:(w=_.domain)!==null&&w!==void 0?w:H,isCategorical:g,layout:c})))},{})},Ble=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Um(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,y=AD(c,o),v=-1;return r.reduce(function(w,_){var E=_.type.defaultProps!==void 0?G(G({},_.type.defaultProps),_.props):_.props,S=E[s],R=P2("number");if(!w[S]){v++;var b;return y?b=Wh(0,g):a&&a[S]&&a[S].hasStack?(b=bD(a[S].stackGroups,l,u),b=e0(f,b,S,o)):(b=S_(R,SD(h,r.filter(function(C){var A,I,P=s in C.props?C.props[s]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[s],k="hide"in C.props?C.props.hide:(I=C.type.defaultProps)===null||I===void 0?void 0:I.hide;return P===S&&!k}),"number",c),i.defaultProps.allowDataOverflow),b=e0(f,b,S,o)),G(G({},w),{},fe({},S,G(G({axisType:o},i.defaultProps),{},{hide:!0,orientation:zn(Lle,"".concat(o,".").concat(v%2),null),domain:b,originalDomain:R,isCategorical:y,layout:c})))}return w},{})},qle=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=pr(c,o),g={};return h&&h.length?g=Fle(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(g=Ble(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),g},Hle=function(e){var n=Ds(e),r=Ho(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:nE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Vh(n,r)}},Nx=function(e){var n=e.children,r=e.defaultShowTooltip,i=In(n,$a),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Gle=function(e){return!e||!e.length?!1:e.some(function(n){var r=ei(n&&n.type);return r&&r.indexOf("Bar")>=0})},Mx=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zle=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,h=r.margin||{},g=In(f,$a),y=In(f,ua),v=Object.keys(l).reduce(function(b,C){var A=l[C],I=A.orientation;return!A.mirror&&!A.hide?G(G({},b),{},fe({},I,b[I]+A.width)):b},{left:h.left||0,right:h.right||0}),w=Object.keys(s).reduce(function(b,C){var A=s[C],I=A.orientation;return!A.mirror&&!A.hide?G(G({},b),{},fe({},I,zn(b,"".concat(I))+A.height)):b},{top:h.top||0,bottom:h.bottom||0}),_=G(G({},w),v),E=_.bottom;g&&(_.bottom+=g.props.height||$a.defaultProps.height),y&&n&&(_=jee(_,i,r,n));var S=u-_.left-_.right,R=c-_.top-_.bottom;return G(G({brushBottom:E},_),{},{width:Math.max(S,0),height:Math.max(R,0)})},jle=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Wle=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(_,E){var S=E.graphicalItems,R=E.stackGroups,b=E.offset,C=E.updateId,A=E.dataStartIndex,I=E.dataEndIndex,P=_.barSize,k=_.layout,M=_.barGap,O=_.barCategoryGap,N=_.maxBarSize,q=Mx(k),H=q.numericAxisName,z=q.cateAxisName,K=Gle(S),F=[];return S.forEach(function(j,X){var te=Um(_.data,{graphicalItems:[j],dataStartIndex:A,dataEndIndex:I}),Z=j.type.defaultProps!==void 0?G(G({},j.type.defaultProps),j.props):j.props,ue=Z.dataKey,_e=Z.maxBarSize,Ve=Z["".concat(H,"Id")],je=Z["".concat(z,"Id")],Jt={},Nt=l.reduce(function(On,qr){var xs=E["".concat(qr.axisType,"Map")],_f=Z["".concat(qr.axisType,"Id")];xs&&xs[_f]||qr.axisType==="zAxis"||ls();var Ti=xs[_f];return G(G({},On),{},fe(fe({},qr.axisType,Ti),"".concat(qr.axisType,"Ticks"),Ho(Ti)))},Jt),ne=Nt[z],ge=Nt["".concat(z,"Ticks")],ye=R&&R[Ve]&&R[Ve].hasStack&&ste(j,R[Ve].stackGroups),Y=ei(j.type).indexOf("Bar")>=0,qe=Vh(ne,ge),Ee=[],dt=K&&Gee({barSize:P,stackGroups:R,totalSize:jle(Nt,z)});if(Y){var nt,Mt,Zn=Me(_e)?N:_e,rt=(nt=(Mt=Vh(ne,ge,!0))!==null&&Mt!==void 0?Mt:Zn)!==null&&nt!==void 0?nt:0;Ee=zee({barGap:M,barCategoryGap:O,bandSize:rt!==qe?rt:qe,sizeList:dt[je],maxBarSize:Zn}),rt!==qe&&(Ee=Ee.map(function(On){return G(G({},On),{},{position:G(G({},On.position),{},{offset:On.position.offset-rt/2})})}))}var mt=j&&j.type&&j.type.getComposedData;mt&&F.push({props:G(G({},mt(G(G({},Nt),{},{displayedData:te,props:_,dataKey:ue,item:j,bandSize:qe,barPosition:Ee,offset:b,stackedData:ye,layout:k,dataStartIndex:A,dataEndIndex:I}))),{},fe(fe(fe({key:j.key||"item-".concat(X)},H,Nt[H]),z,Nt[z]),"animationId",C)),childIndex:Bq(j,_.children),item:j})}),F},g=function(_,E){var S=_.props,R=_.dataStartIndex,b=_.dataEndIndex,C=_.updateId;if(!sb({props:S}))return null;var A=S.children,I=S.layout,P=S.stackOffset,k=S.data,M=S.reverseStackOrder,O=Mx(I),N=O.numericAxisName,q=O.cateAxisName,H=pr(A,r),z=rte(k,H,"".concat(N,"Id"),"".concat(q,"Id"),P,M),K=l.reduce(function(Z,ue){var _e="".concat(ue.axisType,"Map");return G(G({},Z),{},fe({},_e,qle(S,G(G({},ue),{},{graphicalItems:H,stackGroups:ue.axisType===N&&z,dataStartIndex:R,dataEndIndex:b}))))},{}),F=zle(G(G({},K),{},{props:S,graphicalItems:H}),E==null?void 0:E.legendBBox);Object.keys(K).forEach(function(Z){K[Z]=c(S,K[Z],F,Z.replace("Map",""),n)});var j=K["".concat(q,"Map")],X=Hle(j),te=h(S,G(G({},K),{},{dataStartIndex:R,dataEndIndex:b,updateId:C,graphicalItems:H,stackGroups:z,offset:F}));return G(G({formattedGraphicalItems:te,graphicalItems:H,offset:F,stackGroups:z},X),K)},y=function(w){function _(E){var S,R,b;return ble(this,_),b=Cle(this,_,[E]),fe(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fe(b,"accessibilityManager",new fle),fe(b,"handleLegendBBoxUpdate",function(C){if(C){var A=b.state,I=A.dataStartIndex,P=A.dataEndIndex,k=A.updateId;b.setState(G({legendBBox:C},g({props:b.props,dataStartIndex:I,dataEndIndex:P,updateId:k},G(G({},b.state),{},{legendBBox:C}))))}}),fe(b,"handleReceiveSyncEvent",function(C,A,I){if(b.props.syncId===C){if(I===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(A)}}),fe(b,"handleBrushChange",function(C){var A=C.startIndex,I=C.endIndex;if(A!==b.state.dataStartIndex||I!==b.state.dataEndIndex){var P=b.state.updateId;b.setState(function(){return G({dataStartIndex:A,dataEndIndex:I},g({props:b.props,dataStartIndex:A,dataEndIndex:I,updateId:P},b.state))}),b.triggerSyncEvent({dataStartIndex:A,dataEndIndex:I})}}),fe(b,"handleMouseEnter",function(C){var A=b.getMouseInfo(C);if(A){var I=G(G({},A),{},{isTooltipActive:!0});b.setState(I),b.triggerSyncEvent(I);var P=b.props.onMouseEnter;be(P)&&P(I,C)}}),fe(b,"triggeredAfterMouseMove",function(C){var A=b.getMouseInfo(C),I=A?G(G({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(I),b.triggerSyncEvent(I);var P=b.props.onMouseMove;be(P)&&P(I,C)}),fe(b,"handleItemMouseEnter",function(C){b.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),fe(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),fe(b,"handleMouseMove",function(C){C.persist(),b.throttleTriggeredAfterMouseMove(C)}),fe(b,"handleMouseLeave",function(C){b.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};b.setState(A),b.triggerSyncEvent(A);var I=b.props.onMouseLeave;be(I)&&I(A,C)}),fe(b,"handleOuterEvent",function(C){var A=Fq(C),I=zn(b.props,"".concat(A));if(A&&be(I)){var P,k;/.*touch.*/i.test(A)?k=b.getMouseInfo(C.changedTouches[0]):k=b.getMouseInfo(C),I((P=k)!==null&&P!==void 0?P:{},C)}}),fe(b,"handleClick",function(C){var A=b.getMouseInfo(C);if(A){var I=G(G({},A),{},{isTooltipActive:!0});b.setState(I),b.triggerSyncEvent(I);var P=b.props.onClick;be(P)&&P(I,C)}}),fe(b,"handleMouseDown",function(C){var A=b.props.onMouseDown;if(be(A)){var I=b.getMouseInfo(C);A(I,C)}}),fe(b,"handleMouseUp",function(C){var A=b.props.onMouseUp;if(be(A)){var I=b.getMouseInfo(C);A(I,C)}}),fe(b,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),fe(b,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&b.handleMouseDown(C.changedTouches[0])}),fe(b,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&b.handleMouseUp(C.changedTouches[0])}),fe(b,"handleDoubleClick",function(C){var A=b.props.onDoubleClick;if(be(A)){var I=b.getMouseInfo(C);A(I,C)}}),fe(b,"handleContextMenu",function(C){var A=b.props.onContextMenu;if(be(A)){var I=b.getMouseInfo(C);A(I,C)}}),fe(b,"triggerSyncEvent",function(C){b.props.syncId!==void 0&&Ay.emit(by,b.props.syncId,C,b.eventEmitterSymbol)}),fe(b,"applySyncEvent",function(C){var A=b.props,I=A.layout,P=A.syncMethod,k=b.state.updateId,M=C.dataStartIndex,O=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)b.setState(G({dataStartIndex:M,dataEndIndex:O},g({props:b.props,dataStartIndex:M,dataEndIndex:O,updateId:k},b.state)));else if(C.activeTooltipIndex!==void 0){var N=C.chartX,q=C.chartY,H=C.activeTooltipIndex,z=b.state,K=z.offset,F=z.tooltipTicks;if(!K)return;if(typeof P=="function")H=P(F,C);else if(P==="value"){H=-1;for(var j=0;j<F.length;j++)if(F[j].value===C.activeLabel){H=j;break}}var X=G(G({},K),{},{x:K.left,y:K.top}),te=Math.min(N,X.x+X.width),Z=Math.min(q,X.y+X.height),ue=F[H]&&F[H].value,_e=r0(b.state,b.props.data,H),Ve=F[H]?{x:I==="horizontal"?F[H].coordinate:te,y:I==="horizontal"?Z:F[H].coordinate}:C2;b.setState(G(G({},C),{},{activeLabel:ue,activeCoordinate:Ve,activePayload:_e,activeTooltipIndex:H}))}else b.setState(C)}),fe(b,"renderCursor",function(C){var A,I=b.state,P=I.isTooltipActive,k=I.activeCoordinate,M=I.activePayload,O=I.offset,N=I.activeTooltipIndex,q=I.tooltipAxisBandSize,H=b.getTooltipEventType(),z=(A=C.props.active)!==null&&A!==void 0?A:P,K=b.props.layout,F=C.key||"_recharts-cursor";return U.createElement(vle,{key:F,activeCoordinate:k,activePayload:M,activeTooltipIndex:N,chartName:n,element:C,isActive:z,layout:K,offset:O,tooltipAxisBandSize:q,tooltipEventType:H})}),fe(b,"renderPolarAxis",function(C,A,I){var P=zn(C,"type.axisType"),k=zn(b.state,"".concat(P,"Map")),M=C.type.defaultProps,O=M!==void 0?G(G({},M),C.props):C.props,N=k&&k[O["".concat(P,"Id")]];return $.cloneElement(C,G(G({},N),{},{className:Ne(P,N.className),key:C.key||"".concat(A,"-").concat(I),ticks:Ho(N,!0)}))}),fe(b,"renderPolarGrid",function(C){var A=C.props,I=A.radialLines,P=A.polarAngles,k=A.polarRadius,M=b.state,O=M.radiusAxisMap,N=M.angleAxisMap,q=Ds(O),H=Ds(N),z=H.cx,K=H.cy,F=H.innerRadius,j=H.outerRadius;return $.cloneElement(C,{polarAngles:Array.isArray(P)?P:Ho(H,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(k)?k:Ho(q,!0).map(function(X){return X.coordinate}),cx:z,cy:K,innerRadius:F,outerRadius:j,key:C.key||"polar-grid",radialLines:I})}),fe(b,"renderLegend",function(){var C=b.state.formattedGraphicalItems,A=b.props,I=A.children,P=A.width,k=A.height,M=b.props.margin||{},O=P-(M.left||0)-(M.right||0),N=ED({children:I,formattedGraphicalItems:C,legendWidth:O,legendContent:u});if(!N)return null;var q=N.item,H=Cx(N,_le);return $.cloneElement(q,G(G({},H),{},{chartWidth:P,chartHeight:k,margin:M,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),fe(b,"renderTooltip",function(){var C,A=b.props,I=A.children,P=A.accessibilityLayer,k=In(I,Sr);if(!k)return null;var M=b.state,O=M.isTooltipActive,N=M.activeCoordinate,q=M.activePayload,H=M.activeLabel,z=M.offset,K=(C=k.props.active)!==null&&C!==void 0?C:O;return $.cloneElement(k,{viewBox:G(G({},z),{},{x:z.left,y:z.top}),active:K,label:H,payload:K?q:[],coordinate:N,accessibilityLayer:P})}),fe(b,"renderBrush",function(C){var A=b.props,I=A.margin,P=A.data,k=b.state,M=k.offset,O=k.dataStartIndex,N=k.dataEndIndex,q=k.updateId;return $.cloneElement(C,{key:C.key||"_recharts-brush",onChange:rd(b.handleBrushChange,C.props.onChange),data:P,x:ie(C.props.x)?C.props.x:M.left,y:ie(C.props.y)?C.props.y:M.top+M.height+M.brushBottom-(I.bottom||0),width:ie(C.props.width)?C.props.width:M.width,startIndex:O,endIndex:N,updateId:"brush-".concat(q)})}),fe(b,"renderReferenceElement",function(C,A,I){if(!C)return null;var P=b,k=P.clipPathId,M=b.state,O=M.xAxisMap,N=M.yAxisMap,q=M.offset,H=C.type.defaultProps||{},z=C.props,K=z.xAxisId,F=K===void 0?H.xAxisId:K,j=z.yAxisId,X=j===void 0?H.yAxisId:j;return $.cloneElement(C,{key:C.key||"".concat(A,"-").concat(I),xAxis:O[F],yAxis:N[X],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:k})}),fe(b,"renderActivePoints",function(C){var A=C.item,I=C.activePoint,P=C.basePoint,k=C.childIndex,M=C.isRange,O=[],N=A.props.key,q=A.item.type.defaultProps!==void 0?G(G({},A.item.type.defaultProps),A.item.props):A.item.props,H=q.activeDot,z=q.dataKey,K=G(G({index:k,dataKey:z,cx:I.x,cy:I.y,r:4,fill:RE(A.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Oe(H,!1)),uh(H));return O.push(_.renderActiveDot(H,K,"".concat(N,"-activePoint-").concat(k))),P?O.push(_.renderActiveDot(H,G(G({},K),{},{cx:P.x,cy:P.y}),"".concat(N,"-basePoint-").concat(k))):M&&O.push(null),O}),fe(b,"renderGraphicChild",function(C,A,I){var P=b.filterFormatItem(C,A,I);if(!P)return null;var k=b.getTooltipEventType(),M=b.state,O=M.isTooltipActive,N=M.tooltipAxis,q=M.activeTooltipIndex,H=M.activeLabel,z=b.props.children,K=In(z,Sr),F=P.props,j=F.points,X=F.isRange,te=F.baseLine,Z=P.item.type.defaultProps!==void 0?G(G({},P.item.type.defaultProps),P.item.props):P.item.props,ue=Z.activeDot,_e=Z.hide,Ve=Z.activeBar,je=Z.activeShape,Jt=!!(!_e&&O&&K&&(ue||Ve||je)),Nt={};k!=="axis"&&K&&K.props.trigger==="click"?Nt={onClick:rd(b.handleItemMouseEnter,C.props.onClick)}:k!=="axis"&&(Nt={onMouseLeave:rd(b.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:rd(b.handleItemMouseEnter,C.props.onMouseEnter)});var ne=$.cloneElement(C,G(G({},P.props),Nt));function ge(qr){return typeof N.dataKey=="function"?N.dataKey(qr.payload):null}if(Jt)if(q>=0){var ye,Y;if(N.dataKey&&!N.allowDuplicatedCategory){var qe=typeof N.dataKey=="function"?ge:"payload.".concat(N.dataKey.toString());ye=Lv(j,qe,H),Y=X&&te&&Lv(te,qe,H)}else ye=j==null?void 0:j[q],Y=X&&te&&te[q];if(je||Ve){var Ee=C.props.activeIndex!==void 0?C.props.activeIndex:q;return[$.cloneElement(C,G(G(G({},P.props),Nt),{},{activeIndex:Ee})),null,null]}if(!Me(ye))return[ne].concat(ja(b.renderActivePoints({item:P,activePoint:ye,basePoint:Y,childIndex:q,isRange:X})))}else{var dt,nt=(dt=b.getItemByXY(b.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:ne},Mt=nt.graphicalItem,Zn=Mt.item,rt=Zn===void 0?C:Zn,mt=Mt.childIndex,On=G(G(G({},P.props),Nt),{},{activeIndex:mt});return[$.cloneElement(rt,On),null,null]}return X?[ne,null,null]:[ne,null]}),fe(b,"renderCustomized",function(C,A,I){return $.cloneElement(C,G(G({key:"recharts-customized-".concat(I)},b.props),b.state))}),fe(b,"renderMap",{CartesianGrid:{handler:ld,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:ld},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:ld},YAxis:{handler:ld},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((S=E.id)!==null&&S!==void 0?S:fm("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=EO(b.triggeredAfterMouseMove,(R=E.throttleDelay)!==null&&R!==void 0?R:1e3/60),b.state={},b}return Nle(_,w),xle(_,[{key:"componentDidMount",value:function(){var S,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,R=S.children,b=S.data,C=S.height,A=S.layout,I=In(R,Sr);if(I){var P=I.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,M=r0(this.state,b,P,k),O=this.state.tooltipTicks[P].coordinate,N=(this.state.offset.top+C)/2,q=A==="horizontal",H=q?{x:O,y:N}:{y:O,x:N},z=this.state.formattedGraphicalItems.find(function(F){var j=F.item;return j.type.name==="Scatter"});z&&(H=G(G({},H),z.props.points[P].tooltipPosition),M=z.props.points[P].tooltipPayload);var K={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:M,activeCoordinate:H};this.setState(K),this.renderCursor(I),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var b,C;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(S){Vv([In(S.children,Sr)],[In(this.props.children,Sr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=In(this.props.children,Sr);if(S&&typeof S.props.shared=="boolean"){var R=S.props.shared?"axis":"item";return a.indexOf(R)>=0?R:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var R=this.container,b=R.getBoundingClientRect(),C=mY(b),A={chartX:Math.round(S.pageX-C.left),chartY:Math.round(S.pageY-C.top)},I=b.width/R.offsetWidth||1,P=this.inRange(A.chartX,A.chartY,I);if(!P)return null;var k=this.state,M=k.xAxisMap,O=k.yAxisMap,N=this.getTooltipEventType(),q=Rx(this.state,this.props.data,this.props.layout,P);if(N!=="axis"&&M&&O){var H=Ds(M).scale,z=Ds(O).scale,K=H&&H.invert?H.invert(A.chartX):null,F=z&&z.invert?z.invert(A.chartY):null;return G(G({},A),{},{xValue:K,yValue:F},q)}return q?G(G({},A),q):null}},{key:"inRange",value:function(S,R){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=S/b,I=R/b;if(C==="horizontal"||C==="vertical"){var P=this.state.offset,k=A>=P.left&&A<=P.left+P.width&&I>=P.top&&I<=P.top+P.height;return k?{x:A,y:I}:null}var M=this.state,O=M.angleAxisMap,N=M.radiusAxisMap;if(O&&N){var q=Ds(O);return m1({x:A,y:I},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,R=this.getTooltipEventType(),b=In(S,Sr),C={};b&&R==="axis"&&(b.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=uh(this.props,this.handleOuterEvent);return G(G({},A),C)}},{key:"addListener",value:function(){Ay.on(by,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ay.removeListener(by,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,R,b){for(var C=this.state.formattedGraphicalItems,A=0,I=C.length;A<I;A++){var P=C[A];if(P.item===S||P.props.key===S.key||R===ei(P.item.type)&&b===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,R=this.state.offset,b=R.left,C=R.top,A=R.height,I=R.width;return U.createElement("defs",null,U.createElement("clipPath",{id:S},U.createElement("rect",{x:b,y:C,height:A,width:I})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(R,b){var C=xx(b,2),A=C[0],I=C[1];return G(G({},R),{},fe({},A,I.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(R,b){var C=xx(b,2),A=C[0],I=C[1];return G(G({},R),{},fe({},A,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[S])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(S){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[S])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(S){var R=this.state,b=R.formattedGraphicalItems,C=R.activeItem;if(b&&b.length)for(var A=0,I=b.length;A<I;A++){var P=b[A],k=P.props,M=P.item,O=M.type.defaultProps!==void 0?G(G({},M.type.defaultProps),M.props):M.props,N=ei(M.type);if(N==="Bar"){var q=(k.data||[]).find(function(F){return Qre(S,F)});if(q)return{graphicalItem:P,payload:q}}else if(N==="RadialBar"){var H=(k.data||[]).find(function(F){return m1(S,F)});if(H)return{graphicalItem:P,payload:H}}else if(Rm(P,C)||Nm(P,C)||Mc(P,C)){var z=toe({graphicalItem:P,activeTooltipItem:C,itemData:O.data}),K=O.activeIndex===void 0?z:O.activeIndex;return{graphicalItem:G(G({},P),{},{childIndex:K}),payload:Mc(P,C)?O.data[z]:P.props.data[z]}}}return null}},{key:"render",value:function(){var S=this;if(!sb(this))return null;var R=this.props,b=R.children,C=R.className,A=R.width,I=R.height,P=R.style,k=R.compact,M=R.title,O=R.desc,N=Cx(R,wle),q=Oe(N,!1);if(k)return U.createElement(px,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(Fv,ea({},q,{width:A,height:I,title:M,desc:O}),this.renderClipPath(),lb(b,this.renderMap)));if(this.props.accessibilityLayer){var H,z;q.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,q.role=(z=this.props.role)!==null&&z!==void 0?z:"application",q.onKeyDown=function(F){S.accessibilityManager.keyboardEvent(F)},q.onFocus=function(){S.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return U.createElement(px,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",ea({className:Ne("recharts-wrapper",C),style:G({position:"relative",cursor:"default",width:A,height:I},P)},K,{ref:function(j){S.container=j}}),U.createElement(Fv,ea({},q,{width:A,height:I,title:M,desc:O,style:$le}),this.renderClipPath(),lb(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);fe(y,"displayName",n),fe(y,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fe(y,"getDerivedStateFromProps",function(w,_){var E=w.dataKey,S=w.data,R=w.children,b=w.width,C=w.height,A=w.layout,I=w.stackOffset,P=w.margin,k=_.dataStartIndex,M=_.dataEndIndex;if(_.updateId===void 0){var O=Nx(w);return G(G(G({},O),{},{updateId:0},g(G(G({props:w},O),{},{updateId:0}),_)),{},{prevDataKey:E,prevData:S,prevWidth:b,prevHeight:C,prevLayout:A,prevStackOffset:I,prevMargin:P,prevChildren:R})}if(E!==_.prevDataKey||S!==_.prevData||b!==_.prevWidth||C!==_.prevHeight||A!==_.prevLayout||I!==_.prevStackOffset||!la(P,_.prevMargin)){var N=Nx(w),q={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},H=G(G({},Rx(_,S,A)),{},{updateId:_.updateId+1}),z=G(G(G({},N),q),H);return G(G(G({},z),g(G({props:w},z),_)),{},{prevDataKey:E,prevData:S,prevWidth:b,prevHeight:C,prevLayout:A,prevStackOffset:I,prevMargin:P,prevChildren:R})}if(!Vv(R,_.prevChildren)){var K,F,j,X,te=In(R,$a),Z=te&&(K=(F=te.props)===null||F===void 0?void 0:F.startIndex)!==null&&K!==void 0?K:k,ue=te&&(j=(X=te.props)===null||X===void 0?void 0:X.endIndex)!==null&&j!==void 0?j:M,_e=Z!==k||ue!==M,Ve=!Me(S),je=Ve&&!_e?_.updateId:_.updateId+1;return G(G({updateId:je},g(G(G({props:w},_),{},{updateId:je,dataStartIndex:Z,dataEndIndex:ue}),_)),{},{prevChildren:R,dataStartIndex:Z,dataEndIndex:ue})}return null}),fe(y,"renderActiveDot",function(w,_,E){var S;return $.isValidElement(w)?S=$.cloneElement(w,_):be(w)?S=w(_):S=U.createElement(FD,_),U.createElement($t,{className:"recharts-active-dot",key:E},S)});var v=$.forwardRef(function(_,E){return U.createElement(y,ea({},_,{ref:E}))});return v.displayName=y.displayName,v},Kle=Wle({chartName:"BarChart",GraphicalChild:Es,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Vm},{axisType:"yAxis",AxisComp:LE}],formatAxisMap:Cse});const Zt={XS:"XS",S:"S",M:"M",L:"L",OTHER:"Other"},Jle=({data:t})=>{const[e,n]=$.useState("all"),r=$.useMemo(()=>{if(e==="all")return t.items;const a=t.bundles.find(l=>l.id===e);return a?t.items.filter(l=>a.itemIds.includes(l.id)):[]},[t.items,e,t.bundles]),i=$.useMemo(()=>r.reduce((a,l)=>a+Object.values(l.stock).reduce((u,c)=>u+c,0),0),[r]),o=$.useMemo(()=>{const a={[Zt.XS]:0,[Zt.S]:0,[Zt.M]:0,[Zt.L]:0,[Zt.OTHER]:0};return r.forEach(l=>{Object.entries(l.stock).forEach(([u,c])=>{u in a&&(a[u]+=c)})}),Object.entries(a).map(([l,u])=>({name:l,value:u}))},[r]),s=["#86efac","#22c55e","#15803d","#14532d","#166534"];return L.jsxs("div",{className:"p-4 pb-24 space-y-6",children:[L.jsx("header",{className:"mb-2 flex justify-between items-center",children:L.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"YSQUARE"})}),L.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[L.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[L.jsx(DB,{size:16,className:"text-brand-600"}),L.jsx("span",{className:"font-bold text-gray-700 text-sm",children:""})]}),L.jsxs("div",{className:"relative",children:[L.jsxs("select",{value:e,onChange:a=>n(a.target.value),className:"w-full appearance-none bg-gray-50 border border-gray-200 text-gray-800 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-brand-500 font-medium text-sm transition-all",children:[L.jsx("option",{value:"all",children:" "}),L.jsx("option",{disabled:!0,children:""}),t.bundles.map(a=>L.jsxs("option",{value:a.id,children:[" ",a.name]},a.id))]}),L.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:L.jsx("svg",{className:"fill-current h-4 w-4",viewBox:"0 0 20 20",children:L.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),L.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[L.jsxs("div",{className:"bg-gradient-to-br from-brand-500 to-brand-700 p-4 rounded-2xl shadow-lg shadow-brand-200 text-white",children:[L.jsx("span",{className:"text-xs text-brand-100 opacity-80",children:e==="all"?"":""}),L.jsx("span",{className:"text-4xl font-bold mt-1 block",children:i}),L.jsxs("span",{className:"text-xs text-brand-100 mt-2 block opacity-60",children:[" ",r.length," "]})]}),L.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col justify-center",children:[L.jsx("span",{className:"text-xs text-gray-400",children:""}),L.jsx("span",{className:"text-3xl font-bold text-gray-800 mt-1 block",children:t.bundles.length}),L.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:""})]})]}),L.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[L.jsx("div",{className:"flex justify-between items-center mb-6",children:L.jsx("h3",{className:"text-sm font-bold text-gray-800",children:e==="all"?"":""})}),L.jsx("div",{className:"h-56 w-full",children:L.jsx(lY,{width:"100%",height:"100%",children:L.jsxs(Kle,{data:o,margin:{top:20,right:0,left:0,bottom:0},children:[L.jsx(Vm,{dataKey:"name",tick:{fontSize:11,fill:"#6b7280"},stroke:"#e5e7eb",axisLine:!1,tickLine:!1,dy:10}),L.jsx(Sr,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),L.jsxs(Es,{dataKey:"value",radius:[6,6,6,6],children:[o.map((a,l)=>L.jsx(iE,{fill:s[l%s.length]},`cell-${l}`)),L.jsx(Zi,{dataKey:"value",position:"top",fill:"#374151",fontSize:12,fontWeight:"bold",formatter:a=>a>0?a:""})]})]})})})]})]})},Yle=()=>{};var kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xle=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},N2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,s||(h=64)),r.push(n[c],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xle(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new Qle;const h=o<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Qle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zle=function(t){const e=R2(t);return N2.encodeByteArray(e,!0)},sp=function(t){return Zle(t).replace(/\./g,"")},M2=function(t){try{return N2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue=()=>eue().__FIREBASE_DEFAULTS__,nue=()=>{if(typeof process>"u"||typeof kx>"u")return;const t=kx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rue=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M2(t[1]);return e&&JSON.parse(e)},Fm=()=>{try{return Yle()||tue()||nue()||rue()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k2=t=>{var e,n;return(n=(e=Fm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},iue=t=>{const e=k2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},O2=()=>{var t;return(t=Fm())==null?void 0:t.config},D2=t=>{var e;return(e=Fm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function L2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sue(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sp(JSON.stringify(n)),sp(JSON.stringify(s)),""].join(".")}const Nu={};function aue(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nu))Nu[e]?t.emulator.push(e):t.prod.push(e);return t}function lue(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ox=!1;function $2(t,e){if(typeof window>"u"||typeof document>"u"||!_l(window.location.host)||Nu[t]===e||Nu[t]||Ox)return;Nu[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=aue().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Ox=!0,s()},h}function c(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=lue(r),g=n("text"),y=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),w=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),c(w,v);const R=u();l(E,_),S.append(E,y,w,R),document.body.appendChild(S)}o?(y.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function cue(){var e;const t=(e=Fm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fue(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function due(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hue(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pue(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mue(){return!cue()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gue(){try{return typeof indexedDB=="object"}catch{return!1}}function yue(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vue="FirebaseError";class _i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vue,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uf.prototype.create)}}class uf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?_ue(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new _i(i,a,r)}}function _ue(t,e){return t.replace(wue,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wue=/\{\$([^}]+)}/g;function Eue(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function us(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Dx(o)&&Dx(s)){if(!us(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tue(t,e){const n=new Sue(t,e);return n.subscribe.bind(n)}class Sue{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Aue(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xy),i.error===void 0&&(i.error=xy),i.complete===void 0&&(i.complete=xy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Aue(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t){return t&&t._delegate?t._delegate:t}class cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oue;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xue(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Iue(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iue(t){return t===Lo?void 0:t}function xue(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bue(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const Pue={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Rue=Te.INFO,Nue={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},Mue=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Nue[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $E{constructor(e){this.name=e,this._logLevel=Rue,this._logHandler=Mue,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pue[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const kue=(t,e)=>e.some(n=>t instanceof n);let Lx,$x;function Oue(){return Lx||(Lx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Due(){return $x||($x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V2=new WeakMap,i0=new WeakMap,U2=new WeakMap,Cy=new WeakMap,VE=new WeakMap;function Lue(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(eo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&V2.set(n,t)}).catch(()=>{}),VE.set(e,t),e}function $ue(t){if(i0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});i0.set(t,e)}let o0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return i0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||U2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Vue(t){o0=t(o0)}function Uue(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Py(this),e,...n);return U2.set(r,e.sort?e.sort():[e]),eo(r)}:Due().includes(t)?function(...e){return t.apply(Py(this),e),eo(V2.get(this))}:function(...e){return eo(t.apply(Py(this),e))}}function Fue(t){return typeof t=="function"?Uue(t):(t instanceof IDBTransaction&&$ue(t),kue(t,Oue())?new Proxy(t,o0):t)}function eo(t){if(t instanceof IDBRequest)return Lue(t);if(Cy.has(t))return Cy.get(t);const e=Fue(t);return e!==t&&(Cy.set(t,e),VE.set(e,t)),e}const Py=t=>VE.get(t);function Bue(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=eo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(eo(s.result),l.oldVersion,l.newVersion,eo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const que=["get","getKey","getAll","getAllKeys","count"],Hue=["put","add","delete","clear"],Ry=new Map;function Vx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ry.get(e))return Ry.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Hue.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||que.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ry.set(e,o),o}Vue(t=>({...t,get:(e,n,r)=>Vx(e,n)||t.get(e,n,r),has:(e,n)=>!!Vx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gue{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zue(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zue(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s0="@firebase/app",Ux="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new $E("@firebase/app"),jue="@firebase/app-compat",Wue="@firebase/analytics-compat",Kue="@firebase/analytics",Jue="@firebase/app-check-compat",Yue="@firebase/app-check",Xue="@firebase/auth",Que="@firebase/auth-compat",Zue="@firebase/database",ece="@firebase/data-connect",tce="@firebase/database-compat",nce="@firebase/functions",rce="@firebase/functions-compat",ice="@firebase/installations",oce="@firebase/installations-compat",sce="@firebase/messaging",ace="@firebase/messaging-compat",lce="@firebase/performance",uce="@firebase/performance-compat",cce="@firebase/remote-config",fce="@firebase/remote-config-compat",dce="@firebase/storage",hce="@firebase/storage-compat",pce="@firebase/firestore",mce="@firebase/ai",gce="@firebase/firestore-compat",yce="firebase",vce="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="[DEFAULT]",_ce={[s0]:"fire-core",[jue]:"fire-core-compat",[Kue]:"fire-analytics",[Wue]:"fire-analytics-compat",[Yue]:"fire-app-check",[Jue]:"fire-app-check-compat",[Xue]:"fire-auth",[Que]:"fire-auth-compat",[Zue]:"fire-rtdb",[ece]:"fire-data-connect",[tce]:"fire-rtdb-compat",[nce]:"fire-fn",[rce]:"fire-fn-compat",[ice]:"fire-iid",[oce]:"fire-iid-compat",[sce]:"fire-fcm",[ace]:"fire-fcm-compat",[lce]:"fire-perf",[uce]:"fire-perf-compat",[cce]:"fire-rc",[fce]:"fire-rc-compat",[dce]:"fire-gcs",[hce]:"fire-gcs-compat",[pce]:"fire-fst",[gce]:"fire-fst-compat",[mce]:"fire-vertex","fire-js":"fire-js",[yce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Map,wce=new Map,l0=new Map;function Fx(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wa(t){const e=t.name;if(l0.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;l0.set(e,t);for(const n of ap.values())Fx(n,t);for(const n of wce.values())Fx(n,t);return!0}function UE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ar(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ece={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new uf("app","Firebase",Ece);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=vce;function F2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:a0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw to.create("bad-app-name",{appName:String(i)});if(n||(n=O2()),!n)throw to.create("no-options");const o=ap.get(i);if(o){if(us(n,o.options)&&us(r,o.config))return o;throw to.create("duplicate-app",{appName:i})}const s=new Cue(i);for(const l of l0.values())s.addComponent(l);const a=new Tce(n,r,s);return ap.set(i,a),a}function B2(t=a0){const e=ap.get(t);if(!e&&t===a0&&O2())return F2();if(!e)throw to.create("no-app",{appName:t});return e}function no(t,e,n){let r=_ce[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(s.join(" "));return}Wa(new cs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sce="firebase-heartbeat-database",Ace=1,Uc="firebase-heartbeat-store";let Ny=null;function q2(){return Ny||(Ny=Bue(Sce,Ace,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw to.create("idb-open",{originalErrorMessage:t.message})})),Ny}async function bce(t){try{const n=(await q2()).transaction(Uc),r=await n.objectStore(Uc).get(H2(t));return await n.done,r}catch(e){if(e instanceof _i)ci.warn(e.message);else{const n=to.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(n.message)}}}async function Bx(t,e){try{const r=(await q2()).transaction(Uc,"readwrite");await r.objectStore(Uc).put(e,H2(t)),await r.done}catch(n){if(n instanceof _i)ci.warn(n.message);else{const r=to.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ci.warn(r.message)}}}function H2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ice=1024,xce=30;class Cce{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rce(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>xce){const s=Nce(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qx(),{heartbeatsToSend:r,unsentEntries:i}=Pce(this._heartbeatsCache.heartbeats),o=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ci.warn(n),""}}}function qx(){return new Date().toISOString().substring(0,10)}function Pce(t,e=Ice){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Hx(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gue()?yue().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bce(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hx(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}function Nce(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mce(t){Wa(new cs("platform-logger",e=>new Gue(e),"PRIVATE")),Wa(new cs("heartbeat",e=>new Cce(e),"PRIVATE")),no(s0,Ux,t),no(s0,Ux,"esm2020"),no("fire-js","")}Mce("");var Gx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ro,G2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function P(){}P.prototype=I.prototype,A.F=I.prototype,A.prototype=new P,A.prototype.constructor=A,A.D=function(k,M,O){for(var N=Array(arguments.length-2),q=2;q<arguments.length;q++)N[q-2]=arguments[q];return I.prototype[M].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,I,P){P||(P=0);const k=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)k[M]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(M=0;M<16;++M)k[M]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=A.g[0],P=A.g[1],M=A.g[2];let O=A.g[3],N;N=I+(O^P&(M^O))+k[0]+3614090360&4294967295,I=P+(N<<7&4294967295|N>>>25),N=O+(M^I&(P^M))+k[1]+3905402710&4294967295,O=I+(N<<12&4294967295|N>>>20),N=M+(P^O&(I^P))+k[2]+606105819&4294967295,M=O+(N<<17&4294967295|N>>>15),N=P+(I^M&(O^I))+k[3]+3250441966&4294967295,P=M+(N<<22&4294967295|N>>>10),N=I+(O^P&(M^O))+k[4]+4118548399&4294967295,I=P+(N<<7&4294967295|N>>>25),N=O+(M^I&(P^M))+k[5]+1200080426&4294967295,O=I+(N<<12&4294967295|N>>>20),N=M+(P^O&(I^P))+k[6]+2821735955&4294967295,M=O+(N<<17&4294967295|N>>>15),N=P+(I^M&(O^I))+k[7]+4249261313&4294967295,P=M+(N<<22&4294967295|N>>>10),N=I+(O^P&(M^O))+k[8]+1770035416&4294967295,I=P+(N<<7&4294967295|N>>>25),N=O+(M^I&(P^M))+k[9]+2336552879&4294967295,O=I+(N<<12&4294967295|N>>>20),N=M+(P^O&(I^P))+k[10]+4294925233&4294967295,M=O+(N<<17&4294967295|N>>>15),N=P+(I^M&(O^I))+k[11]+2304563134&4294967295,P=M+(N<<22&4294967295|N>>>10),N=I+(O^P&(M^O))+k[12]+1804603682&4294967295,I=P+(N<<7&4294967295|N>>>25),N=O+(M^I&(P^M))+k[13]+4254626195&4294967295,O=I+(N<<12&4294967295|N>>>20),N=M+(P^O&(I^P))+k[14]+2792965006&4294967295,M=O+(N<<17&4294967295|N>>>15),N=P+(I^M&(O^I))+k[15]+1236535329&4294967295,P=M+(N<<22&4294967295|N>>>10),N=I+(M^O&(P^M))+k[1]+4129170786&4294967295,I=P+(N<<5&4294967295|N>>>27),N=O+(P^M&(I^P))+k[6]+3225465664&4294967295,O=I+(N<<9&4294967295|N>>>23),N=M+(I^P&(O^I))+k[11]+643717713&4294967295,M=O+(N<<14&4294967295|N>>>18),N=P+(O^I&(M^O))+k[0]+3921069994&4294967295,P=M+(N<<20&4294967295|N>>>12),N=I+(M^O&(P^M))+k[5]+3593408605&4294967295,I=P+(N<<5&4294967295|N>>>27),N=O+(P^M&(I^P))+k[10]+38016083&4294967295,O=I+(N<<9&4294967295|N>>>23),N=M+(I^P&(O^I))+k[15]+3634488961&4294967295,M=O+(N<<14&4294967295|N>>>18),N=P+(O^I&(M^O))+k[4]+3889429448&4294967295,P=M+(N<<20&4294967295|N>>>12),N=I+(M^O&(P^M))+k[9]+568446438&4294967295,I=P+(N<<5&4294967295|N>>>27),N=O+(P^M&(I^P))+k[14]+3275163606&4294967295,O=I+(N<<9&4294967295|N>>>23),N=M+(I^P&(O^I))+k[3]+4107603335&4294967295,M=O+(N<<14&4294967295|N>>>18),N=P+(O^I&(M^O))+k[8]+1163531501&4294967295,P=M+(N<<20&4294967295|N>>>12),N=I+(M^O&(P^M))+k[13]+2850285829&4294967295,I=P+(N<<5&4294967295|N>>>27),N=O+(P^M&(I^P))+k[2]+4243563512&4294967295,O=I+(N<<9&4294967295|N>>>23),N=M+(I^P&(O^I))+k[7]+1735328473&4294967295,M=O+(N<<14&4294967295|N>>>18),N=P+(O^I&(M^O))+k[12]+2368359562&4294967295,P=M+(N<<20&4294967295|N>>>12),N=I+(P^M^O)+k[5]+4294588738&4294967295,I=P+(N<<4&4294967295|N>>>28),N=O+(I^P^M)+k[8]+2272392833&4294967295,O=I+(N<<11&4294967295|N>>>21),N=M+(O^I^P)+k[11]+1839030562&4294967295,M=O+(N<<16&4294967295|N>>>16),N=P+(M^O^I)+k[14]+4259657740&4294967295,P=M+(N<<23&4294967295|N>>>9),N=I+(P^M^O)+k[1]+2763975236&4294967295,I=P+(N<<4&4294967295|N>>>28),N=O+(I^P^M)+k[4]+1272893353&4294967295,O=I+(N<<11&4294967295|N>>>21),N=M+(O^I^P)+k[7]+4139469664&4294967295,M=O+(N<<16&4294967295|N>>>16),N=P+(M^O^I)+k[10]+3200236656&4294967295,P=M+(N<<23&4294967295|N>>>9),N=I+(P^M^O)+k[13]+681279174&4294967295,I=P+(N<<4&4294967295|N>>>28),N=O+(I^P^M)+k[0]+3936430074&4294967295,O=I+(N<<11&4294967295|N>>>21),N=M+(O^I^P)+k[3]+3572445317&4294967295,M=O+(N<<16&4294967295|N>>>16),N=P+(M^O^I)+k[6]+76029189&4294967295,P=M+(N<<23&4294967295|N>>>9),N=I+(P^M^O)+k[9]+3654602809&4294967295,I=P+(N<<4&4294967295|N>>>28),N=O+(I^P^M)+k[12]+3873151461&4294967295,O=I+(N<<11&4294967295|N>>>21),N=M+(O^I^P)+k[15]+530742520&4294967295,M=O+(N<<16&4294967295|N>>>16),N=P+(M^O^I)+k[2]+3299628645&4294967295,P=M+(N<<23&4294967295|N>>>9),N=I+(M^(P|~O))+k[0]+4096336452&4294967295,I=P+(N<<6&4294967295|N>>>26),N=O+(P^(I|~M))+k[7]+1126891415&4294967295,O=I+(N<<10&4294967295|N>>>22),N=M+(I^(O|~P))+k[14]+2878612391&4294967295,M=O+(N<<15&4294967295|N>>>17),N=P+(O^(M|~I))+k[5]+4237533241&4294967295,P=M+(N<<21&4294967295|N>>>11),N=I+(M^(P|~O))+k[12]+1700485571&4294967295,I=P+(N<<6&4294967295|N>>>26),N=O+(P^(I|~M))+k[3]+2399980690&4294967295,O=I+(N<<10&4294967295|N>>>22),N=M+(I^(O|~P))+k[10]+4293915773&4294967295,M=O+(N<<15&4294967295|N>>>17),N=P+(O^(M|~I))+k[1]+2240044497&4294967295,P=M+(N<<21&4294967295|N>>>11),N=I+(M^(P|~O))+k[8]+1873313359&4294967295,I=P+(N<<6&4294967295|N>>>26),N=O+(P^(I|~M))+k[15]+4264355552&4294967295,O=I+(N<<10&4294967295|N>>>22),N=M+(I^(O|~P))+k[6]+2734768916&4294967295,M=O+(N<<15&4294967295|N>>>17),N=P+(O^(M|~I))+k[13]+1309151649&4294967295,P=M+(N<<21&4294967295|N>>>11),N=I+(M^(P|~O))+k[4]+4149444226&4294967295,I=P+(N<<6&4294967295|N>>>26),N=O+(P^(I|~M))+k[11]+3174756917&4294967295,O=I+(N<<10&4294967295|N>>>22),N=M+(I^(O|~P))+k[2]+718787259&4294967295,M=O+(N<<15&4294967295|N>>>17),N=P+(O^(M|~I))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.v=function(A,I){I===void 0&&(I=A.length);const P=I-this.blockSize,k=this.C;let M=this.h,O=0;for(;O<I;){if(M==0)for(;O<=P;)i(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<I;)if(k[M++]=A.charCodeAt(O++),M==this.blockSize){i(this,k),M=0;break}}else for(;O<I;)if(k[M++]=A[O++],M==this.blockSize){i(this,k),M=0;break}}this.h=M,this.o+=I},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;I=this.o*8;for(var P=A.length-8;P<A.length;++P)A[P]=I&255,I/=256;for(this.v(A),A=Array(16),I=0,P=0;P<4;++P)for(let k=0;k<32;k+=8)A[I++]=this.g[P]>>>k&255;return A};function o(A,I){var P=a;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=I(A)}function s(A,I){this.h=I;const P=[];let k=!0;for(let M=A.length-1;M>=0;M--){const O=A[M]|0;k&&O==I||(P[M]=O,k=!1)}this.g=P}var a={};function l(A){return-128<=A&&A<128?o(A,function(I){return new s([I|0],I<0?-1:0)}):new s([A|0],A<0?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(A<0)return w(u(-A));const I=[];let P=1;for(let k=0;A>=P;k++)I[k]=A/P|0,P*=4294967296;return new s(I,0)}function c(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return w(c(A.substring(1),I));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(I,8));let k=f;for(let O=0;O<A.length;O+=8){var M=Math.min(8,A.length-O);const N=parseInt(A.substring(O,O+M),I);M<8?(M=u(Math.pow(I,M)),k=k.j(M).add(u(N))):(k=k.j(P),k=k.add(u(N)))}return k}var f=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-w(this).m();let A=0,I=1;for(let P=0;P<this.g.length;P++){const k=this.i(P);A+=(k>=0?k:4294967296+k)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(v(this))return"-"+w(this).toString(A);const I=u(Math.pow(A,6));var P=this;let k="";for(;;){const M=R(P,I).g;P=_(P,M.j(I));let O=((P.g.length>0?P.g[0]:P.h)>>>0).toString(A);if(P=M,y(P))return O+k;for(;O.length<6;)O="0"+O;k=O+k}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(let I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=_(this,A),v(A)?-1:y(A)?0:1};function w(A){const I=A.g.length,P=[];for(let k=0;k<I;k++)P[k]=~A.g[k];return new s(P,~A.h).add(h)}t.abs=function(){return v(this)?w(this):this},t.add=function(A){const I=Math.max(this.g.length,A.g.length),P=[];let k=0;for(let M=0;M<=I;M++){let O=k+(this.i(M)&65535)+(A.i(M)&65535),N=(O>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);k=N>>>16,O&=65535,N&=65535,P[M]=N<<16|O}return new s(P,P[P.length-1]&-2147483648?-1:0)};function _(A,I){return A.add(w(I))}t.j=function(A){if(y(this)||y(A))return f;if(v(this))return v(A)?w(this).j(w(A)):w(w(this).j(A));if(v(A))return w(this.j(w(A)));if(this.l(g)<0&&A.l(g)<0)return u(this.m()*A.m());const I=this.g.length+A.g.length,P=[];for(var k=0;k<2*I;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<A.g.length;M++){const O=this.i(k)>>>16,N=this.i(k)&65535,q=A.i(M)>>>16,H=A.i(M)&65535;P[2*k+2*M]+=N*H,E(P,2*k+2*M),P[2*k+2*M+1]+=O*H,E(P,2*k+2*M+1),P[2*k+2*M+1]+=N*q,E(P,2*k+2*M+1),P[2*k+2*M+2]+=O*q,E(P,2*k+2*M+2)}for(A=0;A<I;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=I;A<2*I;A++)P[A]=0;return new s(P,0)};function E(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function S(A,I){this.g=A,this.h=I}function R(A,I){if(y(I))throw Error("division by zero");if(y(A))return new S(f,f);if(v(A))return I=R(w(A),I),new S(w(I.g),w(I.h));if(v(I))return I=R(A,w(I)),new S(w(I.g),I.h);if(A.g.length>30){if(v(A)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var P=h,k=I;k.l(A)<=0;)P=b(P),k=b(k);var M=C(P,1),O=C(k,1);for(k=C(k,2),P=C(P,2);!y(k);){var N=O.add(k);N.l(A)<=0&&(M=M.add(P),O=N),k=C(k,1),P=C(P,1)}return I=_(A,M.j(I)),new S(M,I)}for(M=f;A.l(I)>=0;){for(P=Math.max(1,Math.floor(A.m()/I.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),O=u(P),N=O.j(I);v(N)||N.l(A)>0;)P-=k,O=u(P),N=O.j(I);y(O)&&(O=h),M=M.add(O),A=_(A,N)}return new S(M,A)}t.B=function(A){return R(this,A).h},t.and=function(A){const I=Math.max(this.g.length,A.g.length),P=[];for(let k=0;k<I;k++)P[k]=this.i(k)&A.i(k);return new s(P,this.h&A.h)},t.or=function(A){const I=Math.max(this.g.length,A.g.length),P=[];for(let k=0;k<I;k++)P[k]=this.i(k)|A.i(k);return new s(P,this.h|A.h)},t.xor=function(A){const I=Math.max(this.g.length,A.g.length),P=[];for(let k=0;k<I;k++)P[k]=this.i(k)^A.i(k);return new s(P,this.h^A.h)};function b(A){const I=A.g.length+1,P=[];for(let k=0;k<I;k++)P[k]=A.i(k)<<1|A.i(k-1)>>>31;return new s(P,A.h)}function C(A,I){const P=I>>5;I%=32;const k=A.g.length-P,M=[];for(let O=0;O<k;O++)M[O]=I>0?A.i(O+P)>>>I|A.i(O+P+1)<<32-I:A.i(O+P);return new s(M,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,G2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ro=s}).apply(typeof Gx<"u"?Gx:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z2,pu,j2,xd,u0,W2,K2,J2;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var T=0;T<m.length;++T){var x=m[T];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var x=r;m=m.split(".");for(var D=0;D<m.length-1;D++){var V=m[D];if(!(V in x))break e;x=x[V]}m=m[m.length-1],D=x[m],T=T(D),T!=D&&T!=null&&e(x,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var x=[],D;for(D in T)Object.prototype.hasOwnProperty.call(T,D)&&x.push([D,T[D]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,x){return m.call.apply(m.bind,arguments)}function u(m,T,x){return u=l,u.apply(null,arguments)}function c(m,T){var x=Array.prototype.slice.call(arguments,1);return function(){var D=x.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function f(m,T){function x(){}x.prototype=T.prototype,m.Z=T.prototype,m.prototype=new x,m.prototype.constructor=m,m.Ob=function(D,V,B){for(var ee=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)ee[ve-2]=arguments[ve];return T.prototype[V].apply(D,ee)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function g(m){const T=m.length;if(T>0){const x=Array(T);for(let D=0;D<T;D++)x[D]=m[D];return x}return[]}function y(m,T){for(let D=1;D<arguments.length;D++){const V=arguments[D];var x=typeof V;if(x=x!="object"?x:V?Array.isArray(V)?"array":x:"null",x=="array"||x=="object"&&typeof V.length=="number"){x=m.length||0;const B=V.length||0;m.length=x+B;for(let ee=0;ee<B;ee++)m[x+ee]=V[ee]}else m.push(V)}}class v{constructor(T,x){this.i=T,this.j=x,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function w(m){s.setTimeout(()=>{throw m},0)}function _(){var m=A;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class E{constructor(){this.h=this.g=null}add(T,x){const D=S.get();D.set(T,x),this.h?this.h.next=D:this.g=D,this.h=D}}var S=new v(()=>new R,m=>m.reset());class R{constructor(){this.next=this.g=this.h=null}set(T,x){this.h=T,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let b,C=!1,A=new E,I=()=>{const m=Promise.resolve(void 0);b=()=>{m.then(P)}};function P(){for(var m;m=_();){try{m.h.call(m.g)}catch(x){w(x)}var T=S;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}C=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const x=()=>{};s.addEventListener("test",x,T),s.removeEventListener("test",x,T)}catch{}return m}();function N(m){return/^[\s\xa0]*$/.test(m)}function q(m,T){M.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}f(q,M),q.prototype.init=function(m,T){const x=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(x=="mouseover"?T=m.fromElement:x=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&q.Z.h.call(this)},q.prototype.h=function(){q.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var H="closure_listenable_"+(Math.random()*1e6|0),z=0;function K(m,T,x,D,V){this.listener=m,this.proxy=null,this.src=T,this.type=x,this.capture=!!D,this.ha=V,this.key=++z,this.da=this.fa=!1}function F(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function j(m,T,x){for(const D in m)T.call(x,m[D],D,m)}function X(m,T){for(const x in m)T.call(void 0,m[x],x,m)}function te(m){const T={};for(const x in m)T[x]=m[x];return T}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(m,T){let x,D;for(let V=1;V<arguments.length;V++){D=arguments[V];for(x in D)m[x]=D[x];for(let B=0;B<Z.length;B++)x=Z[B],Object.prototype.hasOwnProperty.call(D,x)&&(m[x]=D[x])}}function _e(m){this.src=m,this.g={},this.h=0}_e.prototype.add=function(m,T,x,D,V){const B=m.toString();m=this.g[B],m||(m=this.g[B]=[],this.h++);const ee=je(m,T,D,V);return ee>-1?(T=m[ee],x||(T.fa=!1)):(T=new K(T,this.src,B,!!D,V),T.fa=x,m.push(T)),T};function Ve(m,T){const x=T.type;if(x in m.g){var D=m.g[x],V=Array.prototype.indexOf.call(D,T,void 0),B;(B=V>=0)&&Array.prototype.splice.call(D,V,1),B&&(F(T),m.g[x].length==0&&(delete m.g[x],m.h--))}}function je(m,T,x,D){for(let V=0;V<m.length;++V){const B=m[V];if(!B.da&&B.listener==T&&B.capture==!!x&&B.ha==D)return V}return-1}var Jt="closure_lm_"+(Math.random()*1e6|0),Nt={};function ne(m,T,x,D,V){if(Array.isArray(T)){for(let B=0;B<T.length;B++)ne(m,T[B],x,D,V);return null}return x=Zn(x),m&&m[H]?m.J(T,x,a(D)?!!D.capture:!1,V):ge(m,T,x,!1,D,V)}function ge(m,T,x,D,V,B){if(!T)throw Error("Invalid event type");const ee=a(V)?!!V.capture:!!V;let ve=nt(m);if(ve||(m[Jt]=ve=new _e(m)),x=ve.add(T,x,D,ee,B),x.proxy)return x;if(D=ye(),x.proxy=D,D.src=m,D.listener=x,m.addEventListener)O||(V=ee),V===void 0&&(V=!1),m.addEventListener(T.toString(),D,V);else if(m.attachEvent)m.attachEvent(Ee(T.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ye(){function m(x){return T.call(m.src,m.listener,x)}const T=dt;return m}function Y(m,T,x,D,V){if(Array.isArray(T))for(var B=0;B<T.length;B++)Y(m,T[B],x,D,V);else D=a(D)?!!D.capture:!!D,x=Zn(x),m&&m[H]?(m=m.i,B=String(T).toString(),B in m.g&&(T=m.g[B],x=je(T,x,D,V),x>-1&&(F(T[x]),Array.prototype.splice.call(T,x,1),T.length==0&&(delete m.g[B],m.h--)))):m&&(m=nt(m))&&(T=m.g[T.toString()],m=-1,T&&(m=je(T,x,D,V)),(x=m>-1?T[m]:null)&&qe(x))}function qe(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[H])Ve(T.i,m);else{var x=m.type,D=m.proxy;T.removeEventListener?T.removeEventListener(x,D,m.capture):T.detachEvent?T.detachEvent(Ee(x),D):T.addListener&&T.removeListener&&T.removeListener(D),(x=nt(T))?(Ve(x,m),x.h==0&&(x.src=null,T[Jt]=null)):F(m)}}}function Ee(m){return m in Nt?Nt[m]:Nt[m]="on"+m}function dt(m,T){if(m.da)m=!0;else{T=new q(T,this);const x=m.listener,D=m.ha||m.src;m.fa&&qe(m),m=x.call(D,T)}return m}function nt(m){return m=m[Jt],m instanceof _e?m:null}var Mt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zn(m){return typeof m=="function"?m:(m[Mt]||(m[Mt]=function(T){return m.handleEvent(T)}),m[Mt])}function rt(){k.call(this),this.i=new _e(this),this.M=this,this.G=null}f(rt,k),rt.prototype[H]=!0,rt.prototype.removeEventListener=function(m,T,x,D){Y(this,m,T,x,D)};function mt(m,T){var x,D=m.G;if(D)for(x=[];D;D=D.G)x.push(D);if(m=m.M,D=T.type||T,typeof T=="string")T=new M(T,m);else if(T instanceof M)T.target=T.target||m;else{var V=T;T=new M(D,m),ue(T,V)}V=!0;let B,ee;if(x)for(ee=x.length-1;ee>=0;ee--)B=T.g=x[ee],V=On(B,D,!0,T)&&V;if(B=T.g=m,V=On(B,D,!0,T)&&V,V=On(B,D,!1,T)&&V,x)for(ee=0;ee<x.length;ee++)B=T.g=x[ee],V=On(B,D,!1,T)&&V}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const x=m.g[T];for(let D=0;D<x.length;D++)F(x[D]);delete m.g[T],m.h--}}this.G=null},rt.prototype.J=function(m,T,x,D){return this.i.add(String(m),T,!1,x,D)},rt.prototype.K=function(m,T,x,D){return this.i.add(String(m),T,!0,x,D)};function On(m,T,x,D){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let V=!0;for(let B=0;B<T.length;++B){const ee=T[B];if(ee&&!ee.da&&ee.capture==x){const ve=ee.listener,Et=ee.ha||ee.src;ee.fa&&Ve(m.i,ee),V=ve.call(Et,D)!==!1&&V}}return V&&!D.defaultPrevented}function qr(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=u(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(m,T||0)}function xs(m){m.g=qr(()=>{m.g=null,m.i&&(m.i=!1,xs(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class _f extends k{constructor(T,x){super(),this.m=T,this.l=x,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(m){k.call(this),this.h=m,this.g={}}f(Ti,k);var DT=[];function LT(m){j(m.g,function(T,x){this.g.hasOwnProperty(x)&&qe(T)},m),m.g={}}Ti.prototype.N=function(){Ti.Z.N.call(this),LT(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ug=s.JSON.stringify,CV=s.JSON.parse,PV=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function $T(){}function VT(){}var Pl={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cg(){M.call(this,"d")}f(cg,M);function fg(){M.call(this,"c")}f(fg,M);var Ao={},UT=null;function wf(){return UT=UT||new rt}Ao.Ia="serverreachability";function FT(m){M.call(this,Ao.Ia,m)}f(FT,M);function Rl(m){const T=wf();mt(T,new FT(T))}Ao.STAT_EVENT="statevent";function BT(m,T){M.call(this,Ao.STAT_EVENT,m),this.stat=T}f(BT,M);function un(m){const T=wf();mt(T,new BT(T,m))}Ao.Ja="timingevent";function qT(m,T){M.call(this,Ao.Ja,m),this.size=T}f(qT,M);function Nl(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},T)}function Ml(){this.g=!0}Ml.prototype.ua=function(){this.g=!1};function RV(m,T,x,D,V,B){m.info(function(){if(m.g)if(B){var ee="",ve=B.split("&");for(let Fe=0;Fe<ve.length;Fe++){var Et=ve[Fe].split("=");if(Et.length>1){const kt=Et[0];Et=Et[1];const wr=kt.split("_");ee=wr.length>=2&&wr[1]=="type"?ee+(kt+"="+Et+"&"):ee+(kt+"=redacted&")}}}else ee=null;else ee=B;return"XMLHTTP REQ ("+D+") [attempt "+V+"]: "+T+`
`+x+`
`+ee})}function NV(m,T,x,D,V,B,ee){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+V+"]: "+T+`
`+x+`
`+B+" "+ee})}function Cs(m,T,x,D){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+kV(m,x)+(D?" "+D:"")})}function MV(m,T){m.info(function(){return"TIMEOUT: "+T})}Ml.prototype.info=function(){};function kV(m,T){if(!m.g)return T;if(!T)return null;try{const B=JSON.parse(T);if(B){for(m=0;m<B.length;m++)if(Array.isArray(B[m])){var x=B[m];if(!(x.length<2)){var D=x[1];if(Array.isArray(D)&&!(D.length<1)){var V=D[0];if(V!="noop"&&V!="stop"&&V!="close")for(let ee=1;ee<D.length;ee++)D[ee]=""}}}}return ug(B)}catch{return T}}var Ef={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},HT={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},GT;function dg(){}f(dg,$T),dg.prototype.g=function(){return new XMLHttpRequest},GT=new dg;function kl(m){return encodeURIComponent(String(m))}function OV(m){var T=1;m=m.split(":");const x=[];for(;T>0&&m.length;)x.push(m.shift()),T--;return m.length&&x.push(m.join(":")),x}function Si(m,T,x,D){this.j=m,this.i=T,this.l=x,this.S=D||1,this.V=new Ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zT}function zT(){this.i=null,this.g="",this.h=!1}var jT={},hg={};function pg(m,T,x){m.M=1,m.A=Sf(_r(T)),m.u=x,m.R=!0,WT(m,null)}function WT(m,T){m.F=Date.now(),Tf(m),m.B=_r(m.A);var x=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),sS(x.i,"t",D),m.C=0,x=m.j.L,m.h=new zT,m.g=AS(m.j,x?T:null,!m.u),m.P>0&&(m.O=new _f(u(m.Y,m,m.g),m.P)),T=m.V,x=m.g,D=m.ba;var V="readystatechange";Array.isArray(V)||(V&&(DT[0]=V.toString()),V=DT);for(let B=0;B<V.length;B++){const ee=ne(x,V[B],D||T.handleEvent,!1,T.h||T);if(!ee)break;T.g[ee.key]=ee}T=m.J?te(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Rl(),RV(m.i,m.v,m.B,m.l,m.S,m.u)}Si.prototype.ba=function(m){m=m.target;const T=this.O;T&&Ii(m)==3?T.j():this.Y(m)},Si.prototype.Y=function(m){try{if(m==this.g)e:{const ve=Ii(this.g),Et=this.g.ya(),Fe=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||hS(this.g)))){this.K||ve!=4||Et==7||(Et==8||Fe<=0?Rl(3):Rl(2)),mg(this);var T=this.g.ca();this.X=T;var x=DV(this);if(this.o=T==200,NV(this.i,this.v,this.B,this.l,this.S,ve,T),this.o){if(this.U&&!this.L){t:{if(this.g){var D,V=this.g;if((D=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(D)){var B=D;break t}}B=null}if(m=B)Cs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gg(this,m);else{this.o=!1,this.m=3,un(12),bo(this),Ol(this);break e}}if(this.R){m=!0;let kt;for(;!this.K&&this.C<x.length;)if(kt=LV(this,x),kt==hg){ve==4&&(this.m=4,un(14),m=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==jT){this.m=4,un(15),Cs(this.i,this.l,x,"[Invalid Chunk]"),m=!1;break}else Cs(this.i,this.l,kt,null),gg(this,kt);if(KT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||x.length!=0||this.h.h||(this.m=1,un(16),m=!1),this.o=this.o&&m,!m)Cs(this.i,this.l,x,"[Invalid Chunked Response]"),bo(this),Ol(this);else if(x.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Ag(ee),ee.P=!0,un(11))}}else Cs(this.i,this.l,x,null),gg(this,x);ve==4&&bo(this),this.o&&!this.K&&(ve==4?wS(this.j,this):(this.o=!1,Tf(this)))}else YV(this.g),T==400&&x.indexOf("Unknown SID")>0?(this.m=3,un(12)):(this.m=0,un(13)),bo(this),Ol(this)}}}catch{}finally{}};function DV(m){if(!KT(m))return m.g.la();const T=hS(m.g);if(T==="")return"";let x="";const D=T.length,V=Ii(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return bo(m),Ol(m),"";m.h.i=new s.TextDecoder}for(let B=0;B<D;B++)m.h.h=!0,x+=m.h.i.decode(T[B],{stream:!(V&&B==D-1)});return T.length=0,m.h.g+=x,m.C=0,m.h.g}function KT(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function LV(m,T){var x=m.C,D=T.indexOf(`
`,x);return D==-1?hg:(x=Number(T.substring(x,D)),isNaN(x)?jT:(D+=1,D+x>T.length?hg:(T=T.slice(D,D+x),m.C=D+x,T)))}Si.prototype.cancel=function(){this.K=!0,bo(this)};function Tf(m){m.T=Date.now()+m.H,JT(m,m.H)}function JT(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Nl(u(m.aa,m),T)}function mg(m){m.D&&(s.clearTimeout(m.D),m.D=null)}Si.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(MV(this.i,this.B),this.M!=2&&(Rl(),un(17)),bo(this),this.m=2,Ol(this)):JT(this,this.T-m)};function Ol(m){m.j.I==0||m.K||wS(m.j,m)}function bo(m){mg(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,LT(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function gg(m,T){try{var x=m.j;if(x.I!=0&&(x.g==m||yg(x.h,m))){if(!m.L&&yg(x.h,m)&&x.I==3){try{var D=x.Ba.g.parse(T)}catch{D=null}if(Array.isArray(D)&&D.length==3){var V=D;if(V[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<m.F)Cf(x),If(x);else break e;Sg(x),un(18)}}else x.xa=V[1],0<x.xa-x.K&&V[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Nl(u(x.Va,x),6e3));QT(x.h)<=1&&x.ta&&(x.ta=void 0)}else xo(x,11)}else if((m.L||x.g==m)&&Cf(x),!N(T))for(V=x.Ba.g.parse(T),T=0;T<V.length;T++){let Fe=V[T];const kt=Fe[0];if(!(kt<=x.K))if(x.K=kt,Fe=Fe[1],x.I==2)if(Fe[0]=="c"){x.M=Fe[1],x.ba=Fe[2];const wr=Fe[3];wr!=null&&(x.ka=wr,x.j.info("VER="+x.ka));const Co=Fe[4];Co!=null&&(x.za=Co,x.j.info("SVER="+x.za));const xi=Fe[5];xi!=null&&typeof xi=="number"&&xi>0&&(D=1.5*xi,x.O=D,x.j.info("backChannelRequestTimeoutMs_="+D)),D=x;const Ci=m.g;if(Ci){const Rf=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rf){var B=D.h;B.g||Rf.indexOf("spdy")==-1&&Rf.indexOf("quic")==-1&&Rf.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vg(B,B.h),B.h=null))}if(D.G){const bg=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;bg&&(D.wa=bg,We(D.J,D.G,bg))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-m.F,x.j.info("Handshake RTT: "+x.T+"ms")),D=x;var ee=m;if(D.na=SS(D,D.L?D.ba:null,D.W),ee.L){ZT(D.h,ee);var ve=ee,Et=D.O;Et&&(ve.H=Et),ve.D&&(mg(ve),Tf(ve)),D.g=ee}else vS(D);x.i.length>0&&xf(x)}else Fe[0]!="stop"&&Fe[0]!="close"||xo(x,7);else x.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?xo(x,7):Tg(x):Fe[0]!="noop"&&x.l&&x.l.qa(Fe),x.A=0)}}Rl(4)}catch{}}var $V=class{constructor(m,T){this.g=m,this.map=T}};function YT(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function XT(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function QT(m){return m.h?1:m.g?m.g.size:0}function yg(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function vg(m,T){m.g?m.g.add(T):m.h=T}function ZT(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}YT.prototype.cancel=function(){if(this.i=eS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function eS(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const x of m.g.values())T=T.concat(x.G);return T}return g(m.i)}var tS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VV(m,T){if(m){m=m.split("&");for(let x=0;x<m.length;x++){const D=m[x].indexOf("=");let V,B=null;D>=0?(V=m[x].substring(0,D),B=m[x].substring(D+1)):V=m[x],T(V,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ai(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof Ai?(this.l=m.l,Dl(this,m.j),this.o=m.o,this.g=m.g,Ll(this,m.u),this.h=m.h,_g(this,aS(m.i)),this.m=m.m):m&&(T=String(m).match(tS))?(this.l=!1,Dl(this,T[1]||"",!0),this.o=$l(T[2]||""),this.g=$l(T[3]||"",!0),Ll(this,T[4]),this.h=$l(T[5]||"",!0),_g(this,T[6]||"",!0),this.m=$l(T[7]||"")):(this.l=!1,this.i=new Ul(null,this.l))}Ai.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(Vl(T,nS,!0),":");var x=this.g;return(x||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Vl(T,nS,!0),"@"),m.push(kl(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&m.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&m.push("/"),m.push(Vl(x,x.charAt(0)=="/"?BV:FV,!0))),(x=this.i.toString())&&m.push("?",x),(x=this.m)&&m.push("#",Vl(x,HV)),m.join("")},Ai.prototype.resolve=function(m){const T=_r(this);let x=!!m.j;x?Dl(T,m.j):x=!!m.o,x?T.o=m.o:x=!!m.g,x?T.g=m.g:x=m.u!=null;var D=m.h;if(x)Ll(T,m.u);else if(x=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var V=T.h.lastIndexOf("/");V!=-1&&(D=T.h.slice(0,V+1)+D)}if(V=D,V==".."||V==".")D="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){D=V.lastIndexOf("/",0)==0,V=V.split("/");const B=[];for(let ee=0;ee<V.length;){const ve=V[ee++];ve=="."?D&&ee==V.length&&B.push(""):ve==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),D&&ee==V.length&&B.push("")):(B.push(ve),D=!0)}D=B.join("/")}else D=V}return x?T.h=D:x=m.i.toString()!=="",x?_g(T,aS(m.i)):x=!!m.m,x&&(T.m=m.m),T};function _r(m){return new Ai(m)}function Dl(m,T,x){m.j=x?$l(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Ll(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function _g(m,T,x){T instanceof Ul?(m.i=T,GV(m.i,m.l)):(x||(T=Vl(T,qV)),m.i=new Ul(T,m.l))}function We(m,T,x){m.i.set(T,x)}function Sf(m){return We(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function $l(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Vl(m,T,x){return typeof m=="string"?(m=encodeURI(m).replace(T,UV),x&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function UV(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var nS=/[#\/\?@]/g,FV=/[#\?:]/g,BV=/[#\?]/g,qV=/[#\?@]/g,HV=/#/g;function Ul(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Io(m){m.g||(m.g=new Map,m.h=0,m.i&&VV(m.i,function(T,x){m.add(decodeURIComponent(T.replace(/\+/g," ")),x)}))}t=Ul.prototype,t.add=function(m,T){Io(this),this.i=null,m=Ps(this,m);let x=this.g.get(m);return x||this.g.set(m,x=[]),x.push(T),this.h+=1,this};function rS(m,T){Io(m),T=Ps(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function iS(m,T){return Io(m),T=Ps(m,T),m.g.has(T)}t.forEach=function(m,T){Io(this),this.g.forEach(function(x,D){x.forEach(function(V){m.call(T,V,D,this)},this)},this)};function oS(m,T){Io(m);let x=[];if(typeof T=="string")iS(m,T)&&(x=x.concat(m.g.get(Ps(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)x=x.concat(m[T]);return x}t.set=function(m,T){return Io(this),this.i=null,m=Ps(this,m),iS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=oS(this,m),m.length>0?String(m[0]):T):T};function sS(m,T,x){rS(m,T),x.length>0&&(m.i=null,m.g.set(Ps(m,T),g(x)),m.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let D=0;D<T.length;D++){var x=T[D];const V=kl(x);x=oS(this,x);for(let B=0;B<x.length;B++){let ee=V;x[B]!==""&&(ee+="="+kl(x[B])),m.push(ee)}}return this.i=m.join("&")};function aS(m){const T=new Ul;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function Ps(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function GV(m,T){T&&!m.j&&(Io(m),m.i=null,m.g.forEach(function(x,D){const V=D.toLowerCase();D!=V&&(rS(this,D),sS(this,V,x))},m)),m.j=T}function zV(m,T){const x=new Ml;if(s.Image){const D=new Image;D.onload=c(bi,x,"TestLoadImage: loaded",!0,T,D),D.onerror=c(bi,x,"TestLoadImage: error",!1,T,D),D.onabort=c(bi,x,"TestLoadImage: abort",!1,T,D),D.ontimeout=c(bi,x,"TestLoadImage: timeout",!1,T,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else T(!1)}function jV(m,T){const x=new Ml,D=new AbortController,V=setTimeout(()=>{D.abort(),bi(x,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:D.signal}).then(B=>{clearTimeout(V),B.ok?bi(x,"TestPingServer: ok",!0,T):bi(x,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(V),bi(x,"TestPingServer: error",!1,T)})}function bi(m,T,x,D,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),D(x)}catch{}}function WV(){this.g=new PV}function wg(m){this.i=m.Sb||null,this.h=m.ab||!1}f(wg,$T),wg.prototype.g=function(){return new Af(this.i,this.h)};function Af(m,T){rt.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Af,rt),t=Af.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Bl(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fl(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Bl(this)),this.g&&(this.readyState=3,Bl(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lS(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function lS(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Fl(this):Bl(this),this.readyState==3&&lS(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Fl(this))},t.Na=function(m){this.g&&(this.response=m,Fl(this))},t.ga=function(){this.g&&Fl(this)};function Fl(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Bl(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var x=T.next();!x.done;)x=x.value,m.push(x[0]+": "+x[1]),x=T.next();return m.join(`\r
`)};function Bl(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Af.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function uS(m){let T="";return j(m,function(x,D){T+=D,T+=":",T+=x,T+=`\r
`}),T}function Eg(m,T,x){e:{for(D in x){var D=!1;break e}D=!0}D||(x=uS(x),typeof m=="string"?x!=null&&kl(x):We(m,T,x))}function ut(m){rt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(ut,rt);var KV=/^https?$/i,JV=["POST","PUT"];t=ut.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,x,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():GT.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(B){cS(this,B);return}if(m=x||"",x=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var V in D)x.set(V,D[V]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const B of D.keys())x.set(B,D.get(B));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(x.keys()).find(B=>B.toLowerCase()=="content-type"),V=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(JV,T,void 0)>=0)||D||V||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of x)this.g.setRequestHeader(B,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(B){cS(this,B)}};function cS(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,fS(m),bf(m)}function fS(m){m.A||(m.A=!0,mt(m,"complete"),mt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,mt(this,"complete"),mt(this,"abort"),bf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bf(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?dS(this):this.Xa())},t.Xa=function(){dS(this)};function dS(m){if(m.h&&typeof o<"u"){if(m.v&&Ii(m)==4)setTimeout(m.Ca.bind(m),0);else if(mt(m,"readystatechange"),Ii(m)==4){m.h=!1;try{const B=m.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var x;if(!(x=T)){var D;if(D=B===0){let ee=String(m.D).match(tS)[1]||null;!ee&&s.self&&s.self.location&&(ee=s.self.location.protocol.slice(0,-1)),D=!KV.test(ee?ee.toLowerCase():"")}x=D}if(x)mt(m,"complete"),mt(m,"success");else{m.o=6;try{var V=Ii(m)>2?m.g.statusText:""}catch{V=""}m.l=V+" ["+m.ca()+"]",fS(m)}}finally{bf(m)}}}}function bf(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const x=m.g;m.g=null,T||mt(m,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ii(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),CV(T)}};function hS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function YV(m){const T={};m=(m.g&&Ii(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(N(m[D]))continue;var x=OV(m[D]);const V=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const B=T[V]||[];T[V]=B,B.push(x)}X(T,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ql(m,T,x){return x&&x.internalChannelParams&&x.internalChannelParams[m]||T}function pS(m){this.za=0,this.i=[],this.j=new Ml,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ql("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ql("baseRetryDelayMs",5e3,m),this.Za=ql("retryDelaySeedMs",1e4,m),this.Ta=ql("forwardChannelMaxRetries",2,m),this.va=ql("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new YT(m&&m.concurrentRequestLimit),this.Ba=new WV,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=pS.prototype,t.ka=8,t.I=1,t.connect=function(m,T,x,D){un(0),this.W=m,this.H=T||{},x&&D!==void 0&&(this.H.OSID=x,this.H.OAID=D),this.F=this.X,this.J=SS(this,null,this.W),xf(this)};function Tg(m){if(mS(m),m.I==3){var T=m.V++,x=_r(m.J);if(We(x,"SID",m.M),We(x,"RID",T),We(x,"TYPE","terminate"),Hl(m,x),T=new Si(m,m.j,T),T.M=2,T.A=Sf(_r(x)),x=!1,s.navigator&&s.navigator.sendBeacon)try{x=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!x&&s.Image&&(new Image().src=T.A,x=!0),x||(T.g=AS(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Tf(T)}TS(m)}function If(m){m.g&&(Ag(m),m.g.cancel(),m.g=null)}function mS(m){If(m),m.v&&(s.clearTimeout(m.v),m.v=null),Cf(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function xf(m){if(!XT(m.h)&&!m.m){m.m=!0;var T=m.Ea;b||I(),C||(b(),C=!0),A.add(T,m),m.D=0}}function XV(m,T){return QT(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Nl(u(m.Ea,m,T),ES(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const V=new Si(this,this.j,m);let B=this.o;if(this.U&&(B?(B=te(B),ue(B,this.U)):B=this.U),this.u!==null||this.R||(V.J=B,B=null),this.S)e:{for(var T=0,x=0;x<this.i.length;x++){t:{var D=this.i[x];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(T+=D,T>4096){T=x;break e}if(T===4096||x===this.i.length-1){T=x+1;break e}}T=1e3}else T=1e3;T=yS(this,V,T),x=_r(this.J),We(x,"RID",m),We(x,"CVER",22),this.G&&We(x,"X-HTTP-Session-Id",this.G),Hl(this,x),B&&(this.R?T="headers="+kl(uS(B))+"&"+T:this.u&&Eg(x,this.u,B)),vg(this.h,V),this.Ra&&We(x,"TYPE","init"),this.S?(We(x,"$req",T),We(x,"SID","null"),V.U=!0,pg(V,x,null)):pg(V,x,T),this.I=2}}else this.I==3&&(m?gS(this,m):this.i.length==0||XT(this.h)||gS(this))};function gS(m,T){var x;T?x=T.l:x=m.V++;const D=_r(m.J);We(D,"SID",m.M),We(D,"RID",x),We(D,"AID",m.K),Hl(m,D),m.u&&m.o&&Eg(D,m.u,m.o),x=new Si(m,m.j,x,m.D+1),m.u===null&&(x.J=m.o),T&&(m.i=T.G.concat(m.i)),T=yS(m,x,1e3),x.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),vg(m.h,x),pg(x,D,T)}function Hl(m,T){m.H&&j(m.H,function(x,D){We(T,D,x)}),m.l&&j({},function(x,D){We(T,D,x)})}function yS(m,T,x){x=Math.min(m.i.length,x);const D=m.l?u(m.l.Ka,m.l,m):null;e:{var V=m.i;let ve=-1;for(;;){const Et=["count="+x];ve==-1?x>0?(ve=V[0].g,Et.push("ofs="+ve)):ve=0:Et.push("ofs="+ve);let Fe=!0;for(let kt=0;kt<x;kt++){var B=V[kt].g;const wr=V[kt].map;if(B-=ve,B<0)ve=Math.max(0,V[kt].g-100),Fe=!1;else try{B="req"+B+"_"||"";try{var ee=wr instanceof Map?wr:Object.entries(wr);for(const[Co,xi]of ee){let Ci=xi;a(xi)&&(Ci=ug(xi)),Et.push(B+Co+"="+encodeURIComponent(Ci))}}catch(Co){throw Et.push(B+"type="+encodeURIComponent("_badmap")),Co}}catch{D&&D(wr)}}if(Fe){ee=Et.join("&");break e}}ee=void 0}return m=m.i.splice(0,x),T.G=m,ee}function vS(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;b||I(),C||(b(),C=!0),A.add(T,m),m.A=0}}function Sg(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Nl(u(m.Da,m),ES(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,_S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Nl(u(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,un(10),If(this),_S(this))};function Ag(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function _S(m){m.g=new Si(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=_r(m.na);We(T,"RID","rpc"),We(T,"SID",m.M),We(T,"AID",m.K),We(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&We(T,"TO",m.ia),We(T,"TYPE","xmlhttp"),Hl(m,T),m.u&&m.o&&Eg(T,m.u,m.o),m.O&&(m.g.H=m.O);var x=m.g;m=m.ba,x.M=1,x.A=Sf(_r(T)),x.u=null,x.R=!0,WT(x,m)}t.Va=function(){this.C!=null&&(this.C=null,If(this),Sg(this),un(19))};function Cf(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function wS(m,T){var x=null;if(m.g==T){Cf(m),Ag(m),m.g=null;var D=2}else if(yg(m.h,T))x=T.G,ZT(m.h,T),D=1;else return;if(m.I!=0){if(T.o)if(D==1){x=T.u?T.u.length:0,T=Date.now()-T.F;var V=m.D;D=wf(),mt(D,new qT(D,x)),xf(m)}else vS(m);else if(V=T.m,V==3||V==0&&T.X>0||!(D==1&&XV(m,T)||D==2&&Sg(m)))switch(x&&x.length>0&&(T=m.h,T.i=T.i.concat(x)),V){case 1:xo(m,5);break;case 4:xo(m,10);break;case 3:xo(m,6);break;default:xo(m,2)}}}function ES(m,T){let x=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(x*=2),x*T}function xo(m,T){if(m.j.info("Error code "+T),T==2){var x=u(m.bb,m),D=m.Ua;const V=!D;D=new Ai(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Dl(D,"https"),Sf(D),V?zV(D.toString(),x):jV(D.toString(),x)}else un(2);m.I=0,m.l&&m.l.pa(T),TS(m),mS(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function TS(m){if(m.I=0,m.ja=[],m.l){const T=eS(m.h);(T.length!=0||m.i.length!=0)&&(y(m.ja,T),y(m.ja,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.oa()}}function SS(m,T,x){var D=x instanceof Ai?_r(x):new Ai(x);if(D.g!="")T&&(D.g=T+"."+D.g),Ll(D,D.u);else{var V=s.location;D=V.protocol,T=T?T+"."+V.hostname:V.hostname,V=+V.port;const B=new Ai(null);D&&Dl(B,D),T&&(B.g=T),V&&Ll(B,V),x&&(B.h=x),D=B}return x=m.G,T=m.wa,x&&T&&We(D,x,T),We(D,"VER",m.ka),Hl(m,D),D}function AS(m,T,x){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new ut(new wg({ab:x})):new ut(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bS(){}t=bS.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pf(){}Pf.prototype.g=function(m,T){return new Sn(m,T)};function Sn(m,T){rt.call(this),this.g=new pS(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!N(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!N(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Rs(this)}f(Sn,rt),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Tg(this.g)},Sn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var x={};x.__data__=m,m=x}else this.v&&(x={},x.__data__=ug(m),m=x);T.i.push(new $V(T.Ya++,m)),T.I==3&&xf(T)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Tg(this.g),delete this.g,Sn.Z.N.call(this)};function IS(m){cg.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const x in T){m=x;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}f(IS,cg);function xS(){fg.call(this),this.status=1}f(xS,fg);function Rs(m){this.g=m}f(Rs,bS),Rs.prototype.ra=function(){mt(this.g,"a")},Rs.prototype.qa=function(m){mt(this.g,new IS(m))},Rs.prototype.pa=function(m){mt(this.g,new xS)},Rs.prototype.oa=function(){mt(this.g,"b")},Pf.prototype.createWebChannel=Pf.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,J2=function(){return new Pf},K2=function(){return wf()},W2=Ao,u0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ef.NO_ERROR=0,Ef.TIMEOUT=8,Ef.HTTP_ERROR=6,xd=Ef,HT.COMPLETE="complete",j2=HT,VT.EventType=Pl,Pl.OPEN="a",Pl.CLOSE="b",Pl.ERROR="c",Pl.MESSAGE="d",rt.prototype.listen=rt.prototype.J,pu=VT,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,z2=ut}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});const zx="@firebase/firestore",jx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new $E("@firebase/firestore");function Ls(){return fs.logLevel}function oe(t,...e){if(fs.logLevel<=Te.DEBUG){const n=e.map(FE);fs.debug(`Firestore (${El}): ${t}`,...n)}}function fi(t,...e){if(fs.logLevel<=Te.ERROR){const n=e.map(FE);fs.error(`Firestore (${El}): ${t}`,...n)}}function Ka(t,...e){if(fs.logLevel<=Te.WARN){const n=e.map(FE);fs.warn(`Firestore (${El}): ${t}`,...n)}}function FE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Y2(t,r,n)}function Y2(t,e,n){let r=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fi(r),new Error(r)}function De(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Y2(e,i,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class Oce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Dce{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new io;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new io,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new io)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new X2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class Lce{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $ce{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Lce(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vce{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){De(this.o===void 0,3512);const r=o=>{o.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Wx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Wx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Uce(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function c0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return My(i)===My(o)?Se(i,o):My(i)?1:-1}return Se(t.length,e.length)}const Fce=55296,Bce=57343;function My(t){const e=t.charCodeAt(0);return e>=Fce&&e<=Bce}function Ja(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ar.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Se(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),i=Ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):c0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}}class ot extends Ar{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const qce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Ar{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return qce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kx}static keyField(){return new Gt([Kx])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(ot.fromString(e))}static fromName(e){return new ce(ot.fromString(e).popFirst(5))}static empty(){return new ce(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hce(t,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gce(t,e,n,r){if(e===!0&&r===!0)throw new le(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jx(t){if(!ce.isDocumentKey(t))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Q2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function Fc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qE(t);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){const n={typeString:t};return e&&(n.value=e),n}function ff(t,e){if(!Q2(t))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=-62135596800,Xx=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xx);return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yx)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xx}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ff(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:_t("string",Qe._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Qe(0,0))}static max(){return new pe(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function zce(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new lo(i,ce.empty(),e)}function jce(t){return new lo(t.readTime,t.key,Bc)}class lo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lo(pe.min(),ce.empty(),Bc)}static max(){return new lo(pe.max(),ce.empty(),Bc)}}function Wce(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==Kce)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new W((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Yce(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=-1;function qm(t){return t==null}function lp(t){return t===0&&1/t==-1/0}function Xce(t){return typeof t=="number"&&Number.isInteger(t)&&!lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="";function Qce(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qx(e)),e=Zce(t.get(n),e);return Qx(e)}function Zce(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Z2:n+="";break;default:n+=o}}return n}function Qx(t){return t+Z2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=o??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eC(this.data.getIterator())}getIteratorFrom(e){return new eC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class eC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new ur([])}unionWith(e){let n=new Pt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tL("Invalid base64 string: "+o):o}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const efe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(t){if(De(!!t,39018),typeof t=="string"){let e=0;const n=efe.exec(t);if(De(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="server_timestamp",rL="__type__",iL="__previous_value__",oL="__local_write_time__";function GE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rL])==null?void 0:r.stringValue)===nL}function Hm(t){const e=t.mapValue.fields[iL];return GE(e)?Hm(e):e}function qc(t){const e=uo(t.mapValue.fields[oL].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tfe{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const up="(default)";class Hc{constructor(e,n){this.projectId=e,this.database=n||up}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===up}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="__type__",nfe="__max__",fd={mapValue:{}},aL="__vector__",cp="value";function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?GE(t)?4:ife(t)?9007199254740991:rfe(t)?10:11:de(28295,{value:t})}function Vr(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=uo(i.timestampValue),a=uo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return co(i.bytesValue).isEqual(co(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ht(i.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ht(i.integerValue)===ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ht(i.doubleValue),a=ht(o.doubleValue);return s===a?lp(s)===lp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ja(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Zx(s)!==Zx(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Vr(s[l],a[l])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function Gc(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function Ya(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ht(o.integerValue||o.doubleValue),l=ht(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return tC(t.timestampValue,e.timestampValue);case 4:return tC(qc(t),qc(e));case 5:return c0(t.stringValue,e.stringValue);case 6:return function(o,s){const a=co(o),l=co(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Se(a[u],l[u]);if(c!==0)return c}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Se(ht(o.latitude),ht(s.latitude));return a!==0?a:Se(ht(o.longitude),ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,g,y,v;const a=o.fields||{},l=s.fields||{},u=(h=a[cp])==null?void 0:h.arrayValue,c=(g=l[cp])==null?void 0:g.arrayValue,f=Se(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((v=c==null?void 0:c.values)==null?void 0:v.length)||0);return f!==0?f:nC(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===fd.mapValue&&s===fd.mapValue)return 0;if(o===fd.mapValue)return 1;if(s===fd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=c0(l[f],c[f]);if(h!==0)return h;const g=Ya(a[l[f]],u[c[f]]);if(g!==0)return g}return Se(l.length,c.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function tC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=uo(t),r=uo(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function nC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ya(n[i],r[i]);if(o)return o}return Se(n.length,r.length)}function Xa(t){return f0(t)}function f0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=uo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=f0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${f0(n.fields[s])}`;return i+"}"}(t.mapValue):de(61005,{value:t})}function Cd(t){switch(fo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hm(t);return e?16+Cd(e):16;case 5:return 2*t.stringValue.length;case 6:return co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Cd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ts(r.fields,(o,s)=>{i+=o.length+Cd(s)}),i}(t.mapValue);default:throw de(13486,{value:t})}}function d0(t){return!!t&&"integerValue"in t}function zE(t){return!!t&&"arrayValue"in t}function rC(t){return!!t&&"nullValue"in t}function iC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pd(t){return!!t&&"mapValue"in t}function rfe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sL])==null?void 0:r.stringValue)===aL}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function ife(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nfe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Mu(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ts(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Fn(Mu(this.value))}}function lL(t){const e=[];return Ts(t.fields,(n,r)=>{const i=new Gt([n]);if(Pd(r)){const o=lL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new on(e,0,pe.min(),pe.min(),pe.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,pe.min(),pe.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,pe.min(),pe.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.position=e,this.inclusive=n}}function oC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ce.comparator(ce.fromName(s.referenceValue),n.key):r=Ya(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n="asc"){this.field=e,this.dir=n}}function ofe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{}class bt extends uL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new afe(e,n,r):n==="array-contains"?new cfe(e,r):n==="in"?new ffe(e,r):n==="not-in"?new dfe(e,r):n==="array-contains-any"?new hfe(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lfe(e,r):new ufe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ya(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends uL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ur(e,n)}matches(e){return cL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cL(t){return t.op==="and"}function fL(t){return sfe(t)&&cL(t)}function sfe(t){for(const e of t.filters)if(e instanceof Ur)return!1;return!0}function h0(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Xa(t.value);if(fL(t))return t.filters.map(e=>h0(e)).join(",");{const e=t.filters.map(n=>h0(n)).join(",");return`${t.op}(${e})`}}function dL(t,e){return t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&Vr(r.value,i.value)}(t,e):t instanceof Ur?function(r,i){return i instanceof Ur&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&dL(s,i.filters[a]),!0):!1}(t,e):void de(19439)}function hL(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xa(n.value)}`}(t):t instanceof Ur?function(n){return n.op.toString()+" {"+n.getFilters().map(hL).join(" ,")+"}"}(t):"Filter"}class afe extends bt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class lfe extends bt{constructor(e,n){super(e,"in",n),this.keys=pL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ufe extends bt{constructor(e,n){super(e,"not-in",n),this.keys=pL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class cfe extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zE(n)&&Gc(n.arrayValue,this.value)}}class ffe extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gc(this.value.arrayValue,n)}}class dfe extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gc(this.value.arrayValue,n)}}class hfe extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pfe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function aC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new pfe(t,e,n,r,i,o,s)}function jE(t){const e=me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>h0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xa(r)).join(",")),e.Te=n}return e.Te}function WE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ofe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sC(t.startAt,e.startAt)&&sC(t.endAt,e.endAt)}function p0(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mfe(t,e,n,r,i,o,s,a){return new Gm(t,e,n,r,i,o,s,a)}function KE(t){return new Gm(t)}function lC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gfe(t){return t.collectionGroup!==null}function ku(t){const e=me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Pt(Gt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new dp(o,r))}),n.has(Gt.keyField().canonicalString())||e.Ie.push(new dp(Gt.keyField(),r))}return e.Ie}function Nr(t){const e=me(t);return e.Ee||(e.Ee=yfe(e,ku(t))),e.Ee}function yfe(t,e){if(t.limitType==="F")return aC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new dp(i.field,o)});const n=t.endAt?new fp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fp(t.startAt.position,t.startAt.inclusive):null;return aC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function m0(t,e,n){return new Gm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zm(t,e){return WE(Nr(t),Nr(e))&&t.limitType===e.limitType}function mL(t){return`${jE(Nr(t))}|lt:${t.limitType}`}function $s(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hL(i)).join(", ")}]`),qm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xa(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function jm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ku(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=oC(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ku(r),i)||r.endAt&&!function(s,a,l){const u=oC(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ku(r),i))}(t,e)}function vfe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gL(t){return(e,n)=>{let r=!1;for(const i of ku(t)){const o=_fe(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function _fe(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ya(l,u):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return eL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wfe=new lt(ce.comparator);function di(){return wfe}const yL=new lt(ce.comparator);function mu(...t){let e=yL;for(const n of t)e=e.insert(n.key,n);return e}function vL(t){let e=yL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Go(){return Ou()}function _L(){return Ou()}function Ou(){return new Ss(t=>t.toString(),(t,e)=>t.isEqual(e))}const Efe=new lt(ce.comparator),Tfe=new Pt(ce.comparator);function Ae(...t){let e=Tfe;for(const n of t)e=e.add(n);return e}const Sfe=new Pt(Se);function Afe(){return Sfe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(e)?"-0":e}}function wL(t){return{integerValue:""+t}}function bfe(t,e){return Xce(e)?wL(e):JE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this._=void 0}}function Ife(t,e,n){return t instanceof hp?function(i,o){const s={fields:{[rL]:{stringValue:nL},[oL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&GE(o)&&(o=Hm(o)),o&&(s.fields[iL]=o),{mapValue:s}}(n,e):t instanceof zc?TL(t,e):t instanceof jc?SL(t,e):function(i,o){const s=EL(i,o),a=uC(s)+uC(i.Ae);return d0(s)&&d0(i.Ae)?wL(a):JE(i.serializer,a)}(t,e)}function xfe(t,e,n){return t instanceof zc?TL(t,e):t instanceof jc?SL(t,e):n}function EL(t,e){return t instanceof pp?function(r){return d0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class hp extends Wm{}class zc extends Wm{constructor(e){super(),this.elements=e}}function TL(t,e){const n=AL(e);for(const r of t.elements)n.some(i=>Vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class jc extends Wm{constructor(e){super(),this.elements=e}}function SL(t,e){let n=AL(e);for(const r of t.elements)n=n.filter(i=>!Vr(i,r));return{arrayValue:{values:n}}}class pp extends Wm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function uC(t){return ht(t.integerValue||t.doubleValue)}function AL(t){return zE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Cfe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zc&&i instanceof zc||r instanceof jc&&i instanceof jc?Ja(r.elements,i.elements,Vr):r instanceof pp&&i instanceof pp?Vr(r.Ae,i.Ae):r instanceof hp&&i instanceof hp}(t.transform,e.transform)}class Pfe{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Km{}function bL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xL(t.key,ni.none()):new df(t.key,t.data,ni.none());{const n=t.data,r=Fn.empty();let i=new Pt(Gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new As(t.key,r,new ur(i.toArray()),ni.none())}}function Rfe(t,e,n){t instanceof df?function(i,o,s){const a=i.value.clone(),l=fC(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof As?function(i,o,s){if(!Rd(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=fC(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(IL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Du(t,e,n,r){return t instanceof df?function(o,s,a,l){if(!Rd(o.precondition,s))return a;const u=o.value.clone(),c=dC(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof As?function(o,s,a,l){if(!Rd(o.precondition,s))return a;const u=dC(o.fieldTransforms,l,s),c=s.data;return c.setAll(IL(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Rd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Nfe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=EL(r.transform,i||null);o!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,o))}return n||null}function cC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ja(r,i,(o,s)=>Cfe(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class df extends Km{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class As extends Km{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function IL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fC(t,e,n){const r=new Map;De(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,xfe(s,a,n[i]))}return r}function dC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Ife(o,s,e))}return r}class xL extends Km{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mfe extends Km{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kfe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Rfe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_L();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=bL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,r)=>cC(n,r))&&Ja(this.baseMutations,e.baseMutations,(n,r)=>cC(n,r))}}class YE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Efe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new YE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ofe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dfe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Ie;function Lfe(t){switch(t){case J.OK:return de(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function CL(t){if(t===void 0)return fi("GRPC error has no .code"),J.UNKNOWN;switch(t){case gt.OK:return J.OK;case gt.CANCELLED:return J.CANCELLED;case gt.UNKNOWN:return J.UNKNOWN;case gt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case gt.INTERNAL:return J.INTERNAL;case gt.UNAVAILABLE:return J.UNAVAILABLE;case gt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case gt.NOT_FOUND:return J.NOT_FOUND;case gt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case gt.ABORTED:return J.ABORTED;case gt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case gt.DATA_LOSS:return J.DATA_LOSS;default:return de(39323,{code:t})}}(Ie=gt||(gt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $fe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vfe=new ro([4294967295,4294967295],0);function hC(t){const e=$fe().encode(t),n=new G2;return n.update(e),new Uint8Array(n.digest())}function pC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ro([n,r],0),new ro([i,o],0)]}class XE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gu(`Invalid padding: ${n}`);if(r<0)throw new gu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ro.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ro.fromNumber(r)));return i.compare(Vfe)===1&&(i=new ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hC(e),[r,i]=pC(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new XE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=hC(e),[r,i]=pC(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jm(pe.min(),i,new lt(Se),di(),Ae())}}class hf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hf(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class PL{constructor(e,n){this.targetId=e,this.Ce=n}}class RL{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mC{constructor(){this.ve=0,this.Fe=gC(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ae(),n=Ae(),r=Ae();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:de(38017,{changeType:o})}}),new hf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=gC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ufe{constructor(e){this.Ge=e,this.ze=new Map,this.je=di(),this.Je=dd(),this.He=dd(),this.Ye=new lt(Se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(p0(o))if(r===0){const s=new ce(o.path);this.et(n,s,on.newNoDocument(s,pe.min()))}else De(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=co(r).toUint8Array()}catch(l){if(l instanceof tL)return Ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new XE(s,i,o)}catch(l){return Ka(l instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&p0(a.target)){const l=new ce(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,on.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Ae();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Jm(e,n,this.Ye,this.je,r);return this.je=di(),this.Je=dd(),this.He=dd(),this.Ye=new lt(Se),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new mC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mC),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dd(){return new lt(ce.comparator)}function gC(){return new lt(ce.comparator)}const Ffe={asc:"ASCENDING",desc:"DESCENDING"},Bfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qfe={and:"AND",or:"OR"};class Hfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g0(t,e){return t.useProto3Json||qm(e)?e:{value:e}}function mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gfe(t,e){return mp(t,e.toTimestamp())}function Mr(t){return De(!!t,49232),pe.fromTimestamp(function(n){const r=uo(n);return new Qe(r.seconds,r.nanos)}(t))}function QE(t,e){return y0(t,e).canonicalString()}function y0(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ML(t){const e=ot.fromString(t);return De($L(e),10190,{key:e.toString()}),e}function v0(t,e){return QE(t.databaseId,e.path)}function ky(t,e){const n=ML(e);if(n.get(1)!==t.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(OL(n))}function kL(t,e){return QE(t.databaseId,e)}function zfe(t){const e=ML(t);return e.length===4?ot.emptyPath():OL(e)}function _0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OL(t){return De(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function yC(t,e,n){return{name:v0(t,e),fields:n.value.mapValue.fields}}function jfe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:de(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(De(c===void 0||typeof c=="string",58123),Kt.fromBase64String(c||"")):(De(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?J.UNKNOWN:CL(u.code);return new le(c,u.message||"")}(s);n=new RL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ky(t,r.document.name),o=Mr(r.document.updateTime),s=r.document.createTime?Mr(r.document.createTime):pe.min(),a=new Fn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Nd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ky(t,r.document),o=r.readTime?Mr(r.readTime):pe.min(),s=on.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Nd([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ky(t,r.document),o=r.removedTargetIds||[];n=new Nd([],o,i,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Dfe(i,o),a=r.targetId;n=new PL(a,s)}}return n}function Wfe(t,e){let n;if(e instanceof df)n={update:yC(t,e.key,e.value)};else if(e instanceof xL)n={delete:v0(t,e.key)};else if(e instanceof As)n={update:yC(t,e.key,e.data),updateMask:nde(e.fieldMask)};else{if(!(e instanceof Mfe))return de(16599,{Vt:e.type});n={verify:v0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof hp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pp)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw de(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Gfe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de(27497)}(t,e.precondition)),n}function Kfe(t,e){return t&&t.length>0?(De(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Mr(i.updateTime):Mr(o);return s.isEqual(pe.min())&&(s=Mr(o)),new Pfe(s,i.transformResults||[])}(n,e))):[]}function Jfe(t,e){return{documents:[kL(t,e.path)]}}function Yfe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kL(t,i);const o=function(u){if(u.length!==0)return LL(Ur.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Vs(h.field),direction:Zfe(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=g0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function Xfe(t){let e=zfe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=DL(f);return h instanceof Ur&&fL(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new dp(Us(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,qm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new fp(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,g=f.values||[];return new fp(g,h)}(n.endAt)),mfe(e,i,s,o,a,"F",l,u)}function Qfe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(n.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Us(n.unaryFilter.field);return bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Us(n.unaryFilter.field);return bt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return bt.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ur.create(n.compositeFilter.filters.map(r=>DL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function Zfe(t){return Ffe[t]}function ede(t){return Bfe[t]}function tde(t){return qfe[t]}function Vs(t){return{fieldPath:t.canonicalString()}}function Us(t){return Gt.fromServerFormat(t.fieldPath)}function LL(t){return t instanceof bt?function(n){if(n.op==="=="){if(iC(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(rC(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iC(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(rC(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:ede(n.op),value:n.value}}}(t):t instanceof Ur?function(n){const r=n.getFilters().map(i=>LL(i));return r.length===1?r[0]:{compositeFilter:{op:tde(n.op),filters:r}}}(t):de(54877,{filter:t})}function nde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $L(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r,i,o=pe.min(),s=pe.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rde{constructor(e){this.yt=e}}function ide(t){const e=Xfe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?m0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ode{constructor(){this.Cn=new sde}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(lo.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class sde{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VL=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(VL,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qa(0)}static cr(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="LruGarbageCollector",ade=1048576;function wC([t,e],[n,r]){const i=Se(t,n);return i===0?Se(e,r):i}class lde{constructor(e){this.Ir=e,this.buffer=new Pt(wC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ude{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(_C,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sl(n)?oe(_C,"Ignoring IndexedDB error during garbage collection: ",n):await Tl(n)}await this.Vr(3e5)})}}class cde{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Bm.ce);const r=new lde(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(vC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vC):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Ls()<=Te.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function fde(t,e){return new cde(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dde{constructor(){this.changes=new Ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pde{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Du(r.mutation,i,ur.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=Go();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=mu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=di();const s=Ou(),a=function(){return Ou()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof As)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Du(c.mutation,u,c.mutation.getFieldMask(),Qe.now())):s.set(u.key,ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new hde(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ou();let i=new lt((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ur.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=_L();c.forEach(h=>{if(!o.has(h)){const g=bL(n.get(h),r.get(h));g!==null&&f.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return W.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gfe(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):W.resolve(Go());let a=Bc,l=o;return s.next(u=>W.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?W.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ae())).next(c=>({batchId:a,changes:vL(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=mu();return this.indexManager.getCollectionParents(e,o).next(a=>W.forEach(a,l=>{const u=function(f,h){return new Gm(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,on.newInvalidDocument(c)))});let a=mu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Du(c.mutation,u,ur.empty(),Qe.now()),jm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mde{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:ide(i.bundledQuery),readTime:Mr(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(){this.overlays=new lt(ce.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Go();return W.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=Go(),o=n.length+1,s=new ce(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Go(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Go(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return W.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ofe(n,r));let o=this.qr.get(n);o===void 0&&(o=Ae(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yde{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.Qr=new Pt(Dt.$r),this.Ur=new Pt(Dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Dt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ce(new ot([])),r=new Dt(n,e),i=new Dt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ce(new ot([])),r=new Dt(n,e),i=new Dt(n,e+1);let o=Ae();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Dt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ce.comparator(e.key,n.key)||Se(e.Yr,n.Yr)}static Kr(e,n){return Se(e.Yr,n.Yr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Dt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kfe(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(s)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?HE:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Se);return n.forEach(i=>{const o=new Dt(i,0),s=new Dt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ce.isDocumentKey(o)||(o=o.child(""));const s=new Dt(new ce(o),0);let a=new Pt(Se);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),W.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,i=>{const o=new Dt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Dt(n,0),i=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(e){this.ri=e,this.docs=function(){return new lt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=di();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=di();const s=n.path,a=new ce(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Wce(jce(c),r)<=0||(i.has(c.key)||jm(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,n,r,i){de(9500)}ii(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wde(this)}getSize(e){return W.resolve(this.size)}}class wde extends dde{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ede{constructor(e){this.persistence=e,this.si=new Ss(n=>jE(n),WE),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new ZE,this.targetCount=0,this.ai=Qa.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(o).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bm(0),this.li=!1,this.li=!0,this.hi=new yde,this.referenceDelegate=e(this),this.Pi=new Ede(this),this.indexManager=new ode,this.remoteDocumentCache=function(i){return new _de(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new rde(n),this.Ii=new mde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gde,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new vde(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new Tde(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return W.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Tde extends Jce{constructor(e){super(),this.currentSequenceNumber=e}}class eT{constructor(e){this.persistence=e,this.Ri=new ZE,this.Vi=null}static mi(e){return new eT(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,r=>{const i=ce.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class gp{constructor(e,n){this.persistence=e,this.pi=new Ss(r=>Qce(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fde(this,n)}static mi(e,n){return new gp(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?W.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cd(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return W.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ae(),i=Ae();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ade{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mue()?8:Yce(ln())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Sde;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ls()<=Te.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",$s(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Ls()<=Te.DEBUG&&oe("QueryEngine","Query:",$s(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ls()<=Te.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",$s(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):W.resolve())}ys(e,n){if(lC(n))return W.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=m0(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ae(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,m0(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return lC(n)||i.isEqual(pe.min())?W.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?W.resolve(null):(Ls()<=Te.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$s(n)),this.vs(e,s,n,zce(i,Bc)).next(a=>a))})}Ds(e,n){let r=new Pt(gL(e));return n.forEach((i,o)=>{jm(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Ls()<=Te.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",$s(n)),this.ps.getDocumentsMatchingQuery(e,n,lo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="LocalStore",bde=3e8;class Ide{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new lt(Se),this.xs=new Ss(o=>jE(o),WE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pde(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function xde(t,e,n,r){return new Ide(t,e,n,r)}async function FL(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ae();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function Cde(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let g=W.resolve();return h.forEach(y=>{g=g.next(()=>c.getEntry(l,y)).next(v=>{const w=u.docVersions.get(y);De(w!==null,48541),v.version.compareTo(w)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BL(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Pde(t,e){const n=me(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,f)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Kt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(f,g),function(v,w,_){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=bde?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,g,c)&&a.push(n.Pi.updateTargetData(o,g))});let l=di(),u=Ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Rde(o,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(pe.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return W.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function Rde(t,e,n){let r=Ae(),i=Ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=di();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):oe(nT,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function Nde(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=HE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mde(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,W.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Hi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function w0(t,e,n){const r=me(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Sl(s))throw s;oe(nT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function EC(t,e,n){const r=me(t);let i=pe.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=me(l),h=f.xs.get(c);return h!==void 0?W.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,c)}(r,s,Nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:pe.min(),n?o:Ae())).next(a=>(kde(r,vfe(e),a),{documents:a,Qs:o})))}function kde(t,e,n){let r=t.Os.get(e)||pe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class TC{constructor(){this.activeTargetIds=Afe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ode{constructor(){this.Mo=new TC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="ConnectivityMonitor";class AC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(SC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(SC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd=null;function E0(){return hd===null?hd=function(){return 268435456+Math.round(2147483648*Math.random())}():hd++,"0x"+hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="RestConnection",Lde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $de{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===up?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=E0(),a=this.zo(e,n.toUriEncodedString());oe(Oy,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=_l(u);return this.Jo(e,a,l,r,c).then(f=>(oe(Oy,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ka(Oy,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+El}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=Lde[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class Ude extends $de{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=E0();return new Promise((a,l)=>{const u=new z2;u.setWithCredentials(!0),u.listenOnce(j2.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xd.NO_ERROR:const f=u.getResponseJson();oe(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case xd.TIMEOUT:oe(Qt,`RPC '${e}' ${s} timed out`),l(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const h=u.getStatus();if(oe(Qt,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const v=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(E)>=0?E:J.UNKNOWN}(y.status);l(new le(v,y.message))}else l(new le(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new le(J.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{oe(Qt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);oe(Qt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=E0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=J2(),a=K2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");oe(Qt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let h=!1,g=!1;const y=new Vde({Yo:w=>{g?oe(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(oe(Qt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),oe(Qt,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Zo:()=>f.close()}),v=(w,_,E)=>{w.listen(_,S=>{try{E(S)}catch(R){setTimeout(()=>{throw R},0)}})};return v(f,pu.EventType.OPEN,()=>{g||(oe(Qt,`RPC '${e}' stream ${i} transport opened.`),y.o_())}),v(f,pu.EventType.CLOSE,()=>{g||(g=!0,oe(Qt,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(f))}),v(f,pu.EventType.ERROR,w=>{g||(g=!0,Ka(Qt,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),y.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))}),v(f,pu.EventType.MESSAGE,w=>{var _;if(!g){const E=w.data[0];De(!!E,16349);const S=E,R=(S==null?void 0:S.error)||((_=S[0])==null?void 0:_.error);if(R){oe(Qt,`RPC '${e}' stream ${i} received error:`,R);const b=R.status;let C=function(P){const k=gt[P];if(k!==void 0)return CL(k)}(b),A=R.message;C===void 0&&(C=J.INTERNAL,A="Unknown error status: "+b+" with message "+R.message),g=!0,y.a_(new le(C,A)),f.close()}else oe(Qt,`RPC '${e}' stream ${i} received:`,E),y.u_(E)}}),v(a,W2.STAT_EVENT,w=>{w.stat===u0.PROXY?oe(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===u0.NOPROXY&&oe(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Dy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){return new Hfe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="PersistentStream";class HL{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new le(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(bC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(oe(bC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fde extends HL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jfe(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?Mr(s.readTime):pe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=_0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=p0(l)?{documents:Jfe(o,l)}:{query:Yfe(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=NL(o,s.resumeToken);const u=g0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=mp(o,s.snapshotVersion.toTimestamp());const u=g0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Qfe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=_0(this.serializer),n.removeTarget=e,this.q_(n)}}class Bde extends HL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Kfe(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wfe(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde{}class Hde extends qde{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,y0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(J.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,y0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(J.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Gde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fi(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="RemoteStore";class zde{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{bs(this)&&(oe(ds,"Restarting streams for network reachability change."),await async function(l){const u=me(l);u.Ea.add(4),await pf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Xm(u)}(this))})}),this.Ra=new Gde(r,i)}}async function Xm(t){if(bs(t))for(const e of t.da)await e(!0)}async function pf(t){for(const e of t.da)await e(!1)}function GL(t,e){const n=me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sT(n)?oT(n):Al(n).O_()&&iT(n,e))}function rT(t,e){const n=me(t),r=Al(n);n.Ia.delete(e),r.O_()&&zL(n,e),n.Ia.size===0&&(r.O_()?r.L_():bs(n)&&n.Ra.set("Unknown"))}function iT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Al(t).Y_(e)}function zL(t,e){t.Va.Ue(e),Al(t).Z_(e)}function oT(t){t.Va=new Ufe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Al(t).start(),t.Ra.ua()}function sT(t){return bs(t)&&!Al(t).x_()&&t.Ia.size>0}function bs(t){return me(t).Ea.size===0}function jL(t){t.Va=void 0}async function jde(t){t.Ra.set("Online")}async function Wde(t){t.Ia.forEach((e,n)=>{iT(t,e)})}async function Kde(t,e){jL(t),sT(t)?(t.Ra.ha(e),oT(t)):t.Ra.set("Unknown")}async function Jde(t,e,n){if(t.Ra.set("Online"),e instanceof RL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){oe(ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yp(t,r)}else if(e instanceof Nd?t.Va.Ze(e):e instanceof PL?t.Va.st(e):t.Va.tt(e),!n.isEqual(pe.min()))try{const r=await BL(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Kt.EMPTY_BYTE_STRING,c.snapshotVersion)),zL(o,l);const f=new Hi(c.target,l,u,c.sequenceNumber);iT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe(ds,"Failed to raise snapshot:",r),await yp(t,r)}}async function yp(t,e,n){if(!Sl(e))throw e;t.Ea.add(1),await pf(t),t.Ra.set("Offline"),n||(n=()=>BL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe(ds,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Xm(t)})}function WL(t,e){return e().catch(n=>yp(t,n,e))}async function Qm(t){const e=me(t),n=ho(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:HE;for(;Yde(e);)try{const i=await Nde(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Xde(e,i)}catch(i){await yp(e,i)}KL(e)&&JL(e)}function Yde(t){return bs(t)&&t.Ta.length<10}function Xde(t,e){t.Ta.push(e);const n=ho(t);n.O_()&&n.X_&&n.ea(e.mutations)}function KL(t){return bs(t)&&!ho(t).x_()&&t.Ta.length>0}function JL(t){ho(t).start()}async function Qde(t){ho(t).ra()}async function Zde(t){const e=ho(t);for(const n of t.Ta)e.ea(n.mutations)}async function ehe(t,e,n){const r=t.Ta.shift(),i=YE.from(r,e,n);await WL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qm(t)}async function the(t,e){e&&ho(t).X_&&await async function(r,i){if(function(s){return Lfe(s)&&s!==J.ABORTED}(i.code)){const o=r.Ta.shift();ho(r).B_(),await WL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Qm(r)}}(t,e),KL(t)&&JL(t)}async function IC(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),oe(ds,"RemoteStore received new credentials");const r=bs(n);n.Ea.add(3),await pf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xm(n)}async function nhe(t,e){const n=me(t);e?(n.Ea.delete(2),await Xm(n)):e||(n.Ea.add(2),await pf(n),n.Ra.set("Unknown"))}function Al(t){return t.ma||(t.ma=function(n,r,i){const o=me(n);return o.sa(),new Fde(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:jde.bind(null,t),t_:Wde.bind(null,t),r_:Kde.bind(null,t),H_:Jde.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),sT(t)?oT(t):t.Ra.set("Unknown")):(await t.ma.stop(),jL(t))})),t.ma}function ho(t){return t.fa||(t.fa=function(n,r,i){const o=me(n);return o.sa(),new Bde(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qde.bind(null,t),r_:the.bind(null,t),ta:Zde.bind(null,t),na:ehe.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Qm(t)):(await t.fa.stop(),t.Ta.length>0&&(oe(ds,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new aT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lT(t,e){if(fi("AsyncQueue",`${e}: ${t}`),Sl(t))return new le(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{static emptySet(e){return new da(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=mu(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.ga=new lt(ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Za{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Za(e,n,da.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rhe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ihe{constructor(){this.queries=CC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=me(n),o=i.queries;i.queries=CC(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new le(J.ABORTED,"Firestore shutting down"))}}function CC(){return new Ss(t=>mL(t),zm)}async function ohe(t,e){const n=me(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new rhe,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=lT(s,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&uT(n)}async function she(t,e){const n=me(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ahe(t,e){const n=me(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&uT(n)}function lhe(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function uT(t){t.Ca.forEach(e=>{e.next()})}var T0,PC;(PC=T0||(T0={})).Ma="default",PC.Cache="cache";class uhe{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==T0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.key=e}}class XL{constructor(e){this.key=e}}class che{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ae(),this.mutatedKeys=Ae(),this.eu=gL(e),this.tu=new da(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new xC,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),g=jm(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;h&&g?h.data.isEqual(g.data)?y!==v&&(r.track({type:3,doc:g}),w=!0):this.su(h,g)||(r.track({type:2,doc:g}),w=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),w=!0):h&&!g&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(g?(s=s.add(g),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(g,y){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:w})}};return v(g)-v(y)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new Za(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new XL(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new YL(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cT="SyncEngine";class fhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dhe{constructor(e){this.key=e,this.hu=!1}}class hhe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ss(a=>mL(a),zm),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ce.comparator),this.Au=new Map,this.Ru=new ZE,this.Vu={},this.mu=new Map,this.fu=Qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function phe(t,e,n=!0){const r=r$(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await QL(r,e,n,!0),i}async function mhe(t,e){const n=r$(t);await QL(n,e,!0,!1)}async function QL(t,e,n,r){const i=await Mde(t.localStore,Nr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await ghe(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&GL(t.remoteStore,i),a}async function ghe(t,e,n,r,i){t.pu=(f,h,g)=>async function(v,w,_,E){let S=w.view.ru(_);S.Cs&&(S=await EC(v.localStore,w.query,!1).then(({documents:A})=>w.view.ru(A,S)));const R=E&&E.targetChanges.get(w.targetId),b=E&&E.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(S,v.isPrimaryClient,R,b);return NC(v,w.targetId,C.au),C.snapshot}(t,f,h,g);const o=await EC(t.localStore,e,!0),s=new che(e,o.Qs),a=s.ru(o.documents),l=hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);NC(t,n,u.au);const c=new fhe(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function yhe(t,e,n){const r=me(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!zm(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await w0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rT(r.remoteStore,i.targetId),S0(r,i.targetId)}).catch(Tl)):(S0(r,i.targetId),await w0(r.localStore,i.targetId,!0))}async function vhe(t,e){const n=me(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rT(n.remoteStore,r.targetId))}async function _he(t,e,n){const r=Ihe(t);try{const i=await function(s,a){const l=me(s),u=Qe.now(),c=a.reduce((g,y)=>g.add(y.key),Ae());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=di(),v=Ae();return l.Ns.getEntries(g,c).next(w=>{y=w,y.forEach((_,E)=>{E.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,y)).next(w=>{f=w;const _=[];for(const E of a){const S=Nfe(E,f.get(E.key).overlayedDocument);S!=null&&_.push(new As(E.key,S,lL(S.value.mapValue),ni.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,_,a)}).next(w=>{h=w;const _=w.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,w.batchId,_)})}).then(()=>({batchId:h.batchId,changes:vL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new lt(Se)),u=u.insert(a,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await mf(r,i.changes),await Qm(r.remoteStore)}catch(i){const o=lT(i,"Failed to persist write");n.reject(o)}}async function ZL(t,e){const n=me(t);try{const r=await Pde(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?De(s.hu,14607):i.removedDocuments.size>0&&(De(s.hu,42227),s.hu=!1))}),await mf(n,r,e)}catch(r){await Tl(r)}}function RC(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=me(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&uT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function whe(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new lt(ce.comparator);s=s.insert(o,on.newNoDocument(o,pe.min()));const a=Ae().add(o),l=new Jm(pe.min(),new Map,new lt(Se),s,a);await ZL(r,l),r.du=r.du.remove(o),r.Au.delete(e),fT(r)}else await w0(r.localStore,e,!1).then(()=>S0(r,e,n)).catch(Tl)}async function Ehe(t,e){const n=me(t),r=e.batch.batchId;try{const i=await Cde(n.localStore,e);t$(n,r,null),e$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mf(n,i)}catch(i){await Tl(i)}}async function The(t,e,n){const r=me(t);try{const i=await function(s,a){const l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(De(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);t$(r,e,n),e$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mf(r,i)}catch(i){await Tl(i)}}function e$(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function t$(t,e,n){const r=me(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function S0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||n$(t,r)})}function n$(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fT(t))}function NC(t,e,n){for(const r of n)r instanceof YL?(t.Ru.addReference(r.key,e),She(t,r)):r instanceof XL?(oe(cT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||n$(t,r.key)):de(19791,{wu:r})}function She(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(oe(cT,"New document in limbo: "+n),t.Eu.add(r),fT(t))}function fT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ce(ot.fromString(e)),r=t.fu.next();t.Au.set(r,new dhe(n)),t.du=t.du.insert(n,r),GL(t.remoteStore,new Hi(Nr(KE(n.path)),r,"TargetPurposeLimboResolution",Bm.ce))}}async function mf(t,e,n){const r=me(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=tT.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=me(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(u,h=>W.forEach(h.Es,g=>c.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>W.forEach(h.ds,g=>c.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!Sl(f))throw f;oe(nT,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const g=c.Ms.get(h),y=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(y);c.Ms=c.Ms.insert(h,v)}}}(r.localStore,o))}async function Ahe(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){oe(cT,"User change. New user:",e.toKey());const r=await FL(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new le(J.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mf(n,r.Ls)}}function bhe(t,e){const n=me(t),r=n.Au.get(e);if(r&&r.hu)return Ae().add(r.key);{let i=Ae();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function r$(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=whe.bind(null,e),e.Pu.H_=ahe.bind(null,e.eventManager),e.Pu.yu=lhe.bind(null,e.eventManager),e}function Ihe(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ehe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=The.bind(null,e),e}class vp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ym(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xde(this.persistence,new Ade,e.initialUser,this.serializer)}Cu(e){return new UL(eT.mi,this.serializer)}Du(e){return new Ode}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vp.provider={build:()=>new vp};class xhe extends vp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){De(this.persistence.referenceDelegate instanceof gp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ude(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new UL(r=>gp.mi(r,n),this.serializer)}}class A0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ahe.bind(null,this.syncEngine),await nhe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ihe}()}createDatastore(e){const n=Ym(e.databaseInfo.databaseId),r=function(o){return new Ude(o)}(e.databaseInfo);return function(o,s,a,l){return new Hde(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new zde(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RC(this.syncEngine,n,0),function(){return AC.v()?new AC:new Dde}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new hhe(i,o,s,a,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=me(i);oe(ds,"RemoteStore shutting down."),o.Ea.add(5),await pf(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}A0.provider={build:()=>new A0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Che{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class Phe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=BE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{oe(po,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe(po,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ly(t,e){t.asyncQueue.verifyOperationInProgress(),oe(po,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Rhe(t);oe(po,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>IC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>IC(e.remoteStore,i)),t._onlineComponents=e}async function Rhe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe(po,"Using user provided OfflineComponentProvider");try{await Ly(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await Ly(t,new vp)}}else oe(po,"Using default OfflineComponentProvider"),await Ly(t,new xhe(void 0));return t._offlineComponents}async function i$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe(po,"Using user provided OnlineComponentProvider"),await MC(t,t._uninitializedComponentsProvider._online)):(oe(po,"Using default OnlineComponentProvider"),await MC(t,new A0))),t._onlineComponents}function Nhe(t){return i$(t).then(e=>e.syncEngine)}async function Mhe(t){const e=await i$(t),n=e.eventManager;return n.onListen=phe.bind(null,e.syncEngine),n.onUnlisten=yhe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vhe.bind(null,e.syncEngine),n}function khe(t,e,n={}){const r=new io;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Che({next:h=>{c.Nu(),s.enqueueAndForget(()=>she(o,f));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new uhe(KE(a.path),c,{includeMetadataChanges:!0,qa:!0});return ohe(o,f)}(await Mhe(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$="firestore.googleapis.com",OC=!0;class DC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s$,this.ssl=OC}else this.host=e.host,this.ssl=e.ssl??OC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ade)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gce("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kce;switch(r.type){case"firstParty":return new $ce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kC.get(n);r&&(oe("ComponentProvider","Removing Datastore"),kC.delete(n),r.terminate())}(this),Promise.resolve()}}function Ohe(t,e,n,r={}){var u;t=Fc(t,dT);const i=_l(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(L2(`https://${a}`),$2("Firestore",!0)),o.host!==s$&&o.host!==a&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!us(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=tn.MOCK_USER;else{c=sue(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new tn(h)}t._authCredentials=new Oce(new X2(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hT(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ff(n,Vt._jsonSchema))return new Vt(e,r||null,new ce(ot.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:_t("string",Vt._jsonSchemaVersion),referencePath:_t("string")};class Wc extends hT{constructor(e,n,r){super(e,n,KE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ce(e))}withConverter(e){return new Wc(this.firestore,e,this._path)}}function a$(t,e,...n){if(t=Yn(t),arguments.length===1&&(e=BE.newId()),Hce("doc","path",e),t instanceof dT){const r=ot.fromString(e,...n);return Jx(r),new Vt(t,null,new ce(r))}{if(!(t instanceof Vt||t instanceof Wc))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return Jx(r),new Vt(t.firestore,t instanceof Wc?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="AsyncQueue";class $C{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qL(this,"async_queue_retry"),this._c=()=>{const r=Dy();r&&oe(LC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new io;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sl(e))throw e;oe(LC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,fi("INTERNAL UNHANDLED ERROR: ",VC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=aT.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&de(47125,{Pc:VC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pT extends dT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $C,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $C(e),this._firestoreClient=void 0,await e}}}function Dhe(t,e){const n=typeof t=="object"?t:B2(),r=typeof t=="string"?t:up,i=UE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=iue("firestore");o&&Ohe(i,...o)}return i}function l$(t){if(t._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Lhe(t),t._firestoreClient}function Lhe(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,c){return new tfe(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,o$(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Phe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Kt.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ff(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:_t("string",Bn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(ff(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:_t("string",kr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ff(e,Or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Or(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:_t("string",Or._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $he=/^__.*__$/;class Vhe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new df(e,this.data,n,this.fieldTransforms)}}function c$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:t})}}class gT{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _p(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(c$(this.Ac)&&$he.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Uhe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ym(e)}Cc(e,n,r,i=!1){return new gT({Ac:e,methodName:n,Dc:r,path:Gt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fhe(t){const e=t._freezeSettings(),n=Ym(t._databaseId);return new Uhe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bhe(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);p$("Data must be an object, but it was:",s,r);const a=d$(r,s);let l,u;if(o.merge)l=new ur(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=qhe(e,f,n);if(!s.contains(h))throw new le(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Ghe(c,h)||c.push(h)}l=new ur(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Vhe(new Fn(a),l,u)}function f$(t,e){if(h$(t=Yn(t)))return p$("Unsupported field value:",e,t),d$(t,e);if(t instanceof u$)return function(r,i){if(!c$(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=f$(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bfe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Qe.fromDate(r);return{timestampValue:mp(i.serializer,o)}}if(r instanceof Qe){const o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mp(i.serializer,o)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:NL(i.serializer,r._byteString)};if(r instanceof Vt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:QE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Or)return function(s,a){return{mapValue:{fields:{[sL]:{stringValue:aL},[cp]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return JE(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${qE(r)}`)}(t,e)}function d$(t,e){const n={};return eL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(t,(r,i)=>{const o=f$(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function h$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof kr||t instanceof Bn||t instanceof Vt||t instanceof u$||t instanceof Or)}function p$(t,e,n){if(!h$(n)||!Q2(n)){const r=qE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function qhe(t,e,n){if((e=Yn(e))instanceof mT)return e._internalPath;if(typeof e=="string")return m$(t,e);throw _p("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hhe=new RegExp("[~\\*/\\[\\]]");function m$(t,e,n){if(e.search(Hhe)>=0)throw _p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mT(...e.split("."))._internalPath}catch{throw _p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _p(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new le(J.INVALID_ARGUMENT,a+t+l)}function Ghe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(y$("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zhe extends g${data(){return super.data()}}function y$(t,e){return typeof e=="string"?m$(t,e):e instanceof mT?e._internalPath:e._delegate._internalPath}class jhe{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ts(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[cp].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>ht(s.doubleValue));return new Or(n)}convertGeoPoint(e){return new kr(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=uo(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);De($L(r),9688,{name:e});const i=new Hc(r.get(1),r.get(3)),o=new ce(r.popFirst(5));return i.isEqual(n)||fi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Whe(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qo extends g${constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(y$("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qo._jsonSchema={type:_t("string",Qo._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class Md extends Qo{data(e={}){return super.data(e)}}class Lu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Md(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Md(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Md(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Khe(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=BE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Khe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jhe(t){t=Fc(t,Vt);const e=Fc(t.firestore,pT);return khe(l$(e),t._key).then(n=>Zhe(e,t,n))}Lu._jsonSchemaVersion="firestore/querySnapshot/1.0",Lu._jsonSchema={type:_t("string",Lu._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class Yhe extends jhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Xhe(t,e,n){t=Fc(t,Vt);const r=Fc(t.firestore,pT),i=Whe(t.converter,e);return Qhe(r,[Bhe(Fhe(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function Qhe(t,e){return function(r,i){const o=new io;return r.asyncQueue.enqueueAndForget(async()=>_he(await Nhe(r),i,o)),o.promise}(l$(t),e)}function Zhe(t,e,n){const r=n.docs.get(e._key),i=new Yhe(t);return new Qo(t,i,e._key,r,new yu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){El=i})(wl),Wa(new cs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new pT(new Dce(r.getProvider("auth-internal")),new Vce(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),no(zx,jx,e),no(zx,jx,"esm2020")})();var epe="firebase",tpe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no(epe,tpe,"app");function v$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const npe=v$,_$=new uf("auth","Firebase",v$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=new $E("@firebase/auth");function rpe(t,...e){wp.logLevel<=Te.WARN&&wp.warn(`Auth (${wl}): ${t}`,...e)}function kd(t,...e){wp.logLevel<=Te.ERROR&&wp.error(`Auth (${wl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,...e){throw vT(t,...e)}function mr(t,...e){return vT(t,...e)}function yT(t,e,n){const r={...npe(),[e]:n};return new uf("auth","Firebase",r).create(e,{appName:t.name})}function Zo(t){return yT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ipe(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fr(t,"argument-error"),yT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _$.create(t,...e)}function he(t,e,...n){if(!t)throw vT(e,...n)}function Xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kd(e),new Error(e)}function hi(t,e){t||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ope(){return UC()==="http:"||UC()==="https:"}function UC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function spe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ope()||due()||"connection"in navigator)?navigator.onLine:!0}function ape(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=uue()||hue()}get(){return spe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const upe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cpe=new gf(3e4,6e4);function wT(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function bl(t,e,n,r,i={}){return E$(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=cf({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return fue()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&_l(t.emulatorConfig.host)&&(u.credentials="include"),w$.fetch()(await T$(t,t.config.apiHost,n,a),u)})}async function E$(t,e,n){t._canInitEmulator=!1;const r={...lpe,...e};try{const i=new dpe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw pd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw pd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw pd(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yT(t,c,u);Fr(t,c)}}catch(i){if(i instanceof _i)throw i;Fr(t,"network-request-failed",{message:String(i)})}}async function fpe(t,e,n,r,i={}){const o=await bl(t,e,n,r,i);return"mfaPendingCredential"in o&&Fr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function T$(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?_T(t.config,i):`${t.config.apiScheme}://${i}`;return upe.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class dpe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),cpe.get())})}}function pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hpe(t,e){return bl(t,"POST","/v1/accounts:delete",e)}async function Ep(t,e){return bl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ppe(t,e=!1){const n=Yn(t),r=await n.getIdToken(e),i=ET(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$u($y(i.auth_time)),issuedAtTime:$u($y(i.iat)),expirationTime:$u($y(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $y(t){return Number(t)*1e3}function ET(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kd("JWT malformed, contained fewer than 3 sections"),null;try{const i=M2(n);return i?JSON.parse(i):(kd("Failed to decode base64 JWT payload"),null)}catch(i){return kd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function FC(t){const e=ET(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _i&&mpe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mpe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gpe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Kc(t,Ep(e,{idToken:n}));he(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?S$(i.providerUserInfo):[],s=vpe(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new I0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function ype(t){const e=Yn(t);await Tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vpe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function S$(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _pe(t,e){const n=await E$(t,{},async()=>{const r=cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await T$(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&_l(t.emulatorConfig.host)&&(l.credentials="include"),w$.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wpe(t,e){return bl(t,"POST","/v2/accounts:revokeToken",wT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=FC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await _pe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ha;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new gpe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new I0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Kc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ppe(this,e)}reload(){return ype(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Zo(this.auth));const e=await this.getIdToken();return await Kc(this,hpe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:y,stsTokenManager:v}=n;he(f&&v,e,"internal-error");const w=ha.fromJSON(this.name,v);he(typeof f=="string",e,"internal-error"),Ri(r,e.name),Ri(i,e.name),he(typeof h=="boolean",e,"internal-error"),he(typeof g=="boolean",e,"internal-error"),Ri(o,e.name),Ri(s,e.name),Ri(a,e.name),Ri(l,e.name),Ri(u,e.name),Ri(c,e.name);const _=new cr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:w,createdAt:u,lastLoginAt:c});return y&&Array.isArray(y)&&(_.providerData=y.map(E=>({...E}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new ha;i.updateFromServerResponse(n);const o=new cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Tp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?S$(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new ha;a.updateFromIdToken(r);const l=new cr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new I0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new Map;function Qr(t){hi(t instanceof Function,"Expected a class definition");let e=BC.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A$.type="NONE";const qC=A$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t,e,n){return`firebase:${t}:${e}:${n}`}class pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Od(this.userKey,i.apiKey,o),this.fullPersistenceKey=Od("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ep(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pa(Qr(qC),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Qr(qC);const s=Od(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const h=await Ep(e,{idToken:c}).catch(()=>{});if(!h)break;f=await cr._fromGetAccountInfoResponse(e,h,c)}else f=cr._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new pa(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new pa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R$(e))return"Blackberry";if(N$(e))return"Webos";if(I$(e))return"Safari";if((e.includes("chrome/")||x$(e))&&!e.includes("edge/"))return"Chrome";if(P$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b$(t=ln()){return/firefox\//i.test(t)}function I$(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x$(t=ln()){return/crios\//i.test(t)}function C$(t=ln()){return/iemobile/i.test(t)}function P$(t=ln()){return/android/i.test(t)}function R$(t=ln()){return/blackberry/i.test(t)}function N$(t=ln()){return/webos/i.test(t)}function TT(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Epe(t=ln()){var e;return TT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Tpe(){return pue()&&document.documentMode===10}function M$(t=ln()){return TT(t)||P$(t)||N$(t)||R$(t)||/windows phone/i.test(t)||C$(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t,e=[]){let n;switch(t){case"Browser":n=HC(ln());break;case"Worker":n=`${HC(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Spe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ape(t,e={}){return bl(t,"GET","/v2/passwordPolicy",wT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bpe=6;class Ipe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??bpe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xpe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GC(this),this.idTokenSubscription=new GC(this),this.beforeStateQueue=new Spe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qr(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await pa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ep(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(ar(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ape()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Zo(this));const n=e?Yn(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ape(this),n=new Ipe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wpe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[Qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&rpe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Zm(t){return Yn(t)}class GC{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tue(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ST={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cpe(t){ST=t}function Ppe(t){return ST.loadJS(t)}function Rpe(){return ST.gapiScript}function Npe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mpe(t,e){const n=UE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(us(o,e??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:e})}function kpe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ope(t,e,n){const r=Zm(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=O$(e),{host:s,port:a}=Dpe(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(us(u,r.config.emulator)&&us(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,_l(s)?(L2(`${o}//${s}${l}`),$2("Auth",!0)):Lpe()}function O$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dpe(t){const e=O$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:zC(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:zC(s)}}}function zC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Lpe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,n){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e){return fpe(t,"POST","/v1/accounts:signInWithIdp",wT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $pe="http://localhost";class hs extends D${constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new hs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ma(e,n)}buildRequest(){const e={requestUri:$pe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends AT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends yf{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends yf{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends yf{constructor(){super("twitter.com")}static credential(e,n){return hs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await cr._fromIdTokenResponse(e,r,i),s=jC(r);return new el({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jC(r);return new el({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends _i{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sp(e,n,r,i)}}function L$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sp._fromErrorAndOperation(t,o,e,r):o})}async function Vpe(t,e,n=!1){const r=await Kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return el._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Upe(t,e,n=!1){const{auth:r}=t;if(ar(r.app))return Promise.reject(Zo(r));const i="reauthenticate";try{const o=await Kc(t,L$(r,i,e,t),n);he(o.idToken,r,"internal-error");const s=ET(o.idToken);he(s,r,"internal-error");const{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),el._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fpe(t,e,n=!1){if(ar(t.app))return Promise.reject(Zo(t));const r="signIn",i=await L$(t,r,e),o=await el._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function Bpe(t,e,n,r){return Yn(t).onIdTokenChanged(e,n,r)}function qpe(t,e,n){return Yn(t).beforeAuthStateChanged(e,n)}function Hpe(t,e,n,r){return Yn(t).onAuthStateChanged(e,n,r)}function Gpe(t){return Yn(t).signOut()}const Ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zpe=1e3,jpe=10;class V$ extends $${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Tpe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jpe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V$.type="LOCAL";const Wpe=V$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U$ extends $${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U$.type="SESSION";const F$=U$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kpe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new eg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Kpe(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jpe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=bT("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function Ype(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function Xpe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qpe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Zpe(){return B$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="firebaseLocalStorageDb",eme=1,bp="firebaseLocalStorage",H$="fbase_key";class vf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tg(t,e){return t.transaction([bp],e?"readwrite":"readonly").objectStore(bp)}function tme(){const t=indexedDB.deleteDatabase(q$);return new vf(t).toPromise()}function x0(){const t=indexedDB.open(q$,eme);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bp,{keyPath:H$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bp)?e(r):(r.close(),await tme(),e(await x0()))})})}async function WC(t,e,n){const r=tg(t,!0).put({[H$]:e,value:n});return new vf(r).toPromise()}async function nme(t,e){const n=tg(t,!1).get(e),r=await new vf(n).toPromise();return r===void 0?null:r.value}function KC(t,e){const n=tg(t,!0).delete(e);return new vf(n).toPromise()}const rme=800,ime=3;class G${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ime)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eg._getInstance(Zpe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Xpe(),!this.activeServiceWorker)return;this.sender=new Jpe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qpe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await x0();return await WC(e,Ap,"1"),await KC(e,Ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nme(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=tg(i,!1).getAll();return new vf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G$.type="LOCAL";const ome=G$;new gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t,e){return e?Qr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends D${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sme(t){return Fpe(t.auth,new IT(t),t.bypassAuthState)}function ame(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Upe(n,new IT(t),t.bypassAuthState)}async function lme(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Vpe(n,new IT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sme;case"linkViaPopup":case"linkViaRedirect":return lme;case"reauthViaPopup":case"reauthViaRedirect":return ame;default:Fr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ume=new gf(2e3,1e4);async function cme(t,e,n){if(ar(t.app))return Promise.reject(mr(t,"operation-not-supported-in-this-environment"));const r=Zm(t);ipe(t,e,AT);const i=z$(r,n);return new zo(r,"signInViaPopup",e,i).executeNotNull()}class zo extends j${constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=bT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ume.get())};e()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fme="pendingRedirect",Dd=new Map;class dme extends j${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dd.get(this.auth._key());if(!e){try{const r=await hme(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dd.set(this.auth._key(),e)}return this.bypassAuthState||Dd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hme(t,e){const n=gme(e),r=mme(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pme(t,e){Dd.set(t._key(),e)}function mme(t){return Qr(t._redirectPersistence)}function gme(t){return Od(fme,t.config.apiKey,t.name)}async function yme(t,e,n=!1){if(ar(t.app))return Promise.reject(Zo(t));const r=Zm(t),i=z$(r,e),s=await new dme(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vme=10*60*1e3;class _me{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wme(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!W$(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vme&&this.cachedEventUids.clear(),this.cachedEventUids.has(JC(e))}saveEventToCache(e){this.cachedEventUids.add(JC(e)),this.lastProcessedEventTime=Date.now()}}function JC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wme(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eme(t,e={}){return bl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sme=/^https?/;async function Ame(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Eme(t);for(const n of e)try{if(bme(n))return}catch{}Fr(t,"unauthorized-domain")}function bme(t){const e=b0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Sme.test(n))return!1;if(Tme.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ime=new gf(3e4,6e4);function YC(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xme(t){return new Promise((e,n)=>{var i,o,s;function r(){YC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YC(),n(mr(t,"network-request-failed"))},timeout:Ime.get()})}if((o=(i=Dr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Dr().gapi)!=null&&s.load)r();else{const a=Npe("iframefcb");return Dr()[a]=()=>{gapi.load?r():n(mr(t,"network-request-failed"))},Ppe(`${Rpe()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ld=null,e})}let Ld=null;function Cme(t){return Ld=Ld||xme(t),Ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pme=new gf(5e3,15e3),Rme="__/auth/iframe",Nme="emulator/auth/iframe",Mme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kme=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ome(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_T(e,Nme):`https://${t.config.authDomain}/${Rme}`,r={apiKey:e.apiKey,appName:t.name,v:wl},i=kme.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${cf(r).slice(1)}`}async function Dme(t){const e=await Cme(t),n=Dr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:Ome(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mme,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=mr(t,"network-request-failed"),a=Dr().setTimeout(()=>{o(s)},Pme.get());function l(){Dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$me=500,Vme=600,Ume="_blank",Fme="http://localhost";class XC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bme(t,e,n,r=$me,i=Vme){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Lme,width:r.toString(),height:i.toString(),top:o,left:s},u=ln().toLowerCase();n&&(a=x$(u)?Ume:n),b$(u)&&(e=e||Fme,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[g,y])=>`${h}${g}=${y},`,"");if(Epe(u)&&a!=="_self")return qme(e||"",a),new XC(null);const f=window.open(e||"",a,c);he(f,t,"popup-blocked");try{f.focus()}catch{}return new XC(f)}function qme(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hme="__/auth/handler",Gme="emulator/auth/handler",zme=encodeURIComponent("fac");async function QC(t,e,n,r,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wl,eventId:i};if(e instanceof AT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Eue(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof yf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${zme}=${encodeURIComponent(l)}`:"";return`${jme(t)}?${cf(a).slice(1)}${u}`}function jme({config:t}){return t.emulator?_T(t,Gme):`https://${t.authDomain}/${Hme}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="webStorageSupport";class Wme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F$,this._completeRedirectFn=yme,this._overrideRedirectResult=pme}async _openPopup(e,n,r,i){var s;hi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await QC(e,n,r,b0(),i);return Bme(e,o,bT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await QC(e,n,r,b0(),i);return Ype(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(hi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Dme(e),r=new _me(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vy,{type:Vy},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[Vy];o!==void 0&&n(!!o),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ame(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M$()||I$()||TT()}}const Kme=Wme;var ZC="@firebase/auth",eP="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xme(t){Wa(new cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k$(t)},u=new xpe(r,i,o,l);return kpe(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wa(new cs("auth-internal",e=>{const n=Zm(e.getProvider("auth").getImmediate());return(r=>new Jme(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),no(ZC,eP,Yme(t)),no(ZC,eP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qme=5*60,Zme=D2("authIdTokenMaxAge")||Qme;let tP=null;const ege=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Zme)return;const i=n==null?void 0:n.token;tP!==i&&(tP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tge(t=B2()){const e=UE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Mpe(t,{popupRedirectResolver:Kme,persistence:[ome,Wpe,F$]}),r=D2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=ege(o.toString());qpe(n,s,()=>s(n.currentUser)),Bpe(n,a=>s(a))}}const i=k2("auth");return i&&Ope(n,`http://${i}`),n}function nge(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Cpe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=mr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",nge().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xme("Browser");const rge={apiKey:"AIzaSyCRgEDVu_nwd7k9Qv2uOkz9Gj-5inf0Txw",authDomain:"westock-app-89672.firebaseapp.com",projectId:"westock-app-89672",storageBucket:"westock-app-89672.firebasestorage.app",messagingSenderId:"206494601184",appId:"1:206494601184:web:a26a8b899f6307de00a585"},K$=F2(rge),Uy=tge(K$),ige=new jr,J$=Dhe(K$),ng="we_stock_data_v1",rg="we_stock_pin";let tl=null;const oge=async t=>{tl=t,t&&await sge()},nP=()=>({items:[],bundles:[]}),sge=async()=>{if(tl)try{const t=a$(J$,"users",tl.uid),e=await Jhe(t);if(e.exists()){const n=e.data();localStorage.setItem(ng,JSON.stringify(n)),window.location.reload()}else await Y$()}catch(t){console.error("Sync Error:",t)}},Y$=async()=>{if(!tl)return;const t=kn();try{await Xhe(a$(J$,"users",tl.uid),t),console.log("")}catch(e){console.error("Upload Error:",e)}},kn=()=>{try{const t=localStorage.getItem(ng);return t?JSON.parse(t):nP()}catch{return nP()}},To=t=>{try{return localStorage.setItem(ng,JSON.stringify(t)),tl&&Y$(),!0}catch(e){return(e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&alert(" "),!1}},age=t=>{const e=kn();return e.items.unshift(t),To(e)},lge=t=>{const e=kn(),n=e.items.findIndex(r=>r.id===t.id);return n!==-1?(e.items[n]=t,To(e)):!1},rP=t=>kn().items.find(n=>n.id===t),uge=t=>{const e=kn();return e.items=e.items.filter(n=>n.id!==t),e.bundles=e.bundles.map(n=>({...n,itemIds:n.itemIds.filter(r=>r!==t)})),To(e),e},cge=t=>{const e=kn();return e.bundles.unshift(t),To(e),e},fge=t=>{const e=kn(),n=e.bundles.findIndex(r=>r.id===t.id);return n!==-1?(e.bundles[n]=t,To(e)):!1},iP=t=>kn().bundles.find(n=>n.id===t),dge=t=>{const e=kn();return e.bundles=e.bundles.filter(n=>n.id!==t),To(e),e},hge=t=>localStorage.setItem(rg,t),pge=t=>localStorage.getItem(rg)===t,X$=()=>!!localStorage.getItem(rg),mge=()=>localStorage.removeItem(rg),gge=()=>{try{const e=(localStorage.getItem(ng)||"").length*2/1024;return e<1024?`${e.toFixed(1)} KB`:`${(e/1024).toFixed(2)} MB`}catch{return""}},yge=()=>{const t=kn(),e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`westock_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)},vge=t=>{try{const e=JSON.parse(t);if(!Array.isArray(e.items)||!Array.isArray(e.bundles))throw new Error("Format error");return To(e),!0}catch{return!1}},_ge=t=>{const e=kn(),n=e.bundles.find(o=>o.id===t);if(!n)return"";const r=e.items.filter(o=>n.itemIds.includes(o.id));return btoa(unescape(encodeURIComponent(JSON.stringify({type:"westock_transfer",bundle:n,items:r}))))},wge=t=>{try{const e=decodeURIComponent(escape(atob(t))),n=JSON.parse(e);if(n.type!=="westock_transfer"||!n.bundle||!n.items)return!1;const r=kn();return n.items.forEach(i=>{r.items.some(o=>o.id===i.id)||r.items.unshift(i)}),r.bundles.some(i=>i.id===n.bundle.id)||r.bundles.unshift(n.bundle),To(r),!0}catch{return!1}},Ege=({data:t,refreshData:e})=>{const n=sl(),[r,i]=$.useState(""),o=t.items.filter(u=>u.name.toLowerCase().includes(r.toLowerCase())||u.category.toLowerCase().includes(r.toLowerCase())),s=(u,c)=>{u.stopPropagation(),window.confirm("")&&(uge(c),e())},a=u=>{n(`/add-item?id=${u}`)},l=u=>Object.values(u.stock).reduce((c,f)=>c+f,0);return L.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[L.jsxs("div",{className:"bg-white px-4 pt-4 pb-2 sticky top-0 z-10 shadow-sm",children:[L.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:""}),L.jsxs("div",{className:"relative",children:[L.jsx(ok,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),L.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-gray-100 text-gray-800 rounded-lg pl-10 pr-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all",value:r,onChange:u=>i(u.target.value)})]})]}),L.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:o.length===0?L.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[L.jsx(jA,{size:48,className:"mb-4 opacity-20"}),L.jsx("p",{children:""})]}):o.map(u=>L.jsxs("div",{onClick:()=>a(u.id),className:"bg-white p-3 rounded-xl shadow-sm border border-gray-100 flex gap-3 relative group active:scale-[0.99] transition-transform cursor-pointer",children:[L.jsx("div",{className:"w-20 h-20 rounded-lg bg-gray-100 flex-shrink-0 overflow-hidden relative",children:u.imageUrl?L.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-full h-full object-cover"}):L.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:L.jsx(jA,{size:24})})}),L.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-0.5",children:[L.jsxs("div",{className:"flex justify-between items-start",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"font-bold text-gray-900 truncate pr-2 text-sm leading-tight",children:u.name}),L.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[L.jsx("span",{className:"text-[10px] text-gray-500 bg-gray-50 px-1.5 py-0.5 rounded",children:u.category}),u.location&&L.jsxs("span",{className:"flex items-center text-[10px] text-gray-400",children:[L.jsx(rk,{size:10,className:"mr-0.5"})," ",u.location]})]})]}),L.jsx("button",{onClick:c=>s(c,u.id),className:"p-1.5 text-gray-300 hover:text-red-500",children:L.jsx(sk,{size:16})})]}),L.jsxs("div",{className:"flex items-end justify-between mt-2",children:[L.jsx("div",{className:"flex gap-1 overflow-hidden",children:Object.entries(u.stock).map(([c,f])=>f>0&&L.jsxs("span",{className:"text-[10px] font-mono text-gray-500 bg-gray-50 px-1 rounded",children:[c,":",f]},c))}),L.jsxs("div",{className:"text-sm font-bold text-brand-600 bg-brand-50 px-2 py-0.5 rounded-full",children:["x",l(u)]})]})]})]},u.id))}),L.jsx("button",{onClick:()=>n("/add-item"),className:"fixed bottom-20 right-4 w-14 h-14 bg-brand-600 text-white rounded-full shadow-lg shadow-brand-500/30 flex items-center justify-center hover:bg-brand-700 active:scale-95 transition-all z-20",children:L.jsx(ik,{size:28})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Tge,Sge;function Age(){return{geminiUrl:Tge,vertexUrl:Sge}}function bge(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=Age();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wi{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];p(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>d(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Ige(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}C0(t,i,o,0,s)}}function C0(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])C0(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);p(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&C0(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xge(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function Cge(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response","generateVideoResponse"]);return s!=null&&p(e,["response"],Rge(s)),e}function Pge(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],Nge(s)),e}function Rge(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Mge(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Nge(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>kge(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function Mge(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],Uge(n)),e}function kge(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],Fge(n)),e}function Oge(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function Dge(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function Lge(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],$ge(s)),e}function $ge(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function Q$(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],Vge(s)),e}function Vge(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function Uge(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],xT(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Fge(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],xT(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oP;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oP||(oP={}));var sP;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(sP||(sP={}));var aP;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(aP||(aP={}));var fr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(fr||(fr={}));var lP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(lP||(lP={}));var uP;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(uP||(uP={}));var cP;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(cP||(cP={}));var fP;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fP||(fP={}));var dP;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(dP||(dP={}));var hP;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(hP||(hP={}));var pP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(pP||(pP={}));var mP;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(mP||(mP={}));var gP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(gP||(gP={}));var yP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(yP||(yP={}));var vP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(vP||(vP={}));var _P;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_P||(_P={}));var wP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wP||(wP={}));var EP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(EP||(EP={}));var TP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(TP||(TP={}));var Ip;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ip||(Ip={}));var SP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(SP||(SP={}));var AP;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(AP||(AP={}));var bP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(bP||(bP={}));var P0;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(P0||(P0={}));var IP;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(IP||(IP={}));var xP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xP||(xP={}));var CP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(CP||(CP={}));var PP;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(PP||(PP={}));var RP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RP||(RP={}));var NP;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(NP||(NP={}));var MP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(MP||(MP={}));var kP;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(kP||(kP={}));var OP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(OP||(OP={}));var DP;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(DP||(DP={}));var LP;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(LP||(LP={}));var $P;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})($P||($P={}));var VP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(VP||(VP={}));var UP;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(UP||(UP={}));var FP;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(FP||(FP={}));var BP;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(BP||(BP={}));var qP;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(qP||(qP={}));var HP;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(HP||(HP={}));var GP;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(GP||(GP={}));var zP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(zP||(zP={}));var jP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(jP||(jP={}));var WP;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(WP||(WP={}));var KP;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(KP||(KP={}));var JP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(JP||(JP={}));var YP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(YP||(YP={}));var XP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(XP||(XP={}));var QP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(QP||(QP={}));var ZP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ZP||(ZP={}));var eR;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(eR||(eR={}));var tR;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(tR||(tR={}));var ta;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ta||(ta={}));class R0{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class lu{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(y!==null||y!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class nR{}class rR{}class Bge{}class qge{}class Hge{}class Gge{}class iR{}class oR{}class sR{}class zge{}class xp{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new xp;let i;const o=e;return n?i=Pge(o):i=Cge(o),Object.assign(r,i),r}}class aR{}class lR{}class uR{}class jge{}class Wge{}class Kge{}class CT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new CT,o=Lge(e);return Object.assign(r,o),r}}class Jge{}class Yge{}class Xge{}class cR{}class Qge{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Zge{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class PT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new PT,o=Q$(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Re(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Z$(t,e){const n=Re(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function eV(t){return Array.isArray(t)?t.map(e=>Cp(e)):[Cp(t)]}function Cp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function tV(t){const e=Cp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function nV(t){const e=Cp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fR(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function rV(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>fR(e)):[fR(t)]}function N0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function dR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function hR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function sn(t){if(t==null)throw new Error("ContentUnion is required");return N0(t)?t:{role:"user",parts:rV(t)}}function RT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=sn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=sn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>sn(n)):[sn(e)]}function jn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(dR(t)||hR(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[sn(t)]}const e=[],n=[],r=N0(t[0]);for(const i of t){const o=N0(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(dR(i)||hR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:rV(n)}),e}function eye(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(fr).includes(n[0].toUpperCase())?n[0].toUpperCase():fr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(fr).includes(r.toUpperCase())?r.toUpperCase():fr.TYPE_UNSPECIFIED})}}function ga(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&eye(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(fr).includes(a.toUpperCase())?a.toUpperCase():fr.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=ga(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(ga(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=ga(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function NT(t){return ga(t)}function MT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function kT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Il(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ga(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ga(e.response));return t}function xl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function tye(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ei(t,e){if(typeof e!="string")throw new Error("name must be a string");return tye(t,e,"cachedContents")}function iV(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function So(t){return xT(t)}function nye(t){return t!=null&&typeof t=="object"&&"name"in t}function rye(t){return t!=null&&typeof t=="object"&&"video"in t}function iye(t){return t!=null&&typeof t=="object"&&"uri"in t}function oV(t){var e;let n;if(nye(t)&&(n=t.name),!(iye(t)&&(n=t.uri,n===void 0))&&!(rye(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function sV(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function aV(t){for(const e of["models","tunedModels","publisherModels"])if(oye(t,e))return t[e];return[]}function oye(t,e){return t!==null&&typeof t=="object"&&e in t}function sye(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function aye(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=sye(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function lV(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function lye(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function uV(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Cl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function cV(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uye(t){const e={},n=d(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Hye(s))),p(e,["inlinedResponses"],o)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["inlinedEmbedContentResponses"],o)}return e}function cye(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function fye(t){const e={},n=d(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $d(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&p(e,["state"],cV(i));const o=d(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const s=d(t,["metadata","endTime"]);s!=null&&p(e,["endTime"],s);const a=d(t,["metadata","updateTime"]);a!=null&&p(e,["updateTime"],a);const l=d(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&p(e,["dest"],uye(uV(u))),e}function M0(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],cV(i));const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["createTime"]);s!=null&&p(e,["createTime"],s);const a=d(t,["startTime"]);a!=null&&p(e,["startTime"],a);const l=d(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&p(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&p(e,["src"],dye(f));const h=d(t,["outputConfig"]);h!=null&&p(e,["dest"],cye(uV(h)));const g=d(t,["completionStats"]);return g!=null&&p(e,["completionStats"],g),e}function dye(t){const e={},n=d(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function hye(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>qye(t,s))),p(n,["requests","requests"],o)}return n}function pye(t){const e={},n=d(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function mye(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function gye(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Cl(t,r)),n}function yye(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Cl(t,r)),n}function vye(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],_ye(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const a=d(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const l=d(t,["index"]);l!=null&&p(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],f),e}function _ye(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function fV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Yye(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function wye(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Eye(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],fye(lye(i))),n}function pR(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],hye(t,lV(t,i)));const o=d(e,["config"]);return o!=null&&wye(o,n),n}function Tye(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],Re(t,r));const i=d(e,["src"]);i!=null&&p(n,["inputConfig"],pye(lV(t,i)));const o=d(e,["config"]);return o!=null&&Eye(o,n),n}function Sye(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function Aye(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Nye(t,i));const o=d(e,["config"]);return o!=null&&Sye(o,n),n}function bye(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Cl(t,r)),n}function Iye(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Cl(t,r)),n}function xye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function Cye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function Pye(t,e){const n={},r=d(e,["contents"]);if(r!=null){let o=RT(t,r);Array.isArray(o)&&(o=o.map(s=>s)),p(n,["requests[]","request","content"],o)}const i=d(e,["config"]);return i!=null&&(p(n,["_self"],Rye(i,n)),Ige(n,{"requests[].*":"requests[].request.*"})),n}function Rye(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Nye(t,e){const n={},r=d(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],Pye(t,i)),n}function Mye(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function kye(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Oye(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dye(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],fV(sn(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&p(r,["topP"],s);const a=d(e,["topK"]);a!=null&&p(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=d(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const y=d(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const v=d(e,["seed"]);v!=null&&p(r,["seed"],v);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const _=d(e,["responseSchema"]);_!=null&&p(r,["responseSchema"],NT(_));const E=d(e,["responseJsonSchema"]);if(E!=null&&p(r,["responseJsonSchema"],E),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let O=S;Array.isArray(O)&&(O=O.map(N=>Xye(N))),p(n,["safetySettings"],O)}const R=d(e,["tools"]);if(n!==void 0&&R!=null){let O=xl(R);Array.isArray(O)&&(O=O.map(N=>Zye(Il(N)))),p(n,["tools"],O)}const b=d(e,["toolConfig"]);if(n!==void 0&&b!=null&&p(n,["toolConfig"],Qye(b)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=d(e,["cachedContent"]);n!==void 0&&C!=null&&p(n,["cachedContent"],Ei(t,C));const A=d(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const I=d(e,["mediaResolution"]);I!=null&&p(r,["mediaResolution"],I);const P=d(e,["speechConfig"]);if(P!=null&&p(r,["speechConfig"],MT(P)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=d(e,["thinkingConfig"]);k!=null&&p(r,["thinkingConfig"],k);const M=d(e,["imageConfig"]);return M!=null&&p(r,["imageConfig"],Bye(M)),r}function Lye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>vye(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&p(e,["responseId"],s);const a=d(t,["usageMetadata"]);return a!=null&&p(e,["usageMetadata"],a),e}function $ye(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Cl(t,r)),n}function Vye(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Cl(t,r)),n}function Uye(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Fye(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Bye(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function qye(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["request","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let a=jn(i);Array.isArray(a)&&(a=a.map(l=>fV(l))),p(n,["request","contents"],a)}const o=d(e,["metadata"]);o!=null&&p(n,["metadata"],o);const s=d(e,["config"]);return s!=null&&p(n,["request","generationConfig"],Dye(t,s,d(n,["request"],{}))),n}function Hye(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],Lye(n));const r=d(t,["error"]);return r!=null&&p(e,["error"],r),e}function Gye(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function zye(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=d(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function jye(t){const e={},n=d(t,["config"]);return n!=null&&Gye(n,e),e}function Wye(t){const e={},n=d(t,["config"]);return n!=null&&zye(n,e),e}function Kye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>$d(s))),p(e,["batchJobs"],o)}return e}function Jye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>M0(s))),p(e,["batchJobs"],o)}return e}function Yye(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],Mye(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],kye(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],mye(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Xye(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function Qye(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],Oye(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Zye(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],Uye(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Fye(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(pi||(pi={}));class Is{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eve extends wi{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Is(pi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=pR(this.apiClient,e),r=n._url,i=re("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Tye(this.apiClient,e);return a=re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>M0(c))}else{const u=pR(this.apiClient,e);return a=re("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>$d(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Aye(this.apiClient,e);return o=re("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>$d(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Vye(this.apiClient,e);return a=re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>M0(c))}else{const u=$ye(this.apiClient,e);return a=re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>$d(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=yye(this.apiClient,e);s=re("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=gye(this.apiClient,e);s=re("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Wye(e);return a=re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Jye(c),h=new cR;return Object.assign(h,f),h})}else{const u=jye(e);return a=re("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Kye(c),h=new cR;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Iye(this.apiClient,e);return a=re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Cye(c))}else{const u=bye(this.apiClient,e);return a=re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>xye(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tve(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function mR(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ave(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function nve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let c=jn(s);Array.isArray(c)&&(c=c.map(f=>mR(f))),p(e,["contents"],c)}const a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&p(e,["systemInstruction"],mR(sn(a)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Ive(f))),p(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],bve(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function rve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let f=jn(s);Array.isArray(f)&&(f=f.map(h=>h)),p(e,["contents"],f)}const a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&p(e,["systemInstruction"],sn(a));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>xve(h))),p(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function ive(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],Z$(t,r));const i=d(e,["config"]);return i!=null&&nve(i,n),n}function ove(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],Z$(t,r));const i=d(e,["config"]);return i!=null&&rve(i,n),n}function sve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ei(t,r)),n}function ave(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ei(t,r)),n}function lve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function uve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function cve(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function fve(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dve(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function hve(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const a=d(t,["responseJsonSchema"]);return a!=null&&p(e,["responseJsonSchema"],a),e}function pve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ei(t,r)),n}function mve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ei(t,r)),n}function gve(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function yve(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function vve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function _ve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function wve(t){const e={},n=d(t,["config"]);return n!=null&&vve(n,e),e}function Eve(t){const e={},n=d(t,["config"]);return n!=null&&_ve(n,e),e}function Tve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["cachedContents"],o)}return e}function Sve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["cachedContents"],o)}return e}function Ave(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],cve(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],fve(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],tve(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function bve(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],dve(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Ive(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],gve(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],yve(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function xve(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>hve(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=d(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],a);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function Cve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function Pve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function Rve(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ei(t,r));const i=d(e,["config"]);return i!=null&&Cve(i,n),n}function Nve(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Ei(t,r));const i=d(e,["config"]);return i!=null&&Pve(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mve extends wi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Is(pi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ove(this.apiClient,e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=ive(this.apiClient,e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=mve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=pve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ave(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=uve(c),h=new lR;return Object.assign(h,f),h})}else{const u=sve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=lve(c),h=new lR;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Nve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Rve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Eve(e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Sve(c),h=new uR;return Object.assign(h,f),h})}else{const u=wve(e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Tve(c),h=new uR;return Object.assign(h,f),h})}}}function gR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function ya(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(y){return Promise.resolve(y).then(g,f)}}function a(g,y){r[g]&&(i[g]=function(v){return new Promise(function(w,_){o.push([g,v,w,_])>1||l(g,v)})},y&&(i[g]=y(i[g])))}function l(g,y){try{u(r[g](y))}catch(v){h(o[0][3],v)}}function u(g){g.value instanceof Ye?Promise.resolve(g.value.v).then(c,f):h(o[0][2],g)}function c(g){l("next",g)}function f(g){l("throw",g)}function h(g,y){g(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Vu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof gR=="function"?gR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kve(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:dV(n)}function dV(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Ove(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function yR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!dV(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Dve{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Lve(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Lve{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Ove(o)}async sendMessage(e){var n;await this.sendPromise;const r=sn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(f))!==null&&a!==void 0?a:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=sn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?yR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return ya(this,arguments,function*(){var s,a,l,u;const c=[];try{for(var f=!0,h=Vu(e),g;g=yield Ye(h.next()),s=g.done,!s;f=!0){u=g.value,f=!1;const y=u;if(kve(y)){const v=(i=(r=y.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;v!==void 0&&c.push(v)}yield yield Ye(y)}}catch(y){a={error:y}}finally{try{!f&&!s&&(l=h.return)&&(yield Ye(l.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...yR(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ig extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ig.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $ve(t){const e={},n=d(t,["file"]);return n!=null&&p(e,["file"],n),e}function Vve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Uve(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],oV(n)),e}function Fve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Bve(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],oV(n)),e}function qve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function Hve(t){const e={},n=d(t,["config"]);return n!=null&&qve(n,e),e}function Gve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zve extends wi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Is(pi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Hve(e);return o=re("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Gve(l),c=new Jge;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$ve(e);return o=re("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Vve(l),c=new Yge;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Bve(e);return o=re("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Uve(e);return o=re("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Fve(l),c=new Xge;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vd(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function jve(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>l_e(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Wve(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Kve(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Jve(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const a=d(t,["responseJsonSchema"]);return a!=null&&p(e,["responseJsonSchema"],a),e}function Yve(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const s=d(t,["enableAffectiveDialog"]);s!=null&&p(e,["enableAffectiveDialog"],s);const a=d(t,["frequencyPenalty"]);a!=null&&p(e,["frequencyPenalty"],a);const l=d(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&p(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=d(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const y=d(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const v=d(t,["responseSchema"]);v!=null&&p(e,["responseSchema"],v);const w=d(t,["routingConfig"]);w!=null&&p(e,["routingConfig"],w);const _=d(t,["seed"]);_!=null&&p(e,["seed"],_);const E=d(t,["speechConfig"]);E!=null&&p(e,["speechConfig"],hV(E));const S=d(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const R=d(t,["temperature"]);R!=null&&p(e,["temperature"],R);const b=d(t,["thinkingConfig"]);b!=null&&p(e,["thinkingConfig"],b);const C=d(t,["topK"]);C!=null&&p(e,["topK"],C);const A=d(t,["topP"]);if(A!=null&&p(e,["topP"],A),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Xve(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Qve(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Zve(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],kT(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],jve(sn(y)));const v=d(t,["tools"]);if(e!==void 0&&v!=null){let C=xl(v);Array.isArray(C)&&(C=C.map(A=>c_e(Il(A)))),p(e,["setup","tools"],C)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],u_e(w));const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],_);const E=d(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],E);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const R=d(t,["contextWindowCompression"]);e!==void 0&&R!=null&&p(e,["setup","contextWindowCompression"],R);const b=d(t,["proactivity"]);return e!==void 0&&b!=null&&p(e,["setup","proactivity"],b),n}function e_e(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],Yve(r));const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],hV(kT(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],sn(y));const v=d(t,["tools"]);if(e!==void 0&&v!=null){let C=xl(v);Array.isArray(C)&&(C=C.map(A=>f_e(Il(A)))),p(e,["setup","tools"],C)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],w);const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],_);const E=d(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],E);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const R=d(t,["contextWindowCompression"]);e!==void 0&&R!=null&&p(e,["setup","contextWindowCompression"],R);const b=d(t,["proactivity"]);return e!==void 0&&b!=null&&p(e,["setup","proactivity"],b),n}function t_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],Zve(i,n)),n}function n_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],e_e(i,n)),n}function r_e(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function i_e(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function o_e(t){const e={},n=d(t,["media"]);if(n!=null){let u=eV(n);Array.isArray(u)&&(u=u.map(c=>Vd(c))),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],Vd(nV(r)));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],Vd(tV(o)));const s=d(t,["text"]);s!=null&&p(e,["text"],s);const a=d(t,["activityStart"]);a!=null&&p(e,["activityStart"],a);const l=d(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function s_e(t){const e={},n=d(t,["media"]);if(n!=null){let u=eV(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],nV(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],tV(o));const s=d(t,["text"]);s!=null&&p(e,["text"],s);const a=d(t,["activityStart"]);a!=null&&p(e,["activityStart"],a);const l=d(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function a_e(t){const e={},n=d(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=d(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const s=d(t,["usageMetadata"]);s!=null&&p(e,["usageMetadata"],d_e(s));const a=d(t,["goAway"]);a!=null&&p(e,["goAway"],a);const l=d(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],l),e}function l_e(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],Wve(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],Kve(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],Vd(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function u_e(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hV(t){const e={},n=d(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=d(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function c_e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],Xve(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Qve(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function f_e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Jve(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=d(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],a);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function d_e(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const s=d(t,["thoughtsTokenCount"]);s!=null&&p(e,["thoughtsTokenCount"],s);const a=d(t,["totalTokenCount"]);a!=null&&p(e,["totalTokenCount"],a);const l=d(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["promptTokensDetails"],g)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["cacheTokensDetails"],g)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["responseTokensDetails"],g)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),p(e,["toolUsePromptTokensDetails"],g)}const h=d(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h_e(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function p_e(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],m_e(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const a=d(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const l=d(t,["index"]);l!=null&&p(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],f),e}function m_e(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function g_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let o=jn(i);Array.isArray(o)&&(o=o.map(s=>s)),p(n,["contents"],o)}return n}function y_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function v_e(t){const e={},n=d(t,["values"]);n!=null&&p(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&p(e,["statistics"],__e(r)),e}function __e(t){const e={},n=d(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function og(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>C0e(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function w_e(t){const e={},n=d(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function E_e(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function T_e(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],sn(r));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>vV(a))),p(e,["tools"],s)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],h0e(o)),n}function S_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=jn(i);Array.isArray(s)&&(s=s.map(a=>og(a))),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&E_e(o),n}function A_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=jn(i);Array.isArray(s)&&(s=s.map(a=>a)),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&T_e(o,n),n}function b_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function I_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function x_e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function C_e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function P_e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function R_e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function N_e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);e!==void 0&&a!=null&&p(e,["parameters","guidanceScale"],a);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=d(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const v=d(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","compressionQuality"],v);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const _=d(t,["labels"]);e!==void 0&&_!=null&&p(e,["labels"],_);const E=d(t,["editMode"]);e!==void 0&&E!=null&&p(e,["parameters","editMode"],E);const S=d(t,["baseSteps"]);return e!==void 0&&S!=null&&p(e,["parameters","editConfig","baseSteps"],S),n}function M_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>O0e(l))),p(n,["instances[0]","referenceImages"],a)}const s=d(e,["config"]);return s!=null&&N_e(s,n),n}function k_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>sg(o))),p(e,["generatedImages"],i)}return e}function O_e(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function D_e(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const s=d(t,["mimeType"]);e!==void 0&&s!=null&&p(e,["instances[]","mimeType"],s);const a=d(t,["autoTruncate"]);return e!==void 0&&a!=null&&p(e,["parameters","autoTruncate"],a),n}function L_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let a=RT(t,i);Array.isArray(a)&&(a=a.map(l=>l)),p(n,["requests[]","content"],a)}const o=d(e,["config"]);o!=null&&O_e(o,n);const s=d(e,["model"]);return s!==void 0&&p(n,["requests[]","model"],Re(t,s)),n}function $_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=RT(t,i);Array.isArray(s)&&(s=s.map(a=>a)),p(n,["instances[]","content"],s)}const o=d(e,["config"]);return o!=null&&D_e(o,n),n}function V_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function U_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>v_e(s))),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function F_e(t){const e={},n=d(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function B_e(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function q_e(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function H_e(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function G_e(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const a=d(t,["responseJsonSchema"]);return a!=null&&p(e,["responseJsonSchema"],a),e}function z_e(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],og(sn(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&p(r,["topP"],s);const a=d(e,["topK"]);a!=null&&p(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=d(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const y=d(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const v=d(e,["seed"]);v!=null&&p(r,["seed"],v);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const _=d(e,["responseSchema"]);_!=null&&p(r,["responseSchema"],NT(_));const E=d(e,["responseJsonSchema"]);if(E!=null&&p(r,["responseJsonSchema"],E),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let O=S;Array.isArray(O)&&(O=O.map(N=>D0e(N))),p(n,["safetySettings"],O)}const R=d(e,["tools"]);if(n!==void 0&&R!=null){let O=xl(R);Array.isArray(O)&&(O=O.map(N=>q0e(Il(N)))),p(n,["tools"],O)}const b=d(e,["toolConfig"]);if(n!==void 0&&b!=null&&p(n,["toolConfig"],B0e(b)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=d(e,["cachedContent"]);n!==void 0&&C!=null&&p(n,["cachedContent"],Ei(t,C));const A=d(e,["responseModalities"]);A!=null&&p(r,["responseModalities"],A);const I=d(e,["mediaResolution"]);I!=null&&p(r,["mediaResolution"],I);const P=d(e,["speechConfig"]);if(P!=null&&p(r,["speechConfig"],MT(P)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=d(e,["thinkingConfig"]);k!=null&&p(r,["thinkingConfig"],k);const M=d(e,["imageConfig"]);return M!=null&&p(r,["imageConfig"],v0e(M)),r}function j_e(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],sn(i));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&p(r,["topP"],s);const a=d(e,["topK"]);a!=null&&p(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=d(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const y=d(e,["frequencyPenalty"]);y!=null&&p(r,["frequencyPenalty"],y);const v=d(e,["seed"]);v!=null&&p(r,["seed"],v);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const _=d(e,["responseSchema"]);_!=null&&p(r,["responseSchema"],NT(_));const E=d(e,["responseJsonSchema"]);E!=null&&p(r,["responseJsonSchema"],E);const S=d(e,["routingConfig"]);S!=null&&p(r,["routingConfig"],S);const R=d(e,["modelSelectionConfig"]);R!=null&&p(r,["modelConfig"],R);const b=d(e,["safetySettings"]);if(n!==void 0&&b!=null){let z=b;Array.isArray(z)&&(z=z.map(K=>K)),p(n,["safetySettings"],z)}const C=d(e,["tools"]);if(n!==void 0&&C!=null){let z=xl(C);Array.isArray(z)&&(z=z.map(K=>vV(Il(K)))),p(n,["tools"],z)}const A=d(e,["toolConfig"]);n!==void 0&&A!=null&&p(n,["toolConfig"],A);const I=d(e,["labels"]);n!==void 0&&I!=null&&p(n,["labels"],I);const P=d(e,["cachedContent"]);n!==void 0&&P!=null&&p(n,["cachedContent"],Ei(t,P));const k=d(e,["responseModalities"]);k!=null&&p(r,["responseModalities"],k);const M=d(e,["mediaResolution"]);M!=null&&p(r,["mediaResolution"],M);const O=d(e,["speechConfig"]);O!=null&&p(r,["speechConfig"],yV(MT(O)));const N=d(e,["audioTimestamp"]);N!=null&&p(r,["audioTimestamp"],N);const q=d(e,["thinkingConfig"]);q!=null&&p(r,["thinkingConfig"],q);const H=d(e,["imageConfig"]);return H!=null&&p(r,["imageConfig"],_0e(H)),r}function vR(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=jn(i);Array.isArray(s)&&(s=s.map(a=>og(a))),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],z_e(t,o,n)),n}function _R(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=jn(i);Array.isArray(s)&&(s=s.map(a=>a)),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],j_e(t,o,n)),n}function wR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>p_e(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&p(e,["responseId"],s);const a=d(t,["usageMetadata"]);return a!=null&&p(e,["usageMetadata"],a),e}function ER(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=d(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const s=d(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const a=d(t,["responseId"]);a!=null&&p(e,["responseId"],a);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function W_e(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const a=d(t,["personGeneration"]);e!==void 0&&a!=null&&p(e,["parameters","personGeneration"],a);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=d(t,["imageSize"]);if(e!==void 0&&g!=null&&p(e,["parameters","sampleImageSize"],g),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function K_e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);e!==void 0&&a!=null&&p(e,["parameters","guidanceScale"],a);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=d(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","mimeType"],y);const v=d(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","compressionQuality"],v);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const _=d(t,["labels"]);e!==void 0&&_!=null&&p(e,["labels"],_);const E=d(t,["imageSize"]);e!==void 0&&E!=null&&p(e,["parameters","sampleImageSize"],E);const S=d(t,["enhancePrompt"]);return e!==void 0&&S!=null&&p(e,["parameters","enhancePrompt"],S),n}function J_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&W_e(o,n),n}function Y_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&K_e(o,n),n}function X_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>u0e(s))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],mV(i)),e}function Q_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>sg(s))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],gV(i)),e}function Z_e(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=d(t,["resolution"]);e!==void 0&&s!=null&&p(e,["parameters","resolution"],s);const a=d(t,["personGeneration"]);if(e!==void 0&&a!=null&&p(e,["parameters","personGeneration"],a),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=d(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],ag(c));const f=d(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>twe(g))),p(e,["instances[0]","referenceImages"],h)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function e0e(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=d(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const s=d(t,["durationSeconds"]);e!==void 0&&s!=null&&p(e,["parameters","durationSeconds"],s);const a=d(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&p(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const g=d(t,["enhancePrompt"]);e!==void 0&&g!=null&&p(e,["parameters","enhancePrompt"],g);const y=d(t,["generateAudio"]);e!==void 0&&y!=null&&p(e,["parameters","generateAudio"],y);const v=d(t,["lastFrame"]);e!==void 0&&v!=null&&p(e,["instances[0]","lastFrame"],vr(v));const w=d(t,["referenceImages"]);if(e!==void 0&&w!=null){let S=w;Array.isArray(S)&&(S=S.map(R=>nwe(R))),p(e,["instances[0]","referenceImages"],S)}const _=d(t,["mask"]);e!==void 0&&_!=null&&p(e,["instances[0]","mask"],ewe(_));const E=d(t,["compressionQuality"]);return e!==void 0&&E!=null&&p(e,["parameters","compressionQuality"],E),n}function t0e(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response","generateVideoResponse"]);return s!=null&&p(e,["response"],o0e(s)),e}function n0e(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],s0e(s)),e}function r0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],ag(o));const s=d(e,["video"]);s!=null&&p(n,["instances[0]","video"],_V(s));const a=d(e,["source"]);a!=null&&a0e(a,n);const l=d(e,["config"]);return l!=null&&Z_e(l,n),n}function i0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],vr(o));const s=d(e,["video"]);s!=null&&p(n,["instances[0]","video"],wV(s));const a=d(e,["source"]);a!=null&&l0e(a,n);const l=d(e,["config"]);return l!=null&&e0e(l,n),n}function o0e(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>f0e(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function s0e(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>d0e(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function a0e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],ag(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],_V(o)),n}function l0e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],vr(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],wV(o)),n}function u0e(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],w0e(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],mV(i)),e}function sg(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],pV(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&p(e,["safetyAttributes"],gV(i));const o=d(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function c0e(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["mask"],pV(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function f0e(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],Q0e(n)),e}function d0e(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],Z0e(n)),e}function h0e(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const s=d(t,["enableAffectiveDialog"]);s!=null&&p(e,["enableAffectiveDialog"],s);const a=d(t,["frequencyPenalty"]);a!=null&&p(e,["frequencyPenalty"],a);const l=d(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&p(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=d(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const y=d(t,["responseModalities"]);y!=null&&p(e,["responseModalities"],y);const v=d(t,["responseSchema"]);v!=null&&p(e,["responseSchema"],v);const w=d(t,["routingConfig"]);w!=null&&p(e,["routingConfig"],w);const _=d(t,["seed"]);_!=null&&p(e,["seed"],_);const E=d(t,["speechConfig"]);E!=null&&p(e,["speechConfig"],yV(E));const S=d(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const R=d(t,["temperature"]);R!=null&&p(e,["temperature"],R);const b=d(t,["thinkingConfig"]);b!=null&&p(e,["thinkingConfig"],b);const C=d(t,["topK"]);C!=null&&p(e,["topK"],C);const A=d(t,["topP"]);if(A!=null&&p(e,["topP"],A),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function p0e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function m0e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function g0e(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function y0e(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function v0e(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _0e(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=d(t,["outputMimeType"]);i!=null&&p(e,["imageOutputOptions","mimeType"],i);const o=d(t,["outputCompressionQuality"]);return o!=null&&p(e,["imageOutputOptions","compressionQuality"],o),e}function w0e(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],So(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function pV(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],So(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function ag(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],So(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function vr(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],So(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function E0e(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const s=d(e,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const a=d(e,["queryBase"]);return n!==void 0&&a!=null&&p(n,["_url","models_url"],sV(t,a)),r}function T0e(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const s=d(e,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const a=d(e,["queryBase"]);return n!==void 0&&a!=null&&p(n,["_url","models_url"],sV(t,a)),r}function S0e(t,e){const n={},r=d(e,["config"]);return r!=null&&E0e(t,r,n),n}function A0e(t,e){const n={},r=d(e,["config"]);return r!=null&&T0e(t,r,n),n}function b0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=aV(i);Array.isArray(o)&&(o=o.map(s=>k0(s))),p(e,["models"],o)}return e}function I0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=aV(i);Array.isArray(o)&&(o=o.map(s=>O0(s))),p(e,["models"],o)}return e}function x0e(t){const e={},n=d(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function k0(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["version"]);o!=null&&p(e,["version"],o);const s=d(t,["_self"]);s!=null&&p(e,["tunedModelInfo"],H0e(s));const a=d(t,["inputTokenLimit"]);a!=null&&p(e,["inputTokenLimit"],a);const l=d(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=d(t,["temperature"]);c!=null&&p(e,["temperature"],c);const f=d(t,["maxTemperature"]);f!=null&&p(e,["maxTemperature"],f);const h=d(t,["topP"]);h!=null&&p(e,["topP"],h);const g=d(t,["topK"]);g!=null&&p(e,["topK"],g);const y=d(t,["thinking"]);return y!=null&&p(e,["thinking"],y),e}function O0(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["versionId"]);o!=null&&p(e,["version"],o);const s=d(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>F_e(h))),p(e,["endpoints"],f)}const a=d(t,["labels"]);a!=null&&p(e,["labels"],a);const l=d(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],G0e(l));const u=d(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["checkpoints"],f)}return e}function C0e(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],B_e(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],q_e(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],h_e(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function P0e(t){const e={},n=d(t,["productImage"]);return n!=null&&p(e,["image"],vr(n)),e}function R0e(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const g=d(t,["labels"]);return e!==void 0&&g!=null&&p(e,["labels"],g),n}function N0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["source"]);i!=null&&k0e(i,n);const o=d(e,["config"]);return o!=null&&R0e(o,n),n}function M0e(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sg(i))),p(e,["generatedImages"],r)}return e}function k0e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],vr(i));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>P0e(a))),p(e,["instances[0]","productImages"],s)}return n}function O0e(t){const e={},n=d(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],vr(n));const r=d(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=d(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],x0e(o));const s=d(t,["controlImageConfig"]);s!=null&&p(e,["controlImageConfig"],w_e(s));const a=d(t,["styleImageConfig"]);a!=null&&p(e,["styleImageConfig"],a);const l=d(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function mV(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function gV(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function D0e(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function L0e(t){const e={},n=d(t,["image"]);return n!=null&&p(e,["image"],vr(n)),e}function $0e(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const s=d(t,["maskDilation"]);e!==void 0&&s!=null&&p(e,["parameters","maskDilation"],s);const a=d(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&p(e,["parameters","binaryColorThreshold"],a);const l=d(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function V0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["source"]);i!=null&&F0e(i,n);const o=d(e,["config"]);return o!=null&&$0e(o,n),n}function U0e(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>c0e(i))),p(e,["generatedMasks"],r)}return e}function F0e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],vr(i));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],L0e(o)),n}function yV(t){const e={},n=d(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=d(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function B0e(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],H_e(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function q0e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],g0e(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],y0e(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function vV(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>G_e(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=d(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],a);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function H0e(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function G0e(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function z0e(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function j0e(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function W0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],Re(t,r));const i=d(e,["config"]);return i!=null&&z0e(i,n),n}function K0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&j0e(i,n),n}function J0e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const s=d(t,["includeRaiReason"]);e!==void 0&&s!=null&&p(e,["parameters","includeRaiReason"],s);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&p(e,["parameters","outputOptions","mimeType"],a);const l=d(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=d(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=d(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=d(t,["labels"]);e!==void 0&&f!=null&&p(e,["labels"],f);const h=d(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const g=d(t,["mode"]);return e!==void 0&&g!=null&&p(e,["parameters","mode"],g),n}function Y0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["image"]);i!=null&&p(n,["instances[0]","image"],vr(i));const o=d(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=d(e,["config"]);return s!=null&&J0e(s,n),n}function X0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>sg(o))),p(e,["generatedImages"],i)}return e}function Q0e(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],So(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Z0e(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],So(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function ewe(t){const e={},n=d(t,["image"]);n!=null&&p(e,["_self"],vr(n));const r=d(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function twe(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],ag(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function nwe(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],vr(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function _V(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],So(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function wV(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],So(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rwe="Content-Type",iwe="X-Server-Timeout",owe="User-Agent",D0="x-goog-api-client",swe="1.30.0",awe=`google-genai-sdk/${swe}`,lwe="v1beta1",uwe="v1beta",TR=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class cwe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:lwe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:uwe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&fwe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await SR(i),new R0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await SR(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return ya(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield Ye(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),g=h.status,y=h.code,v=`got status: ${g}. ${JSON.stringify(f)}`;if(y>=400&&y<600)throw new ig({message:v,status:y})}}catch(f){if(f.name==="ApiError")throw f}s+=u;let c=s.match(TR);for(;c;){const f=c[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new R0(h)),s=s.slice(c[0].length),c=s.match(TR)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=awe+" "+this.clientOptions.userAgentExtra;return e[owe]=n,e[D0]=n,e[rwe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(iwe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=re("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&r.customMetadata&&(f.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(f.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function SR(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ig({message:i,status:n}):new Error(i)}}function fwe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dwe="mcp_used/unknown";let hwe=!1;function EV(t){for(const e of t)if(pwe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return hwe}function TV(t){var e;const n=(e=t[D0])!==null&&e!==void 0?e:"";t[D0]=(n+` ${dwe}`).trimStart()}function pwe(t){return t!==null&&typeof t=="object"&&t instanceof OT}function mwe(t,e=100){return ya(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield Ye(t.listTools({cursor:r}));for(const s of o.tools)yield yield Ye(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class OT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new OT(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Vu(mwe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),aye(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gwe(t,e,n){const r=new Zge;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class ywe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=wwe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},g=this.apiClient,y={onopen:h,onmessage:S=>{gwe(g,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},v=this.webSocketFactory.create(l,_we(s),y);v.connect(),await c;const E={setup:{model:Re(this.apiClient,e.model)}};return v.send(JSON.stringify(E)),new vwe(v,this.apiClient)}}class vwe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=i_e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=r_e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ta.PLAY)}pause(){this.sendPlaybackControl(ta.PAUSE)}stop(){this.sendPlaybackControl(ta.STOP)}resetContext(){this.sendPlaybackControl(ta.RESET_CONTEXT)}close(){this.conn.close()}}function _we(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function wwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ewe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Twe(t,e,n){const r=new Qge;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=a_e(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class Swe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new ywe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&EV(e.config.tools)&&TV(f);const h=xwe(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const P=this.apiClient.getApiKey();let k="BidiGenerateContent",M="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",M="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${k}?${M}=${P}`}let g=()=>{};const y=new Promise(P=>{g=P}),v=e.callbacks,w=function(){var P;(P=v==null?void 0:v.onopen)===null||P===void 0||P.call(v),g({})},_=this.apiClient,E={onopen:w,onmessage:P=>{Twe(_,v.onmessage,P)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(P){}},S=this.webSocketFactory.create(c,Iwe(h),E);S.connect(),await y;let R=Re(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const P=this.apiClient.getProject(),k=this.apiClient.getLocation();R=`projects/${P}/locations/${k}/`+R}let b={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ip.AUDIO]}:e.config.responseModalities=[Ip.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],A=[];for(const P of C)if(this.isCallableTool(P)){const k=P;A.push(await k.tool())}else A.push(P);A.length>0&&(e.config.tools=A);const I={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?b=n_e(this.apiClient,I):b=t_e(this.apiClient,I),delete b.config,S.send(JSON.stringify(b)),new bwe(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Awe={turnComplete:!0};class bwe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=jn(n.turns),e.isVertexAI()||(r=r.map(i=>og(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Ewe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Awe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:s_e(e)}:n={realtimeInput:o_e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Iwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function xwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR=10;function bR(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(va(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function va(t){return"callTool"in t&&typeof t.callTool=="function"}function Cwe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>va(i)))!==null&&r!==void 0?r:!1}function IR(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(va(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function xR(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pwe extends wi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Cwe(n)||bR(n.config))return await this.generateContentInternal(l);const u=IR(n);if(u.length>0){const v=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let c,f;const h=jn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:AR;let y=0;for(;y<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,w=[];for(const _ of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(va(_)){const S=await _.callTool(c.functionCalls);w.push(...S)}y++,f={role:"user",parts:w},l.contents=jn(l.contents),l.contents.push(v),l.contents.push(f),xR(l.config)&&(h.push(v),h.push(f))}return xR(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),bR(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=IR(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Is(pi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>va(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&EV(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),TV(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(va(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:AR;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){var h,g;return ya(this,arguments,function*(){for(var y,v,w,_;a<o;){s&&(a++,s=!1);const b=yield Ye(u.processParamsMaybeAddMcpUsage(f)),C=yield Ye(u.generateContentStreamInternal(b)),A=[],I=[];try{for(var E=!0,S=(v=void 0,Vu(C)),R;R=yield Ye(S.next()),y=R.done,!y;E=!0){_=R.value,E=!1;const P=_;if(yield yield Ye(P),P.candidates&&(!((h=P.candidates[0])===null||h===void 0)&&h.content)){I.push(P.candidates[0].content);for(const k of(g=P.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(a<o&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(k.functionCall.name)){const M=yield Ye(c.get(k.functionCall.name).callTool([k.functionCall]));A.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(P){v={error:P}}finally{try{!E&&!y&&(w=S.return)&&(yield Ye(w.call(S)))}finally{if(v)throw v.error}}if(A.length>0){s=!0;const P=new lu;P.candidates=[{content:{role:"user",parts:A}}],yield yield Ye(P);const k=[];k.push(...I),k.push({role:"user",parts:A});const M=jn(f.contents).concat(k);f.contents=M}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_R(this.apiClient,e);return a=re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=ER(c),h=new lu;return Object.assign(h,f),h})}else{const u=vR(this.apiClient,e);return a=re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=wR(c),h=new lu;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_R(this.apiClient,e);return a=re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return ya(this,arguments,function*(){var h,g,y,v;try{for(var w=!0,_=Vu(f),E;E=yield Ye(_.next()),h=E.done,!h;w=!0){v=E.value,w=!1;const S=v,R=ER(yield Ye(S.json()));R.sdkHttpResponse={headers:S.headers};const b=new lu;Object.assign(b,R),yield yield Ye(b)}}catch(S){g={error:S}}finally{try{!w&&!h&&(y=_.return)&&(yield Ye(y.call(_)))}finally{if(g)throw g.error}}})})}else{const u=vR(this.apiClient,e);return a=re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return ya(this,arguments,function*(){var h,g,y,v;try{for(var w=!0,_=Vu(f),E;E=yield Ye(_.next()),h=E.done,!h;w=!0){v=E.value,w=!1;const S=v,R=wR(yield Ye(S.json()));R.sdkHttpResponse={headers:S.headers};const b=new lu;Object.assign(b,R),yield yield Ye(b)}}catch(S){g={error:S}}finally{try{!w&&!h&&(y=_.return)&&(yield Ye(y.call(_)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$_e(this.apiClient,e);return a=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=U_e(c),h=new nR;return Object.assign(h,f),h})}else{const u=L_e(this.apiClient,e);return a=re("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=V_e(c),h=new nR;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Y_e(this.apiClient,e);return a=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Q_e(c),h=new rR;return Object.assign(h,f),h})}else{const u=J_e(this.apiClient,e);return a=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=X_e(c),h=new rR;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=M_e(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=k_e(l),c=new Bge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Y0e(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=X0e(l),c=new qge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=N0e(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=M0e(l),c=new Hge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=V0e(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=U0e(l),c=new Gge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=m0e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>O0(c))}else{const u=p0e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>k0(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=A0e(this.apiClient,e);return a=re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=I0e(c),h=new iR;return Object.assign(h,f),h})}else{const u=S0e(this.apiClient,e);return a=re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=b0e(c),h=new iR;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=K0e(this.apiClient,e);return a=re("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>O0(c))}else{const u=W0e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>k0(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=C_e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=R_e(c),h=new oR;return Object.assign(h,f),h})}else{const u=x_e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=P_e(c),h=new oR;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=A_e(this.apiClient,e);return a=re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=I_e(c),h=new sR;return Object.assign(h,f),h})}else{const u=S_e(this.apiClient,e);return a=re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=b_e(c),h=new sR;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=g_e(this.apiClient,e);return o=re("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=y_e(l),c=new zge;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=i0e(this.apiClient,e);return a=re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=n0e(c),h=new xp;return Object.assign(h,f),h})}else{const u=r0e(this.apiClient,e);return a=re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=t0e(c),h=new xp;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rwe extends wi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Dge(e);return a=re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=Oge(e);return a=re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=xge(e);return o=re("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nwe(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Mwe(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Bwe(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function kwe(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=d(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const s=d(e,["uses"]);n!==void 0&&s!=null&&p(n,["uses"],s);const a=d(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&p(n,["bidiGenerateContentSetup"],Fwe(t,a));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function Owe(t,e){const n={},r=d(e,["config"]);return r!=null&&p(n,["config"],kwe(t,r,n)),n}function Dwe(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Lwe(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $we(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Vwe(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Uwe(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],kT(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&p(e,["setup","systemInstruction"],Mwe(sn(y)));const v=d(t,["tools"]);if(e!==void 0&&v!=null){let C=xl(v);Array.isArray(C)&&(C=C.map(A=>Hwe(Il(A)))),p(e,["setup","tools"],C)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],qwe(w));const _=d(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],_);const E=d(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],E);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const R=d(t,["contextWindowCompression"]);e!==void 0&&R!=null&&p(e,["setup","contextWindowCompression"],R);const b=d(t,["proactivity"]);return e!==void 0&&b!=null&&p(e,["setup","proactivity"],b),n}function Fwe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],Uwe(i,n)),n}function Bwe(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],Dwe(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],Lwe(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],Nwe(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function qwe(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Hwe(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],$we(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Vwe(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gwe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function zwe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Gwe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class jwe extends wi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=Owe(this.apiClient,e);o=re("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=zwe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wwe(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function Kwe(t){const e={},n=d(t,["config"]);return n!=null&&Wwe(n,e),e}function Jwe(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function Ywe(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&Jwe(r,e),e}function Xwe(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function Qwe(t,e){const n={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["customMetadata"],o)}const i=d(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function Zwe(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],tEe(s)),e}function eEe(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=d(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=d(t,["config"]);return i!=null&&Qwe(i,e),e}function tEe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function nEe(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function rEe(t){const e={},n=d(t,["config"]);return n!=null&&nEe(n,e),e}function iEe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["fileSearchStores"],o)}return e}function oEe(t,e){const n={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=d(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),p(e,["customMetadata"],a)}const s=d(t,["chunkingConfig"]);return e!==void 0&&s!=null&&p(e,["chunkingConfig"],s),n}function sEe(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=d(t,["config"]);return r!=null&&oEe(r,e),e}function aEe(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lEe(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function uEe(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&lEe(r,e),e}function cEe(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function fEe(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function dEe(t){const e={},n=d(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=d(t,["config"]);return r!=null&&fEe(r,e),e}function hEe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pEe extends wi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Is(pi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=cEe(e);return o=re("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=uEe(e);i=re("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dEe(e);return o=re("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=hEe(l),c=new jge;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mEe extends wi{constructor(e,n=new pEe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Is(pi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Kwe(e);return o=re("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Xwe(e);return o=re("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ywe(e);i=re("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=rEe(e);return o=re("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=iEe(l),c=new Wge;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=sEe(e);return o=re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=aEe(l),c=new Kge;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=eEe(e);return o=re("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Zwe(l),c=new CT;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gEe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function yEe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function vEe(t,e,n){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);if(s!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=d(t,["batchSize"]);e!==void 0&&a!=null&&p(e,["tuningTask","hyperparameters","batchSize"],a);const l=d(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function _Ee(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=d(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec"],CR(g))}else if(i==="PREFERENCE_TUNING"){const g=d(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec"],CR(g))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const s=d(t,["description"]);e!==void 0&&s!=null&&p(e,["description"],s);let a=d(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=d(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=d(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=d(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=d(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=d(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=d(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=d(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=d(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=d(t,["labels"]);e!==void 0&&f!=null&&p(e,["labels"],f);const h=d(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function wEe(t,e){const n={},r=d(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&NEe(o);const s=d(t,["config"]);return s!=null&&vEe(s,n),n}function EEe(t,e){const n={},r=d(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&MEe(o,n,e);const s=d(t,["config"]);return s!=null&&_Ee(s,n,e),n}function TEe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function SEe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function AEe(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),r}function bEe(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),r}function IEe(t,e){const n={},r=d(t,["config"]);return r!=null&&AEe(r,n),n}function xEe(t,e){const n={},r=d(t,["config"]);return r!=null&&bEe(r,n),n}function CEe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>SV(a))),p(n,["tuningJobs"],s)}return n}function PEe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>L0(a))),p(n,["tuningJobs"],s)}return n}function REe(t,e){const n={},r=d(t,["name"]);r!=null&&p(n,["model"],r);const i=d(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function NEe(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function MEe(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function SV(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["state"]);o!=null&&p(n,["state"],iV(o));const s=d(t,["createTime"]);s!=null&&p(n,["createTime"],s);const a=d(t,["tuningTask","startTime"]);a!=null&&p(n,["startTime"],a);const l=d(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["description"]);c!=null&&p(n,["description"],c);const f=d(t,["baseModel"]);f!=null&&p(n,["baseModel"],f);const h=d(t,["_self"]);return h!=null&&p(n,["tunedModel"],REe(h)),n}function L0(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["state"]);o!=null&&p(n,["state"],iV(o));const s=d(t,["createTime"]);s!=null&&p(n,["createTime"],s);const a=d(t,["startTime"]);a!=null&&p(n,["startTime"],a);const l=d(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["error"]);c!=null&&p(n,["error"],c);const f=d(t,["description"]);f!=null&&p(n,["description"],f);const h=d(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const g=d(t,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const y=d(t,["preTunedModel"]);y!=null&&p(n,["preTunedModel"],y);const v=d(t,["supervisedTuningSpec"]);v!=null&&p(n,["supervisedTuningSpec"],v);const w=d(t,["preferenceOptimizationSpec"]);w!=null&&p(n,["preferenceOptimizationSpec"],w);const _=d(t,["tuningDataStats"]);_!=null&&p(n,["tuningDataStats"],_);const E=d(t,["encryptionSpec"]);E!=null&&p(n,["encryptionSpec"],E);const S=d(t,["partnerModelTuningSpec"]);S!=null&&p(n,["partnerModelTuningSpec"],S);const R=d(t,["customBaseModel"]);R!=null&&p(n,["customBaseModel"],R);const b=d(t,["experiment"]);b!=null&&p(n,["experiment"],b);const C=d(t,["labels"]);C!=null&&p(n,["labels"],C);const A=d(t,["outputUri"]);A!=null&&p(n,["outputUri"],A);const I=d(t,["pipelineJob"]);I!=null&&p(n,["pipelineJob"],I);const P=d(t,["serviceAccount"]);P!=null&&p(n,["serviceAccount"],P);const k=d(t,["tunedModelDisplayName"]);k!=null&&p(n,["tunedModelDisplayName"],k);const M=d(t,["veoTuningSpec"]);return M!=null&&p(n,["veoTuningSpec"],M),n}function kEe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["metadata"]);o!=null&&p(n,["metadata"],o);const s=d(t,["done"]);s!=null&&p(n,["done"],s);const a=d(t,["error"]);return a!=null&&p(n,["error"],a),n}function CR(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OEe extends wi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Is(pi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:P0.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=SEe(e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>L0(c))}else{const u=TEe(e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>SV(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xEe(e);return a=re("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=PEe(c),h=new aR;return Object.assign(h,f),h})}else{const u=IEe(e);return a=re("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=CEe(c),h=new aR;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=yEe(e);s=re("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=gEe(e);s=re("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=EEe(e,e);return o=re("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>L0(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=wEe(e);return o=re("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>kEe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DEe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const LEe=1024*1024*8,$Ee=3,VEe=1e3,UEe=2,Pp="x-goog-upload-status";async function FEe(t,e,n){var r;const i=await AV(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Pp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function BEe(t,e,n){var r;const i=await AV(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Pp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Q$(o),a=new PT;return Object.assign(a,s),a}async function AV(t,e,n){var r,i;let o=0,s=0,a=new R0(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(LEe,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,h=VEe;for(;f<$Ee&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Pp]));)f++,await HEe(h),h=h*UEe;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Pp])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function qEe(t){return{size:t.size,type:t.type}}function HEe(t){return new Promise(e=>setTimeout(e,t))}class GEe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FEe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await BEe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await qEe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zEe{create(e,n,r){return new jEe(e,n,r)}}class jEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PR="x-goog-api-key";class WEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(PR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(PR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KEe="gl-node/";class JEe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=bge(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new WEe(this.apiKey);this.apiClient=new cwe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:KEe+"web",uploader:new GEe,downloader:new DEe}),this.models=new Pwe(this.apiClient),this.live=new Swe(this.apiClient,i,new zEe),this.batches=new eve(this.apiClient),this.chats=new Dve(this.models,this.apiClient),this.caches=new Mve(this.apiClient),this.files=new zve(this.apiClient),this.operations=new Rwe(this.apiClient),this.authTokens=new jwe(this.apiClient),this.tunings=new OEe(this.apiClient),this.fileSearchStores=new mEe(this.apiClient)}}const YEe=new JEe({apiKey:"AIzaSyAM29gXXeHXgQSAF9JQu19wVUD2HOUD3ko"}),XEe=(t,e=600,n=.6)=>new Promise((r,i)=>{const o=new FileReader;o.readAsDataURL(t),o.onload=s=>{var l;const a=new Image;a.src=(l=s.target)==null?void 0:l.result,a.onload=()=>{const u=Math.min(a.width,a.height),c=(a.width-u)/2,f=(a.height-u)/2,h=document.createElement("canvas");h.width=e,h.height=e;const g=h.getContext("2d");if(!g){i(new Error("Canvas context missing"));return}g.drawImage(a,c,f,u,u,0,0,e,e);const y=h.toDataURL("image/jpeg",n);r(y)},a.onerror=u=>i(u)},o.onerror=s=>i(s)}),QEe=async(t,e)=>{try{const r=(await YEe.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{data:t,mimeType:e}},{text:`You are an inventory manager for 'YSQUARE Bijoux'. 
            Your task is to identify this exact product from the official website.
            
            Steps:
            1. Use Google Search to find this product image on 'site:ysquarebijoux.com'.
            2. If you find a match, use the EXACT product name from the website (e.g., "18K Gold Plated Chunky Hoop Earrings").
            3. If no exact match is found on the website, generate a descriptive name following the brand style (Material + Shape + Type).
            4. Determine the category (Necklace, Earrings, Ring, Bracelet, Accessory).

            Return the result in JSON format.`}]},config:{tools:[{googleSearch:{}}],responseMimeType:"application/json",responseSchema:{type:fr.OBJECT,properties:{name:{type:fr.STRING,description:"The exact product name from the website"},category:{type:fr.STRING}},required:["name","category"]}}})).text;if(!r)throw new Error("No response from AI");const i=r.replace(/```json|```/g,"").trim();return JSON.parse(i)}catch(n){return console.error("Gemini Analysis Error:",n),{name:"",category:""}}},ZEe=({message:t,type:e,onClose:n})=>{$.useEffect(()=>{const s=setTimeout(n,3e3);return()=>clearTimeout(s)},[n]);const r={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",info:"bg-blue-50 border-blue-200 text-blue-800"},o={success:ek,error:bB,info:LB}[e];return L.jsxs("div",{className:`fixed top-4 left-4 right-4 z-[100] flex items-start p-4 rounded-xl shadow-lg border animate-[slideIn_0.3s_ease-out] ${r[e]}`,children:[L.jsx(o,{className:"w-5 h-5 mt-0.5 mr-3 flex-shrink-0"}),L.jsx("p",{className:"flex-1 text-sm font-medium",children:t}),L.jsx("button",{onClick:n,className:"ml-2 text-current opacity-60 hover:opacity-100",children:L.jsx(JB,{size:18})}),L.jsx("style",{children:`
        @keyframes slideIn {
          from { transform: translateY(-100%); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
      `})]})},bV=$.createContext(void 0),eTe=({children:t})=>{const[e,n]=$.useState(null),r=(i,o)=>{n({message:i,type:o})};return L.jsxs(bV.Provider,{value:{showToast:r},children:[t,e&&L.jsx(ZEe,{message:e.message,type:e.type,onClose:()=>n(null)})]})},lg=()=>{const t=$.useContext(bV);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},tTe=({refreshData:t})=>{const e=sl(),[n]=QM(),r=n.get("id"),{showToast:i}=lg(),o=$.useRef(null),[s,a]=$.useState(""),[l,u]=$.useState(""),[c,f]=$.useState(""),[h,g]=$.useState(""),[y,v]=$.useState(null),[w,_]=$.useState(!1),[E,S]=$.useState(null),[R,b]=$.useState(!1),[C,A]=$.useState({[Zt.XS]:0,[Zt.S]:0,[Zt.M]:0,[Zt.L]:0,[Zt.OTHER]:0}),I=[" A","","",""];$.useEffect(()=>{if(r){const N=rP(r);N&&(a(N.name),u(N.category),f(N.location||""),g(N.note||""),v(N.imageUrl||null),A(N.stock))}},[r]);const P=()=>{navigator.vibrate&&navigator.vibrate(10)},k=async N=>{var H;const q=(H=N.target.files)==null?void 0:H[0];if(q){S(null),P();try{const z=await XEe(q,600,.6);v(z);{_(!0);const K=z.split(",")[1];try{const F=await QEe(K,"image/jpeg");a(F.name),u(F.category),P(),i("AI ","success")}catch{S("AI "),i("AI ","info")}finally{_(!1)}}}catch{i("","error")}}},M=(N,q)=>{A(H=>{const z=Math.max(0,H[N]+q);return z!==H[N]&&P(),{...H,[N]:z}})},O=()=>{var H;if(!s){i("","error");return}const N={id:r||Date.now().toString(),name:s,category:l||"",imageUrl:y||void 0,stock:C,location:c||"",note:h,createdAt:r&&((H=rP(r))==null?void 0:H.createdAt)||Date.now()};let q=!1;r?(q=lge(N),q&&i("","success")):(q=age(N),q&&i("","success")),q&&(navigator.vibrate&&navigator.vibrate(50),t(),R&&!r?(a(""),A({[Zt.XS]:0,[Zt.S]:0,[Zt.M]:0,[Zt.L]:0,[Zt.OTHER]:0}),g(""),v(null),window.scrollTo(0,0)):e("/inventory"))};return L.jsxs("div",{className:"min-h-screen bg-gray-50 pb-safe-area",children:[L.jsxs("div",{className:"bg-white px-4 py-3 sticky top-0 flex items-center justify-between shadow-sm z-10",children:[L.jsxs("div",{className:"flex items-center",children:[L.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-gray-600",children:L.jsx(ZM,{size:24})}),L.jsx("h1",{className:"text-lg font-bold ml-2",children:r?"":""})]}),!r&&L.jsxs("button",{onClick:()=>b(!R),className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full border ${R?"bg-brand-50 border-brand-200 text-brand-700":"bg-gray-50 border-gray-200 text-gray-500"}`,children:[L.jsx(HB,{size:12}),""]})]}),L.jsxs("div",{className:"p-4 space-y-6 pb-24",children:[L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsxs("div",{onClick:()=>{var N;return(N=o.current)==null?void 0:N.click()},className:`w-40 h-40 bg-gray-100 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center cursor-pointer overflow-hidden relative shadow-sm ${E?"border-red-300":"border-gray-300"}`,children:[y?L.jsx("img",{src:y,alt:"Preview",className:"w-full h-full object-cover"}):L.jsxs(L.Fragment,{children:[L.jsx(GB,{size:32,className:"text-gray-400 mb-1 opacity-50"}),L.jsx("span",{className:"text-xs text-gray-400",children:""}),L.jsx("span",{className:"text-[10px] text-gray-300 mt-1",children:""})]}),w&&L.jsx("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white backdrop-blur-sm",children:L.jsx(VB,{className:"animate-spin mb-2"})})]}),L.jsx("input",{ref:o,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:k})]}),L.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),L.jsxs("div",{className:"relative",children:[L.jsx("input",{type:"text",value:s,onChange:N=>a(N.target.value),placeholder:"T",className:"w-full border-b border-gray-200 py-2 focus:border-brand-500 focus:outline-none bg-transparent font-medium"}),w&&L.jsx(WB,{className:"absolute right-0 top-2 text-brand-400 animate-pulse",size:16})]})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),L.jsx("input",{type:"text",value:l,onChange:N=>u(N.target.value),placeholder:"",className:"w-full border-b border-gray-200 py-2 focus:border-brand-500 focus:outline-none bg-transparent"})]})]}),L.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("h3",{className:"text-sm font-medium text-gray-700",children:""}),L.jsxs("span",{className:"text-xs text-gray-400 bg-gray-50 px-2 py-0.5 rounded",children:[": ",Object.values(C).reduce((N,q)=>N+q,0)]})]}),L.jsx("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:Object.values(Zt).map(N=>L.jsxs("div",{className:"flex items-center justify-between border-b border-gray-50 pb-2",children:[L.jsx("span",{className:"text-gray-600 font-medium text-sm w-8",children:N}),L.jsxs("div",{className:"flex items-center",children:[L.jsx("button",{onClick:()=>M(N,-1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-l text-gray-600 active:bg-gray-200",children:"-"}),L.jsx("input",{type:"number",value:C[N],readOnly:!0,className:"w-10 text-center bg-gray-50 h-8 font-bold text-gray-800 text-sm"}),L.jsx("button",{onClick:()=>M(N,1),className:"w-8 h-8 flex items-center justify-center bg-brand-500 text-white rounded-r active:bg-brand-600",children:"+"})]})]},N))})]}),L.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[L.jsxs("div",{children:[L.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[L.jsx(rk,{size:16,className:"mr-1 text-gray-500"})," "]}),L.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:I.map(N=>L.jsx("button",{onClick:()=>f(N),className:`text-xs px-2 py-1 rounded-full border ${c===N?"bg-brand-50 border-brand-200 text-brand-700":"bg-gray-50 border-gray-200 text-gray-600"}`,children:N},N))}),L.jsx("input",{type:"text",value:c,onChange:N=>f(N.target.value),placeholder:"",className:"w-full border-b border-gray-200 py-1 text-sm focus:border-brand-500 focus:outline-none"})]}),L.jsxs("div",{children:[L.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[L.jsx(OB,{size:16,className:"mr-1 text-gray-500"})," "]}),L.jsx("textarea",{value:h,onChange:N=>g(N.target.value),placeholder:"...",rows:1,className:"w-full border-b border-gray-200 py-1 text-sm focus:border-brand-500 focus:outline-none resize-none"})]})]})]}),L.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t z-20 flex gap-3",children:[R&&!r&&L.jsx("div",{className:"flex-1 bg-gray-100 text-gray-400 font-bold py-3.5 rounded-xl flex items-center justify-center text-sm",children:""}),L.jsx("button",{onClick:O,className:"flex-[2] bg-brand-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-brand-500/20 active:scale-[0.98] transition-all",children:r?"":R?"":""})]})]})},nTe=({data:t,refreshData:e})=>{const n=sl(),{showToast:r}=lg(),i=c=>c.slice(0,3).map(f=>{var h;return(h=t.items.find(g=>g.id===f))==null?void 0:h.imageUrl}),o=(c,f)=>{c.stopPropagation(),window.confirm("")&&(dge(f),e())},s=(c,f)=>{c.stopPropagation(),n(`/create-bundle?id=${f}`)},a=async(c,f)=>{c.stopPropagation();const h=_ge(f);if(!h){r("","error");return}try{await navigator.clipboard.writeText(h),r(` 
`,"success")}catch{window.prompt("",h)&&r("","info")}},l=()=>{const c=prompt("");c&&c.trim()&&(wge(c.trim())?(r("","success"),e()):r("","error"))},u=c=>{let f=0;return c.forEach(h=>{const g=t.items.find(y=>y.id===h);g&&(f+=Object.values(g.stock).reduce((y,v)=>y+v,0))}),{styles:c.length,pieces:f}};return L.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[L.jsxs("div",{className:"bg-white px-4 pt-4 pb-4 sticky top-0 z-10 shadow-sm flex justify-between items-center",children:[L.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),L.jsxs("button",{onClick:l,className:"flex items-center gap-1 text-xs font-bold text-brand-600 bg-brand-50 px-3 py-1.5 rounded-full border border-brand-100 active:bg-brand-100",children:[L.jsx(IB,{size:14})," "]})]}),L.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-24",children:t.bundles.length===0?L.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[L.jsx(tk,{size:48,className:"mb-4 opacity-20"}),L.jsx("p",{children:""})]}):t.bundles.map(c=>{const f=i(c.itemIds),{styles:h,pieces:g}=u(c.itemIds);return L.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 active:bg-gray-50 transition-colors cursor-pointer group",children:[L.jsxs("div",{className:"flex justify-between items-start mb-3",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"font-bold text-gray-900",children:c.name}),L.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c.description||""})]}),L.jsxs("div",{className:"flex gap-1",children:[L.jsx("button",{onClick:y=>s(y,c.id),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"",children:L.jsx(qB,{size:16})}),L.jsx("button",{onClick:y=>a(y,c.id),className:"p-1.5 text-gray-400 hover:text-brand-600 hover:bg-brand-50 rounded-full transition-colors",title:"",children:L.jsx(NB,{size:16})}),L.jsx("button",{onClick:y=>o(y,c.id),className:"p-1.5 text-gray-300 hover:text-red-500",children:L.jsx(sk,{size:16})})]})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("div",{className:"flex -space-x-2",children:[f.map((y,v)=>L.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-gray-200 overflow-hidden",children:y?L.jsx("img",{src:y,alt:"",className:"w-full h-full object-cover"}):L.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-300",children:L.jsx("span",{className:"text-[8px]",children:""})})},v)),h>3&&L.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500",children:["+",h-3]})]}),L.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[" ",L.jsx("span",{className:"font-bold text-gray-600",children:h}),"  ",L.jsx("span",{className:"font-bold text-brand-600",children:g})," "]})]})]},c.id)})}),L.jsx("button",{onClick:()=>n("/create-bundle"),className:"fixed bottom-20 right-4 w-14 h-14 bg-brand-600 text-white rounded-full shadow-lg shadow-brand-500/30 flex items-center justify-center hover:bg-brand-700 active:scale-95 transition-all z-20",children:L.jsx(ik,{size:28})})]})},rTe=({data:t,refreshData:e})=>{const n=sl(),[r]=QM(),i=r.get("id"),{showToast:o}=lg(),[s,a]=$.useState(""),[l,u]=$.useState(""),[c,f]=$.useState(new Set),[h,g]=$.useState("");$.useEffect(()=>{if(i){const _=iP(i);_&&(a(_.name),u(_.description),f(new Set(_.itemIds)))}},[i]);const y=_=>{const E=new Set(c);E.has(_)?E.delete(_):E.add(_),f(E)},v=()=>{var E;if(!s){o("","error");return}if(c.size===0){o("","error");return}const _={id:i||Date.now().toString(),name:s,description:l,itemIds:Array.from(c),createdAt:i&&((E=iP(i))==null?void 0:E.createdAt)||Date.now()};i?(fge(_),o("","success")):(cge(_),o("","success")),e(),n("/bundles")},w=t.items.filter(_=>_.name.toLowerCase().includes(h.toLowerCase()));return L.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 pb-safe-area",children:[L.jsxs("div",{className:"bg-white px-4 py-3 shadow-sm z-10",children:[L.jsxs("div",{className:"flex items-center mb-4",children:[L.jsx("button",{onClick:()=>n(-1),className:"p-2 -ml-2 text-gray-600",children:L.jsx(ZM,{size:24})}),L.jsx("h1",{className:"text-lg font-bold ml-2",children:i?"":""}),L.jsx("button",{onClick:v,className:"ml-auto text-brand-600 font-bold text-sm px-3 py-1 rounded-full bg-brand-50",children:""})]}),L.jsx("input",{type:"text",placeholder:" (: )",value:s,onChange:_=>a(_.target.value),className:"w-full text-lg font-bold placeholder-gray-300 border-none focus:ring-0 p-0 mb-2"}),L.jsx("input",{type:"text",placeholder:"...",value:l,onChange:_=>u(_.target.value),className:"w-full text-sm text-gray-600 placeholder-gray-300 border-none focus:ring-0 p-0"})]}),L.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[L.jsx("div",{className:"p-4 bg-gray-50 border-b",children:L.jsxs("div",{className:"relative",children:[L.jsx(ok,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),L.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-white rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none shadow-sm",value:h,onChange:_=>g(_.target.value)})]})}),L.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:w.map(_=>{const E=c.has(_.id),S=Object.values(_.stock).reduce((R,b)=>R+b,0);return L.jsxs("div",{onClick:()=>y(_.id),className:`flex items-center p-3 rounded-xl border transition-all cursor-pointer ${E?"bg-brand-50 border-brand-200":"bg-white border-gray-100"}`,children:[L.jsx("div",{className:`mr-4 ${E?"text-brand-500":"text-gray-300"}`,children:E?L.jsx(ek,{size:24,fill:"currentColor",className:"text-white bg-brand-500 rounded-full"}):L.jsx(PB,{size:24})}),L.jsx("div",{className:"w-12 h-12 rounded bg-gray-100 mr-3 overflow-hidden",children:_.imageUrl&&L.jsx("img",{src:_.imageUrl,className:"w-full h-full object-cover",alt:""})}),L.jsxs("div",{children:[L.jsx("h4",{className:`font-medium ${E?"text-brand-900":"text-gray-800"}`,children:_.name}),L.jsxs("div",{className:"flex gap-2",children:[L.jsx("span",{className:"text-xs text-gray-500",children:_.category}),L.jsxs("span",{className:"text-xs text-brand-600 bg-brand-50 px-1 rounded",children:[": ",S]})]})]})]},_.id)})})]}),L.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4 flex justify-between items-center text-sm font-medium text-gray-600 shadow-lg",children:L.jsxs("span",{children:[" ",c.size," "]})})]})},IV=$.createContext(void 0),iTe=()=>{const t=$.useContext(IV);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},oTe=({children:t})=>{const[e,n]=$.useState(null),[r,i]=$.useState(!0),o=async()=>{try{await cme(Uy,ige)}catch(a){console.error("Login failed",a),alert(" Firebase ")}},s=async()=>{await Gpe(Uy)};return $.useEffect(()=>Hpe(Uy,l=>{n(l),oge(l),i(!1)}),[]),L.jsx(IV.Provider,{value:{currentUser:e,loading:r,login:o,logout:s},children:!r&&t})},sTe=({refreshData:t})=>{var g;const{showToast:e}=lg(),{currentUser:n,login:r,logout:i}=iTe(),o=$.useRef(null),[s,a]=$.useState(X$()),l=gge(),u=()=>{yge(),e("","success")},c=()=>{var y;window.confirm(" ")&&((y=o.current)==null||y.click())},f=y=>{var _;const v=(_=y.target.files)==null?void 0:_[0];if(!v)return;const w=new FileReader;w.onload=E=>{var S;vge((S=E.target)==null?void 0:S.result)?(e("","success"),t&&t()):e("","error"),o.current&&(o.current.value="")},w.readAsText(v)},h=()=>{if(s)window.confirm("")&&(mge(),a(!1),e("","info"));else{const y=prompt(" 6  PIN ");y&&y.length>=4?(hge(y),a(!0),e("","success")):y&&e("","error")}};return L.jsxs("div",{className:"min-h-screen bg-gray-50 pb-safe-area",children:[L.jsxs("div",{className:"bg-gray-900 text-white p-6 pt-10 pb-16 rounded-b-[2.5rem] shadow-sm relative overflow-hidden",children:[L.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[L.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white/20 bg-brand-500 flex items-center justify-center",children:n!=null&&n.photoURL?L.jsx("img",{src:n.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):L.jsx("span",{className:"text-xl font-bold",children:n?(g=n.email)==null?void 0:g[0].toUpperCase():""})}),L.jsx("div",{children:n?L.jsxs(L.Fragment,{children:[L.jsx("h1",{className:"text-xl font-bold",children:n.displayName||""}),L.jsxs("p",{className:"text-gray-400 text-sm flex items-center gap-1",children:[L.jsx(RB,{size:12,className:"text-green-400"})," "]})]}):L.jsxs(L.Fragment,{children:[L.jsx("h1",{className:"text-xl font-bold",children:""}),L.jsx("p",{className:"text-gray-400 text-sm",children:""})]})})]}),L.jsx("div",{className:"absolute top-8 right-6",children:n?L.jsx("button",{onClick:i,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:L.jsx(FB,{size:20})}):L.jsxs("button",{onClick:r,className:"px-4 py-2 bg-brand-600 hover:bg-brand-500 rounded-full text-sm font-bold flex items-center gap-2 transition-colors",children:[L.jsx(UB,{size:16})," "]})})]}),L.jsxs("div",{className:"px-4 -mt-10 space-y-4 pb-24 relative z-20",children:[L.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[L.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 flex items-center gap-2",children:[L.jsx(jB,{size:18,className:"text-brand-600"}),L.jsx("h2",{className:"font-bold text-gray-800",children:""})]}),L.jsx("div",{className:"p-0",children:L.jsxs("button",{onClick:h,className:"w-full px-4 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}`,children:L.jsx(nk,{size:20})}),L.jsxs("div",{className:"text-left",children:[L.jsx("span",{className:"block text-sm font-bold text-gray-800",children:""}),L.jsx("span",{className:"block text-xs text-gray-500",children:s?" ()":" ()"})]})]}),L.jsx(CB,{size:16,className:"text-gray-300"})]})})]}),L.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[L.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 flex items-center gap-2",children:[L.jsx(MB,{size:18,className:"text-blue-600"}),L.jsx("h2",{className:"font-bold text-gray-800",children:""})]}),L.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[L.jsxs("button",{onClick:u,className:"flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 rounded-xl p-4 transition-colors",children:[L.jsx(kB,{size:24,className:"text-gray-600 mb-2"}),L.jsx("span",{className:"text-sm font-bold text-gray-800",children:""})]}),L.jsxs("button",{onClick:c,className:"flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 rounded-xl p-4 transition-colors",children:[L.jsx(KB,{size:24,className:"text-gray-600 mb-2"}),L.jsx("span",{className:"text-sm font-bold text-gray-800",children:""})]}),L.jsx("input",{ref:o,type:"file",accept:".json",className:"hidden",onChange:f})]}),L.jsxs("div",{className:"px-4 py-2 bg-gray-50 text-[10px] text-gray-400 text-center",children:[": ",l]})]}),!n&&L.jsxs("div",{className:"p-4 bg-yellow-50 text-yellow-800 text-xs rounded-xl border border-yellow-100 text-center",children:["",L.jsx("br",{}),""]})]})]})},aTe=({onUnlock:t})=>{const[e,n]=$.useState(""),[r,i]=$.useState(!1),o=()=>{pge(e)?t():(i(!0),n(""),setTimeout(()=>i(!1),500))};return L.jsxs("div",{className:"h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-8",children:[L.jsx("div",{className:"mb-8 p-6 bg-gray-800 rounded-full",children:L.jsx(nk,{size:48,className:"text-brand-500"})}),L.jsx("h2",{className:"text-2xl font-bold mb-8",children:"WeStock "}),L.jsxs("div",{className:"w-full max-w-xs relative",children:[L.jsx("input",{type:"password",value:e,onChange:s=>n(s.target.value),placeholder:"PIN",maxLength:6,className:`w-full bg-gray-800 border-2 ${r?"border-red-500 animate-pulse":"border-gray-700"} rounded-xl px-4 py-4 text-center text-2xl tracking-[0.5em] focus:outline-none focus:border-brand-500`}),L.jsx("button",{onClick:o,className:"absolute right-2 top-2 bottom-2 bg-brand-600 px-4 rounded-lg flex items-center justify-center",children:L.jsx(xB,{})})]})]})},lTe=({children:t})=>{const e=ef(),r=!["/add-item","/create-bundle"].includes(e.pathname);return L.jsxs("div",{className:"font-sans text-gray-900 bg-gray-50 min-h-screen",children:[L.jsx("main",{className:r?"pb-16":"",children:t}),r&&L.jsx(YB,{})]})},uTe=()=>{const[t,e]=$.useState({items:[],bundles:[]}),[n,r]=$.useState(X$()),i=()=>e(kn());return $.useEffect(()=>{i()},[]),n?L.jsx(aTe,{onUnlock:()=>r(!1)}):L.jsx(TB,{children:L.jsx(lTe,{children:L.jsxs(vB,{children:[L.jsx(Mo,{path:"/",element:L.jsx(Jle,{data:t})}),L.jsx(Mo,{path:"/inventory",element:L.jsx(Ege,{data:t,refreshData:i})}),L.jsx(Mo,{path:"/add-item",element:L.jsx(tTe,{refreshData:i})}),L.jsx(Mo,{path:"/bundles",element:L.jsx(nTe,{data:t,refreshData:i})}),L.jsx(Mo,{path:"/create-bundle",element:L.jsx(rTe,{data:t,refreshData:i})}),L.jsx(Mo,{path:"/share",element:L.jsx(sTe,{refreshData:i})})]})})})},cTe=()=>L.jsx(oTe,{children:L.jsx(eTe,{children:L.jsx(uTe,{})})}),xV=document.getElementById("root");if(!xV)throw new Error("Could not find root element to mount to");const fTe=Fy.createRoot(xV);fTe.render(L.jsx(U.StrictMode,{children:L.jsx(cTe,{})}));
