function RU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QR={exports:{}},qp={},ZR={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=Symbol.for("react.element"),NU=Symbol.for("react.portal"),kU=Symbol.for("react.fragment"),MU=Symbol.for("react.strict_mode"),OU=Symbol.for("react.profiler"),DU=Symbol.for("react.provider"),LU=Symbol.for("react.context"),$U=Symbol.for("react.forward_ref"),VU=Symbol.for("react.suspense"),UU=Symbol.for("react.memo"),FU=Symbol.for("react.lazy"),zS=Symbol.iterator;function BU(t){return t===null||typeof t!="object"?null:(t=zS&&t[zS]||t["@@iterator"],typeof t=="function"?t:null)}var eN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tN=Object.assign,nN={};function ul(t,e,n){this.props=t,this.context=e,this.refs=nN,this.updater=n||eN}ul.prototype.isReactComponent={};ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rN(){}rN.prototype=ul.prototype;function tw(t,e,n){this.props=t,this.context=e,this.refs=nN,this.updater=n||eN}var nw=tw.prototype=new rN;nw.constructor=tw;tN(nw,ul.prototype);nw.isPureReactComponent=!0;var WS=Array.isArray,iN=Object.prototype.hasOwnProperty,rw={current:null},oN={key:!0,ref:!0,__self:!0,__source:!0};function sN(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)iN.call(e,r)&&!oN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:of,type:t,key:o,ref:s,props:i,_owner:rw.current}}function qU(t,e){return{$$typeof:of,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iw(t){return typeof t=="object"&&t!==null&&t.$$typeof===of}function jU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KS=/\/+/g;function Ug(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jU(""+t.key):e.toString(36)}function xd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case of:case NU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ug(s,0):r,WS(i)?(n="",t!=null&&(n=t.replace(KS,"$&/")+"/"),xd(i,e,n,"",function(u){return u})):i!=null&&(iw(i)&&(i=qU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(KS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",WS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ug(o,a);s+=xd(o,e,n,l,i)}else if(l=BU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ug(o,a++),s+=xd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Hf(t,e,n){if(t==null)return t;var r=[],i=0;return xd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function HU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},Cd={transition:null},GU={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Cd,ReactCurrentOwner:rw};function aN(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Hf,forEach:function(t,e,n){Hf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hf(t,function(){e++}),e},toArray:function(t){return Hf(t,function(e){return e})||[]},only:function(t){if(!iw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=ul;Ee.Fragment=kU;Ee.Profiler=OU;Ee.PureComponent=tw;Ee.StrictMode=MU;Ee.Suspense=VU;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GU;Ee.act=aN;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tN({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=rw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)iN.call(e,l)&&!oN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:of,type:t.type,key:i,ref:o,props:r,_owner:s}};Ee.createContext=function(t){return t={$$typeof:LU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DU,_context:t},t.Consumer=t};Ee.createElement=sN;Ee.createFactory=function(t){var e=sN.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:$U,render:t}};Ee.isValidElement=iw;Ee.lazy=function(t){return{$$typeof:FU,_payload:{_status:-1,_result:t},_init:HU}};Ee.memo=function(t,e){return{$$typeof:UU,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Cd.transition;Cd.transition={};try{t()}finally{Cd.transition=e}};Ee.unstable_act=aN;Ee.useCallback=function(t,e){return hn.current.useCallback(t,e)};Ee.useContext=function(t){return hn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return hn.current.useEffect(t,e)};Ee.useId=function(){return hn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return hn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};Ee.useRef=function(t){return hn.current.useRef(t)};Ee.useState=function(t){return hn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return hn.current.useTransition()};Ee.version="18.3.1";ZR.exports=Ee;var $=ZR.exports;const F=Ge($),zU=RU({__proto__:null,default:F},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WU=$,KU=Symbol.for("react.element"),JU=Symbol.for("react.fragment"),YU=Object.prototype.hasOwnProperty,XU=WU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QU={key:!0,ref:!0,__self:!0,__source:!0};function lN(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)YU.call(e,r)&&!QU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:KU,type:t,key:o,ref:s,props:i,_owner:XU.current}}qp.Fragment=JU;qp.jsx=lN;qp.jsxs=lN;QR.exports=qp;var O=QR.exports,Qy={},uN={exports:{}},On={},cN={exports:{}},fN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,q){var Y=U.length;U.push(q);e:for(;0<Y;){var te=Y-1>>>1,Q=U[te];if(0<i(Q,q))U[te]=q,U[Y]=Q,Y=te;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var q=U[0],Y=U.pop();if(Y!==q){U[0]=Y;e:for(var te=0,Q=U.length,ue=Q>>>1;te<ue;){var ye=2*(te+1)-1,Ve=U[ye],ze=ye+1,Jt=U[ze];if(0>i(Ve,Y))ze<Q&&0>i(Jt,Ve)?(U[te]=Jt,U[ze]=Y,te=ze):(U[te]=Ve,U[ye]=Y,te=ye);else if(ze<Q&&0>i(Jt,Y))U[te]=Jt,U[ze]=Y,te=ze;else break e}}return q}function i(U,q){var Y=U.sortIndex-q.sortIndex;return Y!==0?Y:U.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,g=!1,_=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=U)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function R(U){if(y=!1,S(U),!_)if(n(l)!==null)_=!0,G(A);else{var q=n(u);q!==null&&K(R,q.startTime-U)}}function A(U,q){_=!1,y&&(y=!1,v(I),I=-1),g=!0;var Y=h;try{for(S(q),f=n(l);f!==null&&(!(f.expirationTime>q)||U&&!k());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var Q=te(f.expirationTime<=q);q=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),S(q)}else r(l);f=n(l)}if(f!==null)var ue=!0;else{var ye=n(u);ye!==null&&K(R,ye.startTime-q),ue=!1}return ue}finally{f=null,h=Y,g=!1}}var x=!1,b=null,I=-1,C=5,M=-1;function k(){return!(t.unstable_now()-M<C)}function D(){if(b!==null){var U=t.unstable_now();M=U;var q=!0;try{q=b(!0,U)}finally{q?N():(x=!1,b=null)}}else x=!1}var N;if(typeof E=="function")N=function(){E(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,H=B.port2;B.port1.onmessage=D,N=function(){H.postMessage(null)}}else N=function(){w(D,0)};function G(U){b=U,x||(x=!0,N())}function K(U,q){I=w(function(){U(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,G(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var Y=h;h=q;try{return U()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=h;h=U;try{return q()}finally{h=Y}},t.unstable_scheduleCallback=function(U,q,Y){var te=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?te+Y:te):Y=te,U){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,U={id:c++,callback:q,priorityLevel:U,startTime:Y,expirationTime:Q,sortIndex:-1},Y>te?(U.sortIndex=Y,e(u,U),n(l)===null&&U===n(u)&&(y?(v(I),I=-1):y=!0,K(R,Y-te))):(U.sortIndex=Q,e(l,U),_||g||(_=!0,G(A))),U},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(U){var q=h;return function(){var Y=h;h=q;try{return U.apply(this,arguments)}finally{h=Y}}}})(fN);cN.exports=fN;var ZU=cN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eF=$,Mn=ZU;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dN=new Set,Ju={};function Ts(t,e){Ca(t,e),Ca(t+"Capture",e)}function Ca(t,e){for(Ju[t]=e,t=0;t<e.length;t++)dN.add(e[t])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zy=Object.prototype.hasOwnProperty,tF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JS={},YS={};function nF(t){return Zy.call(YS,t)?!0:Zy.call(JS,t)?!1:tF.test(t)?YS[t]=!0:(JS[t]=!0,!1)}function rF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iF(t,e,n,r){if(e===null||typeof e>"u"||rF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ow=/[\-:]([a-z])/g;function sw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ow,sw);Wt[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ow,sw);Wt[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ow,sw);Wt[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function aw(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iF(e,n,i,r)&&(n=null),r||i===null?nF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yi=eF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gf=Symbol.for("react.element"),Ks=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),lw=Symbol.for("react.strict_mode"),ev=Symbol.for("react.profiler"),hN=Symbol.for("react.provider"),pN=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),tv=Symbol.for("react.suspense"),nv=Symbol.for("react.suspense_list"),cw=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),mN=Symbol.for("react.offscreen"),XS=Symbol.iterator;function Ql(t){return t===null||typeof t!="object"?null:(t=XS&&t[XS]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Fg;function vu(t){if(Fg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fg=e&&e[1]||""}return`
`+Fg+t}var Bg=!1;function qg(t,e){if(!t||Bg)return"";Bg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Bg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vu(t):""}function oF(t){switch(t.tag){case 5:return vu(t.type);case 16:return vu("Lazy");case 13:return vu("Suspense");case 19:return vu("SuspenseList");case 0:case 2:case 15:return t=qg(t.type,!1),t;case 11:return t=qg(t.type.render,!1),t;case 1:return t=qg(t.type,!0),t;default:return""}}function rv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Js:return"Fragment";case Ks:return"Portal";case ev:return"Profiler";case lw:return"StrictMode";case tv:return"Suspense";case nv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pN:return(t.displayName||"Context")+".Consumer";case hN:return(t._context.displayName||"Context")+".Provider";case uw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cw:return e=t.displayName||null,e!==null?e:rv(t.type)||"Memo";case Mi:e=t._payload,t=t._init;try{return rv(t(e))}catch{}}return null}function sF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rv(e);case 8:return e===lw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aF(t){var e=gN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zf(t){t._valueTracker||(t._valueTracker=aF(t))}function yN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iv(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function QS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ao(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vN(t,e){e=e.checked,e!=null&&aw(t,"checked",e,!1)}function ov(t,e){vN(t,e);var n=ao(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sv(t,e.type,n):e.hasOwnProperty("defaultValue")&&sv(t,e.type,ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sv(t,e,n){(e!=="number"||Xd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _u=Array.isArray;function ca(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ao(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function av(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(_u(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ao(n)}}function _N(t,e){var n=ao(e.value),r=ao(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wf,EN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wf=Wf||document.createElement("div"),Wf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lF=["Webkit","ms","Moz","O"];Object.keys(Pu).forEach(function(t){lF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pu[e]=Pu[t]})});function TN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pu.hasOwnProperty(t)&&Pu[t]?(""+e).trim():e+"px"}function SN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=TN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uF=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uv(t,e){if(e){if(uF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function cv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fv=null;function fw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dv=null,fa=null,da=null;function nb(t){if(t=lf(t)){if(typeof dv!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Wp(e),dv(t.stateNode,t.type,e))}}function bN(t){fa?da?da.push(t):da=[t]:fa=t}function AN(){if(fa){var t=fa,e=da;if(da=fa=null,nb(t),e)for(t=0;t<e.length;t++)nb(e[t])}}function IN(t,e){return t(e)}function xN(){}var jg=!1;function CN(t,e,n){if(jg)return t(e,n);jg=!0;try{return IN(t,e,n)}finally{jg=!1,(fa!==null||da!==null)&&(xN(),AN())}}function Xu(t,e){var n=t.stateNode;if(n===null)return null;var r=Wp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var hv=!1;if(oi)try{var Zl={};Object.defineProperty(Zl,"passive",{get:function(){hv=!0}}),window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{hv=!1}function cF(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ru=!1,Qd=null,Zd=!1,pv=null,fF={onError:function(t){Ru=!0,Qd=t}};function dF(t,e,n,r,i,o,s,a,l){Ru=!1,Qd=null,cF.apply(fF,arguments)}function hF(t,e,n,r,i,o,s,a,l){if(dF.apply(this,arguments),Ru){if(Ru){var u=Qd;Ru=!1,Qd=null}else throw Error(Z(198));Zd||(Zd=!0,pv=u)}}function Ss(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rb(t){if(Ss(t)!==t)throw Error(Z(188))}function pF(t){var e=t.alternate;if(!e){if(e=Ss(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return rb(i),t;if(o===r)return rb(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function RN(t){return t=pF(t),t!==null?NN(t):null}function NN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NN(t);if(e!==null)return e;t=t.sibling}return null}var kN=Mn.unstable_scheduleCallback,ib=Mn.unstable_cancelCallback,mF=Mn.unstable_shouldYield,gF=Mn.unstable_requestPaint,pt=Mn.unstable_now,yF=Mn.unstable_getCurrentPriorityLevel,dw=Mn.unstable_ImmediatePriority,MN=Mn.unstable_UserBlockingPriority,eh=Mn.unstable_NormalPriority,vF=Mn.unstable_LowPriority,ON=Mn.unstable_IdlePriority,jp=null,Cr=null;function _F(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(jp,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:TF,wF=Math.log,EF=Math.LN2;function TF(t){return t>>>=0,t===0?32:31-(wF(t)/EF|0)|0}var Kf=64,Jf=4194304;function wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function th(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=wu(a):(o&=s,o!==0&&(r=wu(o)))}else s=n&~i,s!==0?r=wu(s):o!==0&&(r=wu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function SF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-hr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=SF(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function mv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DN(){var t=Kf;return Kf<<=1,!(Kf&4194240)&&(Kf=64),t}function Hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function AF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function hw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function LN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $N,pw,VN,UN,FN,gv=!1,Yf=[],zi=null,Wi=null,Ki=null,Qu=new Map,Zu=new Map,Li=[],IF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ob(t,e){switch(t){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(e.pointerId)}}function eu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=lf(e),e!==null&&pw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xF(t,e,n,r,i){switch(e){case"focusin":return zi=eu(zi,t,e,n,r,i),!0;case"dragenter":return Wi=eu(Wi,t,e,n,r,i),!0;case"mouseover":return Ki=eu(Ki,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qu.set(o,eu(Qu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Zu.set(o,eu(Zu.get(o)||null,t,e,n,r,i)),!0}return!1}function BN(t){var e=Ho(t.target);if(e!==null){var n=Ss(e);if(n!==null){if(e=n.tag,e===13){if(e=PN(n),e!==null){t.blockedOn=e,FN(t.priority,function(){VN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fv=r,n.target.dispatchEvent(r),fv=null}else return e=lf(n),e!==null&&pw(e),t.blockedOn=n,!1;e.shift()}return!0}function sb(t,e,n){Pd(t)&&n.delete(e)}function CF(){gv=!1,zi!==null&&Pd(zi)&&(zi=null),Wi!==null&&Pd(Wi)&&(Wi=null),Ki!==null&&Pd(Ki)&&(Ki=null),Qu.forEach(sb),Zu.forEach(sb)}function tu(t,e){t.blockedOn===e&&(t.blockedOn=null,gv||(gv=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,CF)))}function ec(t){function e(i){return tu(i,t)}if(0<Yf.length){tu(Yf[0],t);for(var n=1;n<Yf.length;n++){var r=Yf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zi!==null&&tu(zi,t),Wi!==null&&tu(Wi,t),Ki!==null&&tu(Ki,t),Qu.forEach(e),Zu.forEach(e),n=0;n<Li.length;n++)r=Li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)BN(n),n.blockedOn===null&&Li.shift()}var ha=yi.ReactCurrentBatchConfig,nh=!0;function PF(t,e,n,r){var i=Le,o=ha.transition;ha.transition=null;try{Le=1,mw(t,e,n,r)}finally{Le=i,ha.transition=o}}function RF(t,e,n,r){var i=Le,o=ha.transition;ha.transition=null;try{Le=4,mw(t,e,n,r)}finally{Le=i,ha.transition=o}}function mw(t,e,n,r){if(nh){var i=yv(t,e,n,r);if(i===null)ey(t,e,r,rh,n),ob(t,r);else if(xF(i,t,e,n,r))r.stopPropagation();else if(ob(t,r),e&4&&-1<IF.indexOf(t)){for(;i!==null;){var o=lf(i);if(o!==null&&$N(o),o=yv(t,e,n,r),o===null&&ey(t,e,r,rh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ey(t,e,r,null,n)}}var rh=null;function yv(t,e,n,r){if(rh=null,t=fw(r),t=Ho(t),t!==null)if(e=Ss(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rh=t,null}function qN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yF()){case dw:return 1;case MN:return 4;case eh:case vF:return 16;case ON:return 536870912;default:return 16}default:return 16}}var Bi=null,gw=null,Rd=null;function jN(){if(Rd)return Rd;var t,e=gw,n=e.length,r,i="value"in Bi?Bi.value:Bi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Rd=i.slice(t,1<r?1-r:void 0)}function Nd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xf(){return!0}function ab(){return!1}function Dn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xf:ab,this.isPropagationStopped=ab,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xf)},persist:function(){},isPersistent:Xf}),e}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yw=Dn(cl),af=at({},cl,{view:0,detail:0}),NF=Dn(af),Gg,zg,nu,Hp=at({},af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nu&&(nu&&t.type==="mousemove"?(Gg=t.screenX-nu.screenX,zg=t.screenY-nu.screenY):zg=Gg=0,nu=t),Gg)},movementY:function(t){return"movementY"in t?t.movementY:zg}}),lb=Dn(Hp),kF=at({},Hp,{dataTransfer:0}),MF=Dn(kF),OF=at({},af,{relatedTarget:0}),Wg=Dn(OF),DF=at({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),LF=Dn(DF),$F=at({},cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VF=Dn($F),UF=at({},cl,{data:0}),ub=Dn(UF),FF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qF[t])?!!e[t]:!1}function vw(){return jF}var HF=at({},af,{key:function(t){if(t.key){var e=FF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vw,charCode:function(t){return t.type==="keypress"?Nd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GF=Dn(HF),zF=at({},Hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cb=Dn(zF),WF=at({},af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vw}),KF=Dn(WF),JF=at({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),YF=Dn(JF),XF=at({},Hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QF=Dn(XF),ZF=[9,13,27,32],_w=oi&&"CompositionEvent"in window,Nu=null;oi&&"documentMode"in document&&(Nu=document.documentMode);var e4=oi&&"TextEvent"in window&&!Nu,HN=oi&&(!_w||Nu&&8<Nu&&11>=Nu),fb=" ",db=!1;function GN(t,e){switch(t){case"keyup":return ZF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function t4(t,e){switch(t){case"compositionend":return zN(e);case"keypress":return e.which!==32?null:(db=!0,fb);case"textInput":return t=e.data,t===fb&&db?null:t;default:return null}}function n4(t,e){if(Ys)return t==="compositionend"||!_w&&GN(t,e)?(t=jN(),Rd=gw=Bi=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HN&&e.locale!=="ko"?null:e.data;default:return null}}var r4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r4[t.type]:e==="textarea"}function WN(t,e,n,r){bN(r),e=ih(e,"onChange"),0<e.length&&(n=new yw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ku=null,tc=null;function i4(t){ik(t,0)}function Gp(t){var e=Zs(t);if(yN(e))return t}function o4(t,e){if(t==="change")return e}var KN=!1;if(oi){var Kg;if(oi){var Jg="oninput"in document;if(!Jg){var pb=document.createElement("div");pb.setAttribute("oninput","return;"),Jg=typeof pb.oninput=="function"}Kg=Jg}else Kg=!1;KN=Kg&&(!document.documentMode||9<document.documentMode)}function mb(){ku&&(ku.detachEvent("onpropertychange",JN),tc=ku=null)}function JN(t){if(t.propertyName==="value"&&Gp(tc)){var e=[];WN(e,tc,t,fw(t)),CN(i4,e)}}function s4(t,e,n){t==="focusin"?(mb(),ku=e,tc=n,ku.attachEvent("onpropertychange",JN)):t==="focusout"&&mb()}function a4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gp(tc)}function l4(t,e){if(t==="click")return Gp(e)}function u4(t,e){if(t==="input"||t==="change")return Gp(e)}function c4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:c4;function nc(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zy.call(e,i)||!yr(t[i],e[i]))return!1}return!0}function gb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yb(t,e){var n=gb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gb(n)}}function YN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?YN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XN(){for(var t=window,e=Xd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xd(t.document)}return e}function ww(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f4(t){var e=XN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&YN(n.ownerDocument.documentElement,n)){if(r!==null&&ww(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=yb(n,o);var s=yb(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var d4=oi&&"documentMode"in document&&11>=document.documentMode,Xs=null,vv=null,Mu=null,_v=!1;function vb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_v||Xs==null||Xs!==Xd(r)||(r=Xs,"selectionStart"in r&&ww(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mu&&nc(Mu,r)||(Mu=r,r=ih(vv,"onSelect"),0<r.length&&(e=new yw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xs)))}function Qf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qs={animationend:Qf("Animation","AnimationEnd"),animationiteration:Qf("Animation","AnimationIteration"),animationstart:Qf("Animation","AnimationStart"),transitionend:Qf("Transition","TransitionEnd")},Yg={},QN={};oi&&(QN=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function zp(t){if(Yg[t])return Yg[t];if(!Qs[t])return t;var e=Qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in QN)return Yg[t]=e[n];return t}var ZN=zp("animationend"),ek=zp("animationiteration"),tk=zp("animationstart"),nk=zp("transitionend"),rk=new Map,_b="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(t,e){rk.set(t,e),Ts(e,[t])}for(var Xg=0;Xg<_b.length;Xg++){var Qg=_b[Xg],h4=Qg.toLowerCase(),p4=Qg[0].toUpperCase()+Qg.slice(1);_o(h4,"on"+p4)}_o(ZN,"onAnimationEnd");_o(ek,"onAnimationIteration");_o(tk,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(nk,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eu));function wb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hF(r,e,void 0,t),t.currentTarget=null}function ik(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;wb(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;wb(i,a,u),o=l}}}if(Zd)throw t=pv,Zd=!1,pv=null,t}function Ke(t,e){var n=e[bv];n===void 0&&(n=e[bv]=new Set);var r=t+"__bubble";n.has(r)||(ok(e,t,2,!1),n.add(r))}function Zg(t,e,n){var r=0;e&&(r|=4),ok(n,t,r,e)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function rc(t){if(!t[Zf]){t[Zf]=!0,dN.forEach(function(n){n!=="selectionchange"&&(m4.has(n)||Zg(n,!1,t),Zg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zf]||(e[Zf]=!0,Zg("selectionchange",!1,e))}}function ok(t,e,n,r){switch(qN(e)){case 1:var i=PF;break;case 4:i=RF;break;default:i=mw}n=i.bind(null,e,n,t),i=void 0,!hv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ey(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ho(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}CN(function(){var u=o,c=fw(n),f=[];e:{var h=rk.get(t);if(h!==void 0){var g=yw,_=t;switch(t){case"keypress":if(Nd(n)===0)break e;case"keydown":case"keyup":g=GF;break;case"focusin":_="focus",g=Wg;break;case"focusout":_="blur",g=Wg;break;case"beforeblur":case"afterblur":g=Wg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=MF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=KF;break;case ZN:case ek:case tk:g=LF;break;case nk:g=YF;break;case"scroll":g=NF;break;case"wheel":g=QF;break;case"copy":case"cut":case"paste":g=VF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=cb}var y=(e&4)!==0,w=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var E=u,S;E!==null;){S=E;var R=S.stateNode;if(S.tag===5&&R!==null&&(S=R,v!==null&&(R=Xu(E,v),R!=null&&y.push(ic(E,R,S)))),w)break;E=E.return}0<y.length&&(h=new g(h,_,null,n,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==fv&&(_=n.relatedTarget||n.fromElement)&&(Ho(_)||_[si]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Ho(_):null,_!==null&&(w=Ss(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(y=lb,R="onMouseLeave",v="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=cb,R="onPointerLeave",v="onPointerEnter",E="pointer"),w=g==null?h:Zs(g),S=_==null?h:Zs(_),h=new y(R,E+"leave",g,n,c),h.target=w,h.relatedTarget=S,R=null,Ho(c)===u&&(y=new y(v,E+"enter",_,n,c),y.target=S,y.relatedTarget=w,R=y),w=R,g&&_)t:{for(y=g,v=_,E=0,S=y;S;S=Us(S))E++;for(S=0,R=v;R;R=Us(R))S++;for(;0<E-S;)y=Us(y),E--;for(;0<S-E;)v=Us(v),S--;for(;E--;){if(y===v||v!==null&&y===v.alternate)break t;y=Us(y),v=Us(v)}y=null}else y=null;g!==null&&Eb(f,h,g,y,!1),_!==null&&w!==null&&Eb(f,w,_,y,!0)}}e:{if(h=u?Zs(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var A=o4;else if(hb(h))if(KN)A=u4;else{A=a4;var x=s4}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=l4);if(A&&(A=A(t,u))){WN(f,A,n,c);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&sv(h,"number",h.value)}switch(x=u?Zs(u):window,t){case"focusin":(hb(x)||x.contentEditable==="true")&&(Xs=x,vv=u,Mu=null);break;case"focusout":Mu=vv=Xs=null;break;case"mousedown":_v=!0;break;case"contextmenu":case"mouseup":case"dragend":_v=!1,vb(f,n,c);break;case"selectionchange":if(d4)break;case"keydown":case"keyup":vb(f,n,c)}var b;if(_w)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ys?GN(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(HN&&n.locale!=="ko"&&(Ys||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ys&&(b=jN()):(Bi=c,gw="value"in Bi?Bi.value:Bi.textContent,Ys=!0)),x=ih(u,I),0<x.length&&(I=new ub(I,t,null,n,c),f.push({event:I,listeners:x}),b?I.data=b:(b=zN(n),b!==null&&(I.data=b)))),(b=e4?t4(t,n):n4(t,n))&&(u=ih(u,"onBeforeInput"),0<u.length&&(c=new ub("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=b))}ik(f,e)})}function ic(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ih(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xu(t,n),o!=null&&r.unshift(ic(t,o,i)),o=Xu(t,e),o!=null&&r.push(ic(t,o,i))),t=t.return}return r}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Eb(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xu(n,o),l!=null&&s.unshift(ic(n,l,a))):i||(l=Xu(n,o),l!=null&&s.push(ic(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var g4=/\r\n?/g,y4=/\u0000|\uFFFD/g;function Tb(t){return(typeof t=="string"?t:""+t).replace(g4,`
`).replace(y4,"")}function ed(t,e,n){if(e=Tb(e),Tb(t)!==e&&n)throw Error(Z(425))}function oh(){}var wv=null,Ev=null;function Tv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sv=typeof setTimeout=="function"?setTimeout:void 0,v4=typeof clearTimeout=="function"?clearTimeout:void 0,Sb=typeof Promise=="function"?Promise:void 0,_4=typeof queueMicrotask=="function"?queueMicrotask:typeof Sb<"u"?function(t){return Sb.resolve(null).then(t).catch(w4)}:Sv;function w4(t){setTimeout(function(){throw t})}function ty(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ec(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ec(e)}function Ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fl=Math.random().toString(36).slice(2),Ir="__reactFiber$"+fl,oc="__reactProps$"+fl,si="__reactContainer$"+fl,bv="__reactEvents$"+fl,E4="__reactListeners$"+fl,T4="__reactHandles$"+fl;function Ho(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[si]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bb(t);t!==null;){if(n=t[Ir])return n;t=bb(t)}return e}t=n,n=t.parentNode}return null}function lf(t){return t=t[Ir]||t[si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Wp(t){return t[oc]||null}var Av=[],ea=-1;function wo(t){return{current:t}}function et(t){0>ea||(t.current=Av[ea],Av[ea]=null,ea--)}function He(t,e){ea++,Av[ea]=t.current,t.current=e}var lo={},an=wo(lo),_n=wo(!1),ss=lo;function Pa(t,e){var n=t.type.contextTypes;if(!n)return lo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function sh(){et(_n),et(an)}function Ab(t,e,n){if(an.current!==lo)throw Error(Z(168));He(an,e),He(_n,n)}function sk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,sF(t)||"Unknown",i));return at({},n,r)}function ah(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lo,ss=an.current,He(an,t),He(_n,_n.current),!0}function Ib(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=sk(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,et(_n),et(an),He(an,t)):et(_n),He(_n,n)}var zr=null,Kp=!1,ny=!1;function ak(t){zr===null?zr=[t]:zr.push(t)}function S4(t){Kp=!0,ak(t)}function Eo(){if(!ny&&zr!==null){ny=!0;var t=0,e=Le;try{var n=zr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zr=null,Kp=!1}catch(i){throw zr!==null&&(zr=zr.slice(t+1)),kN(dw,Eo),i}finally{Le=e,ny=!1}}return null}var ta=[],na=0,lh=null,uh=0,Fn=[],Bn=0,as=null,Kr=1,Jr="";function $o(t,e){ta[na++]=uh,ta[na++]=lh,lh=t,uh=e}function lk(t,e,n){Fn[Bn++]=Kr,Fn[Bn++]=Jr,Fn[Bn++]=as,as=t;var r=Kr;t=Jr;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var o=32-hr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Kr=1<<32-hr(e)+i|n<<i|r,Jr=o+t}else Kr=1<<o|n<<i|r,Jr=t}function Ew(t){t.return!==null&&($o(t,1),lk(t,1,0))}function Tw(t){for(;t===lh;)lh=ta[--na],ta[na]=null,uh=ta[--na],ta[na]=null;for(;t===as;)as=Fn[--Bn],Fn[Bn]=null,Jr=Fn[--Bn],Fn[Bn]=null,Kr=Fn[--Bn],Fn[Bn]=null}var kn=null,Nn=null,tt=!1,ar=null;function uk(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,Nn=Ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=as!==null?{id:Kr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,Nn=null,!0):!1;default:return!1}}function Iv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xv(t){if(tt){var e=Nn;if(e){var n=e;if(!xb(t,e)){if(Iv(t))throw Error(Z(418));e=Ji(n.nextSibling);var r=kn;e&&xb(t,e)?uk(r,n):(t.flags=t.flags&-4097|2,tt=!1,kn=t)}}else{if(Iv(t))throw Error(Z(418));t.flags=t.flags&-4097|2,tt=!1,kn=t}}}function Cb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function td(t){if(t!==kn)return!1;if(!tt)return Cb(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tv(t.type,t.memoizedProps)),e&&(e=Nn)){if(Iv(t))throw ck(),Error(Z(418));for(;e;)uk(t,e),e=Ji(e.nextSibling)}if(Cb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=Ji(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=kn?Ji(t.stateNode.nextSibling):null;return!0}function ck(){for(var t=Nn;t;)t=Ji(t.nextSibling)}function Ra(){Nn=kn=null,tt=!1}function Sw(t){ar===null?ar=[t]:ar.push(t)}var b4=yi.ReactCurrentBatchConfig;function ru(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function nd(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pb(t){var e=t._init;return e(t._payload)}function fk(t){function e(v,E){if(t){var S=v.deletions;S===null?(v.deletions=[E],v.flags|=16):S.push(E)}}function n(v,E){if(!t)return null;for(;E!==null;)e(v,E),E=E.sibling;return null}function r(v,E){for(v=new Map;E!==null;)E.key!==null?v.set(E.key,E):v.set(E.index,E),E=E.sibling;return v}function i(v,E){return v=Zi(v,E),v.index=0,v.sibling=null,v}function o(v,E,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<E?(v.flags|=2,E):S):(v.flags|=2,E)):(v.flags|=1048576,E)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,E,S,R){return E===null||E.tag!==6?(E=uy(S,v.mode,R),E.return=v,E):(E=i(E,S),E.return=v,E)}function l(v,E,S,R){var A=S.type;return A===Js?c(v,E,S.props.children,R,S.key):E!==null&&(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Mi&&Pb(A)===E.type)?(R=i(E,S.props),R.ref=ru(v,E,S),R.return=v,R):(R=Vd(S.type,S.key,S.props,null,v.mode,R),R.ref=ru(v,E,S),R.return=v,R)}function u(v,E,S,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=cy(S,v.mode,R),E.return=v,E):(E=i(E,S.children||[]),E.return=v,E)}function c(v,E,S,R,A){return E===null||E.tag!==7?(E=es(S,v.mode,R,A),E.return=v,E):(E=i(E,S),E.return=v,E)}function f(v,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=uy(""+E,v.mode,S),E.return=v,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gf:return S=Vd(E.type,E.key,E.props,null,v.mode,S),S.ref=ru(v,null,E),S.return=v,S;case Ks:return E=cy(E,v.mode,S),E.return=v,E;case Mi:var R=E._init;return f(v,R(E._payload),S)}if(_u(E)||Ql(E))return E=es(E,v.mode,S,null),E.return=v,E;nd(v,E)}return null}function h(v,E,S,R){var A=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:a(v,E,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gf:return S.key===A?l(v,E,S,R):null;case Ks:return S.key===A?u(v,E,S,R):null;case Mi:return A=S._init,h(v,E,A(S._payload),R)}if(_u(S)||Ql(S))return A!==null?null:c(v,E,S,R,null);nd(v,S)}return null}function g(v,E,S,R,A){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(S)||null,a(E,v,""+R,A);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Gf:return v=v.get(R.key===null?S:R.key)||null,l(E,v,R,A);case Ks:return v=v.get(R.key===null?S:R.key)||null,u(E,v,R,A);case Mi:var x=R._init;return g(v,E,S,x(R._payload),A)}if(_u(R)||Ql(R))return v=v.get(S)||null,c(E,v,R,A,null);nd(E,R)}return null}function _(v,E,S,R){for(var A=null,x=null,b=E,I=E=0,C=null;b!==null&&I<S.length;I++){b.index>I?(C=b,b=null):C=b.sibling;var M=h(v,b,S[I],R);if(M===null){b===null&&(b=C);break}t&&b&&M.alternate===null&&e(v,b),E=o(M,E,I),x===null?A=M:x.sibling=M,x=M,b=C}if(I===S.length)return n(v,b),tt&&$o(v,I),A;if(b===null){for(;I<S.length;I++)b=f(v,S[I],R),b!==null&&(E=o(b,E,I),x===null?A=b:x.sibling=b,x=b);return tt&&$o(v,I),A}for(b=r(v,b);I<S.length;I++)C=g(b,v,I,S[I],R),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?I:C.key),E=o(C,E,I),x===null?A=C:x.sibling=C,x=C);return t&&b.forEach(function(k){return e(v,k)}),tt&&$o(v,I),A}function y(v,E,S,R){var A=Ql(S);if(typeof A!="function")throw Error(Z(150));if(S=A.call(S),S==null)throw Error(Z(151));for(var x=A=null,b=E,I=E=0,C=null,M=S.next();b!==null&&!M.done;I++,M=S.next()){b.index>I?(C=b,b=null):C=b.sibling;var k=h(v,b,M.value,R);if(k===null){b===null&&(b=C);break}t&&b&&k.alternate===null&&e(v,b),E=o(k,E,I),x===null?A=k:x.sibling=k,x=k,b=C}if(M.done)return n(v,b),tt&&$o(v,I),A;if(b===null){for(;!M.done;I++,M=S.next())M=f(v,M.value,R),M!==null&&(E=o(M,E,I),x===null?A=M:x.sibling=M,x=M);return tt&&$o(v,I),A}for(b=r(v,b);!M.done;I++,M=S.next())M=g(b,v,I,M.value,R),M!==null&&(t&&M.alternate!==null&&b.delete(M.key===null?I:M.key),E=o(M,E,I),x===null?A=M:x.sibling=M,x=M);return t&&b.forEach(function(D){return e(v,D)}),tt&&$o(v,I),A}function w(v,E,S,R){if(typeof S=="object"&&S!==null&&S.type===Js&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Gf:e:{for(var A=S.key,x=E;x!==null;){if(x.key===A){if(A=S.type,A===Js){if(x.tag===7){n(v,x.sibling),E=i(x,S.props.children),E.return=v,v=E;break e}}else if(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Mi&&Pb(A)===x.type){n(v,x.sibling),E=i(x,S.props),E.ref=ru(v,x,S),E.return=v,v=E;break e}n(v,x);break}else e(v,x);x=x.sibling}S.type===Js?(E=es(S.props.children,v.mode,R,S.key),E.return=v,v=E):(R=Vd(S.type,S.key,S.props,null,v.mode,R),R.ref=ru(v,E,S),R.return=v,v=R)}return s(v);case Ks:e:{for(x=S.key;E!==null;){if(E.key===x)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(v,E.sibling),E=i(E,S.children||[]),E.return=v,v=E;break e}else{n(v,E);break}else e(v,E);E=E.sibling}E=cy(S,v.mode,R),E.return=v,v=E}return s(v);case Mi:return x=S._init,w(v,E,x(S._payload),R)}if(_u(S))return _(v,E,S,R);if(Ql(S))return y(v,E,S,R);nd(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(v,E.sibling),E=i(E,S),E.return=v,v=E):(n(v,E),E=uy(S,v.mode,R),E.return=v,v=E),s(v)):n(v,E)}return w}var Na=fk(!0),dk=fk(!1),ch=wo(null),fh=null,ra=null,bw=null;function Aw(){bw=ra=fh=null}function Iw(t){var e=ch.current;et(ch),t._currentValue=e}function Cv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pa(t,e){fh=t,bw=ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(bw!==t)if(t={context:t,memoizedValue:e,next:null},ra===null){if(fh===null)throw Error(Z(308));ra=t,fh.dependencies={lanes:0,firstContext:t}}else ra=ra.next=t;return e}var Go=null;function xw(t){Go===null?Go=[t]:Go.push(t)}function hk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xw(e)):(n.next=i.next,i.next=n),e.interleaved=n,ai(t,r)}function ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oi=!1;function Cw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ai(t,n)}return i=r.interleaved,i===null?(e.next=e,xw(r)):(e.next=i.next,i.next=e),r.interleaved=e,ai(t,n)}function kd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hw(t,n)}}function Rb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dh(t,e,n,r){var i=t.updateQueue;Oi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(h=e,g=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(g,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,h=typeof _=="function"?_.call(g,f,h):_,h==null)break e;f=at({},f,h);break e;case 2:Oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=f):c=c.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);us|=s,t.lanes=s,t.memoizedState=f}}function Nb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var uf={},Pr=wo(uf),sc=wo(uf),ac=wo(uf);function zo(t){if(t===uf)throw Error(Z(174));return t}function Pw(t,e){switch(He(ac,e),He(sc,t),He(Pr,uf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lv(e,t)}et(Pr),He(Pr,e)}function ka(){et(Pr),et(sc),et(ac)}function mk(t){zo(ac.current);var e=zo(Pr.current),n=lv(e,t.type);e!==n&&(He(sc,t),He(Pr,n))}function Rw(t){sc.current===t&&(et(Pr),et(sc))}var ot=wo(0);function hh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ry=[];function Nw(){for(var t=0;t<ry.length;t++)ry[t]._workInProgressVersionPrimary=null;ry.length=0}var Md=yi.ReactCurrentDispatcher,iy=yi.ReactCurrentBatchConfig,ls=0,st=null,bt=null,$t=null,ph=!1,Ou=!1,lc=0,A4=0;function Yt(){throw Error(Z(321))}function kw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function Mw(t,e,n,r,i,o){if(ls=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Md.current=t===null||t.memoizedState===null?P4:R4,t=n(r,i),Ou){o=0;do{if(Ou=!1,lc=0,25<=o)throw Error(Z(301));o+=1,$t=bt=null,e.updateQueue=null,Md.current=N4,t=n(r,i)}while(Ou)}if(Md.current=mh,e=bt!==null&&bt.next!==null,ls=0,$t=bt=st=null,ph=!1,e)throw Error(Z(300));return t}function Ow(){var t=lc!==0;return lc=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?st.memoizedState=$t=t:$t=$t.next=t,$t}function Yn(){if(bt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=$t===null?st.memoizedState:$t.next;if(e!==null)$t=e,bt=t;else{if(t===null)throw Error(Z(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},$t===null?st.memoizedState=$t=t:$t=$t.next=t}return $t}function uc(t,e){return typeof e=="function"?e(t):e}function oy(t){var e=Yn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ls&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,st.lanes|=c,us|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,yr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,st.lanes|=o,us|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sy(t){var e=Yn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);yr(o,e.memoizedState)||(yn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function gk(){}function yk(t,e){var n=st,r=Yn(),i=e(),o=!yr(r.memoizedState,i);if(o&&(r.memoizedState=i,yn=!0),r=r.queue,Dw(wk.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,cc(9,_k.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(Z(349));ls&30||vk(n,e,i)}return i}function vk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _k(t,e,n,r){e.value=n,e.getSnapshot=r,Ek(e)&&Tk(t)}function wk(t,e,n){return n(function(){Ek(e)&&Tk(t)})}function Ek(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function Tk(t){var e=ai(t,1);e!==null&&pr(e,t,1,-1)}function kb(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:t},e.queue=t,t=t.dispatch=C4.bind(null,st,t),[e.memoizedState,t]}function cc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Sk(){return Yn().memoizedState}function Od(t,e,n,r){var i=Sr();st.flags|=t,i.memoizedState=cc(1|e,n,void 0,r===void 0?null:r)}function Jp(t,e,n,r){var i=Yn();r=r===void 0?null:r;var o=void 0;if(bt!==null){var s=bt.memoizedState;if(o=s.destroy,r!==null&&kw(r,s.deps)){i.memoizedState=cc(e,n,o,r);return}}st.flags|=t,i.memoizedState=cc(1|e,n,o,r)}function Mb(t,e){return Od(8390656,8,t,e)}function Dw(t,e){return Jp(2048,8,t,e)}function bk(t,e){return Jp(4,2,t,e)}function Ak(t,e){return Jp(4,4,t,e)}function Ik(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xk(t,e,n){return n=n!=null?n.concat([t]):null,Jp(4,4,Ik.bind(null,e,t),n)}function Lw(){}function Ck(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pk(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Rk(t,e,n){return ls&21?(yr(n,e)||(n=DN(),st.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function I4(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=iy.transition;iy.transition={};try{t(!1),e()}finally{Le=n,iy.transition=r}}function Nk(){return Yn().memoizedState}function x4(t,e,n){var r=Qi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kk(t))Mk(e,n);else if(n=hk(t,e,n,r),n!==null){var i=dn();pr(n,t,r,i),Ok(n,e,r)}}function C4(t,e,n){var r=Qi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kk(t))Mk(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,yr(a,s)){var l=e.interleaved;l===null?(i.next=i,xw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hk(t,e,i,r),n!==null&&(i=dn(),pr(n,t,r,i),Ok(n,e,r))}}function kk(t){var e=t.alternate;return t===st||e!==null&&e===st}function Mk(t,e){Ou=ph=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ok(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hw(t,n)}}var mh={readContext:Jn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},P4={readContext:Jn,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:Mb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Od(4194308,4,Ik.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Od(4194308,4,t,e)},useInsertionEffect:function(t,e){return Od(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=x4.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:kb,useDebugValue:Lw,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=kb(!1),e=t[0];return t=I4.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=Sr();if(tt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Ut===null)throw Error(Z(349));ls&30||vk(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Mb(wk.bind(null,r,o,t),[t]),r.flags|=2048,cc(9,_k.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Sr(),e=Ut.identifierPrefix;if(tt){var n=Jr,r=Kr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=A4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R4={readContext:Jn,useCallback:Ck,useContext:Jn,useEffect:Dw,useImperativeHandle:xk,useInsertionEffect:bk,useLayoutEffect:Ak,useMemo:Pk,useReducer:oy,useRef:Sk,useState:function(){return oy(uc)},useDebugValue:Lw,useDeferredValue:function(t){var e=Yn();return Rk(e,bt.memoizedState,t)},useTransition:function(){var t=oy(uc)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:gk,useSyncExternalStore:yk,useId:Nk,unstable_isNewReconciler:!1},N4={readContext:Jn,useCallback:Ck,useContext:Jn,useEffect:Dw,useImperativeHandle:xk,useInsertionEffect:bk,useLayoutEffect:Ak,useMemo:Pk,useReducer:sy,useRef:Sk,useState:function(){return sy(uc)},useDebugValue:Lw,useDeferredValue:function(t){var e=Yn();return bt===null?e.memoizedState=t:Rk(e,bt.memoizedState,t)},useTransition:function(){var t=sy(uc)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:gk,useSyncExternalStore:yk,useId:Nk,unstable_isNewReconciler:!1};function ir(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yp={isMounted:function(t){return(t=t._reactInternals)?Ss(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Qi(t),o=ei(r,i);o.payload=e,n!=null&&(o.callback=n),e=Yi(t,o,i),e!==null&&(pr(e,t,i,r),kd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=Qi(t),o=ei(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Yi(t,o,i),e!==null&&(pr(e,t,i,r),kd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=Qi(t),i=ei(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yi(t,i,r),e!==null&&(pr(e,t,r,n),kd(e,t,r))}};function Ob(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!nc(n,r)||!nc(i,o):!0}function Dk(t,e,n){var r=!1,i=lo,o=e.contextType;return typeof o=="object"&&o!==null?o=Jn(o):(i=wn(e)?ss:an.current,r=e.contextTypes,o=(r=r!=null)?Pa(t,i):lo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Db(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yp.enqueueReplaceState(e,e.state,null)}function Rv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Cw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jn(o):(o=wn(e)?ss:an.current,i.context=Pa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Pv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yp.enqueueReplaceState(i,i.state,null),dh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ma(t,e){try{var n="",r=e;do n+=oF(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ay(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var k4=typeof WeakMap=="function"?WeakMap:Map;function Lk(t,e,n){n=ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yh||(yh=!0,Bv=r),Nv(t,e)},n}function $k(t,e,n){n=ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Nv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Nv(t,e),typeof r!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Lb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new k4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=z4.bind(null,t,e,n),e.then(t,t))}function $b(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ei(-1,1),e.tag=2,Yi(n,e,1))),n.lanes|=1),t)}var M4=yi.ReactCurrentOwner,yn=!1;function cn(t,e,n,r){e.child=t===null?dk(e,null,n,r):Na(e,t.child,n,r)}function Ub(t,e,n,r,i){n=n.render;var o=e.ref;return pa(e,i),r=Mw(t,e,n,r,o,i),n=Ow(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(tt&&n&&Ew(e),e.flags|=1,cn(t,e,r,i),e.child)}function Fb(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Hw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Vk(t,e,o,r,i)):(t=Vd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:nc,n(s,r)&&t.ref===e.ref)return li(t,e,i)}return e.flags|=1,t=Zi(o,r),t.ref=e.ref,t.return=e,e.child=t}function Vk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(nc(o,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,li(t,e,i)}return kv(t,e,n,r,i)}function Uk(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(oa,xn),xn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(oa,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,He(oa,xn),xn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,He(oa,xn),xn|=r;return cn(t,e,i,n),e.child}function Fk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kv(t,e,n,r,i){var o=wn(n)?ss:an.current;return o=Pa(e,o),pa(e,i),n=Mw(t,e,n,r,o,i),r=Ow(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(tt&&r&&Ew(e),e.flags|=1,cn(t,e,n,i),e.child)}function Bb(t,e,n,r,i){if(wn(n)){var o=!0;ah(e)}else o=!1;if(pa(e,i),e.stateNode===null)Dd(t,e),Dk(e,n,r),Rv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=wn(n)?ss:an.current,u=Pa(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Db(e,s,r,u),Oi=!1;var h=e.memoizedState;s.state=h,dh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||_n.current||Oi?(typeof c=="function"&&(Pv(e,n,c,r),l=e.memoizedState),(a=Oi||Ob(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,pk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ir(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=wn(n)?ss:an.current,l=Pa(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Db(e,s,r,l),Oi=!1,h=e.memoizedState,s.state=h,dh(e,r,s,i);var _=e.memoizedState;a!==f||h!==_||_n.current||Oi?(typeof g=="function"&&(Pv(e,n,g,r),_=e.memoizedState),(u=Oi||Ob(e,n,u,r,h,_,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Mv(t,e,n,r,o,i)}function Mv(t,e,n,r,i,o){Fk(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Ib(e,n,!1),li(t,e,o);r=e.stateNode,M4.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Na(e,t.child,null,o),e.child=Na(e,null,a,o)):cn(t,e,a,o),e.memoizedState=r.state,i&&Ib(e,n,!0),e.child}function Bk(t){var e=t.stateNode;e.pendingContext?Ab(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ab(t,e.context,!1),Pw(t,e.containerInfo)}function qb(t,e,n,r,i){return Ra(),Sw(i),e.flags|=256,cn(t,e,n,r),e.child}var Ov={dehydrated:null,treeContext:null,retryLane:0};function Dv(t){return{baseLanes:t,cachePool:null,transitions:null}}function qk(t,e,n){var r=e.pendingProps,i=ot.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(ot,i&1),t===null)return xv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Zp(s,r,0,null),t=es(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Dv(n),e.memoizedState=Ov,t):$w(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return O4(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Zi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Zi(a,o):(o=es(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Dv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ov,r}return o=t.child,t=o.sibling,r=Zi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $w(t,e){return e=Zp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rd(t,e,n,r){return r!==null&&Sw(r),Na(e,t.child,null,n),t=$w(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function O4(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=ay(Error(Z(422))),rd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Zp({mode:"visible",children:r.children},i,0,null),o=es(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Na(e,t.child,null,s),e.child.memoizedState=Dv(s),e.memoizedState=Ov,o);if(!(e.mode&1))return rd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Z(419)),r=ay(o,r,void 0),rd(t,e,s,r)}if(a=(s&t.childLanes)!==0,yn||a){if(r=Ut,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ai(t,i),pr(r,t,i,-1))}return jw(),r=ay(Error(Z(421))),rd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=W4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nn=Ji(i.nextSibling),kn=e,tt=!0,ar=null,t!==null&&(Fn[Bn++]=Kr,Fn[Bn++]=Jr,Fn[Bn++]=as,Kr=t.id,Jr=t.overflow,as=e),e=$w(e,r.children),e.flags|=4096,e)}function jb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cv(t.return,e,n)}function ly(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(cn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jb(t,n,e);else if(t.tag===19)jb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ly(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ly(e,!0,n,null,o);break;case"together":ly(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function D4(t,e,n){switch(e.tag){case 3:Bk(e),Ra();break;case 5:mk(e);break;case 1:wn(e.type)&&ah(e);break;case 4:Pw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(ch,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?qk(t,e,n):(He(ot,ot.current&1),t=li(t,e,n),t!==null?t.sibling:null);He(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,Uk(t,e,n)}return li(t,e,n)}var Hk,Lv,Gk,zk;Hk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lv=function(){};Gk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zo(Pr.current);var o=null;switch(n){case"input":i=iv(t,i),r=iv(t,r),o=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":i=av(t,i),r=av(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oh)}uv(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ju.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ju.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};zk=function(t,e,n,r){n!==r&&(e.flags|=4)};function iu(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function L4(t,e,n){var r=e.pendingProps;switch(Tw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return wn(e.type)&&sh(),Xt(e),null;case 3:return r=e.stateNode,ka(),et(_n),et(an),Nw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(td(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(Hv(ar),ar=null))),Lv(t,e),Xt(e),null;case 5:Rw(e);var i=zo(ac.current);if(n=e.type,t!==null&&e.stateNode!=null)Gk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Xt(e),null}if(t=zo(Pr.current),td(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ir]=e,r[oc]=o,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<Eu.length;i++)Ke(Eu[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":QS(r,o),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",r);break;case"textarea":eb(r,o),Ke("invalid",r)}uv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ed(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ed(r.textContent,a,t),i=["children",""+a]):Ju.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ke("scroll",r)}switch(n){case"input":zf(r),ZS(r,o,!0);break;case"textarea":zf(r),tb(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=oh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ir]=e,t[oc]=r,Hk(t,e,!1,!1),e.stateNode=t;e:{switch(s=cv(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<Eu.length;i++)Ke(Eu[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":QS(t,r),i=iv(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":eb(t,r),i=av(t,r),Ke("invalid",t);break;default:i=r}uv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?SN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yu(t,l):typeof l=="number"&&Yu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ju.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ke("scroll",t):l!=null&&aw(t,o,l,s))}switch(n){case"input":zf(t),ZS(t,r,!1);break;case"textarea":zf(t),tb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ao(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ca(t,!!r.multiple,o,!1):r.defaultValue!=null&&ca(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)zk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=zo(ac.current),zo(Pr.current),td(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(o=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:ed(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ed(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Xt(e),null;case 13:if(et(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Nn!==null&&e.mode&1&&!(e.flags&128))ck(),Ra(),e.flags|=98560,o=!1;else if(o=td(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[Ir]=e}else Ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),o=!1}else ar!==null&&(Hv(ar),ar=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?It===0&&(It=3):jw())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return ka(),Lv(t,e),t===null&&rc(e.stateNode.containerInfo),Xt(e),null;case 10:return Iw(e.type._context),Xt(e),null;case 17:return wn(e.type)&&sh(),Xt(e),null;case 19:if(et(ot),o=e.memoizedState,o===null)return Xt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)iu(o,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=hh(t),s!==null){for(e.flags|=128,iu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(ot,ot.current&1|2),e.child}t=t.sibling}o.tail!==null&&pt()>Oa&&(e.flags|=128,r=!0,iu(o,!1),e.lanes=4194304)}else{if(!r)if(t=hh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),iu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!tt)return Xt(e),null}else 2*pt()-o.renderingStartTime>Oa&&n!==1073741824&&(e.flags|=128,r=!0,iu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,n=ot.current,He(ot,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return qw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function $4(t,e){switch(Tw(e),e.tag){case 1:return wn(e.type)&&sh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ka(),et(_n),et(an),Nw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rw(e),null;case 13:if(et(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(ot),null;case 4:return ka(),null;case 10:return Iw(e.type._context),null;case 22:case 23:return qw(),null;case 24:return null;default:return null}}var id=!1,nn=!1,V4=typeof WeakSet=="function"?WeakSet:Set,se=null;function ia(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function $v(t,e,n){try{n()}catch(r){ct(t,e,r)}}var Hb=!1;function U4(t,e){if(wv=nh,t=XN(),ww(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ev={focusedElem:t,selectionRange:n},nh=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,w=_.memoizedState,v=e.stateNode,E=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:ir(e.type,y),w);v.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(R){ct(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return _=Hb,Hb=!1,_}function Du(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&$v(e,n,o)}i=i.next}while(i!==r)}}function Xp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Wk(t){var e=t.alternate;e!==null&&(t.alternate=null,Wk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[oc],delete e[bv],delete e[E4],delete e[T4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Kk(t){return t.tag===5||t.tag===3||t.tag===4}function Gb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Kk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oh));else if(r!==4&&(t=t.child,t!==null))for(Uv(t,e,n),t=t.sibling;t!==null;)Uv(t,e,n),t=t.sibling}function Fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fv(t,e,n),t=t.sibling;t!==null;)Fv(t,e,n),t=t.sibling}var qt=null,or=!1;function Ni(t,e,n){for(n=n.child;n!==null;)Jk(t,e,n),n=n.sibling}function Jk(t,e,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(jp,n)}catch{}switch(n.tag){case 5:nn||ia(n,e);case 6:var r=qt,i=or;qt=null,Ni(t,e,n),qt=r,or=i,qt!==null&&(or?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(or?(t=qt,n=n.stateNode,t.nodeType===8?ty(t.parentNode,n):t.nodeType===1&&ty(t,n),ec(t)):ty(qt,n.stateNode));break;case 4:r=qt,i=or,qt=n.stateNode.containerInfo,or=!0,Ni(t,e,n),qt=r,or=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&$v(n,e,s),i=i.next}while(i!==r)}Ni(t,e,n);break;case 1:if(!nn&&(ia(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Ni(t,e,n),nn=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function zb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new V4),e.forEach(function(r){var i=K4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,or=!1;break e;case 3:qt=a.stateNode.containerInfo,or=!0;break e;case 4:qt=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(qt===null)throw Error(Z(160));Jk(o,s,i),qt=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yk(e,t),e=e.sibling}function Yk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),Tr(t),r&4){try{Du(3,t,t.return),Xp(3,t)}catch(y){ct(t,t.return,y)}try{Du(5,t,t.return)}catch(y){ct(t,t.return,y)}}break;case 1:nr(e,t),Tr(t),r&512&&n!==null&&ia(n,n.return);break;case 5:if(nr(e,t),Tr(t),r&512&&n!==null&&ia(n,n.return),t.flags&32){var i=t.stateNode;try{Yu(i,"")}catch(y){ct(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&vN(i,o),cv(a,s);var u=cv(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?SN(i,f):c==="dangerouslySetInnerHTML"?EN(i,f):c==="children"?Yu(i,f):aw(i,c,f,u)}switch(a){case"input":ov(i,o);break;case"textarea":_N(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ca(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?ca(i,!!o.multiple,o.defaultValue,!0):ca(i,!!o.multiple,o.multiple?[]:"",!1))}i[oc]=o}catch(y){ct(t,t.return,y)}}break;case 6:if(nr(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){ct(t,t.return,y)}}break;case 3:if(nr(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ec(e.containerInfo)}catch(y){ct(t,t.return,y)}break;case 4:nr(e,t),Tr(t);break;case 13:nr(e,t),Tr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Fw=pt())),r&4&&zb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(u=nn)||c,nr(e,t),nn=u):nr(e,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(f=se=c;se!==null;){switch(h=se,g=h.child,h.tag){case 0:case 11:case 14:case 15:Du(4,h,h.return);break;case 1:ia(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){ct(r,n,y)}}break;case 5:ia(h,h.return);break;case 22:if(h.memoizedState!==null){Kb(f);continue}}g!==null?(g.return=h,se=g):Kb(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=TN("display",s))}catch(y){ct(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ct(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nr(e,t),Tr(t),r&4&&zb(t);break;case 21:break;default:nr(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Kk(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yu(i,""),r.flags&=-33);var o=Gb(t);Fv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Gb(t);Uv(t,a,s);break;default:throw Error(Z(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F4(t,e,n){se=t,Xk(t)}function Xk(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||id;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nn;a=id;var u=nn;if(id=s,(nn=l)&&!u)for(se=i;se!==null;)s=se,l=s.child,s.tag===22&&s.memoizedState!==null?Jb(i):l!==null?(l.return=s,se=l):Jb(i);for(;o!==null;)se=o,Xk(o),o=o.sibling;se=i,id=a,nn=u}Wb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):Wb(t)}}function Wb(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Xp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Nb(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nb(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ec(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}nn||e.flags&512&&Vv(e)}catch(h){ct(e,e.return,h)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Kb(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Jb(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xp(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ct(e,i,l)}}var o=e.return;try{Vv(e)}catch(l){ct(e,o,l)}break;case 5:var s=e.return;try{Vv(e)}catch(l){ct(e,s,l)}}}catch(l){ct(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var B4=Math.ceil,gh=yi.ReactCurrentDispatcher,Vw=yi.ReactCurrentOwner,zn=yi.ReactCurrentBatchConfig,Ce=0,Ut=null,vt=null,zt=0,xn=0,oa=wo(0),It=0,fc=null,us=0,Qp=0,Uw=0,Lu=null,gn=null,Fw=0,Oa=1/0,Gr=null,yh=!1,Bv=null,Xi=null,od=!1,qi=null,vh=0,$u=0,qv=null,Ld=-1,$d=0;function dn(){return Ce&6?pt():Ld!==-1?Ld:Ld=pt()}function Qi(t){return t.mode&1?Ce&2&&zt!==0?zt&-zt:b4.transition!==null?($d===0&&($d=DN()),$d):(t=Le,t!==0||(t=window.event,t=t===void 0?16:qN(t.type)),t):1}function pr(t,e,n,r){if(50<$u)throw $u=0,qv=null,Error(Z(185));sf(t,n,r),(!(Ce&2)||t!==Ut)&&(t===Ut&&(!(Ce&2)&&(Qp|=n),It===4&&$i(t,zt)),En(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Oa=pt()+500,Kp&&Eo()))}function En(t,e){var n=t.callbackNode;bF(t,e);var r=th(t,t===Ut?zt:0);if(r===0)n!==null&&ib(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ib(n),e===1)t.tag===0?S4(Yb.bind(null,t)):ak(Yb.bind(null,t)),_4(function(){!(Ce&6)&&Eo()}),n=null;else{switch(LN(r)){case 1:n=dw;break;case 4:n=MN;break;case 16:n=eh;break;case 536870912:n=ON;break;default:n=eh}n=oM(n,Qk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Qk(t,e){if(Ld=-1,$d=0,Ce&6)throw Error(Z(327));var n=t.callbackNode;if(ma()&&t.callbackNode!==n)return null;var r=th(t,t===Ut?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_h(t,r);else{e=r;var i=Ce;Ce|=2;var o=eM();(Ut!==t||zt!==e)&&(Gr=null,Oa=pt()+500,Zo(t,e));do try{H4();break}catch(a){Zk(t,a)}while(!0);Aw(),gh.current=o,Ce=i,vt!==null?e=0:(Ut=null,zt=0,e=It)}if(e!==0){if(e===2&&(i=mv(t),i!==0&&(r=i,e=jv(t,i))),e===1)throw n=fc,Zo(t,0),$i(t,r),En(t,pt()),n;if(e===6)$i(t,r);else{if(i=t.current.alternate,!(r&30)&&!q4(i)&&(e=_h(t,r),e===2&&(o=mv(t),o!==0&&(r=o,e=jv(t,o))),e===1))throw n=fc,Zo(t,0),$i(t,r),En(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Vo(t,gn,Gr);break;case 3:if($i(t,r),(r&130023424)===r&&(e=Fw+500-pt(),10<e)){if(th(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sv(Vo.bind(null,t,gn,Gr),e);break}Vo(t,gn,Gr);break;case 4:if($i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-hr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B4(r/1960))-r,10<r){t.timeoutHandle=Sv(Vo.bind(null,t,gn,Gr),r);break}Vo(t,gn,Gr);break;case 5:Vo(t,gn,Gr);break;default:throw Error(Z(329))}}}return En(t,pt()),t.callbackNode===n?Qk.bind(null,t):null}function jv(t,e){var n=Lu;return t.current.memoizedState.isDehydrated&&(Zo(t,e).flags|=256),t=_h(t,e),t!==2&&(e=gn,gn=n,e!==null&&Hv(e)),t}function Hv(t){gn===null?gn=t:gn.push.apply(gn,t)}function q4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~Uw,e&=~Qp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function Yb(t){if(Ce&6)throw Error(Z(327));ma();var e=th(t,0);if(!(e&1))return En(t,pt()),null;var n=_h(t,e);if(t.tag!==0&&n===2){var r=mv(t);r!==0&&(e=r,n=jv(t,r))}if(n===1)throw n=fc,Zo(t,0),$i(t,e),En(t,pt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vo(t,gn,Gr),En(t,pt()),null}function Bw(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Oa=pt()+500,Kp&&Eo())}}function cs(t){qi!==null&&qi.tag===0&&!(Ce&6)&&ma();var e=Ce;Ce|=1;var n=zn.transition,r=Le;try{if(zn.transition=null,Le=1,t)return t()}finally{Le=r,zn.transition=n,Ce=e,!(Ce&6)&&Eo()}}function qw(){xn=oa.current,et(oa)}function Zo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,v4(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Tw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sh();break;case 3:ka(),et(_n),et(an),Nw();break;case 5:Rw(r);break;case 4:ka();break;case 13:et(ot);break;case 19:et(ot);break;case 10:Iw(r.type._context);break;case 22:case 23:qw()}n=n.return}if(Ut=t,vt=t=Zi(t.current,null),zt=xn=e,It=0,fc=null,Uw=Qp=us=0,gn=Lu=null,Go!==null){for(e=0;e<Go.length;e++)if(n=Go[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Go=null}return t}function Zk(t,e){do{var n=vt;try{if(Aw(),Md.current=mh,ph){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ph=!1}if(ls=0,$t=bt=st=null,Ou=!1,lc=0,Vw.current=null,n===null||n.return===null){It=1,fc=e,vt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=$b(s);if(g!==null){g.flags&=-257,Vb(g,s,a,o,e),g.mode&1&&Lb(o,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){Lb(o,u,e),jw();break e}l=Error(Z(426))}}else if(tt&&a.mode&1){var w=$b(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vb(w,s,a,o,e),Sw(Ma(l,a));break e}}o=l=Ma(l,a),It!==4&&(It=2),Lu===null?Lu=[o]:Lu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=Lk(o,l,e);Rb(o,v);break e;case 1:a=l;var E=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Xi===null||!Xi.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=$k(o,a,e);Rb(o,R);break e}}o=o.return}while(o!==null)}nM(n)}catch(A){e=A,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function eM(){var t=gh.current;return gh.current=mh,t===null?mh:t}function jw(){(It===0||It===3||It===2)&&(It=4),Ut===null||!(us&268435455)&&!(Qp&268435455)||$i(Ut,zt)}function _h(t,e){var n=Ce;Ce|=2;var r=eM();(Ut!==t||zt!==e)&&(Gr=null,Zo(t,e));do try{j4();break}catch(i){Zk(t,i)}while(!0);if(Aw(),Ce=n,gh.current=r,vt!==null)throw Error(Z(261));return Ut=null,zt=0,It}function j4(){for(;vt!==null;)tM(vt)}function H4(){for(;vt!==null&&!mF();)tM(vt)}function tM(t){var e=iM(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?nM(t):vt=e,Vw.current=null}function nM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$4(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,vt=null;return}}else if(n=L4(n,e,xn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);It===0&&(It=5)}function Vo(t,e,n){var r=Le,i=zn.transition;try{zn.transition=null,Le=1,G4(t,e,n,r)}finally{zn.transition=i,Le=r}return null}function G4(t,e,n,r){do ma();while(qi!==null);if(Ce&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(AF(t,o),t===Ut&&(vt=Ut=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||od||(od=!0,oM(eh,function(){return ma(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zn.transition,zn.transition=null;var s=Le;Le=1;var a=Ce;Ce|=4,Vw.current=null,U4(t,n),Yk(n,t),f4(Ev),nh=!!wv,Ev=wv=null,t.current=n,F4(n),gF(),Ce=a,Le=s,zn.transition=o}else t.current=n;if(od&&(od=!1,qi=t,vh=i),o=t.pendingLanes,o===0&&(Xi=null),_F(n.stateNode),En(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yh)throw yh=!1,t=Bv,Bv=null,t;return vh&1&&t.tag!==0&&ma(),o=t.pendingLanes,o&1?t===qv?$u++:($u=0,qv=t):$u=0,Eo(),null}function ma(){if(qi!==null){var t=LN(vh),e=zn.transition,n=Le;try{if(zn.transition=null,Le=16>t?16:t,qi===null)var r=!1;else{if(t=qi,qi=null,vh=0,Ce&6)throw Error(Z(331));var i=Ce;for(Ce|=4,se=t.current;se!==null;){var o=se,s=o.child;if(se.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:Du(8,c,o)}var f=c.child;if(f!==null)f.return=c,se=f;else for(;se!==null;){c=se;var h=c.sibling,g=c.return;if(Wk(c),c===u){se=null;break}if(h!==null){h.return=g,se=h;break}se=g}}}var _=o.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}se=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,se=s;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Du(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,se=v;break e}se=o.return}}var E=t.current;for(se=E;se!==null;){s=se;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,se=S;else e:for(s=E;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xp(9,a)}}catch(A){ct(a,a.return,A)}if(a===s){se=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,se=R;break e}se=a.return}}if(Ce=i,Eo(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(jp,t)}catch{}r=!0}return r}finally{Le=n,zn.transition=e}}return!1}function Xb(t,e,n){e=Ma(n,e),e=Lk(t,e,1),t=Yi(t,e,1),e=dn(),t!==null&&(sf(t,1,e),En(t,e))}function ct(t,e,n){if(t.tag===3)Xb(t,t,n);else for(;e!==null;){if(e.tag===3){Xb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xi===null||!Xi.has(r))){t=Ma(n,t),t=$k(e,t,1),e=Yi(e,t,1),t=dn(),e!==null&&(sf(e,1,t),En(e,t));break}}e=e.return}}function z4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(zt&n)===n&&(It===4||It===3&&(zt&130023424)===zt&&500>pt()-Fw?Zo(t,0):Uw|=n),En(t,e)}function rM(t,e){e===0&&(t.mode&1?(e=Jf,Jf<<=1,!(Jf&130023424)&&(Jf=4194304)):e=1);var n=dn();t=ai(t,e),t!==null&&(sf(t,e,n),En(t,n))}function W4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rM(t,n)}function K4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),rM(t,n)}var iM;iM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,D4(t,e,n);yn=!!(t.flags&131072)}else yn=!1,tt&&e.flags&1048576&&lk(e,uh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dd(t,e),t=e.pendingProps;var i=Pa(e,an.current);pa(e,n),i=Mw(null,e,r,t,i,n);var o=Ow();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(o=!0,ah(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cw(e),i.updater=Yp,e.stateNode=i,i._reactInternals=e,Rv(e,r,t,n),e=Mv(null,e,r,!0,o,n)):(e.tag=0,tt&&o&&Ew(e),cn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Y4(r),t=ir(r,t),i){case 0:e=kv(null,e,r,t,n);break e;case 1:e=Bb(null,e,r,t,n);break e;case 11:e=Ub(null,e,r,t,n);break e;case 14:e=Fb(null,e,r,ir(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),kv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Bb(t,e,r,i,n);case 3:e:{if(Bk(e),t===null)throw Error(Z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,pk(t,e),dh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ma(Error(Z(423)),e),e=qb(t,e,r,n,i);break e}else if(r!==i){i=Ma(Error(Z(424)),e),e=qb(t,e,r,n,i);break e}else for(Nn=Ji(e.stateNode.containerInfo.firstChild),kn=e,tt=!0,ar=null,n=dk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ra(),r===i){e=li(t,e,n);break e}cn(t,e,r,n)}e=e.child}return e;case 5:return mk(e),t===null&&xv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Tv(r,i)?s=null:o!==null&&Tv(r,o)&&(e.flags|=32),Fk(t,e),cn(t,e,s,n),e.child;case 6:return t===null&&xv(e),null;case 13:return qk(t,e,n);case 4:return Pw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Na(e,null,r,n):cn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Ub(t,e,r,i,n);case 7:return cn(t,e,e.pendingProps,n),e.child;case 8:return cn(t,e,e.pendingProps.children,n),e.child;case 12:return cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,He(ch,r._currentValue),r._currentValue=s,o!==null)if(yr(o.value,s)){if(o.children===i.children&&!_n.current){e=li(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ei(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Cv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Cv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pa(e,n),i=Jn(i),r=r(i),e.flags|=1,cn(t,e,r,n),e.child;case 14:return r=e.type,i=ir(r,e.pendingProps),i=ir(r.type,i),Fb(t,e,r,i,n);case 15:return Vk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Dd(t,e),e.tag=1,wn(r)?(t=!0,ah(e)):t=!1,pa(e,n),Dk(e,r,i),Rv(e,r,i,n),Mv(null,e,r,!0,t,n);case 19:return jk(t,e,n);case 22:return Uk(t,e,n)}throw Error(Z(156,e.tag))};function oM(t,e){return kN(t,e)}function J4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new J4(t,e,n,r)}function Hw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y4(t){if(typeof t=="function")return Hw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uw)return 11;if(t===cw)return 14}return 2}function Zi(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vd(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Hw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Js:return es(n.children,i,o,e);case lw:s=8,i|=8;break;case ev:return t=Hn(12,n,e,i|2),t.elementType=ev,t.lanes=o,t;case tv:return t=Hn(13,n,e,i),t.elementType=tv,t.lanes=o,t;case nv:return t=Hn(19,n,e,i),t.elementType=nv,t.lanes=o,t;case mN:return Zp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hN:s=10;break e;case pN:s=9;break e;case uw:s=11;break e;case cw:s=14;break e;case Mi:s=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Hn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function es(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function Zp(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=mN,t.lanes=n,t.stateNode={isHidden:!1},t}function uy(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function cy(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hg(0),this.expirationTimes=Hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gw(t,e,n,r,i,o,s,a,l){return t=new X4(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cw(o),t}function Q4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sM(t){if(!t)return lo;t=t._reactInternals;e:{if(Ss(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(wn(n))return sk(t,n,e)}return e}function aM(t,e,n,r,i,o,s,a,l){return t=Gw(n,r,!0,t,i,o,s,a,l),t.context=sM(null),n=t.current,r=dn(),i=Qi(n),o=ei(r,i),o.callback=e??null,Yi(n,o,i),t.current.lanes=i,sf(t,i,r),En(t,r),t}function em(t,e,n,r){var i=e.current,o=dn(),s=Qi(i);return n=sM(n),e.context===null?e.context=n:e.pendingContext=n,e=ei(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yi(i,e,s),t!==null&&(pr(t,i,s,o),kd(t,i,s)),s}function wh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zw(t,e){Qb(t,e),(t=t.alternate)&&Qb(t,e)}function Z4(){return null}var lM=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ww(t){this._internalRoot=t}tm.prototype.render=Ww.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));em(t,e,null,null)};tm.prototype.unmount=Ww.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){em(null,t,null,null)}),e[si]=null}};function tm(t){this._internalRoot=t}tm.prototype.unstable_scheduleHydration=function(t){if(t){var e=UN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&BN(t)}};function Kw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zb(){}function eB(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=wh(s);o.call(u)}}var s=aM(e,r,t,0,null,!1,!1,"",Zb);return t._reactRootContainer=s,t[si]=s.current,rc(t.nodeType===8?t.parentNode:t),cs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=wh(l);a.call(u)}}var l=Gw(t,0,!1,null,null,!1,!1,"",Zb);return t._reactRootContainer=l,t[si]=l.current,rc(t.nodeType===8?t.parentNode:t),cs(function(){em(e,l,n,r)}),l}function rm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=wh(s);a.call(l)}}em(e,s,t,i)}else s=eB(n,e,t,i,r);return wh(s)}$N=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wu(e.pendingLanes);n!==0&&(hw(e,n|1),En(e,pt()),!(Ce&6)&&(Oa=pt()+500,Eo()))}break;case 13:cs(function(){var r=ai(t,1);if(r!==null){var i=dn();pr(r,t,1,i)}}),zw(t,1)}};pw=function(t){if(t.tag===13){var e=ai(t,134217728);if(e!==null){var n=dn();pr(e,t,134217728,n)}zw(t,134217728)}};VN=function(t){if(t.tag===13){var e=Qi(t),n=ai(t,e);if(n!==null){var r=dn();pr(n,t,e,r)}zw(t,e)}};UN=function(){return Le};FN=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};dv=function(t,e,n){switch(e){case"input":if(ov(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wp(r);if(!i)throw Error(Z(90));yN(r),ov(r,i)}}}break;case"textarea":_N(t,n);break;case"select":e=n.value,e!=null&&ca(t,!!n.multiple,e,!1)}};IN=Bw;xN=cs;var tB={usingClientEntryPoint:!1,Events:[lf,Zs,Wp,bN,AN,Bw]},ou={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nB={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=RN(t),t===null?null:t.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||Z4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{jp=sd.inject(nB),Cr=sd}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tB;On.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kw(e))throw Error(Z(200));return Q4(t,e,null,n)};On.createRoot=function(t,e){if(!Kw(t))throw Error(Z(299));var n=!1,r="",i=lM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gw(t,1,!1,null,null,n,!1,r,i),t[si]=e.current,rc(t.nodeType===8?t.parentNode:t),new Ww(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=RN(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return cs(t)};On.hydrate=function(t,e,n){if(!nm(e))throw Error(Z(200));return rm(null,t,e,!0,n)};On.hydrateRoot=function(t,e,n){if(!Kw(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=lM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=aM(e,null,t,1,n??null,i,!1,o,s),t[si]=e.current,rc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tm(e)};On.render=function(t,e,n){if(!nm(e))throw Error(Z(200));return rm(null,t,e,!1,n)};On.unmountComponentAtNode=function(t){if(!nm(t))throw Error(Z(40));return t._reactRootContainer?(cs(function(){rm(null,null,t,!1,function(){t._reactRootContainer=null,t[si]=null})}),!0):!1};On.unstable_batchedUpdates=Bw;On.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nm(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return rm(t,e,n,!1,r)};On.version="18.3.1-next-f1338f8080-20240426";function uM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uM)}catch(t){console.error(t)}}uM(),uN.exports=On;var rB=uN.exports,eA=rB;Qy.createRoot=eA.createRoot,Qy.hydrateRoot=eA.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(this,arguments)}var ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ji||(ji={}));const tA="popstate";function iB(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=bs(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Gv("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:cM(o))}function r(i,o){im(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return sB(e,n,r,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function im(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oB(){return Math.random().toString(36).substr(2,8)}function nA(t,e){return{usr:t.state,key:t.key,idx:e}}function Gv(t,e,n,r){return n===void 0&&(n=null),dc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bs(e):e,{state:n,key:e&&e.key||r||oB()})}function cM(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ji.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(dc({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=ji.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:v})}function h(w,v){a=ji.Push;let E=Gv(y.location,w,v);n&&n(E,w),u=c()+1;let S=nA(E,u),R=y.createHref(E);try{s.pushState(S,"",R)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(R)}o&&l&&l({action:a,location:y.location,delta:1})}function g(w,v){a=ji.Replace;let E=Gv(y.location,w,v);n&&n(E,w),u=c();let S=nA(E,u),R=y.createHref(E);s.replaceState(S,"",R),o&&l&&l({action:a,location:y.location,delta:0})}function _(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:cM(w);return E=E.replace(/ $/,"%20"),Pt(v,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,v)}let y={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tA,f),l=w,()=>{i.removeEventListener(tA,f),l=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let v=_(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:g,go(w){return s.go(w)}};return y}var rA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rA||(rA={}));function aB(t,e,n){return n===void 0&&(n="/"),lB(t,e,n)}function lB(t,e,n,r){let i=typeof e=="string"?bs(e):e,o=hM(i.pathname||"/",n);if(o==null)return null;let s=fM(t);uB(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=EB(o);a=vB(s[l],u)}return a}function fM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ts([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fM(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:gB(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of dM(o.path))i(o,s,l)}),e}function dM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=dM(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function uB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cB=/^:[\w-]+$/,fB=3,dB=2,hB=1,pB=10,mB=-2,iA=t=>t==="*";function gB(t,e){let n=t.split("/"),r=n.length;return n.some(iA)&&(r+=mB),e&&(r+=dB),n.filter(i=>!iA(i)).reduce((i,o)=>i+(cB.test(o)?fB:o===""?hB:pB),r)}function yB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vB(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=_B({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ts([o,f.pathname]),pathnameBase:CB(ts([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ts([o,f.pathnameBase]))}return s}function _B(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:g}=c;if(h==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const _=a[f];return g&&!_?u[h]=void 0:u[h]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function wB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),im(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return im(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const TB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SB=t=>TB.test(t);function bB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bs(t):t,o;if(n)if(SB(n))o=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),im(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?o=oA(n.substring(1),"/"):o=oA(n,e)}else o=e;return{pathname:o,search:PB(r),hash:RB(i)}}function oA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function IB(t,e){let n=AB(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xB(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bs(t):(i=dc({},t),Pt(!i.pathname||!i.pathname.includes("?"),fy("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),fy("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),fy("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=bB(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),CB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pM=["post","put","patch","delete"];new Set(pM);const kB=["get",...pM];new Set(kB);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hc.apply(this,arguments)}const Jw=$.createContext(null),MB=$.createContext(null),om=$.createContext(null),sm=$.createContext(null),dl=$.createContext({outlet:null,matches:[],isDataRoute:!1}),mM=$.createContext(null);function am(){return $.useContext(sm)!=null}function cf(){return am()||Pt(!1),$.useContext(sm).location}function gM(t){$.useContext(om).static||$.useLayoutEffect(t)}function hl(){let{isDataRoute:t}=$.useContext(dl);return t?zB():OB()}function OB(){am()||Pt(!1);let t=$.useContext(Jw),{basename:e,future:n,navigator:r}=$.useContext(om),{matches:i}=$.useContext(dl),{pathname:o}=cf(),s=JSON.stringify(IB(i,n.v7_relativeSplatPath)),a=$.useRef(!1);return gM(()=>{a.current=!0}),$.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=xB(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ts([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function DB(t,e){return LB(t,e)}function LB(t,e,n,r){am()||Pt(!1);let{navigator:i}=$.useContext(om),{matches:o}=$.useContext(dl),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=cf(),c;if(e){var f;let w=typeof e=="string"?bs(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Pt(!1),c=w}else c=u;let h=c.pathname||"/",g=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=aB(t,{pathname:g}),y=BB(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:ts([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ts([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&y?$.createElement(sm.Provider,{value:{location:hc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ji.Pop}},y):y}function $B(){let t=GB(),e=NB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const VB=$.createElement($B,null);class UB extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(dl.Provider,{value:this.props.routeContext},$.createElement(mM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FB(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(Jw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(dl.Provider,{value:e},r)}function BB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Pt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:g}=n,_=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let g,_=!1,y=null,w=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||VB,l&&(u<0&&h===0?(WB("route-fallback"),_=!0,w=null):u===h&&(_=!0,w=f.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,h+1)),E=()=>{let S;return g?S=y:_?S=w:f.route.Component?S=$.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,$.createElement(FB,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?$.createElement(UB,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:E(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):E()},null)}var yM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yM||{}),vM=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vM||{});function qB(t){let e=$.useContext(Jw);return e||Pt(!1),e}function jB(t){let e=$.useContext(MB);return e||Pt(!1),e}function HB(t){let e=$.useContext(dl);return e||Pt(!1),e}function _M(t){let e=HB(),n=e.matches[e.matches.length-1];return n.route.id||Pt(!1),n.route.id}function GB(){var t;let e=$.useContext(mM),n=jB(),r=_M();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zB(){let{router:t}=qB(yM.UseNavigateStable),e=_M(vM.UseNavigateStable),n=$.useRef(!1);return gM(()=>{n.current=!0}),$.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hc({fromRouteId:e},o)))},[t,e])}const sA={};function WB(t,e,n){sA[t]||(sA[t]=!0)}function KB(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Uo(t){Pt(!1)}function JB(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ji.Pop,navigator:o,static:s=!1,future:a}=t;am()&&Pt(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:o,static:s,future:hc({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=bs(r));let{pathname:c="/",search:f="",hash:h="",state:g=null,key:_="default"}=r,y=$.useMemo(()=>{let w=hM(c,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:g,key:_},navigationType:i}},[l,c,f,h,g,_,i]);return y==null?null:$.createElement(om.Provider,{value:u},$.createElement(sm.Provider,{children:n,value:y}))}function YB(t){let{children:e,location:n}=t;return DB(zv(e),n)}new Promise(()=>{});function zv(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let o=[...e,i];if(r.type===$.Fragment){n.push.apply(n,zv(r.props.children,o));return}r.type!==Uo&&Pt(!1),!r.props.index||!r.props.children||Pt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=zv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function XB(t,e){let n=Wv(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}const QB="6";try{window.__reactRouterVersion=QB}catch{}const ZB="startTransition",aA=zU[ZB];function e3(t){let{basename:e,children:n,future:r,window:i}=t,o=$.useRef();o.current==null&&(o.current=iB({window:i,v5Compat:!0}));let s=o.current,[a,l]=$.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=$.useCallback(f=>{u&&aA?aA(()=>l(f)):l(f)},[l,u]);return $.useLayoutEffect(()=>s.listen(c),[s,c]),$.useEffect(()=>KB(r),[r]),$.createElement(JB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var lA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lA||(lA={}));var uA;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uA||(uA={}));function wM(t){let e=$.useRef(Wv(t)),n=$.useRef(!1),r=cf(),i=$.useMemo(()=>XB(r.search,n.current?null:e.current),[r.search]),o=hl(),s=$.useCallback((a,l)=>{const u=Wv(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),we=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>$.createElement("svg",{ref:c,...t3,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${n3(t)}`,a].join(" "),...u},[...e.map(([f,h])=>$.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=we("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=we("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=we("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=we("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=we("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=we("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=we("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=we("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=we("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=we("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=we("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=we("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=we("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=we("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=we("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=we("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=we("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=we("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),C3=()=>{const t=hl(),e=cf(),n=[{path:"/",icon:g3,label:""},{path:"/inventory",icon:w3,label:""},{path:"/bundles",icon:SM,label:""},{path:"/share",icon:Jv,label:""}];return O.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 pb-safe-area shadow-[0_-1px_3px_rgba(0,0,0,0.05)] z-50",children:O.jsx("div",{className:"flex justify-around items-center h-16",children:n.map(r=>{const i=e.pathname===r.path;return O.jsxs("button",{onClick:()=>t(r.path),className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${i?"text-brand-600":"text-gray-400 hover:text-gray-600"}`,children:[O.jsx(r.icon,{size:24,strokeWidth:i?2.5:2}),O.jsx("span",{className:"text-[10px] font-medium",children:r.label})]},r.path)})})})};function PM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=PM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=PM(t))&&(r&&(r+=" "),r+=e);return r}var P3=Array.isArray,Sn=P3,R3=typeof jf=="object"&&jf&&jf.Object===Object&&jf,RM=R3,N3=RM,k3=typeof self=="object"&&self&&self.Object===Object&&self,M3=N3||k3||Function("return this")(),qr=M3,O3=qr,D3=O3.Symbol,ff=D3,dA=ff,NM=Object.prototype,L3=NM.hasOwnProperty,$3=NM.toString,su=dA?dA.toStringTag:void 0;function V3(t){var e=L3.call(t,su),n=t[su];try{t[su]=void 0;var r=!0}catch{}var i=$3.call(t);return r&&(e?t[su]=n:delete t[su]),i}var U3=V3,F3=Object.prototype,B3=F3.toString;function q3(t){return B3.call(t)}var j3=q3,hA=ff,H3=U3,G3=j3,z3="[object Null]",W3="[object Undefined]",pA=hA?hA.toStringTag:void 0;function K3(t){return t==null?t===void 0?W3:z3:pA&&pA in Object(t)?H3(t):G3(t)}var vi=K3;function J3(t){return t!=null&&typeof t=="object"}var _i=J3,Y3=vi,X3=_i,Q3="[object Symbol]";function Z3(t){return typeof t=="symbol"||X3(t)&&Y3(t)==Q3}var pl=Z3,e6=Sn,t6=pl,n6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r6=/^\w*$/;function i6(t,e){if(e6(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||t6(t)?!0:r6.test(t)||!n6.test(t)||e!=null&&t in Object(e)}var Yw=i6;function o6(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var To=o6;const ml=Ge(To);var s6=vi,a6=To,l6="[object AsyncFunction]",u6="[object Function]",c6="[object GeneratorFunction]",f6="[object Proxy]";function d6(t){if(!a6(t))return!1;var e=s6(t);return e==u6||e==c6||e==l6||e==f6}var Xw=d6;const Ie=Ge(Xw);var h6=qr,p6=h6["__core-js_shared__"],m6=p6,dy=m6,mA=function(){var t=/[^.]+$/.exec(dy&&dy.keys&&dy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function g6(t){return!!mA&&mA in t}var y6=g6,v6=Function.prototype,_6=v6.toString;function w6(t){if(t!=null){try{return _6.call(t)}catch{}try{return t+""}catch{}}return""}var kM=w6,E6=Xw,T6=y6,S6=To,b6=kM,A6=/[\\^$.*+?()[\]{}|]/g,I6=/^\[object .+?Constructor\]$/,x6=Function.prototype,C6=Object.prototype,P6=x6.toString,R6=C6.hasOwnProperty,N6=RegExp("^"+P6.call(R6).replace(A6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function k6(t){if(!S6(t)||T6(t))return!1;var e=E6(t)?N6:I6;return e.test(b6(t))}var M6=k6;function O6(t,e){return t==null?void 0:t[e]}var D6=O6,L6=M6,$6=D6;function V6(t,e){var n=$6(t,e);return L6(n)?n:void 0}var As=V6,U6=As,F6=U6(Object,"create"),lm=F6,gA=lm;function B6(){this.__data__=gA?gA(null):{},this.size=0}var q6=B6;function j6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var H6=j6,G6=lm,z6="__lodash_hash_undefined__",W6=Object.prototype,K6=W6.hasOwnProperty;function J6(t){var e=this.__data__;if(G6){var n=e[t];return n===z6?void 0:n}return K6.call(e,t)?e[t]:void 0}var Y6=J6,X6=lm,Q6=Object.prototype,Z6=Q6.hasOwnProperty;function e5(t){var e=this.__data__;return X6?e[t]!==void 0:Z6.call(e,t)}var t5=e5,n5=lm,r5="__lodash_hash_undefined__";function i5(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=n5&&e===void 0?r5:e,this}var o5=i5,s5=q6,a5=H6,l5=Y6,u5=t5,c5=o5;function gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gl.prototype.clear=s5;gl.prototype.delete=a5;gl.prototype.get=l5;gl.prototype.has=u5;gl.prototype.set=c5;var f5=gl;function d5(){this.__data__=[],this.size=0}var h5=d5;function p5(t,e){return t===e||t!==t&&e!==e}var Qw=p5,m5=Qw;function g5(t,e){for(var n=t.length;n--;)if(m5(t[n][0],e))return n;return-1}var um=g5,y5=um,v5=Array.prototype,_5=v5.splice;function w5(t){var e=this.__data__,n=y5(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():_5.call(e,n,1),--this.size,!0}var E5=w5,T5=um;function S5(t){var e=this.__data__,n=T5(e,t);return n<0?void 0:e[n][1]}var b5=S5,A5=um;function I5(t){return A5(this.__data__,t)>-1}var x5=I5,C5=um;function P5(t,e){var n=this.__data__,r=C5(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var R5=P5,N5=h5,k5=E5,M5=b5,O5=x5,D5=R5;function yl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yl.prototype.clear=N5;yl.prototype.delete=k5;yl.prototype.get=M5;yl.prototype.has=O5;yl.prototype.set=D5;var cm=yl,L5=As,$5=qr,V5=L5($5,"Map"),Zw=V5,yA=f5,U5=cm,F5=Zw;function B5(){this.size=0,this.__data__={hash:new yA,map:new(F5||U5),string:new yA}}var q5=B5;function j5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var H5=j5,G5=H5;function z5(t,e){var n=t.__data__;return G5(e)?n[typeof e=="string"?"string":"hash"]:n.map}var fm=z5,W5=fm;function K5(t){var e=W5(this,t).delete(t);return this.size-=e?1:0,e}var J5=K5,Y5=fm;function X5(t){return Y5(this,t).get(t)}var Q5=X5,Z5=fm;function eq(t){return Z5(this,t).has(t)}var tq=eq,nq=fm;function rq(t,e){var n=nq(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var iq=rq,oq=q5,sq=J5,aq=Q5,lq=tq,uq=iq;function vl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vl.prototype.clear=oq;vl.prototype.delete=sq;vl.prototype.get=aq;vl.prototype.has=lq;vl.prototype.set=uq;var eE=vl,MM=eE,cq="Expected a function";function tE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(cq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(tE.Cache||MM),n}tE.Cache=MM;var OM=tE;const fq=Ge(OM);var dq=OM,hq=500;function pq(t){var e=dq(t,function(r){return n.size===hq&&n.clear(),r}),n=e.cache;return e}var mq=pq,gq=mq,yq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vq=/\\(\\)?/g,_q=gq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yq,function(n,r,i,o){e.push(i?o.replace(vq,"$1"):r||n)}),e}),wq=_q;function Eq(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var nE=Eq,vA=ff,Tq=nE,Sq=Sn,bq=pl,_A=vA?vA.prototype:void 0,wA=_A?_A.toString:void 0;function DM(t){if(typeof t=="string")return t;if(Sq(t))return Tq(t,DM)+"";if(bq(t))return wA?wA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Aq=DM,Iq=Aq;function xq(t){return t==null?"":Iq(t)}var LM=xq,Cq=Sn,Pq=Yw,Rq=wq,Nq=LM;function kq(t,e){return Cq(t)?t:Pq(t,e)?[t]:Rq(Nq(t))}var $M=kq,Mq=pl;function Oq(t){if(typeof t=="string"||Mq(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var dm=Oq,Dq=$M,Lq=dm;function $q(t,e){e=Dq(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Lq(e[n++])];return n&&n==r?t:void 0}var rE=$q,Vq=rE;function Uq(t,e,n){var r=t==null?void 0:Vq(t,e);return r===void 0?n:r}var VM=Uq;const Wn=Ge(VM);function Fq(t){return t==null}var Bq=Fq;const ke=Ge(Bq);var qq=vi,jq=Sn,Hq=_i,Gq="[object String]";function zq(t){return typeof t=="string"||!jq(t)&&Hq(t)&&qq(t)==Gq}var Wq=zq;const fs=Ge(Wq);var UM={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE=Symbol.for("react.element"),oE=Symbol.for("react.portal"),hm=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),ym=Symbol.for("react.context"),Kq=Symbol.for("react.server_context"),vm=Symbol.for("react.forward_ref"),_m=Symbol.for("react.suspense"),wm=Symbol.for("react.suspense_list"),Em=Symbol.for("react.memo"),Tm=Symbol.for("react.lazy"),Jq=Symbol.for("react.offscreen"),FM;FM=Symbol.for("react.module.reference");function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case iE:switch(t=t.type,t){case hm:case mm:case pm:case _m:case wm:return t;default:switch(t=t&&t.$$typeof,t){case Kq:case ym:case vm:case Tm:case Em:case gm:return t;default:return e}}case oE:return e}}}$e.ContextConsumer=ym;$e.ContextProvider=gm;$e.Element=iE;$e.ForwardRef=vm;$e.Fragment=hm;$e.Lazy=Tm;$e.Memo=Em;$e.Portal=oE;$e.Profiler=mm;$e.StrictMode=pm;$e.Suspense=_m;$e.SuspenseList=wm;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(t){return Zn(t)===ym};$e.isContextProvider=function(t){return Zn(t)===gm};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===iE};$e.isForwardRef=function(t){return Zn(t)===vm};$e.isFragment=function(t){return Zn(t)===hm};$e.isLazy=function(t){return Zn(t)===Tm};$e.isMemo=function(t){return Zn(t)===Em};$e.isPortal=function(t){return Zn(t)===oE};$e.isProfiler=function(t){return Zn(t)===mm};$e.isStrictMode=function(t){return Zn(t)===pm};$e.isSuspense=function(t){return Zn(t)===_m};$e.isSuspenseList=function(t){return Zn(t)===wm};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hm||t===mm||t===pm||t===_m||t===wm||t===Jq||typeof t=="object"&&t!==null&&(t.$$typeof===Tm||t.$$typeof===Em||t.$$typeof===gm||t.$$typeof===ym||t.$$typeof===vm||t.$$typeof===FM||t.getModuleId!==void 0)};$e.typeOf=Zn;UM.exports=$e;var Yq=UM.exports,Xq=vi,Qq=_i,Zq="[object Number]";function e9(t){return typeof t=="number"||Qq(t)&&Xq(t)==Zq}var BM=e9;const t9=Ge(BM);var n9=BM;function r9(t){return n9(t)&&t!=+t}var i9=r9;const df=Ge(i9);var ur=function(e){return e===0?0:e>0?1:-1},Wo=function(e){return fs(e)&&e.indexOf("%")===e.length-1},ie=function(e){return t9(e)&&!df(e)},o9=function(e){return ke(e)},xt=function(e){return ie(e)||fs(e)},s9=0,Sm=function(e){var n=++s9;return"".concat(e||"").concat(n)},ds=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!fs(e))return r;var o;if(Wo(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return df(o)&&(o=r),i&&o>n&&(o=n),o},js=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},a9=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Fs=function(e,n){return ie(e)&&ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function Xv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Wn(r,e))===n})}var l9=function(e,n){return ie(e)&&ie(n)?e-n:fs(e)&&fs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ga(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}var u9=["viewBox","children"],c9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EA=["points","pathLength"],hy={svg:u9,polygon:EA,polyline:EA},sE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Eh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!ml(r))return null;var i={};return Object.keys(r).forEach(function(o){sE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},f9=function(e,n,r){return function(i){return e(n,r,i),null}},Th=function(e,n,r){if(!ml(e)||Qv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];sE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=f9(s,n,r))}),i},d9=["children"],h9=["children"];function TA(t,e){if(t==null)return{};var n=p9(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var SA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ti=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},bA=null,py=null,aE=function t(e){if(e===bA&&Array.isArray(py))return py;var n=[];return $.Children.forEach(e,function(r){ke(r)||(Yq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),py=n,bA=e,n};function mr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ti(i)}):r=[ti(e)],aE(t).forEach(function(i){var o=Wn(i,"type.displayName")||Wn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Cn(t,e){var n=mr(t,e);return n&&n[0]}var AA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ie(r)||r<=0||!ie(i)||i<=0)},m9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],g9=function(e){return e&&e.type&&fs(e.type)&&m9.indexOf(e.type)>=0},y9=function(e,n,r,i){var o,s=(o=hy==null?void 0:hy[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Ie(e)&&(i&&s.includes(n)||c9.includes(n))||r&&sE.includes(n)},Oe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!ml(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;y9((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},Zv=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return IA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!IA(o,s))return!1}return!0},IA=function(e,n){if(ke(e)&&ke(n))return!0;if(!ke(e)&&!ke(n)){var r=e.props||{},i=r.children,o=TA(r,d9),s=n.props||{},a=s.children,l=TA(s,h9);return i&&a?ga(o,l)&&Zv(i,a):!i&&!a?ga(o,l):!1}return!1},xA=function(e,n){var r=[],i={};return aE(e).forEach(function(o,s){if(g9(o))r.push(o);else if(o){var a=ti(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},v9=function(e){var n=e&&e.type;return n&&SA[n]?SA[n]:null},_9=function(e,n){return aE(n).indexOf(e)},w9=["children","width","height","viewBox","className","style","title","desc"];function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function E9(t,e){if(t==null)return{};var n=T9(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=E9(t,w9),c=i||{width:n,height:r,x:0,y:0},f=Ne("recharts-surface",o);return F.createElement("svg",e0({},Oe(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),F.createElement("title",null,a),F.createElement("desc",null,l),e)}var S9=["children","className"];function n0(){return n0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n0.apply(this,arguments)}function b9(t,e){if(t==null)return{};var n=A9(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Vt=F.forwardRef(function(t,e){var n=t.children,r=t.className,i=b9(t,S9),o=Ne("recharts-layer",r);return F.createElement("g",n0({className:o},Oe(i,!0),{ref:e}),n)}),ns=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function I9(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var x9=I9,C9=x9;function P9(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:C9(t,e,n)}var R9=P9,N9="\\ud800-\\udfff",k9="\\u0300-\\u036f",M9="\\ufe20-\\ufe2f",O9="\\u20d0-\\u20ff",D9=k9+M9+O9,L9="\\ufe0e\\ufe0f",$9="\\u200d",V9=RegExp("["+$9+N9+D9+L9+"]");function U9(t){return V9.test(t)}var qM=U9;function F9(t){return t.split("")}var B9=F9,jM="\\ud800-\\udfff",q9="\\u0300-\\u036f",j9="\\ufe20-\\ufe2f",H9="\\u20d0-\\u20ff",G9=q9+j9+H9,z9="\\ufe0e\\ufe0f",W9="["+jM+"]",r0="["+G9+"]",i0="\\ud83c[\\udffb-\\udfff]",K9="(?:"+r0+"|"+i0+")",HM="[^"+jM+"]",GM="(?:\\ud83c[\\udde6-\\uddff]){2}",zM="[\\ud800-\\udbff][\\udc00-\\udfff]",J9="\\u200d",WM=K9+"?",KM="["+z9+"]?",Y9="(?:"+J9+"(?:"+[HM,GM,zM].join("|")+")"+KM+WM+")*",X9=KM+WM+Y9,Q9="(?:"+[HM+r0+"?",r0,GM,zM,W9].join("|")+")",Z9=RegExp(i0+"(?="+i0+")|"+Q9+X9,"g");function ej(t){return t.match(Z9)||[]}var tj=ej,nj=B9,rj=qM,ij=tj;function oj(t){return rj(t)?ij(t):nj(t)}var sj=oj,aj=R9,lj=qM,uj=sj,cj=LM;function fj(t){return function(e){e=cj(e);var n=lj(e)?uj(e):void 0,r=n?n[0]:e.charAt(0),i=n?aj(n,1).join(""):e.slice(1);return r[t]()+i}}var dj=fj,hj=dj,pj=hj("toUpperCase"),mj=pj;const bm=Ge(mj);function je(t){return function(){return t}}const JM=Math.cos,Sh=Math.sin,vr=Math.sqrt,bh=Math.PI,Am=2*bh,o0=Math.PI,s0=2*o0,Fo=1e-6,gj=s0-Fo;function YM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function yj(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YM;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vj{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YM:yj(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Fo)if(!(Math.abs(f*l-u*c)>Fo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,_=i-a,y=l*l+u*u,w=g*g+_*_,v=Math.sqrt(y),E=Math.sqrt(h),S=o*Math.tan((o0-Math.acos((y+h-w)/(2*v*E)))/2),R=S/E,A=S/v;Math.abs(R-1)>Fo&&this._append`L${e+R*c},${n+R*f}`,this._append`A${o},${o},0,0,${+(f*g>c*_)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Fo||Math.abs(this._y1-c)>Fo)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%s0+s0),h>gj?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Fo&&this._append`A${r},${r},0,${+(h>=o0)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vj(e)}function uE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XM(t){this._context=t}XM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Im(t){return new XM(t)}function QM(t){return t[0]}function ZM(t){return t[1]}function eO(t,e){var n=je(!0),r=null,i=Im,o=null,s=lE(a);t=typeof t=="function"?t:t===void 0?QM:je(t),e=typeof e=="function"?e:e===void 0?ZM:je(e);function a(l){var u,c=(l=uE(l)).length,f,h=!1,g;for(r==null&&(o=i(g=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(g)return o=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:je(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:je(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:je(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function ad(t,e,n){var r=null,i=je(!0),o=null,s=Im,a=null,l=lE(u);t=typeof t=="function"?t:t===void 0?QM:je(+t),e=typeof e=="function"?e:je(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?ZM:je(+n);function u(f){var h,g,_,y=(f=uE(f)).length,w,v=!1,E,S=new Array(y),R=new Array(y);for(o==null&&(a=s(E=l())),h=0;h<=y;++h){if(!(h<y&&i(w=f[h],h,f))===v)if(v=!v)g=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),_=h-1;_>=g;--_)a.point(S[_],R[_]);a.lineEnd(),a.areaEnd()}v&&(S[h]=+t(w,h,f),R[h]=+e(w,h,f),a.point(r?+r(w,h,f):S[h],n?+n(w,h,f):R[h]))}if(E)return a=null,E+""||null}function c(){return eO().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:je(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:je(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:je(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:je(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:je(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:je(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:je(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class tO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function _j(t){return new tO(t,!0)}function wj(t){return new tO(t,!1)}const cE={draw(t,e){const n=vr(e/bh);t.moveTo(n,0),t.arc(0,0,n,0,Am)}},Ej={draw(t,e){const n=vr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},nO=vr(1/3),Tj=nO*2,Sj={draw(t,e){const n=vr(e/Tj),r=n*nO;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},bj={draw(t,e){const n=vr(e),r=-n/2;t.rect(r,r,n,n)}},Aj=.8908130915292852,rO=Sh(bh/10)/Sh(7*bh/10),Ij=Sh(Am/10)*rO,xj=-JM(Am/10)*rO,Cj={draw(t,e){const n=vr(e*Aj),r=Ij*n,i=xj*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Am*o/5,a=JM(s),l=Sh(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},my=vr(3),Pj={draw(t,e){const n=-vr(e/(my*3));t.moveTo(0,n*2),t.lineTo(-my*n,-n),t.lineTo(my*n,-n),t.closePath()}},$n=-.5,Vn=vr(3)/2,a0=1/vr(12),Rj=(a0/2+1)*3,Nj={draw(t,e){const n=vr(e/Rj),r=n/2,i=n*a0,o=r,s=n*a0+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo($n*r-Vn*i,Vn*r+$n*i),t.lineTo($n*o-Vn*s,Vn*o+$n*s),t.lineTo($n*a-Vn*l,Vn*a+$n*l),t.lineTo($n*r+Vn*i,$n*i-Vn*r),t.lineTo($n*o+Vn*s,$n*s-Vn*o),t.lineTo($n*a+Vn*l,$n*l-Vn*a),t.closePath()}};function kj(t,e){let n=null,r=lE(i);t=typeof t=="function"?t:je(t||cE),e=typeof e=="function"?e:je(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:je(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:je(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ah(){}function Ih(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function iO(t){this._context=t}iO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ih(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mj(t){return new iO(t)}function oO(t){this._context=t}oO.prototype={areaStart:Ah,areaEnd:Ah,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oj(t){return new oO(t)}function sO(t){this._context=t}sO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ih(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Dj(t){return new sO(t)}function aO(t){this._context=t}aO.prototype={areaStart:Ah,areaEnd:Ah,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Lj(t){return new aO(t)}function CA(t){return t<0?-1:1}function PA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(CA(o)+CA(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function RA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function gy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function xh(t){this._context=t}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gy(this,this._t0,RA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gy(this,RA(this,n=PA(this,t,e)),n);break;default:gy(this,this._t0,n=PA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lO(t){this._context=new uO(t)}(lO.prototype=Object.create(xh.prototype)).point=function(t,e){xh.prototype.point.call(this,e,t)};function uO(t){this._context=t}uO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function $j(t){return new xh(t)}function Vj(t){return new lO(t)}function cO(t){this._context=t}cO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=NA(t),i=NA(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function NA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Uj(t){return new cO(t)}function xm(t,e){this._context=t,this._t=e}xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Fj(t){return new xm(t,.5)}function Bj(t){return new xm(t,0)}function qj(t){return new xm(t,1)}function Da(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function l0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jj(t,e){return t[e]}function Hj(t){const e=[];return e.key=t,e}function Gj(){var t=je([]),e=l0,n=Da,r=jj;function i(o){var s=Array.from(t.apply(this,arguments),Hj),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=uE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:je(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:je(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?l0:typeof o=="function"?o:je(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Da,i):n},i}function zj(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Da(t,e)}}function Wj(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Da(t,e)}}function Kj(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,g=(f-h)/2,_=0;_<a;++_){var y=t[e[_]],w=y[r][1]||0,v=y[r-1][1]||0;g+=w-v}l+=f,u+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Da(t,e)}}function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}var Jj=["type","size","sizeType"];function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u0.apply(this,arguments)}function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(n),!0).forEach(function(r){Yj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yj(t,e,n){return e=Xj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xj(t){var e=Qj(t,"string");return pc(e)=="symbol"?e:e+""}function Qj(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zj(t,e){if(t==null)return{};var n=eH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fO={symbolCircle:cE,symbolCross:Ej,symbolDiamond:Sj,symbolSquare:bj,symbolStar:Cj,symbolTriangle:Pj,symbolWye:Nj},tH=Math.PI/180,nH=function(e){var n="symbol".concat(bm(e));return fO[n]||cE},rH=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*tH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},iH=function(e,n){fO["symbol".concat(bm(e))]=n},fE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Zj(e,Jj),u=MA(MA({},l),{},{type:r,size:o,sizeType:a}),c=function(){var w=nH(r),v=kj().type(w).size(rH(o,a,r));return v()},f=u.className,h=u.cx,g=u.cy,_=Oe(u,!0);return h===+h&&g===+g&&o===+o?F.createElement("path",u0({},_,{className:Ne("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};fE.registerSymbol=iH;function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c0.apply(this,arguments)}function OA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(n),!0).forEach(function(r){mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hO(r.key),r)}}function lH(t,e,n){return e&&aH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uH(t,e,n){return e=Ch(e),cH(t,dO()?Reflect.construct(e,n||[],Ch(t).constructor):e.apply(t,n))}function cH(t,e){if(e&&(La(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fH(t)}function fH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dO=function(){return!!t})()}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ch(t)}function dH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f0(t,e)}function f0(t,e){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},f0(t,e)}function mc(t,e,n){return e=hO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hO(t){var e=hH(t,"string");return La(e)=="symbol"?e:e+""}function hH(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Un=32,dE=function(t){function e(){return sH(this,e),uH(this,e,arguments)}return dH(e,t),lH(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Un/2,s=Un/6,a=Un/3,l=r.inactive?i:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Un,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Un,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Un/8,"h").concat(Un,"v").concat(Un*3/4,"h").concat(-Un,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var u=oH({},r);return delete u.legendIcon,F.cloneElement(r.legendIcon,u)}return F.createElement(fE,{fill:l,cx:o,cy:o,size:Un,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Un,height:Un},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,_){var y=g.formatter||l,w=Ne(mc(mc({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",g.inactive));if(g.type==="none")return null;var v=Ie(g.value)?null:g.value;ns(!Ie(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=g.inactive?u:g.color;return F.createElement("li",c0({className:w,style:f,key:"legend-item-".concat(_)},Th(r.props,g,_)),F.createElement(t0,{width:s,height:s,viewBox:c,style:h},r.renderIcon(g)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},y?y(v,g,_):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}($.PureComponent);mc(dE,"displayName","Legend");mc(dE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pH=cm;function mH(){this.__data__=new pH,this.size=0}var gH=mH;function yH(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var vH=yH;function _H(t){return this.__data__.get(t)}var wH=_H;function EH(t){return this.__data__.has(t)}var TH=EH,SH=cm,bH=Zw,AH=eE,IH=200;function xH(t,e){var n=this.__data__;if(n instanceof SH){var r=n.__data__;if(!bH||r.length<IH-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new AH(r)}return n.set(t,e),this.size=n.size,this}var CH=xH,PH=cm,RH=gH,NH=vH,kH=wH,MH=TH,OH=CH;function _l(t){var e=this.__data__=new PH(t);this.size=e.size}_l.prototype.clear=RH;_l.prototype.delete=NH;_l.prototype.get=kH;_l.prototype.has=MH;_l.prototype.set=OH;var pO=_l,DH="__lodash_hash_undefined__";function LH(t){return this.__data__.set(t,DH),this}var $H=LH;function VH(t){return this.__data__.has(t)}var UH=VH,FH=eE,BH=$H,qH=UH;function Ph(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new FH;++e<n;)this.add(t[e])}Ph.prototype.add=Ph.prototype.push=BH;Ph.prototype.has=qH;var mO=Ph;function jH(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var gO=jH;function HH(t,e){return t.has(e)}var yO=HH,GH=mO,zH=gO,WH=yO,KH=1,JH=2;function YH(t,e,n,r,i,o){var s=n&KH,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,g=n&JH?new GH:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var _=t[f],y=e[f];if(r)var w=s?r(y,_,f,e,t,o):r(_,y,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(g){if(!zH(e,function(v,E){if(!WH(g,E)&&(_===v||i(_,v,n,r,o)))return g.push(E)})){h=!1;break}}else if(!(_===y||i(_,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var vO=YH,XH=qr,QH=XH.Uint8Array,ZH=QH;function eG(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var tG=eG;function nG(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var hE=nG,DA=ff,LA=ZH,rG=Qw,iG=vO,oG=tG,sG=hE,aG=1,lG=2,uG="[object Boolean]",cG="[object Date]",fG="[object Error]",dG="[object Map]",hG="[object Number]",pG="[object RegExp]",mG="[object Set]",gG="[object String]",yG="[object Symbol]",vG="[object ArrayBuffer]",_G="[object DataView]",$A=DA?DA.prototype:void 0,yy=$A?$A.valueOf:void 0;function wG(t,e,n,r,i,o,s){switch(n){case _G:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case vG:return!(t.byteLength!=e.byteLength||!o(new LA(t),new LA(e)));case uG:case cG:case hG:return rG(+t,+e);case fG:return t.name==e.name&&t.message==e.message;case pG:case gG:return t==e+"";case dG:var a=oG;case mG:var l=r&aG;if(a||(a=sG),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=lG,s.set(t,e);var c=iG(a(t),a(e),r,i,o,s);return s.delete(t),c;case yG:if(yy)return yy.call(t)==yy.call(e)}return!1}var EG=wG;function TG(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _O=TG,SG=_O,bG=Sn;function AG(t,e,n){var r=e(t);return bG(t)?r:SG(r,n(t))}var IG=AG;function xG(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var CG=xG;function PG(){return[]}var RG=PG,NG=CG,kG=RG,MG=Object.prototype,OG=MG.propertyIsEnumerable,VA=Object.getOwnPropertySymbols,DG=VA?function(t){return t==null?[]:(t=Object(t),NG(VA(t),function(e){return OG.call(t,e)}))}:kG,LG=DG;function $G(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var VG=$G,UG=vi,FG=_i,BG="[object Arguments]";function qG(t){return FG(t)&&UG(t)==BG}var jG=qG,UA=jG,HG=_i,wO=Object.prototype,GG=wO.hasOwnProperty,zG=wO.propertyIsEnumerable,WG=UA(function(){return arguments}())?UA:function(t){return HG(t)&&GG.call(t,"callee")&&!zG.call(t,"callee")},pE=WG,Rh={exports:{}};function KG(){return!1}var JG=KG;Rh.exports;(function(t,e){var n=qr,r=JG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Rh,Rh.exports);var EO=Rh.exports,YG=9007199254740991,XG=/^(?:0|[1-9]\d*)$/;function QG(t,e){var n=typeof t;return e=e??YG,!!e&&(n=="number"||n!="symbol"&&XG.test(t))&&t>-1&&t%1==0&&t<e}var mE=QG,ZG=9007199254740991;function ez(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ZG}var gE=ez,tz=vi,nz=gE,rz=_i,iz="[object Arguments]",oz="[object Array]",sz="[object Boolean]",az="[object Date]",lz="[object Error]",uz="[object Function]",cz="[object Map]",fz="[object Number]",dz="[object Object]",hz="[object RegExp]",pz="[object Set]",mz="[object String]",gz="[object WeakMap]",yz="[object ArrayBuffer]",vz="[object DataView]",_z="[object Float32Array]",wz="[object Float64Array]",Ez="[object Int8Array]",Tz="[object Int16Array]",Sz="[object Int32Array]",bz="[object Uint8Array]",Az="[object Uint8ClampedArray]",Iz="[object Uint16Array]",xz="[object Uint32Array]",Je={};Je[_z]=Je[wz]=Je[Ez]=Je[Tz]=Je[Sz]=Je[bz]=Je[Az]=Je[Iz]=Je[xz]=!0;Je[iz]=Je[oz]=Je[yz]=Je[sz]=Je[vz]=Je[az]=Je[lz]=Je[uz]=Je[cz]=Je[fz]=Je[dz]=Je[hz]=Je[pz]=Je[mz]=Je[gz]=!1;function Cz(t){return rz(t)&&nz(t.length)&&!!Je[tz(t)]}var Pz=Cz;function Rz(t){return function(e){return t(e)}}var TO=Rz,Nh={exports:{}};Nh.exports;(function(t,e){var n=RM,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Nh,Nh.exports);var Nz=Nh.exports,kz=Pz,Mz=TO,FA=Nz,BA=FA&&FA.isTypedArray,Oz=BA?Mz(BA):kz,SO=Oz,Dz=VG,Lz=pE,$z=Sn,Vz=EO,Uz=mE,Fz=SO,Bz=Object.prototype,qz=Bz.hasOwnProperty;function jz(t,e){var n=$z(t),r=!n&&Lz(t),i=!n&&!r&&Vz(t),o=!n&&!r&&!i&&Fz(t),s=n||r||i||o,a=s?Dz(t.length,String):[],l=a.length;for(var u in t)(e||qz.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Uz(u,l)))&&a.push(u);return a}var Hz=jz,Gz=Object.prototype;function zz(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Gz;return t===n}var Wz=zz;function Kz(t,e){return function(n){return t(e(n))}}var bO=Kz,Jz=bO,Yz=Jz(Object.keys,Object),Xz=Yz,Qz=Wz,Zz=Xz,e8=Object.prototype,t8=e8.hasOwnProperty;function n8(t){if(!Qz(t))return Zz(t);var e=[];for(var n in Object(t))t8.call(t,n)&&n!="constructor"&&e.push(n);return e}var r8=n8,i8=Xw,o8=gE;function s8(t){return t!=null&&o8(t.length)&&!i8(t)}var Cm=s8,a8=Hz,l8=r8,u8=Cm;function c8(t){return u8(t)?a8(t):l8(t)}var yE=c8,f8=IG,d8=LG,h8=yE;function p8(t){return f8(t,h8,d8)}var m8=p8,qA=m8,g8=1,y8=Object.prototype,v8=y8.hasOwnProperty;function _8(t,e,n,r,i,o){var s=n&g8,a=qA(t),l=a.length,u=qA(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:v8.call(e,h)))return!1}var g=o.get(t),_=o.get(e);if(g&&_)return g==e&&_==t;var y=!0;o.set(t,e),o.set(e,t);for(var w=s;++f<l;){h=a[f];var v=t[h],E=e[h];if(r)var S=s?r(E,v,h,e,t,o):r(v,E,h,t,e,o);if(!(S===void 0?v===E||i(v,E,n,r,o):S)){y=!1;break}w||(w=h=="constructor")}if(y&&!w){var R=t.constructor,A=e.constructor;R!=A&&"constructor"in t&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof A=="function"&&A instanceof A)&&(y=!1)}return o.delete(t),o.delete(e),y}var w8=_8,E8=As,T8=qr,S8=E8(T8,"DataView"),b8=S8,A8=As,I8=qr,x8=A8(I8,"Promise"),C8=x8,P8=As,R8=qr,N8=P8(R8,"Set"),AO=N8,k8=As,M8=qr,O8=k8(M8,"WeakMap"),D8=O8,d0=b8,h0=Zw,p0=C8,m0=AO,g0=D8,IO=vi,wl=kM,jA="[object Map]",L8="[object Object]",HA="[object Promise]",GA="[object Set]",zA="[object WeakMap]",WA="[object DataView]",$8=wl(d0),V8=wl(h0),U8=wl(p0),F8=wl(m0),B8=wl(g0),Bo=IO;(d0&&Bo(new d0(new ArrayBuffer(1)))!=WA||h0&&Bo(new h0)!=jA||p0&&Bo(p0.resolve())!=HA||m0&&Bo(new m0)!=GA||g0&&Bo(new g0)!=zA)&&(Bo=function(t){var e=IO(t),n=e==L8?t.constructor:void 0,r=n?wl(n):"";if(r)switch(r){case $8:return WA;case V8:return jA;case U8:return HA;case F8:return GA;case B8:return zA}return e});var q8=Bo,vy=pO,j8=vO,H8=EG,G8=w8,KA=q8,JA=Sn,YA=EO,z8=SO,W8=1,XA="[object Arguments]",QA="[object Array]",ld="[object Object]",K8=Object.prototype,ZA=K8.hasOwnProperty;function J8(t,e,n,r,i,o){var s=JA(t),a=JA(e),l=s?QA:KA(t),u=a?QA:KA(e);l=l==XA?ld:l,u=u==XA?ld:u;var c=l==ld,f=u==ld,h=l==u;if(h&&YA(t)){if(!YA(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new vy),s||z8(t)?j8(t,e,n,r,i,o):H8(t,e,l,n,r,i,o);if(!(n&W8)){var g=c&&ZA.call(t,"__wrapped__"),_=f&&ZA.call(e,"__wrapped__");if(g||_){var y=g?t.value():t,w=_?e.value():e;return o||(o=new vy),i(y,w,n,r,o)}}return h?(o||(o=new vy),G8(t,e,n,r,i,o)):!1}var Y8=J8,X8=Y8,eI=_i;function xO(t,e,n,r,i){return t===e?!0:t==null||e==null||!eI(t)&&!eI(e)?t!==t&&e!==e:X8(t,e,n,r,xO,i)}var vE=xO,Q8=pO,Z8=vE,e7=1,t7=2;function n7(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Q8;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Z8(c,u,e7|t7,r,f):h))return!1}}return!0}var r7=n7,i7=To;function o7(t){return t===t&&!i7(t)}var CO=o7,s7=CO,a7=yE;function l7(t){for(var e=a7(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,s7(i)]}return e}var u7=l7;function c7(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var PO=c7,f7=r7,d7=u7,h7=PO;function p7(t){var e=d7(t);return e.length==1&&e[0][2]?h7(e[0][0],e[0][1]):function(n){return n===t||f7(n,t,e)}}var m7=p7;function g7(t,e){return t!=null&&e in Object(t)}var y7=g7,v7=$M,_7=pE,w7=Sn,E7=mE,T7=gE,S7=dm;function b7(t,e,n){e=v7(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=S7(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&T7(i)&&E7(s,i)&&(w7(t)||_7(t)))}var A7=b7,I7=y7,x7=A7;function C7(t,e){return t!=null&&x7(t,e,I7)}var P7=C7,R7=vE,N7=VM,k7=P7,M7=Yw,O7=CO,D7=PO,L7=dm,$7=1,V7=2;function U7(t,e){return M7(t)&&O7(e)?D7(L7(t),e):function(n){var r=N7(n,t);return r===void 0&&r===e?k7(n,t):R7(e,r,$7|V7)}}var F7=U7;function B7(t){return t}var El=B7;function q7(t){return function(e){return e==null?void 0:e[t]}}var j7=q7,H7=rE;function G7(t){return function(e){return H7(e,t)}}var z7=G7,W7=j7,K7=z7,J7=Yw,Y7=dm;function X7(t){return J7(t)?W7(Y7(t)):K7(t)}var Q7=X7,Z7=m7,eW=F7,tW=El,nW=Sn,rW=Q7;function iW(t){return typeof t=="function"?t:t==null?tW:typeof t=="object"?nW(t)?eW(t[0],t[1]):Z7(t):rW(t)}var Tl=iW;function oW(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var sW=oW;function aW(t){return t!==t}var lW=aW;function uW(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var cW=uW,fW=sW,dW=lW,hW=cW;function pW(t,e,n){return e===e?hW(t,e,n):fW(t,dW,n)}var mW=pW,gW=mW;function yW(t,e){var n=t==null?0:t.length;return!!n&&gW(t,e,0)>-1}var vW=yW;function _W(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var wW=_W;function EW(){}var TW=EW,_y=AO,SW=TW,bW=hE,AW=1/0,IW=_y&&1/bW(new _y([,-0]))[1]==AW?function(t){return new _y(t)}:SW,xW=IW,CW=mO,PW=vW,RW=wW,NW=yO,kW=xW,MW=hE,OW=200;function DW(t,e,n){var r=-1,i=PW,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=RW;else if(o>=OW){var u=e?null:kW(t);if(u)return MW(u);s=!1,i=NW,l=new CW}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var LW=DW,$W=Tl,VW=LW;function UW(t,e){return t&&t.length?VW(t,$W(e)):[]}var FW=UW;const tI=Ge(FW);function RO(t,e,n){return e===!0?tI(t,n):Ie(e)?tI(t,e):t}function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}var BW=["ref"];function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){Pm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kO(r.key),r)}}function jW(t,e,n){return e&&rI(t.prototype,e),n&&rI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HW(t,e,n){return e=kh(e),GW(t,NO()?Reflect.construct(e,n||[],kh(t).constructor):e.apply(t,n))}function GW(t,e){if(e&&($a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zW(t)}function zW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NO=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(t)}function WW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y0(t,e)}function y0(t,e){return y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y0(t,e)}function Pm(t,e,n){return e=kO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kO(t){var e=KW(t,"string");return $a(e)=="symbol"?e:e+""}function KW(t,e){if($a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function JW(t,e){if(t==null)return{};var n=YW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XW(t){return t.value}function QW(t,e){if(F.isValidElement(t))return F.cloneElement(t,e);if(typeof t=="function")return F.createElement(t,e);e.ref;var n=JW(e,BW);return F.createElement(dE,n)}var iI=1,ya=function(t){function e(){var n;qW(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=HW(this,e,[].concat(i)),Pm(n,"lastBoundingBox",{width:-1,height:-1}),n}return WW(e,t),jW(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>iI||Math.abs(i.height-this.lastBoundingBox.height)>iI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var _=this.getBBoxSnapshot();h={top:((c||0)-_.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Hr(Hr({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Hr(Hr({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},QW(o,Hr(Hr({},this.props),{},{payload:RO(c,u,XW)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Hr(Hr({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ie(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Pm(ya,"displayName","Legend");Pm(ya,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var oI=ff,ZW=pE,eK=Sn,sI=oI?oI.isConcatSpreadable:void 0;function tK(t){return eK(t)||ZW(t)||!!(sI&&t&&t[sI])}var nK=tK,rK=_O,iK=nK;function MO(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=iK),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?MO(a,e-1,n,r,i):rK(i,a):r||(i[i.length]=a)}return i}var OO=MO;function oK(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var sK=oK,aK=sK,lK=aK(),uK=lK,cK=uK,fK=yE;function dK(t,e){return t&&cK(t,e,fK)}var DO=dK,hK=Cm;function pK(t,e){return function(n,r){if(n==null)return n;if(!hK(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var mK=pK,gK=DO,yK=mK,vK=yK(gK),_E=vK,_K=_E,wK=Cm;function EK(t,e){var n=-1,r=wK(t)?Array(t.length):[];return _K(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var LO=EK;function TK(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var SK=TK,aI=pl;function bK(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=aI(t),s=e!==void 0,a=e===null,l=e===e,u=aI(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var AK=bK,IK=AK;function xK(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=IK(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var CK=xK,wy=nE,PK=rE,RK=Tl,NK=LO,kK=SK,MK=TO,OK=CK,DK=El,LK=Sn;function $K(t,e,n){e.length?e=wy(e,function(o){return LK(o)?function(s){return PK(s,o.length===1?o[0]:o)}:o}):e=[DK];var r=-1;e=wy(e,MK(RK));var i=NK(t,function(o,s,a){var l=wy(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return kK(i,function(o,s){return OK(o,s,n)})}var VK=$K;function UK(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var FK=UK,BK=FK,lI=Math.max;function qK(t,e,n){return e=lI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=lI(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),BK(t,this,a)}}var jK=qK;function HK(t){return function(){return t}}var GK=HK,zK=As,WK=function(){try{var t=zK(Object,"defineProperty");return t({},"",{}),t}catch{}}(),$O=WK,KK=GK,uI=$O,JK=El,YK=uI?function(t,e){return uI(t,"toString",{configurable:!0,enumerable:!1,value:KK(e),writable:!0})}:JK,XK=YK,QK=800,ZK=16,eJ=Date.now;function tJ(t){var e=0,n=0;return function(){var r=eJ(),i=ZK-(r-n);if(n=r,i>0){if(++e>=QK)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var nJ=tJ,rJ=XK,iJ=nJ,oJ=iJ(rJ),sJ=oJ,aJ=El,lJ=jK,uJ=sJ;function cJ(t,e){return uJ(lJ(t,e,aJ),t+"")}var fJ=cJ,dJ=Qw,hJ=Cm,pJ=mE,mJ=To;function gJ(t,e,n){if(!mJ(n))return!1;var r=typeof e;return(r=="number"?hJ(n)&&pJ(e,n.length):r=="string"&&e in n)?dJ(n[e],t):!1}var Rm=gJ,yJ=OO,vJ=VK,_J=fJ,cI=Rm,wJ=_J(function(t,e){if(t==null)return[];var n=e.length;return n>1&&cI(t,e[0],e[1])?e=[]:n>2&&cI(e[0],e[1],e[2])&&(e=[e[0]]),vJ(t,yJ(e,1),[])}),EJ=wJ;const wE=Ge(EJ);function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function TJ(t,e){return IJ(t)||AJ(t,e)||bJ(t,e)||SJ()}function SJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(t,e){if(t){if(typeof t=="string")return fI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fI(t,e)}}function fI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function IJ(t){if(Array.isArray(t))return t}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){xJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xJ(t,e,n){return e=CJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=PJ(t,"string");return gc(e)=="symbol"?e:e+""}function PJ(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RJ(t){return Array.isArray(t)&&xt(t[0])&&xt(t[1])?t.join(" ~ "):t}var NJ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,_=e.labelClassName,y=e.label,w=e.labelFormatter,v=e.accessibilityLayer,E=v===void 0?!1:v,S=function(){if(c&&c.length){var D={padding:0,margin:0},N=(h?wE(c,h):c).map(function(B,H){if(B.type==="none")return null;var G=Ey({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},a),K=B.formatter||f||RJ,U=B.value,q=B.name,Y=U,te=q;if(K&&Y!=null&&te!=null){var Q=K(U,q,B,H,c);if(Array.isArray(Q)){var ue=TJ(Q,2);Y=ue[0],te=ue[1]}else Y=Q}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:G},xt(te)?F.createElement("span",{className:"recharts-tooltip-item-name"},te):null,xt(te)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},Y),F.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:D},N)}return null},R=Ey({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=Ey({margin:0},u),x=!ke(y),b=x?y:"",I=Ne("recharts-default-tooltip",g),C=Ne("recharts-tooltip-label",_);x&&w&&c!==void 0&&c!==null&&(b=w(y,c));var M=E?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",v0({className:I,style:R},M),F.createElement("p",{className:C,style:A},F.isValidElement(b)?b:"".concat(b)),S())};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function ud(t,e,n){return e=kJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kJ(t){var e=MJ(t,"string");return yc(e)=="symbol"?e:e+""}function MJ(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var au="recharts-tooltip-wrapper",OJ={visibility:"hidden"};function DJ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ne(au,ud(ud(ud(ud({},"".concat(au,"-right"),ie(n)&&e&&ie(e.x)&&n>=e.x),"".concat(au,"-left"),ie(n)&&e&&ie(e.x)&&n<e.x),"".concat(au,"-bottom"),ie(r)&&e&&ie(e.y)&&r>=e.y),"".concat(au,"-top"),ie(r)&&e&&ie(e.y)&&r<e.y))}function hI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ie(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,g=l[r];return h<g?Math.max(f,l[r]):Math.max(c,l[r])}var _=f+a,y=l[r]+u;return _>y?Math.max(c,l[r]):Math.max(f,l[r])}function LJ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function $J(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=hI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=hI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=LJ({translateX:c,translateY:f,useTranslate3d:a})):u=OJ,{cssProperties:u,cssClasses:DJ({translateX:c,translateY:f,coordinate:n})}}function Va(t){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(t)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){w0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UO(r.key),r)}}function FJ(t,e,n){return e&&UJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BJ(t,e,n){return e=Mh(e),qJ(t,VO()?Reflect.construct(e,n||[],Mh(t).constructor):e.apply(t,n))}function qJ(t,e){if(e&&(Va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jJ(t)}function jJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VO=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(t)}function HJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_0(t,e)}function _0(t,e){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_0(t,e)}function w0(t,e,n){return e=UO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UO(t){var e=GJ(t,"string");return Va(e)=="symbol"?e:e+""}function GJ(t,e){if(Va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gI=1,zJ=function(t){function e(){var n;VJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=BJ(this,e,[].concat(i)),w0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),w0(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return HJ(e,t),FJ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>gI||Math.abs(r.height-this.state.lastBoundingBox.height)>gI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,_=i.position,y=i.reverseDirection,w=i.useTranslate3d,v=i.viewBox,E=i.wrapperStyle,S=$J({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:g,position:_,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:v}),R=S.cssClasses,A=S.cssProperties,x=mI(mI({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},E);return F.createElement("div",{tabIndex:-1,className:R,style:x,ref:function(I){r.wrapperNode=I}},u)}}])}($.PureComponent),WJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hf={isSsr:WJ()};function Ua(t){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){EE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BO(r.key),r)}}function YJ(t,e,n){return e&&JJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XJ(t,e,n){return e=Oh(e),QJ(t,FO()?Reflect.construct(e,n||[],Oh(t).constructor):e.apply(t,n))}function QJ(t,e){if(e&&(Ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZJ(t)}function ZJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oh(t)}function eY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E0(t,e)}function E0(t,e){return E0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E0(t,e)}function EE(t,e,n){return e=BO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BO(t){var e=tY(t,"string");return Ua(e)=="symbol"?e:e+""}function tY(t,e){if(Ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nY(t){return t.dataKey}function rY(t,e){return F.isValidElement(t)?F.cloneElement(t,e):typeof t=="function"?F.createElement(t,e):F.createElement(NJ,e)}var br=function(t){function e(){return KJ(this,e),XJ(this,e,arguments)}return eY(e,t),YJ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,_=i.payload,y=i.payloadUniqBy,w=i.position,v=i.reverseDirection,E=i.useTranslate3d,S=i.viewBox,R=i.wrapperStyle,A=_??[];f&&A.length&&(A=RO(_.filter(function(b){return b.value!=null&&(b.hide!==!0||r.props.includeHidden)}),y,nY));var x=A.length>0;return F.createElement(zJ,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:x,offset:g,position:w,reverseDirection:v,useTranslate3d:E,viewBox:S,wrapperStyle:R},rY(u,vI(vI({},this.props),{},{payload:A})))}}])}($.PureComponent);EE(br,"displayName","Tooltip");EE(br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iY=qr,oY=function(){return iY.Date.now()},sY=oY,aY=/\s/;function lY(t){for(var e=t.length;e--&&aY.test(t.charAt(e)););return e}var uY=lY,cY=uY,fY=/^\s+/;function dY(t){return t&&t.slice(0,cY(t)+1).replace(fY,"")}var hY=dY,pY=hY,_I=To,mY=pl,wI=NaN,gY=/^[-+]0x[0-9a-f]+$/i,yY=/^0b[01]+$/i,vY=/^0o[0-7]+$/i,_Y=parseInt;function wY(t){if(typeof t=="number")return t;if(mY(t))return wI;if(_I(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_I(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=pY(t);var n=yY.test(t);return n||vY.test(t)?_Y(t.slice(2),n?2:8):gY.test(t)?wI:+t}var qO=wY,EY=To,Ty=sY,EI=qO,TY="Expected a function",SY=Math.max,bY=Math.min;function AY(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(TY);e=EI(e)||0,EY(n)&&(c=!!n.leading,f="maxWait"in n,o=f?SY(EI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(x){var b=r,I=i;return r=i=void 0,u=x,s=t.apply(I,b),s}function _(x){return u=x,a=setTimeout(v,e),c?g(x):s}function y(x){var b=x-l,I=x-u,C=e-b;return f?bY(C,o-I):C}function w(x){var b=x-l,I=x-u;return l===void 0||b>=e||b<0||f&&I>=o}function v(){var x=Ty();if(w(x))return E(x);a=setTimeout(v,y(x))}function E(x){return a=void 0,h&&r?g(x):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function R(){return a===void 0?s:E(Ty())}function A(){var x=Ty(),b=w(x);if(r=arguments,i=this,l=x,b){if(a===void 0)return _(l);if(f)return clearTimeout(a),a=setTimeout(v,e),g(l)}return a===void 0&&(a=setTimeout(v,e)),s}return A.cancel=S,A.flush=R,A}var IY=AY,xY=IY,CY=To,PY="Expected a function";function RY(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(PY);return CY(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xY(t,e,{leading:r,maxWait:e,trailing:i})}var NY=RY;const jO=Ge(NY);function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){kY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kY(t,e,n){return e=MY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MY(t){var e=OY(t,"string");return vc(e)=="symbol"?e:e+""}function OY(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DY(t,e){return UY(t)||VY(t,e)||$Y(t,e)||LY()}function LY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Y(t,e){if(t){if(typeof t=="string")return SI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SI(t,e)}}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function UY(t){if(Array.isArray(t))return t}var FY=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,_=t.debounce,y=_===void 0?0:_,w=t.id,v=t.className,E=t.onResize,S=t.style,R=S===void 0?{}:S,A=$.useRef(null),x=$.useRef();x.current=E,$.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var b=$.useState({containerWidth:i.width,containerHeight:i.height}),I=DY(b,2),C=I[0],M=I[1],k=$.useCallback(function(N,B){M(function(H){var G=Math.round(N),K=Math.round(B);return H.containerWidth===G&&H.containerHeight===K?H:{containerWidth:G,containerHeight:K}})},[]);$.useEffect(function(){var N=function(q){var Y,te=q[0].contentRect,Q=te.width,ue=te.height;k(Q,ue),(Y=x.current)===null||Y===void 0||Y.call(x,Q,ue)};y>0&&(N=jO(N,y,{trailing:!0,leading:!1}));var B=new ResizeObserver(N),H=A.current.getBoundingClientRect(),G=H.width,K=H.height;return k(G,K),B.observe(A.current),function(){B.disconnect()}},[k,y]);var D=$.useMemo(function(){var N=C.containerWidth,B=C.containerHeight;if(N<0||B<0)return null;ns(Wo(s)||Wo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),ns(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=Wo(s)?N:s,G=Wo(l)?B:l;n&&n>0&&(H?G=H/n:G&&(H=G*n),h&&G>h&&(G=h)),ns(H>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,G,s,l,c,f,n);var K=!Array.isArray(g)&&ti(g.type).endsWith("Chart");return F.Children.map(g,function(U){return F.isValidElement(U)?$.cloneElement(U,cd({width:H,height:G},K?{style:cd({height:"100%",width:"100%",maxHeight:G,maxWidth:H},U.props.style)}:{})):U})},[n,g,l,h,f,c,C,s]);return F.createElement("div",{id:w?"".concat(w):void 0,className:Ne("recharts-responsive-container",v),style:cd(cd({},R),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:A},D)}),TE=function(e){return null};TE.displayName="Cell";function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){BY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BY(t,e,n){return e=qY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qY(t){var e=jY(t,"string");return _c(e)=="symbol"?e:e+""}function jY(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bs={widthCache:{},cacheCount:0},HY=2e3,GY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AI="recharts_measurement_span";function zY(t){var e=T0({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Vu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||hf.isSsr)return{width:0,height:0};var r=zY(n),i=JSON.stringify({text:e,copyStyle:r});if(Bs.widthCache[i])return Bs.widthCache[i];try{var o=document.getElementById(AI);o||(o=document.createElement("span"),o.setAttribute("id",AI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=T0(T0({},GY),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Bs.widthCache[i]=l,++Bs.cacheCount>HY&&(Bs.cacheCount=0,Bs.widthCache={}),l}catch{return{width:0,height:0}}},WY=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function Dh(t,e){return XY(t)||YY(t,e)||JY(t,e)||KY()}function KY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JY(t,e){if(t){if(typeof t=="string")return II(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return II(t,e)}}function II(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function XY(t){if(Array.isArray(t))return t}function QY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eX(r.key),r)}}function ZY(t,e,n){return e&&xI(t.prototype,e),n&&xI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eX(t){var e=tX(t,"string");return wc(e)=="symbol"?e:e+""}function tX(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iX=Object.keys(HO),sa="NaN";function oX(t,e){return t*HO[e]}var fd=function(){function t(e,n){QY(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!nX.test(n)&&(this.num=NaN,this.unit=""),iX.includes(n)&&(this.num=oX(e,n),this.unit="px")}return ZY(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=rX.exec(n))!==null&&r!==void 0?r:[],o=Dh(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function GO(t){if(t.includes(sa))return sa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=CI.exec(e))!==null&&n!==void 0?n:[],i=Dh(r,4),o=i[1],s=i[2],a=i[3],l=fd.parse(o??""),u=fd.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return sa;e=e.replace(CI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=PI.exec(e))!==null&&f!==void 0?f:[],g=Dh(h,4),_=g[1],y=g[2],w=g[3],v=fd.parse(_??""),E=fd.parse(w??""),S=y==="+"?v.add(E):v.subtract(E);if(S.isNaN())return sa;e=e.replace(PI,S.toString())}return e}var RI=/\(([^()]*)\)/;function sX(t){for(var e=t;e.includes("(");){var n=RI.exec(e),r=Dh(n,2),i=r[1];e=e.replace(RI,GO(i))}return e}function aX(t){var e=t.replace(/\s+/g,"");return e=sX(e),e=GO(e),e}function lX(t){try{return aX(t)}catch{return sa}}function Sy(t){var e=lX(t.slice(5,-1));return e===sa?"":e}var uX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cX=["dx","dy","angle","className","breakAll"];function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S0.apply(this,arguments)}function NI(t,e){if(t==null)return{};var n=fX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kI(t,e){return mX(t)||pX(t,e)||hX(t,e)||dX()}function dX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hX(t,e){if(t){if(typeof t=="string")return MI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MI(t,e)}}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function mX(t){if(Array.isArray(t))return t}var zO=/[ \f\n\r\t\v\u2028\u2029]+/,WO=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ke(n)||(r?o=n.toString().split(""):o=n.toString().split(zO));var s=o.map(function(l){return{word:l,width:Vu(l,i).width}}),a=r?0:Vu("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},gX=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ie(s),f=a,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(G,K){var U=K.word,q=K.width,Y=G[G.length-1];if(Y&&(i==null||o||Y.width+q+r<Number(i)))Y.words.push(U),Y.width+=q+r;else{var te={words:[U],width:q};G.push(te)}return G},[])},g=h(n),_=function(H){return H.reduce(function(G,K){return G.width>K.width?G:K})};if(!c)return g;for(var y="",w=function(H){var G=f.slice(0,H),K=WO({breakAll:u,style:l,children:G+y}).wordsWithComputedWidth,U=h(K),q=U.length>s||_(U).width>Number(i);return[q,U]},v=0,E=f.length-1,S=0,R;v<=E&&S<=f.length-1;){var A=Math.floor((v+E)/2),x=A-1,b=w(x),I=kI(b,2),C=I[0],M=I[1],k=w(A),D=kI(k,1),N=D[0];if(!C&&!N&&(v=A+1),C&&N&&(E=A-1),!C&&N){R=M;break}S++}return R||g},OI=function(e){var n=ke(e)?[]:e.toString().split(zO);return[{words:n}]},yX=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!hf.isSsr){var l,u,c=WO({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return OI(i);return gX({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return OI(i)},DI="#808080",Lh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,_=e.verticalAnchor,y=_===void 0?"end":_,w=e.fill,v=w===void 0?DI:w,E=NI(e,uX),S=$.useMemo(function(){return yX({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:f,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,f,E.style,E.width]),R=E.dx,A=E.dy,x=E.angle,b=E.className,I=E.breakAll,C=NI(E,cX);if(!xt(r)||!xt(o))return null;var M=r+(ie(R)?R:0),k=o+(ie(A)?A:0),D;switch(y){case"start":D=Sy("calc(".concat(u,")"));break;case"middle":D=Sy("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=Sy("calc(".concat(S.length-1," * -").concat(a,")"));break}var N=[];if(f){var B=S[0].width,H=E.width;N.push("scale(".concat((ie(H)?H/B:1)/B,")"))}return x&&N.push("rotate(".concat(x,", ").concat(M,", ").concat(k,")")),N.length&&(C.transform=N.join(" ")),F.createElement("text",S0({},Oe(C,!0),{x:M,y:k,className:Ne("recharts-text",b),textAnchor:g,fill:v.includes("url")?DI:v}),S.map(function(G,K){var U=G.words.join(I?"":" ");return F.createElement("tspan",{x:M,dy:K===0?D:a,key:"".concat(U,"-").concat(K)},U)}))};function eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SE(t){let e,n,r;t.length!==2?(e=eo,n=(a,l)=>eo(t(a),l),r=(a,l)=>t(a)-l):(e=t===eo||t===vX?t:_X,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function _X(){return 0}function KO(t){return t===null?NaN:+t}function*wX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const EX=SE(eo),pf=EX.right;SE(KO).center;class LI extends Map{constructor(e,n=bX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($I(this,e))}has(e){return super.has($I(this,e))}set(e,n){return super.set(TX(this,e),n)}delete(e){return super.delete(SX(this,e))}}function $I({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function TX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function SX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function bX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function AX(t=eo){if(t===eo)return JO;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function JO(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const IX=Math.sqrt(50),xX=Math.sqrt(10),CX=Math.sqrt(2);function $h(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=IX?10:o>=xX?5:o>=CX?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?$h(t,e,n*2):[a,l,u]}function b0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?$h(e,t,n):$h(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function A0(t,e,n){return e=+e,t=+t,n=+n,$h(t,e,n)[2]}function I0(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?A0(e,t,n):A0(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function VI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function UI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function YO(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?JO:AX(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*f/l+h)),_=Math.min(r,Math.floor(e+(l-u)*f/l+h));YO(t,e,g,_,i)}const o=t[e];let s=n,a=r;for(lu(t,n,e),i(t[r],o)>0&&lu(t,n,r);s<a;){for(lu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?lu(t,n,a):(++a,lu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function lu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function PX(t,e,n){if(t=Float64Array.from(wX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return UI(t);if(e>=1)return VI(t);var r,i=(r-1)*e,o=Math.floor(i),s=VI(YO(t,o).subarray(0,o+1)),a=UI(t.subarray(o+1));return s+(a-s)*(i-o)}}function RX(t,e,n=KO){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function NX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function wi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const x0=Symbol("implicit");function bE(){var t=new LI,e=[],n=[],r=x0;function i(o){let s=t.get(o);if(s===void 0){if(r!==x0)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new LI;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return bE(e,n).unknown(r)},er.apply(i,arguments),i}function Ec(){var t=bE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,g=i<r,_=g?i:r,y=g?r:i;o=(y-_)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),_+=(y-_-o*(h-l))*c,s=o*(1-l),a&&(_=Math.round(_),s=Math.round(s));var w=NX(h).map(function(v){return _+o*v});return n(g?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Ec(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},er.apply(f(),arguments)}function XO(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return XO(e())},t}function Uu(){return XO(Ec.apply(null,arguments).paddingInner(1))}function AE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function QO(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mf(){}var Tc=.7,Vh=1/Tc,va="\\s*([+-]?\\d+)\\s*",Sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kX=/^#([0-9a-f]{3,8})$/,MX=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),OX=new RegExp(`^rgb\\(${Rr},${Rr},${Rr}\\)$`),DX=new RegExp(`^rgba\\(${va},${va},${va},${Sc}\\)$`),LX=new RegExp(`^rgba\\(${Rr},${Rr},${Rr},${Sc}\\)$`),$X=new RegExp(`^hsl\\(${Sc},${Rr},${Rr}\\)$`),VX=new RegExp(`^hsla\\(${Sc},${Rr},${Rr},${Sc}\\)$`),FI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AE(mf,bc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:BI,formatHex:BI,formatHex8:UX,formatHsl:FX,formatRgb:qI,toString:qI});function BI(){return this.rgb().formatHex()}function UX(){return this.rgb().formatHex8()}function FX(){return ZO(this).formatHsl()}function qI(){return this.rgb().formatRgb()}function bc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jI(e):n===3?new vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MX.exec(t))?new vn(e[1],e[2],e[3],1):(e=OX.exec(t))?new vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=DX.exec(t))?dd(e[1],e[2],e[3],e[4]):(e=LX.exec(t))?dd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$X.exec(t))?zI(e[1],e[2]/100,e[3]/100,1):(e=VX.exec(t))?zI(e[1],e[2]/100,e[3]/100,e[4]):FI.hasOwnProperty(t)?jI(FI[t]):t==="transparent"?new vn(NaN,NaN,NaN,0):null}function jI(t){return new vn(t>>16&255,t>>8&255,t&255,1)}function dd(t,e,n,r){return r<=0&&(t=e=n=NaN),new vn(t,e,n,r)}function BX(t){return t instanceof mf||(t=bc(t)),t?(t=t.rgb(),new vn(t.r,t.g,t.b,t.opacity)):new vn}function C0(t,e,n,r){return arguments.length===1?BX(t):new vn(t,e,n,r??1)}function vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}AE(vn,C0,QO(mf,{brighter(t){return t=t==null?Vh:Math.pow(Vh,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Tc:Math.pow(Tc,t),new vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vn(rs(this.r),rs(this.g),rs(this.b),Uh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HI,formatHex:HI,formatHex8:qX,formatRgb:GI,toString:GI}));function HI(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}`}function qX(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}${Ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function GI(){const t=Uh(this.opacity);return`${t===1?"rgb(":"rgba("}${rs(this.r)}, ${rs(this.g)}, ${rs(this.b)}${t===1?")":`, ${t})`}`}function Uh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ko(t){return t=rs(t),(t<16?"0":"")+t.toString(16)}function zI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lr(t,e,n,r)}function ZO(t){if(t instanceof lr)return new lr(t.h,t.s,t.l,t.opacity);if(t instanceof mf||(t=bc(t)),!t)return new lr;if(t instanceof lr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new lr(s,a,l,t.opacity)}function jX(t,e,n,r){return arguments.length===1?ZO(t):new lr(t,e,n,r??1)}function lr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}AE(lr,jX,QO(mf,{brighter(t){return t=t==null?Vh:Math.pow(Vh,t),new lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Tc:Math.pow(Tc,t),new lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vn(by(t>=240?t-240:t+120,i,r),by(t,i,r),by(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new lr(WI(this.h),hd(this.s),hd(this.l),Uh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Uh(this.opacity);return`${t===1?"hsl(":"hsla("}${WI(this.h)}, ${hd(this.s)*100}%, ${hd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function WI(t){return t=(t||0)%360,t<0?t+360:t}function hd(t){return Math.max(0,Math.min(1,t||0))}function by(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const IE=t=>()=>t;function HX(t,e){return function(n){return t+n*e}}function GX(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zX(t){return(t=+t)==1?eD:function(e,n){return n-e?GX(e,n,t):IE(isNaN(e)?n:e)}}function eD(t,e){var n=e-t;return n?HX(t,n):IE(isNaN(t)?e:t)}const KI=function t(e){var n=zX(e);function r(i,o){var s=n((i=C0(i)).r,(o=C0(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=eD(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function WX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function KX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Sl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function YX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function XX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Sl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var P0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ay=new RegExp(P0.source,"g");function QX(t){return function(){return t}}function ZX(t){return function(e){return t(e)+""}}function eQ(t,e){var n=P0.lastIndex=Ay.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=P0.exec(t))&&(i=Ay.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Fh(r,i)})),n=Ay.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?ZX(l[0].x):QX(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Sl(t,e){var n=typeof e,r;return e==null||n==="boolean"?IE(e):(n==="number"?Fh:n==="string"?(r=bc(e))?(e=r,KI):eQ:e instanceof bc?KI:e instanceof Date?YX:KX(e)?WX:Array.isArray(e)?JX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?XX:Fh)(t,e)}function xE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function tQ(t,e){e===void 0&&(e=t,t=Sl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function nQ(t){return function(){return t}}function Bh(t){return+t}var JI=[0,1];function fn(t){return t}function R0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:nQ(isNaN(e)?NaN:.5)}function rQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function iQ(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=R0(i,r),o=n(s,o)):(r=R0(r,i),o=n(o,s)),function(a){return o(r(a))}}function oQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=R0(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=pf(t,a,1,r)-1;return o[l](i[l](a))}}function gf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Nm(){var t=JI,e=JI,n=Sl,r,i,o,s=fn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==fn&&(s=rQ(t[0],t[h-1])),a=h>2?oQ:iQ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Fh)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Bh),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=xE,c()},f.clamp=function(h){return arguments.length?(s=h?!0:fn,c()):s!==fn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return r=h,i=g,c()}}function CE(){return Nm()(fn,fn)}function sQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fa(t){return t=qh(Math.abs(t)),t?t[1]:NaN}function aQ(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function lQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var uQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ac(t){if(!(e=uQ.exec(t)))throw new Error("invalid format: "+t);var e;return new PE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ac.prototype=PE.prototype;function PE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var tD;function fQ(t,e){var n=qh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(tD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qh(t,Math.max(0,e+o-1))[0]}function YI(t,e){var n=qh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const XI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YI(t*100,e),r:YI,s:fQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function QI(t){return t}var ZI=Array.prototype.map,ex=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dQ(t){var e=t.grouping===void 0||t.thousands===void 0?QI:aQ(ZI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?QI:lQ(ZI.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Ac(f);var h=f.fill,g=f.align,_=f.sign,y=f.symbol,w=f.zero,v=f.width,E=f.comma,S=f.precision,R=f.trim,A=f.type;A==="n"?(E=!0,A="g"):XI[A]||(S===void 0&&(S=12),R=!0,A="g"),(w||h==="0"&&g==="=")&&(w=!0,h="0",g="=");var x=y==="$"?n:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",b=y==="$"?r:/[%p]/.test(A)?s:"",I=XI[A],C=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function M(k){var D=x,N=b,B,H,G;if(A==="c")N=I(k)+N,k="";else{k=+k;var K=k<0||1/k<0;if(k=isNaN(k)?l:I(Math.abs(k),S),R&&(k=cQ(k)),K&&+k==0&&_!=="+"&&(K=!1),D=(K?_==="("?_:a:_==="-"||_==="("?"":_)+D,N=(A==="s"?ex[8+tD/3]:"")+N+(K&&_==="("?")":""),C){for(B=-1,H=k.length;++B<H;)if(G=k.charCodeAt(B),48>G||G>57){N=(G===46?i+k.slice(B+1):k.slice(B))+N,k=k.slice(0,B);break}}}E&&!w&&(k=e(k,1/0));var U=D.length+k.length+N.length,q=U<v?new Array(v-U+1).join(h):"";switch(E&&w&&(k=e(q+k,q.length?v-N.length:1/0),q=""),g){case"<":k=D+k+N+q;break;case"=":k=D+q+k+N;break;case"^":k=q.slice(0,U=q.length>>1)+D+k+N+q.slice(U);break;default:k=q+D+k+N;break}return o(k)}return M.toString=function(){return f+""},M}function c(f,h){var g=u((f=Ac(f),f.type="f",f)),_=Math.max(-8,Math.min(8,Math.floor(Fa(h)/3)))*3,y=Math.pow(10,-_),w=ex[8+_/3];return function(v){return g(y*v)+w}}return{format:u,formatPrefix:c}}var pd,RE,nD;hQ({thousands:",",grouping:[3],currency:["$",""]});function hQ(t){return pd=dQ(t),RE=pd.format,nD=pd.formatPrefix,pd}function pQ(t){return Math.max(0,-Fa(Math.abs(t)))}function mQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fa(e)/3)))*3-Fa(Math.abs(t)))}function gQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fa(e)-Fa(t))+1}function rD(t,e,n,r){var i=I0(t,e,n),o;switch(r=Ac(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=mQ(i,s))&&(r.precision=o),nD(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=gQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=pQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return RE(r)}function So(t){var e=t.domain;return t.ticks=function(n){var r=e();return b0(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return rD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=A0(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function jh(){var t=CE();return t.copy=function(){return gf(t,jh())},er.apply(t,arguments),So(t)}function iD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Bh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return iD(t).unknown(e)},t=arguments.length?Array.from(t,Bh):[0,1],So(n)}function oD(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function tx(t){return Math.log(t)}function nx(t){return Math.exp(t)}function yQ(t){return-Math.log(-t)}function vQ(t){return-Math.exp(-t)}function _Q(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wQ(t){return t===10?_Q:t===Math.E?Math.exp:e=>Math.pow(t,e)}function EQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rx(t){return(e,n)=>-t(-e,n)}function NE(t){const e=t(tx,nx),n=e.domain;let r=10,i,o;function s(){return i=EQ(r),o=wQ(r),n()[0]<0?(i=rx(i),o=rx(o),t(yQ,vQ)):t(tx,nx),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),g=i(c),_,y;const w=a==null?10:+a;let v=[];if(!(r%1)&&g-h<w){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(_=1;_<r;++_)if(y=h<0?_/o(-h):_*o(h),!(y<u)){if(y>c)break;v.push(y)}}else for(;h<=g;++h)for(_=r-1;_>=1;--_)if(y=h>0?_/o(-h):_*o(h),!(y<u)){if(y>c)break;v.push(y)}v.length*2<w&&(v=b0(u,c,w))}else v=b0(h,g,Math.min(g-h,w)).map(o);return f?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ac(l)).precision==null&&(l.trim=!0),l=RE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(oD(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function sD(){const t=NE(Nm()).domain([1,10]);return t.copy=()=>gf(t,sD()).base(t.base()),er.apply(t,arguments),t}function ix(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ox(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kE(t){var e=1,n=t(ix(e),ox(e));return n.constant=function(r){return arguments.length?t(ix(e=+r),ox(e)):e},So(n)}function aD(){var t=kE(Nm());return t.copy=function(){return gf(t,aD()).constant(t.constant())},er.apply(t,arguments)}function sx(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function TQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SQ(t){return t<0?-t*t:t*t}function ME(t){var e=t(fn,fn),n=1;function r(){return n===1?t(fn,fn):n===.5?t(TQ,SQ):t(sx(n),sx(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},So(e)}function OE(){var t=ME(Nm());return t.copy=function(){return gf(t,OE()).exponent(t.exponent())},er.apply(t,arguments),t}function bQ(){return OE.apply(null,arguments).exponent(.5)}function ax(t){return Math.sign(t)*t*t}function AQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lD(){var t=CE(),e=[0,1],n=!1,r;function i(o){var s=AQ(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(ax(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Bh)).map(ax)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return lD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},er.apply(i,arguments),So(i)}function uD(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=RX(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[pf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(eo),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return uD().domain(t).range(e).unknown(r)},er.apply(o,arguments)}function cD(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[pf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return cD().domain([t,e]).range(i).unknown(o)},er.apply(So(s),arguments)}function fD(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[pf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return fD().domain(t).range(e).unknown(n)},er.apply(i,arguments)}const Iy=new Date,xy=new Date;function Nt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Nt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Iy.setTime(+o),xy.setTime(+s),t(Iy),t(xy),Math.floor(n(Iy,xy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Hh=Nt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Hh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Hh);Hh.range;const Yr=1e3,Gn=Yr*60,Xr=Gn*60,ui=Xr*24,DE=ui*7,lx=ui*30,Cy=ui*365,Jo=Nt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yr)},(t,e)=>(e-t)/Yr,t=>t.getUTCSeconds());Jo.range;const LE=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yr)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getMinutes());LE.range;const $E=Nt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getUTCMinutes());$E.range;const VE=Nt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yr-t.getMinutes()*Gn)},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getHours());VE.range;const UE=Nt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xr)},(t,e)=>(e-t)/Xr,t=>t.getUTCHours());UE.range;const yf=Nt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/ui,t=>t.getDate()-1);yf.range;const km=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>t.getUTCDate()-1);km.range;const dD=Nt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ui,t=>Math.floor(t/ui));dD.range;function Is(t){return Nt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/DE)}const Mm=Is(0),Gh=Is(1),IQ=Is(2),xQ=Is(3),Ba=Is(4),CQ=Is(5),PQ=Is(6);Mm.range;Gh.range;IQ.range;xQ.range;Ba.range;CQ.range;PQ.range;function xs(t){return Nt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/DE)}const Om=xs(0),zh=xs(1),RQ=xs(2),NQ=xs(3),qa=xs(4),kQ=xs(5),MQ=xs(6);Om.range;zh.range;RQ.range;NQ.range;qa.range;kQ.range;MQ.range;const FE=Nt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());FE.range;const BE=Nt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());BE.range;const ci=Nt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ci.range;const fi=Nt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fi.range;function hD(t,e,n,r,i,o){const s=[[Jo,1,Yr],[Jo,5,5*Yr],[Jo,15,15*Yr],[Jo,30,30*Yr],[o,1,Gn],[o,5,5*Gn],[o,15,15*Gn],[o,30,30*Gn],[i,1,Xr],[i,3,3*Xr],[i,6,6*Xr],[i,12,12*Xr],[r,1,ui],[r,2,2*ui],[n,1,DE],[e,1,lx],[e,3,3*lx],[t,1,Cy]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const g=f&&typeof f.range=="function"?f:l(u,c,f),_=g?g.range(u,+c+1):[];return h?_.reverse():_}function l(u,c,f){const h=Math.abs(c-u)/f,g=SE(([,,w])=>w).right(s,h);if(g===s.length)return t.every(I0(u/Cy,c/Cy,f));if(g===0)return Hh.every(Math.max(I0(u,c,f),1));const[_,y]=s[h/s[g-1][2]<s[g][2]/h?g-1:g];return _.every(y)}return[a,l]}const[OQ,DQ]=hD(fi,BE,Om,dD,UE,$E),[LQ,$Q]=hD(ci,FE,Mm,yf,VE,LE);function Py(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ry(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function uu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function VQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=cu(i),c=fu(i),f=cu(o),h=fu(o),g=cu(s),_=fu(s),y=cu(a),w=fu(a),v=cu(l),E=fu(l),S={a:K,A:U,b:q,B:Y,c:null,d:px,e:px,f:aZ,g:yZ,G:_Z,H:iZ,I:oZ,j:sZ,L:pD,m:lZ,M:uZ,p:te,q:Q,Q:yx,s:vx,S:cZ,u:fZ,U:dZ,V:hZ,w:pZ,W:mZ,x:null,X:null,y:gZ,Y:vZ,Z:wZ,"%":gx},R={a:ue,A:ye,b:Ve,B:ze,c:null,d:mx,e:mx,f:bZ,g:OZ,G:LZ,H:EZ,I:TZ,j:SZ,L:gD,m:AZ,M:IZ,p:Jt,q:kt,Q:yx,s:vx,S:xZ,u:CZ,U:PZ,V:RZ,w:NZ,W:kZ,x:null,X:null,y:MZ,Y:DZ,Z:$Z,"%":gx},A={a:M,A:k,b:D,B:N,c:B,d:dx,e:dx,f:eZ,g:fx,G:cx,H:hx,I:hx,j:YQ,L:ZQ,m:JQ,M:XQ,p:C,q:KQ,Q:nZ,s:rZ,S:QQ,u:jQ,U:HQ,V:GQ,w:qQ,W:zQ,x:H,X:G,y:fx,Y:cx,Z:WQ,"%":tZ};S.x=x(n,S),S.X=x(r,S),S.c=x(e,S),R.x=x(n,R),R.X=x(r,R),R.c=x(e,R);function x(ne,ge){return function(ve){var X=[],qe=-1,Te=0,dt=ne.length,rt,Mt,tr;for(ve instanceof Date||(ve=new Date(+ve));++qe<dt;)ne.charCodeAt(qe)===37&&(X.push(ne.slice(Te,qe)),(Mt=ux[rt=ne.charAt(++qe)])!=null?rt=ne.charAt(++qe):Mt=rt==="e"?" ":"0",(tr=ge[rt])&&(rt=tr(ve,Mt)),X.push(rt),Te=qe+1);return X.push(ne.slice(Te,qe)),X.join("")}}function b(ne,ge){return function(ve){var X=uu(1900,void 0,1),qe=I(X,ne,ve+="",0),Te,dt;if(qe!=ve.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ge&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Te=Ry(uu(X.y,0,1)),dt=Te.getUTCDay(),Te=dt>4||dt===0?zh.ceil(Te):zh(Te),Te=km.offset(Te,(X.V-1)*7),X.y=Te.getUTCFullYear(),X.m=Te.getUTCMonth(),X.d=Te.getUTCDate()+(X.w+6)%7):(Te=Py(uu(X.y,0,1)),dt=Te.getDay(),Te=dt>4||dt===0?Gh.ceil(Te):Gh(Te),Te=yf.offset(Te,(X.V-1)*7),X.y=Te.getFullYear(),X.m=Te.getMonth(),X.d=Te.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),dt="Z"in X?Ry(uu(X.y,0,1)).getUTCDay():Py(uu(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(dt+5)%7:X.w+X.U*7-(dt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Ry(X)):Py(X)}}function I(ne,ge,ve,X){for(var qe=0,Te=ge.length,dt=ve.length,rt,Mt;qe<Te;){if(X>=dt)return-1;if(rt=ge.charCodeAt(qe++),rt===37){if(rt=ge.charAt(qe++),Mt=A[rt in ux?ge.charAt(qe++):rt],!Mt||(X=Mt(ne,ve,X))<0)return-1}else if(rt!=ve.charCodeAt(X++))return-1}return X}function C(ne,ge,ve){var X=u.exec(ge.slice(ve));return X?(ne.p=c.get(X[0].toLowerCase()),ve+X[0].length):-1}function M(ne,ge,ve){var X=g.exec(ge.slice(ve));return X?(ne.w=_.get(X[0].toLowerCase()),ve+X[0].length):-1}function k(ne,ge,ve){var X=f.exec(ge.slice(ve));return X?(ne.w=h.get(X[0].toLowerCase()),ve+X[0].length):-1}function D(ne,ge,ve){var X=v.exec(ge.slice(ve));return X?(ne.m=E.get(X[0].toLowerCase()),ve+X[0].length):-1}function N(ne,ge,ve){var X=y.exec(ge.slice(ve));return X?(ne.m=w.get(X[0].toLowerCase()),ve+X[0].length):-1}function B(ne,ge,ve){return I(ne,e,ge,ve)}function H(ne,ge,ve){return I(ne,n,ge,ve)}function G(ne,ge,ve){return I(ne,r,ge,ve)}function K(ne){return s[ne.getDay()]}function U(ne){return o[ne.getDay()]}function q(ne){return l[ne.getMonth()]}function Y(ne){return a[ne.getMonth()]}function te(ne){return i[+(ne.getHours()>=12)]}function Q(ne){return 1+~~(ne.getMonth()/3)}function ue(ne){return s[ne.getUTCDay()]}function ye(ne){return o[ne.getUTCDay()]}function Ve(ne){return l[ne.getUTCMonth()]}function ze(ne){return a[ne.getUTCMonth()]}function Jt(ne){return i[+(ne.getUTCHours()>=12)]}function kt(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ge=x(ne+="",S);return ge.toString=function(){return ne},ge},parse:function(ne){var ge=b(ne+="",!1);return ge.toString=function(){return ne},ge},utcFormat:function(ne){var ge=x(ne+="",R);return ge.toString=function(){return ne},ge},utcParse:function(ne){var ge=b(ne+="",!0);return ge.toString=function(){return ne},ge}}}var ux={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,UQ=/^%/,FQ=/[\\^$*+?|[\]().{}]/g;function Pe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function BQ(t){return t.replace(FQ,"\\$&")}function cu(t){return new RegExp("^(?:"+t.map(BQ).join("|")+")","i")}function fu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function qQ(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function jQ(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function HQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function GQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function cx(t,e,n){var r=Ft.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fx(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function WQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function KQ(t,e,n){var r=Ft.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function JQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dx(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function YQ(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function hx(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function XQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function QQ(t,e,n){var r=Ft.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ZQ(t,e,n){var r=Ft.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function eZ(t,e,n){var r=Ft.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tZ(t,e,n){var r=UQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function nZ(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function rZ(t,e,n){var r=Ft.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function px(t,e){return Pe(t.getDate(),e,2)}function iZ(t,e){return Pe(t.getHours(),e,2)}function oZ(t,e){return Pe(t.getHours()%12||12,e,2)}function sZ(t,e){return Pe(1+yf.count(ci(t),t),e,3)}function pD(t,e){return Pe(t.getMilliseconds(),e,3)}function aZ(t,e){return pD(t,e)+"000"}function lZ(t,e){return Pe(t.getMonth()+1,e,2)}function uZ(t,e){return Pe(t.getMinutes(),e,2)}function cZ(t,e){return Pe(t.getSeconds(),e,2)}function fZ(t){var e=t.getDay();return e===0?7:e}function dZ(t,e){return Pe(Mm.count(ci(t)-1,t),e,2)}function mD(t){var e=t.getDay();return e>=4||e===0?Ba(t):Ba.ceil(t)}function hZ(t,e){return t=mD(t),Pe(Ba.count(ci(t),t)+(ci(t).getDay()===4),e,2)}function pZ(t){return t.getDay()}function mZ(t,e){return Pe(Gh.count(ci(t)-1,t),e,2)}function gZ(t,e){return Pe(t.getFullYear()%100,e,2)}function yZ(t,e){return t=mD(t),Pe(t.getFullYear()%100,e,2)}function vZ(t,e){return Pe(t.getFullYear()%1e4,e,4)}function _Z(t,e){var n=t.getDay();return t=n>=4||n===0?Ba(t):Ba.ceil(t),Pe(t.getFullYear()%1e4,e,4)}function wZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pe(e/60|0,"0",2)+Pe(e%60,"0",2)}function mx(t,e){return Pe(t.getUTCDate(),e,2)}function EZ(t,e){return Pe(t.getUTCHours(),e,2)}function TZ(t,e){return Pe(t.getUTCHours()%12||12,e,2)}function SZ(t,e){return Pe(1+km.count(fi(t),t),e,3)}function gD(t,e){return Pe(t.getUTCMilliseconds(),e,3)}function bZ(t,e){return gD(t,e)+"000"}function AZ(t,e){return Pe(t.getUTCMonth()+1,e,2)}function IZ(t,e){return Pe(t.getUTCMinutes(),e,2)}function xZ(t,e){return Pe(t.getUTCSeconds(),e,2)}function CZ(t){var e=t.getUTCDay();return e===0?7:e}function PZ(t,e){return Pe(Om.count(fi(t)-1,t),e,2)}function yD(t){var e=t.getUTCDay();return e>=4||e===0?qa(t):qa.ceil(t)}function RZ(t,e){return t=yD(t),Pe(qa.count(fi(t),t)+(fi(t).getUTCDay()===4),e,2)}function NZ(t){return t.getUTCDay()}function kZ(t,e){return Pe(zh.count(fi(t)-1,t),e,2)}function MZ(t,e){return Pe(t.getUTCFullYear()%100,e,2)}function OZ(t,e){return t=yD(t),Pe(t.getUTCFullYear()%100,e,2)}function DZ(t,e){return Pe(t.getUTCFullYear()%1e4,e,4)}function LZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?qa(t):qa.ceil(t),Pe(t.getUTCFullYear()%1e4,e,4)}function $Z(){return"+0000"}function gx(){return"%"}function yx(t){return+t}function vx(t){return Math.floor(+t/1e3)}var qs,vD,_D;VZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VZ(t){return qs=VQ(t),vD=qs.format,qs.parse,_D=qs.utcFormat,qs.utcParse,qs}function UZ(t){return new Date(t)}function FZ(t){return t instanceof Date?+t:+new Date(+t)}function qE(t,e,n,r,i,o,s,a,l,u){var c=CE(),f=c.invert,h=c.domain,g=u(".%L"),_=u(":%S"),y=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),E=u("%b %d"),S=u("%B"),R=u("%Y");function A(x){return(l(x)<x?g:a(x)<x?_:s(x)<x?y:o(x)<x?w:r(x)<x?i(x)<x?v:E:n(x)<x?S:R)(x)}return c.invert=function(x){return new Date(f(x))},c.domain=function(x){return arguments.length?h(Array.from(x,FZ)):h().map(UZ)},c.ticks=function(x){var b=h();return t(b[0],b[b.length-1],x??10)},c.tickFormat=function(x,b){return b==null?A:u(b)},c.nice=function(x){var b=h();return(!x||typeof x.range!="function")&&(x=e(b[0],b[b.length-1],x??10)),x?h(oD(b,x)):c},c.copy=function(){return gf(c,qE(t,e,n,r,i,o,s,a,l,u))},c}function BZ(){return er.apply(qE(LQ,$Q,ci,FE,Mm,yf,VE,LE,Jo,vD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qZ(){return er.apply(qE(OQ,DQ,fi,BE,Om,km,UE,$E,Jo,_D).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dm(){var t=0,e=1,n,r,i,o,s=fn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var g,_;return arguments.length?([g,_]=h,s=f(g,_),u):[s(0),s(1)]}}return u.range=c(Sl),u.rangeRound=c(xE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function bo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function wD(){var t=So(Dm()(fn));return t.copy=function(){return bo(t,wD())},wi.apply(t,arguments)}function ED(){var t=NE(Dm()).domain([1,10]);return t.copy=function(){return bo(t,ED()).base(t.base())},wi.apply(t,arguments)}function TD(){var t=kE(Dm());return t.copy=function(){return bo(t,TD()).constant(t.constant())},wi.apply(t,arguments)}function jE(){var t=ME(Dm());return t.copy=function(){return bo(t,jE()).exponent(t.exponent())},wi.apply(t,arguments)}function jZ(){return jE.apply(null,arguments).exponent(.5)}function SD(){var t=[],e=fn;function n(r){if(r!=null&&!isNaN(r=+r))return e((pf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(eo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>PX(t,o/r))},n.copy=function(){return SD(e).domain(t)},wi.apply(n,arguments)}function Lm(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=fn,c,f=!1,h;function g(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?a:l),u(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(u=y,g):u};function _(y){return function(w){var v,E,S;return arguments.length?([v,E,S]=w,u=tQ(y,[v,E,S]),g):[u(0),u(.5),u(1)]}}return g.range=_(Sl),g.rangeRound=_(xE),g.unknown=function(y){return arguments.length?(h=y,g):h},function(y){return c=y,i=y(t),o=y(e),s=y(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,g}}function bD(){var t=So(Lm()(fn));return t.copy=function(){return bo(t,bD())},wi.apply(t,arguments)}function AD(){var t=NE(Lm()).domain([.1,1,10]);return t.copy=function(){return bo(t,AD()).base(t.base())},wi.apply(t,arguments)}function ID(){var t=kE(Lm());return t.copy=function(){return bo(t,ID()).constant(t.constant())},wi.apply(t,arguments)}function HE(){var t=ME(Lm());return t.copy=function(){return bo(t,HE()).exponent(t.exponent())},wi.apply(t,arguments)}function HZ(){return HE.apply(null,arguments).exponent(.5)}const _x=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ec,scaleDiverging:bD,scaleDivergingLog:AD,scaleDivergingPow:HE,scaleDivergingSqrt:HZ,scaleDivergingSymlog:ID,scaleIdentity:iD,scaleImplicit:x0,scaleLinear:jh,scaleLog:sD,scaleOrdinal:bE,scalePoint:Uu,scalePow:OE,scaleQuantile:uD,scaleQuantize:cD,scaleRadial:lD,scaleSequential:wD,scaleSequentialLog:ED,scaleSequentialPow:jE,scaleSequentialQuantile:SD,scaleSequentialSqrt:jZ,scaleSequentialSymlog:TD,scaleSqrt:bQ,scaleSymlog:aD,scaleThreshold:fD,scaleTime:BZ,scaleUtc:qZ,tickFormat:rD},Symbol.toStringTag,{value:"Module"}));var GZ=pl;function zZ(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!GZ(s):n(s,a)))var a=s,l=o}return l}var xD=zZ;function WZ(t,e){return t>e}var KZ=WZ,JZ=xD,YZ=KZ,XZ=El;function QZ(t){return t&&t.length?JZ(t,XZ,YZ):void 0}var ZZ=QZ;const $m=Ge(ZZ);function eee(t,e){return t<e}var tee=eee,nee=xD,ree=tee,iee=El;function oee(t){return t&&t.length?nee(t,iee,ree):void 0}var see=oee;const Vm=Ge(see);var aee=nE,lee=Tl,uee=LO,cee=Sn;function fee(t,e){var n=cee(t)?aee:uee;return n(t,lee(e))}var dee=fee,hee=OO,pee=dee;function mee(t,e){return hee(pee(t,e),1)}var gee=mee;const yee=Ge(gee);var vee=vE;function _ee(t,e){return vee(t,e)}var wee=_ee;const GE=Ge(wee);var bl=1e9,Eee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WE,nt=!0,Xn="[DecimalError] ",is=Xn+"Invalid argument: ",zE=Xn+"Exponent out of range: ",Al=Math.floor,qo=Math.pow,Tee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn,Dt=1e7,Xe=7,CD=9007199254740991,Wh=Al(CD/Xe),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return ni(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return Be(ni(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return wt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pn))throw Error(Xn+"NaN");if(n.s<1)throw Error(Xn+(n.s?"NaN":"-Infinity"));return n.eq(Pn)?new r(0):(nt=!1,e=ni(Ic(n,o),Ic(t,o),o),nt=!0,Be(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ND(e,t):PD(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Xn+"NaN");return n.s?(nt=!1,e=ni(n,t,0,1).times(t),nt=!0,n.minus(e)):Be(new r(n),i)};ae.naturalExponential=ae.exp=function(){return RD(this)};ae.naturalLogarithm=ae.ln=function(){return Ic(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PD(e,t):ND(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(is+t);if(e=wt(i)+1,r=i.d.length-1,n=r*Xe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Xn+"NaN")}for(t=wt(a),nt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=xr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Al((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(ni(a,o,s+2)).times(.5),xr(o.d).slice(0,s)===(e=xr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Be(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return nt=!0,Be(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,g=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+g[r]*h[i-r-1]+e,o[i--]=a%Dt|0,e=a/Dt|0;o[i]=(o[i]+e)%Dt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,nt?Be(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Vr(t,0,bl),e===void 0?e=r.rounding:Vr(e,0,8),Be(n,t+wt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hs(r,!0):(Vr(t,0,bl),e===void 0?e=i.rounding:Vr(e,0,8),r=Be(new i(r),t+1,e),n=hs(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?hs(i):(Vr(t,0,bl),e===void 0?e=o.rounding:Vr(e,0,8),r=Be(new o(i),t+wt(i)+1,e),n=hs(r.abs(),!1,t+wt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Be(new e(t),wt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Pn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Xn+"Infinity");return a}if(a.eq(Pn))return a;if(r=l.precision,t.eq(Pn))return Be(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=CD){for(i=new l(Pn),e=Math.ceil(r/Xe+4),nt=!1;n%2&&(i=i.times(a),Ex(i.d,e)),n=Al(n/2),n!==0;)a=a.times(a),Ex(a.d,e);return nt=!0,t.s<0?new l(Pn).div(i):Be(i,r)}}else if(o<0)throw Error(Xn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,nt=!1,i=t.times(Ic(a,r+u)),nt=!0,i=RD(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=wt(i),r=hs(i,n<=o.toExpNeg||n>=o.toExpPos)):(Vr(t,1,bl),e===void 0?e=o.rounding:Vr(e,0,8),i=Be(new o(i),t,e),n=wt(i),r=hs(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Vr(t,1,bl),e===void 0?e=r.rounding:Vr(e,0,8)),Be(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wt(t),n=t.constructor;return hs(t,e<=n.toExpNeg||e>=n.toExpPos)};function PD(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),nt?Be(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/Xe),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Dt|0,l[o]%=Dt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,nt?Be(e,f):e}function Vr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(is+t)}function xr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Xe-r.length,n&&(o+=Di(n)),o+=r;s=t[e],r=s+"",n=Xe-r.length,n&&(o+=Di(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ni=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Dt|0,s=o/Dt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Dt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,g,_,y,w,v,E,S,R,A,x,b,I,C=r.constructor,M=r.s==i.s?1:-1,k=r.d,D=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Xn+"Division by zero");for(l=r.e-i.e,b=D.length,A=k.length,g=new C(M),_=g.d=[],u=0;D[u]==(k[u]||0);)++u;if(D[u]>(k[u]||0)&&--l,o==null?E=o=C.precision:s?E=o+(wt(r)-wt(i))+1:E=o,E<0)return new C(0);if(E=E/Xe+2|0,u=0,b==1)for(c=0,D=D[0],E++;(u<A||c)&&E--;u++)S=c*Dt+(k[u]||0),_[u]=S/D|0,c=S%D|0;else{for(c=Dt/(D[0]+1)|0,c>1&&(D=t(D,c),k=t(k,c),b=D.length,A=k.length),R=b,y=k.slice(0,b),w=y.length;w<b;)y[w++]=0;I=D.slice(),I.unshift(0),x=D[0],D[1]>=Dt/2&&++x;do c=0,a=e(D,y,b,w),a<0?(v=y[0],b!=w&&(v=v*Dt+(y[1]||0)),c=v/x|0,c>1?(c>=Dt&&(c=Dt-1),f=t(D,c),h=f.length,w=y.length,a=e(f,y,h,w),a==1&&(c--,n(f,b<h?I:D,h))):(c==0&&(a=c=1),f=D.slice()),h=f.length,h<w&&f.unshift(0),n(y,f,w),a==-1&&(w=y.length,a=e(D,y,b,w),a<1&&(c++,n(y,b<w?I:D,w))),w=y.length):a===0&&(c++,y=[0]),_[u++]=c,a&&y[0]?y[w++]=k[R]||0:(y=[k[R]],w=1);while((R++<A||y[0]!==void 0)&&E--)}return _[0]||_.shift(),g.e=l,Be(g,s?o+wt(g)+1:o)}}();function RD(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(wt(t)>16)throw Error(zE+wt(t));if(!t.s)return new c(Pn);for(nt=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(qo(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Pn),c.precision=a;;){if(i=Be(i.times(t),a),n=n.times(++l),s=o.plus(ni(i,n,a)),xr(s.d).slice(0,a)===xr(o.d).slice(0,a)){for(;u--;)o=Be(o.times(o),a);return c.precision=f,e==null?(nt=!0,Be(o,f)):o}o=s}}function wt(t){for(var e=t.e*Xe,n=t.d[0];n>=10;n/=10)e++;return e}function Ny(t,e,n){if(e>t.LN10.sd())throw nt=!0,n&&(t.precision=n),Error(Xn+"LN10 precision limit exceeded");return Be(new t(t.LN10),e)}function Di(t){for(var e="";t--;)e+="0";return e}function Ic(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,g=t,_=g.d,y=g.constructor,w=y.precision;if(g.s<1)throw Error(Xn+(g.s?"NaN":"-Infinity"));if(g.eq(Pn))return new y(0);if(e==null?(nt=!1,u=w):u=e,g.eq(10))return e==null&&(nt=!0),Ny(y,u);if(u+=h,y.precision=u,n=xr(_),r=n.charAt(0),o=wt(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=xr(g.d),r=n.charAt(0),f++;o=wt(g),r>1?(g=new y("0."+n),o++):g=new y(r+"."+n.slice(1))}else return l=Ny(y,u+2,w).times(o+""),g=Ic(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=w,e==null?(nt=!0,Be(g,w)):g;for(a=s=g=ni(g.minus(Pn),g.plus(Pn),u),c=Be(g.times(g),u),i=3;;){if(s=Be(s.times(c),u),l=a.plus(ni(s,new y(i),u)),xr(l.d).slice(0,u)===xr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Ny(y,u+2,w).times(o+""))),a=ni(a,new y(f),u),y.precision=w,e==null?(nt=!0,Be(a,w)):a;a=l,i+=2}}function wx(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Al(n/Xe),t.d=[],r=(n+1)%Xe,n<0&&(r+=Xe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Xe;r<i;)t.d.push(+e.slice(r,r+=Xe));e=e.slice(r),r=Xe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),nt&&(t.e>Wh||t.e<-Wh))throw Error(zE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Be(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Xe,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Xe),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=Xe,i=r-Xe+s}if(n!==void 0&&(o=qo(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/qo(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=wt(t),f.length=1,e=e-o-1,f[0]=qo(10,(Xe-e%Xe)%Xe),t.e=Al(-e/Xe)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=qo(10,Xe-r),f[c]=i>0?(u/qo(10,s-i)%qo(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Dt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Dt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(nt&&(t.e>Wh||t.e<-Wh))throw Error(zE+wt(t));return t}function ND(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),nt?Be(e,g):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(g/Xe),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Dt-1;--l[o],l[i]+=Dt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,nt?Be(e,g):e):new h(0)}function hs(t,e,n){var r,i=wt(t),o=xr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Di(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Di(-i-1)+o,n&&(r=n-s)>0&&(o+=Di(r))):i>=s?(o+=Di(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Di(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Di(r))),t.s<0?"-"+o:o}function Ex(t,e){if(t.length>e)return t.length=e,!0}function kD(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(is+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return wx(s,o.toString())}else if(typeof o!="string")throw Error(is+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Tee.test(o))wx(s,o);else throw Error(is+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kD,i.config=i.set=See,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function See(t){if(!t||typeof t!="object")throw Error(Xn+"Object expected");var e,n,r,i=["precision",1,bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Al(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(is+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(is+n+": "+r);return this}var WE=kD(Eee);Pn=new WE(1);const Ue=WE;function bee(t){return Cee(t)||xee(t)||Iee(t)||Aee()}function Aee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iee(t,e){if(t){if(typeof t=="string")return N0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N0(t,e)}}function xee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cee(t){if(Array.isArray(t))return N0(t)}function N0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pee=function(e){return e},MD={},OD=function(e){return e===MD},Tx=function(e){return function n(){return arguments.length===0||arguments.length===1&&OD(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Ree=function t(e,n){return e===1?n:Tx(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==MD}).length;return s>=e?n.apply(void 0,i):t(e-s,Tx(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return OD(f)?l.shift():f});return n.apply(void 0,bee(c).concat(l))}))})},Um=function(e){return Ree(e.length,e)},k0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Nee=Um(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),kee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Pee;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},M0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},DD=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Mee(t){var e;return t===0?e=1:e=Math.floor(new Ue(t).abs().log(10).toNumber())+1,e}function Oee(t,e,n){for(var r=new Ue(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Dee=Um(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Lee=Um(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),$ee=Um(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Fm={rangeStep:Oee,getDigitCount:Mee,interpolateNumber:Dee,uninterpolateNumber:Lee,uninterpolateTruncation:$ee};function O0(t){return Fee(t)||Uee(t)||LD(t)||Vee()}function Vee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Fee(t){if(Array.isArray(t))return D0(t)}function xc(t,e){return jee(t)||qee(t,e)||LD(t,e)||Bee()}function Bee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LD(t,e){if(t){if(typeof t=="string")return D0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D0(t,e)}}function D0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qee(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function jee(t){if(Array.isArray(t))return t}function $D(t){var e=xc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function VD(t,e,n){if(t.lte(0))return new Ue(0);var r=Fm.getDigitCount(t.toNumber()),i=new Ue(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Ue(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Ue(Math.ceil(l))}function Hee(t,e,n){var r=1,i=new Ue(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ue(10).pow(Fm.getDigitCount(t)-1),i=new Ue(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ue(Math.floor(t)))}else t===0?i=new Ue(Math.floor((e-1)/2)):n||(i=new Ue(Math.floor(t)));var s=Math.floor((e-1)/2),a=kee(Nee(function(l){return i.add(new Ue(l-s).mul(r)).toNumber()}),k0);return a(0,e)}function UD(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var o=VD(new Ue(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ue(0):(s=new Ue(t).add(e).div(2),s=s.sub(new Ue(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ue(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?UD(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Ue(a).mul(o)),tickMax:s.add(new Ue(l).mul(o))})}function Gee(t){var e=xc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=$D([n,r]),l=xc(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(O0(k0(0,i-1).map(function(){return 1/0}))):[].concat(O0(k0(0,i-1).map(function(){return-1/0})),[c]);return n>r?M0(f):f}if(u===c)return Hee(u,i,o);var h=UD(u,c,s,o),g=h.step,_=h.tickMin,y=h.tickMax,w=Fm.rangeStep(_,y.add(new Ue(.1).mul(g)),g);return n>r?M0(w):w}function zee(t,e){var n=xc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=$D([r,i]),a=xc(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=VD(new Ue(u).sub(l).div(c-1),o,0),h=[].concat(O0(Fm.rangeStep(new Ue(l),new Ue(u).sub(new Ue(.99).mul(f)),f)),[u]);return r>i?M0(h):h}var Wee=DD(Gee),Kee=DD(zee),Jee="Invariant failed";function ps(t,e){throw new Error(Jee)}var Yee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function Xee(t,e){return tte(t)||ete(t,e)||Zee(t,e)||Qee()}function Qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zee(t,e){if(t){if(typeof t=="string")return Sx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sx(t,e)}}function Sx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ete(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function tte(t){if(Array.isArray(t))return t}function nte(t,e){if(t==null)return{};var n=rte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ite(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ote(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qD(r.key),r)}}function ste(t,e,n){return e&&ote(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ate(t,e,n){return e=Jh(e),lte(t,FD()?Reflect.construct(e,n||[],Jh(t).constructor):e.apply(t,n))}function lte(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ute(t)}function ute(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!t})()}function Jh(t){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jh(t)}function cte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L0(t,e)}function L0(t,e){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},L0(t,e)}function BD(t,e,n){return e=qD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qD(t){var e=fte(t,"string");return ja(e)=="symbol"?e:e+""}function fte(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bm=function(t){function e(){return ite(this,e),ate(this,e,arguments)}return cte(e,t),ste(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=nte(r,Yee),g=Oe(h,!1);this.props.direction==="x"&&c.type!=="number"&&ps();var _=l.map(function(y){var w=u(y,a),v=w.x,E=w.y,S=w.value,R=w.errorVal;if(!R)return null;var A=[],x,b;if(Array.isArray(R)){var I=Xee(R,2);x=I[0],b=I[1]}else x=b=R;if(o==="vertical"){var C=c.scale,M=E+i,k=M+s,D=M-s,N=C(S-x),B=C(S+b);A.push({x1:B,y1:k,x2:B,y2:D}),A.push({x1:N,y1:M,x2:B,y2:M}),A.push({x1:N,y1:k,x2:N,y2:D})}else if(o==="horizontal"){var H=f.scale,G=v+i,K=G-s,U=G+s,q=H(S-x),Y=H(S+b);A.push({x1:K,y1:Y,x2:U,y2:Y}),A.push({x1:G,y1:q,x2:G,y2:Y}),A.push({x1:K,y1:q,x2:U,y2:q})}return F.createElement(Vt,Kh({className:"recharts-errorBar",key:"bar-".concat(A.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},g),A.map(function(te){return F.createElement("line",Kh({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return F.createElement(Vt,{className:"recharts-errorBars"},_)}}])}(F.Component);BD(Bm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BD(Bm,"displayName","ErrorBar");function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function bx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bx(Object(n),!0).forEach(function(r){dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dte(t,e,n){return e=hte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hte(t){var e=pte(t,"string");return Cc(e)=="symbol"?e:e+""}function pte(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jD=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Cn(n,ya);if(!s)return null;var a=ya.defaultProps,l=a!==void 0?Lo(Lo({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,g=f.props,_=g.sectors||g.data||[];return c.concat(_.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,g=h!==void 0?Lo(Lo({},h),f.props):{},_=g.dataKey,y=g.name,w=g.legendType,v=g.hide;return{inactive:v,dataKey:_,type:l.iconType||w||"square",color:KE(f),value:y||_,payload:g}}),Lo(Lo(Lo({},l),ya.getWithHeight(s,i)),{},{payload:u,item:s})};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Ax(t){return vte(t)||yte(t)||gte(t)||mte()}function mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(t,e){if(t){if(typeof t=="string")return $0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $0(t,e)}}function yte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vte(t){if(Array.isArray(t))return $0(t)}function $0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ix(Object(n),!0).forEach(function(r){_a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _a(t,e,n){return e=_te(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _te(t){var e=wte(t,"string");return Pc(e)=="symbol"?e:e+""}function wte(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ur(t,e,n){return ke(t)||ke(e)?n:xt(e)?Wn(t,e,n):Ie(e)?e(t):n}function Fu(t,e,n,r){var i=yee(t,function(a){return Ur(a,e)});if(n==="number"){var o=i.filter(function(a){return ie(a)||parseFloat(a)});return o.length?[Vm(o),$m(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!ke(a)}):i;return s.map(function(a){return xt(a)||a instanceof Date?a:""})}var Ete=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(ur(f-c)!==ur(h-f)){var _=[];if(ur(h-f)===ur(l[1]-l[0])){g=h;var y=f+l[1]-l[0];_[0]=Math.min(y,(y+c)/2),_[1]=Math.max(y,(y+c)/2)}else{g=c;var w=h+l[1]-l[0];_[0]=Math.min(f,(w+f)/2),_[1]=Math.max(f,(w+f)/2)}var v=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>v[0]&&e<=v[1]||e>=_[0]&&e<=_[1]){s=i[u].index;break}}else{var E=Math.min(c,h),S=Math.max(c,h);if(e>(E+f)/2&&e<=(S+f)/2){s=i[u].index;break}}}else for(var R=0;R<a;R++)if(R===0&&e<=(r[R].coordinate+r[R+1].coordinate)/2||R>0&&R<a-1&&e>(r[R].coordinate+r[R-1].coordinate)/2&&e<=(r[R].coordinate+r[R+1].coordinate)/2||R===a-1&&e>(r[R].coordinate+r[R-1].coordinate)/2){s=r[R].index;break}return s},KE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Tte=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),h=0,g=f.length;h<g;h++){var _=c[f[h]],y=_.items,w=_.cateAxisId,v=y.filter(function(b){return ti(b.type).indexOf("Bar")>=0});if(v&&v.length){var E=v[0].type.defaultProps,S=E!==void 0?ft(ft({},E),v[0].props):v[0].props,R=S.barSize,A=S[w];s[A]||(s[A]=[]);var x=ke(R)?n:R;s[A].push({item:v[0],stackList:v.slice(1),barSize:ke(x)?void 0:ds(x,r,0)})}}return s},Ste=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=ds(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,g=i/l,_=s.reduce(function(R,A){return R+A.barSize||0},0);_+=(l-1)*u,_>=i&&(_-=(l-1)*u,u=0),_>=i&&g>0&&(h=!0,g*=.9,_=l*g);var y=(i-_)/2>>0,w={offset:y-u,size:0};c=s.reduce(function(R,A){var x={item:A.item,position:{offset:w.offset+w.size+u,size:h?g:A.barSize}},b=[].concat(Ax(R),[x]);return w=b[b.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){b.push({item:I,position:w})}),b},f)}else{var v=ds(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var E=(i-2*v-(l-1)*u)/l;E>1&&(E>>=0);var S=a===+a?Math.min(E,a):E;c=s.reduce(function(R,A,x){var b=[].concat(Ax(R),[{item:A.item,position:{offset:v+(E+u)*x+(E-S)/2,size:S}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){b.push({item:I,position:b[b.length-1].position})}),b},f)}return c},bte=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=jD({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,g=u.align,_=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&_==="middle")&&g!=="center"&&ie(e[g]))return ft(ft({},e),{},_a({},g,e[g]+(f||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&_!=="middle"&&ie(e[_]))return ft(ft({},e),{},_a({},_,e[_]+(h||0)))}return e},Ate=function(e,n,r){return ke(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},HD=function(e,n,r,i,o){var s=n.props.children,a=mr(s,Bm).filter(function(u){return Ate(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Ur(c,r);if(ke(f))return u;var h=Array.isArray(f)?[Vm(f),$m(f)]:[f,f],g=l.reduce(function(_,y){var w=Ur(c,y,0),v=h[0]-Math.abs(Array.isArray(w)?w[0]:w),E=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(v,_[0]),Math.max(E,_[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},Ite=function(e,n,r,i,o){var s=n.map(function(a){return HD(e,a,r,o,i)}).filter(function(a){return!ke(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},GD=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&HD(e,l,u,i)||Fu(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},zD=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Yo=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ur(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!df(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},ky=new WeakMap,md=function(e,n){if(typeof n!="function")return e;ky.has(e)||ky.set(e,new WeakMap);var r=ky.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},xte=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Ec(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:jh(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Uu(),realScaleType:"point"}:o==="category"?{scale:Ec(),realScaleType:"band"}:{scale:jh(),realScaleType:"linear"};if(fs(i)){var l="scale".concat(bm(i));return{scale:(_x[l]||Uu)(),realScaleType:_x[l]?l:"point"}}return Ie(i)?{scale:i}:{scale:Uu(),realScaleType:"point"}},xx=1e-4,Cte=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-xx,s=Math.max(i[0],i[1])+xx,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Pte=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Rte=function(e,n){if(!n||n.length!==2||!ie(n[0])||!ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(o[0]=r),(!ie(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Nte=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=df(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},kte=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=df(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Mte={sign:Nte,expand:zj,none:Da,silhouette:Wj,wiggle:Kj,positive:kte},Ote=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Mte[r],s=Gj().keys(i).value(function(a,l){return+Ur(a,l,0)}).order(l0).offset(o);return s(e)},Dte=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var g,_=(g=h.type)!==null&&g!==void 0&&g.defaultProps?ft(ft({},h.type.defaultProps),h.props):h.props,y=_.stackId,w=_.hide;if(w)return f;var v=_[r],E=f[v]||{hasStack:!1,stackGroups:{}};if(xt(y)){var S=E.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),E.hasStack=!0,E.stackGroups[y]=S}else E.stackGroups[Sm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return ft(ft({},f),{},_a({},v,E))},l),c={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var _={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,w){var v=g.stackGroups[w];return ft(ft({},y),{},_a({},w,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:Ote(e,v.items,o)}))},_)}return ft(ft({},f),{},_a({},h,g))},c)},Lte=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Wee(u,o,a);return e.domain([Vm(c),$m(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=Kee(f,o,a);return{niceTicks:h}}return null},Cx=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Ur(s,n.dataKey,n.domain[a]);return ke(l)?null:n.scale(l)-o/2+i},$te=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Vte=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(xt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},Ute=function(e){return e.reduce(function(n,r){return[Vm(r.concat([n[0]]).filter(ie)),$m(r.concat([n[1]]).filter(ie))]},[1/0,-1/0])},WD=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=Ute(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Px=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,V0=function(e,n,r){if(Ie(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Px.test(e[0])){var o=+Px.exec(e[0])[1];i[0]=n[0]-o}else Ie(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Rx.test(e[1])){var s=+Rx.exec(e[1])[1];i[1]=n[1]+s}else Ie(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Yh=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=wE(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},Nx=function(e,n,r){return!e||!e.length||GE(e,Wn(r,"type.defaultProps.domain"))?n:e},KD=function(e,n){var r=e.type.defaultProps?ft(ft({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ft(ft({},Oe(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:KE(e),value:Ur(n,i),type:l,payload:n,chartType:u,hide:c})};function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function kx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kx(Object(n),!0).forEach(function(r){Fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e,n){return e=Bte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=qte(t,"string");return Rc(e)=="symbol"?e:e+""}function qte(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xh=Math.PI/180,jte=function(e){return e*180/Math.PI},Gt=function(e,n,r,i){return{x:e+Math.cos(-Xh*i)*r,y:n+Math.sin(-Xh*i)*r}},Hte=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Gte=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Hte({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:jte(u),angleInRadian:u}},zte=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Wte=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},Ox=function(e,n){var r=e.x,i=e.y,o=Gte({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=zte(n),f=c.startAngle,h=c.endAngle,g=a,_;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;_=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;_=g>=h&&g<=f}return _?Mx(Mx({},n),{},{radius:s,angle:Wte(g,n)}):null};function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}var Kte=["offset"];function Jte(t){return Zte(t)||Qte(t)||Xte(t)||Yte()}function Yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xte(t,e){if(t){if(typeof t=="string")return U0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U0(t,e)}}function Qte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zte(t){if(Array.isArray(t))return U0(t)}function U0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ene(t,e){if(t==null)return{};var n=tne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dx(Object(n),!0).forEach(function(r){nne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nne(t,e,n){return e=rne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rne(t){var e=ine(t,"string");return Nc(e)=="symbol"?e:e+""}function ine(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}var one=function(e){var n=e.value,r=e.formatter,i=ke(e.children)?n:e.children;return Ie(r)?r(i):i},sne=function(e,n){var r=ur(n-e),i=Math.min(Math.abs(n-e),360);return r*i},ane=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,_=l.endAngle,y=l.clockWise,w=(f+h)/2,v=sne(g,_),E=v>=0?1:-1,S,R;i==="insideStart"?(S=g+E*s,R=y):i==="insideEnd"?(S=_-E*s,R=!y):i==="end"&&(S=_+E*s,R=y),R=v<=0?R:!R;var A=Gt(u,c,w,S),x=Gt(u,c,w,S+(R?1:-1)*359),b="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(R?0:1,`,
    `).concat(x.x,",").concat(x.y),I=ke(e.id)?Sm("recharts-radial-line-"):e.id;return F.createElement("text",kc({},r,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",a)}),F.createElement("defs",null,F.createElement("path",{id:I,d:b})),F.createElement("textPath",{xlinkHref:"#".concat(I)},n))},lne=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var g=Gt(s,a,u+r,h),_=g.x,y=g.y;return{x:_,y,textAnchor:_>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,v=Gt(s,a,w,h),E=v.x,S=v.y;return{x:E,y:S,textAnchor:"middle",verticalAnchor:"middle"}},une=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,h=f*i,g=f>0?"end":"start",_=f>0?"start":"end",y=u>=0?1:-1,w=y*i,v=y>0?"end":"start",E=y>0?"start":"end";if(o==="top"){var S={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return St(St({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var R={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:_};return St(St({},R),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var A={x:a-w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return St(St({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(o==="right"){var x={x:a+u+w,y:l+c/2,textAnchor:E,verticalAnchor:"middle"};return St(St({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:c}:{})}var b=r?{width:u,height:c}:{};return o==="insideLeft"?St({x:a+w,y:l+c/2,textAnchor:E,verticalAnchor:"middle"},b):o==="insideRight"?St({x:a+u-w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},b):o==="insideTop"?St({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:_},b):o==="insideBottom"?St({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},b):o==="insideTopLeft"?St({x:a+w,y:l+h,textAnchor:E,verticalAnchor:_},b):o==="insideTopRight"?St({x:a+u-w,y:l+h,textAnchor:v,verticalAnchor:_},b):o==="insideBottomLeft"?St({x:a+w,y:l+c-h,textAnchor:E,verticalAnchor:g},b):o==="insideBottomRight"?St({x:a+u-w,y:l+c-h,textAnchor:v,verticalAnchor:g},b):ml(o)&&(ie(o.x)||Wo(o.x))&&(ie(o.y)||Wo(o.y))?St({x:a+ds(o.x,u),y:l+ds(o.y,c),textAnchor:"end",verticalAnchor:"end"},b):St({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)},cne=function(e){return"cx"in e&&ie(e.cx)};function rn(t){var e=t.offset,n=e===void 0?5:e,r=ene(t,Kte),i=St({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||ke(a)&&ke(l)&&!$.isValidElement(u)&&!Ie(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var g;if(Ie(u)){if(g=$.createElement(u,i),$.isValidElement(g))return g}else g=one(i);var _=cne(o),y=Oe(i,!0);if(_&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ane(i,g,y);var w=_?lne(i):une(i);return F.createElement(Lh,kc({className:Ne("recharts-label",f)},y,w,{breakAll:h}),g)}rn.displayName="Label";var JD=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,g=e.top,_=e.left,y=e.width,w=e.height,v=e.clockWise,E=e.labelViewBox;if(E)return E;if(ie(y)&&ie(w)){if(ie(f)&&ie(h))return{x:f,y:h,width:y,height:w};if(ie(g)&&ie(_))return{x:g,y:_,width:y,height:w}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(n)&&ie(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:v}:e.viewBox?e.viewBox:{}},fne=function(e,n){return e?e===!0?F.createElement(rn,{key:"label-implicit",viewBox:n}):xt(e)?F.createElement(rn,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===rn?$.cloneElement(e,{key:"label-implicit",viewBox:n}):F.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):Ie(e)?F.createElement(rn,{key:"label-implicit",content:e,viewBox:n}):ml(e)?F.createElement(rn,kc({viewBox:n},e,{key:"label-implicit"})):null:null},dne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=JD(e),s=mr(i,rn).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=fne(e.label,n||o);return[a].concat(Jte(s))};rn.parseViewBox=JD;rn.renderCallByParent=dne;function hne(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var pne=hne;const mne=Ge(pne);function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}var gne=["valueAccessor"],yne=["data","dataKey","clockWise","id","textBreakAll"];function vne(t){return Tne(t)||Ene(t)||wne(t)||_ne()}function _ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wne(t,e){if(t){if(typeof t=="string")return F0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F0(t,e)}}function Ene(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tne(t){if(Array.isArray(t))return F0(t)}function F0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qh.apply(this,arguments)}function Lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lx(Object(n),!0).forEach(function(r){Sne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sne(t,e,n){return e=bne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bne(t){var e=Ane(t,"string");return Mc(e)=="symbol"?e:e+""}function Ane(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vx(t,e){if(t==null)return{};var n=Ine(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ine(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xne=function(e){return Array.isArray(e.value)?mne(e.value):e.value};function to(t){var e=t.valueAccessor,n=e===void 0?xne:e,r=Vx(t,gne),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=Vx(r,yne);return!i||!i.length?null:F.createElement(Vt,{className:"recharts-label-list"},i.map(function(c,f){var h=ke(o)?n(c,f):Ur(c&&c.payload,o),g=ke(a)?{}:{id:"".concat(a,"-").concat(f)};return F.createElement(rn,Qh({},Oe(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:rn.parseViewBox(ke(s)?c:$x($x({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}to.displayName="LabelList";function Cne(t,e){return t?t===!0?F.createElement(to,{key:"labelList-implicit",data:e}):F.isValidElement(t)||Ie(t)?F.createElement(to,{key:"labelList-implicit",data:e,content:t}):ml(t)?F.createElement(to,Qh({data:e},t,{key:"labelList-implicit"})):null:null}function Pne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=mr(r,to).map(function(s,a){return $.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=Cne(t.label,e);return[o].concat(vne(i))}to.renderCallByParent=Pne;function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function Ux(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ux(Object(n),!0).forEach(function(r){Rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ux(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rne(t,e,n){return e=Nne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nne(t){var e=kne(t,"string");return Oc(e)=="symbol"?e:e+""}function kne(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mne=function(e,n){var r=ur(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},gd=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/Xh,h=u?o:o+s*f,g=Gt(n,r,c,h),_=Gt(n,r,i,h),y=u?o-s*f:o,w=Gt(n,r,c*Math.cos(f*Xh),y);return{center:g,circleTangency:_,lineTangency:w,theta:f}},YD=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=Mne(s,a),u=s+l,c=Gt(n,r,o,s),f=Gt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=Gt(n,r,i,s),_=Gt(n,r,i,u);h+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},One=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=ur(c-u),h=gd({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),g=h.circleTangency,_=h.lineTangency,y=h.theta,w=gd({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),v=w.circleTangency,E=w.lineTangency,S=w.theta,R=l?Math.abs(u-c):Math.abs(u-c)-y-S;if(R<0)return a?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):YD({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var A="M ".concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(R>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var x=gd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),b=x.circleTangency,I=x.lineTangency,C=x.theta,M=gd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=M.circleTangency,D=M.lineTangency,N=M.theta,B=l?Math.abs(u-c):Math.abs(u-c)-C-N;if(B<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},Dne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XD=function(e){var n=Fx(Fx({},Dne),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<o||c===f)return null;var g=Ne("recharts-sector",h),_=s-o,y=ds(a,_,0,!0),w;return y>0&&Math.abs(c-f)<360?w=One({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(y,_/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=YD({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),F.createElement("path",B0({},Oe(n,!0),{className:g,d:w,role:"img"}))};function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function Bx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bx(Object(n),!0).forEach(function(r){Lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lne(t,e,n){return e=$ne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Vne(t,"string");return Dc(e)=="symbol"?e:e+""}function Vne(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jx={curveBasisClosed:Oj,curveBasisOpen:Dj,curveBasis:Mj,curveBumpX:_j,curveBumpY:wj,curveLinearClosed:Lj,curveLinear:Im,curveMonotoneX:$j,curveMonotoneY:Vj,curveNatural:Uj,curveStep:Fj,curveStepAfter:qj,curveStepBefore:Bj},yd=function(e){return e.x===+e.x&&e.y===+e.y},du=function(e){return e.x},hu=function(e){return e.y},Une=function(e,n){if(Ie(e))return e;var r="curve".concat(bm(e));return(r==="curveMonotone"||r==="curveBump")&&n?jx["".concat(r).concat(n==="vertical"?"Y":"X")]:jx[r]||Im},Fne=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Une(r,a),f=u?o.filter(function(y){return yd(y)}):o,h;if(Array.isArray(s)){var g=u?s.filter(function(y){return yd(y)}):s,_=f.map(function(y,w){return qx(qx({},y),{},{base:g[w]})});return a==="vertical"?h=ad().y(hu).x1(du).x0(function(y){return y.base.x}):h=ad().x(du).y1(hu).y0(function(y){return y.base.y}),h.defined(yd).curve(c),h(_)}return a==="vertical"&&ie(s)?h=ad().y(hu).x1(du).x0(s):ie(s)?h=ad().x(du).y1(hu).y0(s):h=eO().x(du).y(hu),h.defined(yd).curve(c),h(f)},Hx=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Fne(e):i;return $.createElement("path",q0({},Oe(e,!1),Eh(e),{className:Ne("recharts-curve",n),d:s,ref:o}))},QD={exports:{}},Bne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qne=Bne,jne=qne;function ZD(){}function e2(){}e2.resetWarningCache=ZD;var Hne=function(){function t(r,i,o,s,a,l){if(l!==jne){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:e2,resetWarningCache:ZD};return n.PropTypes=n,n};QD.exports=Hne();var Gne=QD.exports;const Me=Ge(Gne);var zne=Object.getOwnPropertyNames,Wne=Object.getOwnPropertySymbols,Kne=Object.prototype.hasOwnProperty;function Gx(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function vd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Jne(t){return t!=null?t[Symbol.toStringTag]:void 0}function zx(t){return zne(t).concat(Wne(t))}var Yne=Object.hasOwn||function(t,e){return Kne.call(t,e)};function Cs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Xne="__v",Qne="__o",Zne="_owner",Wx=Object.getOwnPropertyDescriptor,Kx=Object.keys;function ere(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function tre(t,e){return Cs(t.getTime(),e.getTime())}function nre(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function rre(t,e){return t===e}function Jx(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var u=e.entries(),c=!1,f=0;(a=u.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,g=a.value;if(n.equals(h[0],g[0],l,f,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var ire=Cs;function ore(t,e,n){var r=Kx(t),i=r.length;if(Kx(e).length!==i)return!1;for(;i-- >0;)if(!t2(t,e,n,r[i]))return!1;return!0}function pu(t,e,n){var r=zx(t),i=r.length;if(zx(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!t2(t,e,n,o)||(s=Wx(t,o),a=Wx(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function sre(t,e){return Cs(t.valueOf(),e.valueOf())}function are(t,e){return t.source===e.source&&t.flags===e.flags}function Yx(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),u=!1,c=0;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function lre(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function ure(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function t2(t,e,n,r){return(r===Zne||r===Qne||r===Xne)&&(t.$$typeof||e.$$typeof)?!0:Yne(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var cre="[object Arguments]",fre="[object Boolean]",dre="[object Date]",hre="[object Error]",pre="[object Map]",mre="[object Number]",gre="[object Object]",yre="[object RegExp]",vre="[object Set]",_re="[object String]",wre="[object URL]",Ere=Array.isArray,Xx=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,Qx=Object.assign,Tre=Object.prototype.toString.call.bind(Object.prototype.toString);function Sre(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,g=t.unknownTagComparators;return function(y,w,v){if(y===w)return!0;if(y==null||w==null)return!1;var E=typeof y;if(E!==typeof w)return!1;if(E!=="object")return E==="number"?s(y,w,v):E==="function"?i(y,w,v):!1;var S=y.constructor;if(S!==w.constructor)return!1;if(S===Object)return a(y,w,v);if(Ere(y))return e(y,w,v);if(Xx!=null&&Xx(y))return f(y,w,v);if(S===Date)return n(y,w,v);if(S===RegExp)return u(y,w,v);if(S===Map)return o(y,w,v);if(S===Set)return c(y,w,v);var R=Tre(y);if(R===dre)return n(y,w,v);if(R===yre)return u(y,w,v);if(R===pre)return o(y,w,v);if(R===vre)return c(y,w,v);if(R===gre)return typeof y.then!="function"&&typeof w.then!="function"&&a(y,w,v);if(R===wre)return h(y,w,v);if(R===hre)return r(y,w,v);if(R===cre)return a(y,w,v);if(R===fre||R===mre||R===_re)return l(y,w,v);if(g){var A=g[R];if(!A){var x=Jne(y);x&&(A=g[x])}if(A)return A(y,w,v)}return!1}}function bre(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?pu:ere,areDatesEqual:tre,areErrorsEqual:nre,areFunctionsEqual:rre,areMapsEqual:r?Gx(Jx,pu):Jx,areNumbersEqual:ire,areObjectsEqual:r?pu:ore,arePrimitiveWrappersEqual:sre,areRegExpsEqual:are,areSetsEqual:r?Gx(Yx,pu):Yx,areTypedArraysEqual:r?pu:lre,areUrlsEqual:ure,unknownTagComparators:void 0};if(n&&(i=Qx({},i,n(i))),e){var o=vd(i.areArraysEqual),s=vd(i.areMapsEqual),a=vd(i.areObjectsEqual),l=vd(i.areSetsEqual);i=Qx({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function Are(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function Ire(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,s)}}var xre=Ao();Ao({strict:!0});Ao({circular:!0});Ao({circular:!0,strict:!0});Ao({createInternalComparator:function(){return Cs}});Ao({strict:!0,createInternalComparator:function(){return Cs}});Ao({circular:!0,createInternalComparator:function(){return Cs}});Ao({circular:!0,createInternalComparator:function(){return Cs},strict:!0});function Ao(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=bre(t),l=Sre(a),u=r?r(l):Are(l);return Ire({circular:n,comparator:l,createState:i,equals:u,strict:s})}function Cre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Zx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Cre(i)};requestAnimationFrame(r)}function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function Pre(t){return Mre(t)||kre(t)||Nre(t)||Rre()}function Rre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nre(t,e){if(t){if(typeof t=="string")return e1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e1(t,e)}}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mre(t){if(Array.isArray(t))return t}function Ore(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Pre(s),l=a[0],u=a.slice(1);if(typeof l=="number"){Zx(i.bind(null,u),l);return}i(l),Zx(i.bind(null,u));return}j0(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t1(Object(n),!0).forEach(function(r){n2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n2(t,e,n){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dre(t){var e=Lre(t,"string");return Lc(e)==="symbol"?e:String(e)}function Lre(t,e){if(Lc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $re=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Vre=function(e){return e},Ure=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bu=function(e,n){return Object.keys(n).reduce(function(r,i){return n1(n1({},r),{},n2({},i,e(i,n[i])))},{})},r1=function(e,n,r){return e.map(function(i){return"".concat(Ure(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Fre(t,e){return jre(t)||qre(t,e)||r2(t,e)||Bre()}function Bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function jre(t){if(Array.isArray(t))return t}function Hre(t){return Wre(t)||zre(t)||r2(t)||Gre()}function Gre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r2(t,e){if(t){if(typeof t=="string")return H0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H0(t,e)}}function zre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wre(t){if(Array.isArray(t))return H0(t)}function H0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zh=1e-4,i2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},o2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},i1=function(e,n){return function(r){var i=i2(e,n);return o2(i,r)}},Kre=function(e,n){return function(r){var i=i2(e,n),o=[].concat(Hre(i.map(function(s,a){return s*a}).slice(1)),[0]);return o2(o,r)}},o1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=Fre(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=i1(i,s),h=i1(o,a),g=Kre(i,s),_=function(v){return v>1?1:v<0?0:v},y=function(v){for(var E=v>1?1:v,S=E,R=0;R<8;++R){var A=f(S)-E,x=g(S);if(Math.abs(A-E)<Zh||x<Zh)return h(S);S=_(S-A/x)}return h(S)};return y.isStepper=!1,y},Jre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,h){var g=-(c-f)*r,_=h*o,y=h+(g-_)*a/1e3,w=h*a/1e3+c;return Math.abs(w-f)<Zh&&Math.abs(y)<Zh?[f,0]:[w,y]};return l.isStepper=!0,l.dt=a,l},Yre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o1(i);case"spring":return Jre();default:if(i.split("(")[0]==="cubic-bezier")return o1(i)}return typeof i=="function"?i:null};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function s1(t){return Zre(t)||Qre(t)||s2(t)||Xre()}function Xre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zre(t){if(Array.isArray(t))return z0(t)}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){G0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G0(t,e,n){return e=eie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return $c(e)==="symbol"?e:String(e)}function tie(t,e){if($c(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nie(t,e){return oie(t)||iie(t,e)||s2(t,e)||rie()}function rie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s2(t,e){if(t){if(typeof t=="string")return z0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z0(t,e)}}function z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function oie(t){if(Array.isArray(t))return t}var ep=function(e,n,r){return e+(n-e)*r},W0=function(e){var n=e.from,r=e.to;return n!==r},sie=function t(e,n,r){var i=Bu(function(o,s){if(W0(s)){var a=e(s.from,s.to,s.velocity),l=nie(a,2),u=l[0],c=l[1];return Bt(Bt({},s),{},{from:u,velocity:c})}return s},n);return r<1?Bu(function(o,s){return W0(s)?Bt(Bt({},s),{},{velocity:ep(s.velocity,i[o].velocity,r),from:ep(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const aie=function(t,e,n,r,i){var o=$re(t,e),s=o.reduce(function(w,v){return Bt(Bt({},w),{},G0({},v,[t[v],e[v]]))},{}),a=o.reduce(function(w,v){return Bt(Bt({},w),{},G0({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Bu(function(v,E){return E.from},a)},g=function(){return!Object.values(a).filter(W0).length},_=function(v){u||(u=v);var E=v-u,S=E/n.dt;a=sie(n,a,S),i(Bt(Bt(Bt({},t),e),h())),u=v,g()||(l=requestAnimationFrame(f))},y=function(v){c||(c=v);var E=(v-c)/r,S=Bu(function(A,x){return ep.apply(void 0,s1(x).concat([n(E)]))},s);if(i(Bt(Bt(Bt({},t),e),S)),E<1)l=requestAnimationFrame(f);else{var R=Bu(function(A,x){return ep.apply(void 0,s1(x).concat([n(1)]))},s);i(Bt(Bt(Bt({},t),e),R))}};return f=n.isStepper?_:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ha(t){"@babel/helpers - typeof";return Ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(t)}var lie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uie(t,e){if(t==null)return{};var n=cie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function My(t){return pie(t)||hie(t)||die(t)||fie()}function fie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function die(t,e){if(t){if(typeof t=="string")return K0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K0(t,e)}}function hie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pie(t){if(Array.isArray(t))return K0(t)}function K0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(r){Tu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tu(t,e,n){return e=a2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a2(r.key),r)}}function yie(t,e,n){return e&&gie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a2(t){var e=vie(t,"string");return Ha(e)==="symbol"?e:String(e)}function vie(t,e){if(Ha(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ha(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J0(t,e)}function wie(t){var e=Eie();return function(){var r=tp(t),i;if(e){var o=tp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Y0(this,i)}}function Y0(t,e){if(e&&(Ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X0(t)}function X0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tp(t){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tp(t)}var uo=function(t){_ie(n,t);var e=wie(n);function n(r,i){var o;mie(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,h=s.children,g=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(X0(o)),o.changeStyle=o.changeStyle.bind(X0(o)),!a||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),Y0(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Y0(o);o.state={style:l?Tu({},l,u):u}}else o.state={style:{}};return o}return yie(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(a){if(!s){var g={style:l?Tu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(xre(i.to,c)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=_||u?f:i.to;if(this.state&&h){var w={style:l?Tu({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(w)}this.runAnimation(rr(rr({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=aie(s,a,Yre(u),l,this.changeStyle),_=function(){o.stopJSAnimation=g()};this.manager.start([h,c,_,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,h=f===void 0?0:f,g=function(y,w,v){if(v===0)return y;var E=w.duration,S=w.easing,R=S===void 0?"ease":S,A=w.style,x=w.properties,b=w.onAnimationEnd,I=v>0?s[v-1]:w,C=x||Object.keys(A);if(typeof R=="function"||R==="spring")return[].concat(My(y),[o.runJSAnimation.bind(o,{from:I.style,to:A,duration:E,easing:R}),E]);var M=r1(C,E,R),k=rr(rr(rr({},I.style),A),{},{transition:M});return[].concat(My(y),[k,E,b]).filter(Vre)};return this.manager.start([l].concat(My(s.reduce(g,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ore());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=a?Tu({},a,l):l,w=r1(Object.keys(y),s,u);_.start([c,o,rr(rr({},y),{},{transition:w}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=uie(i,lie),u=$.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(g){var _=g.props,y=_.style,w=y===void 0?{}:y,v=_.className,E=$.cloneElement(g,rr(rr({},l),{},{style:rr(rr({},w),c),className:v}));return E};return u===1?f($.Children.only(o)):F.createElement("div",null,$.Children.map(o,function(h){return f(h)}))}}]),n}($.PureComponent);uo.displayName="Animate";uo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};uo.propTypes={from:Me.oneOfType([Me.object,Me.string]),to:Me.oneOfType([Me.object,Me.string]),attributeName:Me.string,duration:Me.number,begin:Me.number,easing:Me.oneOfType([Me.string,Me.func]),steps:Me.arrayOf(Me.shape({duration:Me.number.isRequired,style:Me.object.isRequired,easing:Me.oneOfType([Me.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Me.func]),properties:Me.arrayOf("string"),onAnimationEnd:Me.func})),children:Me.oneOfType([Me.node,Me.func]),isActive:Me.bool,canBegin:Me.bool,onAnimationEnd:Me.func,shouldReAnimate:Me.bool,onAnimationStart:Me.func,onAnimationReStart:Me.func};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}function Tie(t,e){return Iie(t)||Aie(t,e)||bie(t,e)||Sie()}function Sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bie(t,e){if(t){if(typeof t=="string")return u1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u1(t,e)}}function u1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Iie(t){if(Array.isArray(t))return t}function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function f1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(r){xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xie(t,e,n){return e=Cie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=Pie(t,"string");return Vc(e)=="symbol"?e:e+""}function Pie(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d1=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var _=Math.min(s,o);c="M ".concat(e,",").concat(n+a*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+l*_,",").concat(n,`
            L `).concat(e+r-l*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*_,`
            L `).concat(e+r,",").concat(n+i-a*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e+r-l*_,",").concat(n+i,`
            L `).concat(e+l*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*_," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Rie=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Nie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JE=function(e){var n=f1(f1({},Nie),e),r=$.useRef(),i=$.useState(-1),o=Tie(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,g=n.className,_=n.animationEasing,y=n.animationDuration,w=n.animationBegin,v=n.isAnimationActive,E=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=Ne("recharts-rectangle",g);return E?F.createElement(uo,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:_,isActive:E},function(R){var A=R.width,x=R.height,b=R.x,I=R.y;return F.createElement(uo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,isActive:v,easing:_},F.createElement("path",np({},Oe(n,!0),{className:S,d:d1(b,I,A,x,h),ref:r})))}):F.createElement("path",np({},Oe(n,!0),{className:S,d:d1(l,u,c,f,h)}))};function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(this,arguments)}var l2=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ne("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",Q0({},Oe(e,!1),Eh(e),{className:s,cx:n,cy:r,r:i})):null};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}var kie=["x","y","top","left","width","height","className"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function h1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(n),!0).forEach(function(r){Oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e,n){return e=Die(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Die(t){var e=Lie(t,"string");return Uc(e)=="symbol"?e:e+""}function Lie(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ie(t,e){if(t==null)return{};var n=Vie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Uie=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Fie=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,g=h===void 0?0:h,_=e.className,y=$ie(e,kie),w=Mie({x:r,y:o,top:a,left:u,width:f,height:g},y);return!ie(r)||!ie(o)||!ie(f)||!ie(g)||!ie(a)||!ie(u)?null:F.createElement("path",Z0({},Oe(w,!0),{className:Ne("recharts-cross",_),d:Uie(r,o,f,g,a,u)}))},Bie=bO,qie=Bie(Object.getPrototypeOf,Object),jie=qie,Hie=vi,Gie=jie,zie=_i,Wie="[object Object]",Kie=Function.prototype,Jie=Object.prototype,u2=Kie.toString,Yie=Jie.hasOwnProperty,Xie=u2.call(Object);function Qie(t){if(!zie(t)||Hie(t)!=Wie)return!1;var e=Gie(t);if(e===null)return!0;var n=Yie.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&u2.call(n)==Xie}var Zie=Qie;const eoe=Ge(Zie);var toe=vi,noe=_i,roe="[object Boolean]";function ioe(t){return t===!0||t===!1||noe(t)&&toe(t)==roe}var ooe=ioe;const soe=Ge(ooe);function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function rp(){return rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rp.apply(this,arguments)}function aoe(t,e){return foe(t)||coe(t,e)||uoe(t,e)||loe()}function loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uoe(t,e){if(t){if(typeof t=="string")return p1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p1(t,e)}}function p1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function coe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function foe(t){if(Array.isArray(t))return t}function m1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(n),!0).forEach(function(r){doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function doe(t,e,n){return e=hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=poe(t,"string");return Fc(e)=="symbol"?e:e+""}function poe(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y1=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},moe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},goe=function(e){var n=g1(g1({},moe),e),r=$.useRef(),i=$.useState(-1),o=aoe(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,_=n.animationEasing,y=n.animationDuration,w=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var E=Ne("recharts-trapezoid",g);return v?F.createElement(uo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:_,isActive:v},function(S){var R=S.upperWidth,A=S.lowerWidth,x=S.height,b=S.x,I=S.y;return F.createElement(uo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:y,easing:_},F.createElement("path",rp({},Oe(n,!0),{className:E,d:y1(b,I,R,A,x),ref:r})))}):F.createElement("g",null,F.createElement("path",rp({},Oe(n,!0),{className:E,d:y1(l,u,c,f,h)})))},yoe=["option","shapeType","propTransformer","activeClassName","isActive"];function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function voe(t,e){if(t==null)return{};var n=_oe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _oe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function woe(t,e,n){return e=Eoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eoe(t){var e=Toe(t,"string");return Bc(e)=="symbol"?e:e+""}function Toe(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Soe(t,e){return ip(ip({},e),t)}function boe(t,e){return t==="symbols"}function _1(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return F.createElement(JE,n);case"trapezoid":return F.createElement(goe,n);case"sector":return F.createElement(XD,n);case"symbols":if(boe(e))return F.createElement(fE,n);break;default:return null}}function Aoe(t){return $.isValidElement(t)?t.props:t}function Ioe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Soe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=voe(t,yoe),u;if($.isValidElement(e))u=$.cloneElement(e,ip(ip({},l),Aoe(e)));else if(Ie(e))u=e(l);else if(eoe(e)&&!soe(e)){var c=i(e,l);u=F.createElement(_1,{shapeType:n,elementProps:c})}else{var f=l;u=F.createElement(_1,{shapeType:n,elementProps:f})}return a?F.createElement(Vt,{className:s},u):u}function qm(t,e){return e!=null&&"trapezoids"in t.props}function jm(t,e){return e!=null&&"sectors"in t.props}function qc(t,e){return e!=null&&"points"in t.props}function xoe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Coe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Poe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Roe(t,e){var n;return qm(t,e)?n=xoe:jm(t,e)?n=Coe:qc(t,e)&&(n=Poe),n}function Noe(t,e){var n;return qm(t,e)?n="trapezoids":jm(t,e)?n="sectors":qc(t,e)&&(n="points"),n}function koe(t,e){if(qm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(jm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return qc(t,e)?e.payload:{}}function Moe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Noe(n,e),o=koe(n,e),s=r.filter(function(l,u){var c=GE(o,l),f=n.props[i].filter(function(_){var y=Roe(n,e);return y(_,e)}),h=n.props[i].indexOf(f[f.length-1]),g=u===h;return c&&g}),a=r.indexOf(s[s.length-1]);return a}var Ooe=Math.ceil,Doe=Math.max;function Loe(t,e,n,r){for(var i=-1,o=Doe(Ooe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var $oe=Loe,Voe=qO,w1=1/0,Uoe=17976931348623157e292;function Foe(t){if(!t)return t===0?t:0;if(t=Voe(t),t===w1||t===-w1){var e=t<0?-1:1;return e*Uoe}return t===t?t:0}var Boe=Foe,qoe=$oe,joe=Rm,Oy=Boe;function Hoe(t){return function(e,n,r){return r&&typeof r!="number"&&joe(e,n,r)&&(n=r=void 0),e=Oy(e),n===void 0?(n=e,e=0):n=Oy(n),r=r===void 0?e<n?1:-1:Oy(r),qoe(e,n,r,t)}}var Goe=Hoe,zoe=Goe,Woe=zoe(),Koe=Woe;const op=Ge(Koe);function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function E1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E1(Object(n),!0).forEach(function(r){c2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c2(t,e,n){return e=Joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Yoe(t,"string");return jc(e)=="symbol"?e:e+""}function Yoe(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xoe=["Webkit","Moz","O","ms"],Qoe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Xoe.reduce(function(o,s){return T1(T1({},o),{},c2({},s+r,n))},{});return i[e]=n,i};function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sp.apply(this,arguments)}function S1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S1(Object(n),!0).forEach(function(r){In(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d2(r.key),r)}}function ese(t,e,n){return e&&b1(t.prototype,e),n&&b1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tse(t,e,n){return e=ap(e),nse(t,f2()?Reflect.construct(e,n||[],ap(t).constructor):e.apply(t,n))}function nse(t,e){if(e&&(Ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rse(t)}function rse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f2=function(){return!!t})()}function ap(t){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ap(t)}function ise(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e_(t,e)}function e_(t,e){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e_(t,e)}function In(t,e,n){return e=d2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d2(t){var e=ose(t,"string");return Ga(e)=="symbol"?e:e+""}function ose(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sse=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Uu().domain(op(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},A1=function(e){return e.changedTouches&&!!e.changedTouches.length},za=function(t){function e(n){var r;return Zoe(this,e),r=tse(this,e,[n]),In(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),In(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),In(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),In(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),In(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),In(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),In(r,"handleSlideDragStart",function(i){var o=A1(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ise(e,t),ese(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(s,f),_=e.getIndexInRange(s,h);return{startIndex:g-g%l,endIndex:_===c?c:_-_%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Ur(o[r],a,r);return Ie(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,_=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-f-a,u+c-f-s):y<0&&(y=Math.max(y,u-s,u-a));var w=this.getIndex({startX:s+y,endX:a+y});(w.startIndex!==h||w.endIndex!==g)&&_&&_(w),this.setState({startX:s+y,endX:a+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=A1(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,h=c.width,g=c.travellerWidth,_=c.onChange,y=c.gap,w=c.data,v={startX:this.state.startX,endX:this.state.endX},E=r.pageX-o;E>0?E=Math.min(E,f+h-g-u):E<0&&(E=Math.max(E,f-u)),v[s]=u+E;var S=this.getIndex(v),R=S.startIndex,A=S.endIndex,x=function(){var I=w.length-1;return s==="startX"&&(a>l?R%y===0:A%y===0)||a<l&&A===I||s==="endX"&&(a>l?A%y===0:R%y===0)||a>l&&A===I};this.setState(In(In({},s,u+E),"brushMoveStartX",r.pageX),function(){_&&x()&&_(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var g=a[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(In({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return F.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=$.Children.only(u);return f?F.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,_=l.data,y=l.startIndex,w=l.endIndex,v=Math.max(r,this.props.x),E=Dy(Dy({},Oe(this.props,!1)),{},{x:v,y:u,width:c,height:f}),S=g||"Min value: ".concat((o=_[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=_[w])===null||s===void 0?void 0:s.name);return F.createElement(Vt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,E))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,g=5,_={pointerEvents:"none",fill:u};return F.createElement(Vt,{className:"recharts-brush-texts"},F.createElement(Lh,sp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:s+a/2},_),this.getTextOfTick(i)),F.createElement(Lh,sp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:s+a/2},_),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,_=h.endX,y=h.isTextActive,w=h.isSlideMoving,v=h.isTravellerMoving,E=h.isTravellerFocused;if(!i||!i.length||!ie(a)||!ie(l)||!ie(u)||!ie(c)||u<=0||c<=0)return null;var S=Ne("recharts-brush",o),R=F.Children.count(s)===1,A=Qoe("userSelect","none");return F.createElement(Vt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(g,_),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(_,"endX"),(y||w||v||E||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),F.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return F.isValidElement(r)?o=F.cloneElement(r,i):Ie(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Dy({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?sse({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}($.PureComponent);In(za,"displayName","Brush");In(za,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ase=_E;function lse(t,e){var n;return ase(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var use=lse,cse=gO,fse=Tl,dse=use,hse=Sn,pse=Rm;function mse(t,e,n){var r=hse(t)?cse:dse;return n&&pse(t,e,n)&&(e=void 0),r(t,fse(e))}var gse=mse;const yse=Ge(gse);var Nr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},I1=$O;function vse(t,e,n){e=="__proto__"&&I1?I1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var _se=vse,wse=_se,Ese=DO,Tse=Tl;function Sse(t,e){var n={};return e=Tse(e),Ese(t,function(r,i,o){wse(n,i,e(r,i,o))}),n}var bse=Sse;const Ase=Ge(bse);function Ise(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var xse=Ise,Cse=_E;function Pse(t,e){var n=!0;return Cse(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Rse=Pse,Nse=xse,kse=Rse,Mse=Tl,Ose=Sn,Dse=Rm;function Lse(t,e,n){var r=Ose(t)?Nse:kse;return n&&Dse(t,e,n)&&(e=void 0),r(t,Mse(e))}var $se=Lse;const Vse=Ge($se);var Use=["x","y"];function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}function x1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x1(Object(n),!0).forEach(function(r){Fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fse(t,e,n){return e=Bse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bse(t){var e=qse(t,"string");return Hc(e)=="symbol"?e:e+""}function qse(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jse(t,e){if(t==null)return{};var n=Hse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gse(t,e){var n=t.x,r=t.y,i=jse(t,Use),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return mu(mu(mu(mu(mu({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function C1(t){return F.createElement(Ioe,t_({shapeType:"rectangle",propTransformer:Gse,activeClassName:"recharts-active-bar"},t))}var zse=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ie(r)||o9(r);return o?e(r,i):(o||ps(),n)}},Wse=["value","background"],h2;function Wa(t){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(t)}function Kse(t,e){if(t==null)return{};var n=Jse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function P1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(n),!0).forEach(function(r){Hi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m2(r.key),r)}}function Xse(t,e,n){return e&&R1(t.prototype,e),n&&R1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qse(t,e,n){return e=up(e),Zse(t,p2()?Reflect.construct(e,n||[],up(t).constructor):e.apply(t,n))}function Zse(t,e){if(e&&(Wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eae(t)}function eae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p2=function(){return!!t})()}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},up(t)}function tae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n_(t,e)}function Hi(t,e,n){return e=m2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m2(t){var e=nae(t,"string");return Wa(e)=="symbol"?e:e+""}function nae(t,e){if(Wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ps=function(t){function e(){var n;Yse(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Qse(this,e,[].concat(i)),Hi(n,"state",{isAnimationFinished:!1}),Hi(n,"id",Sm("recharts-bar-")),Hi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Hi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return tae(e,t),Xse(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Oe(this.props,!1);return r&&r.map(function(f,h){var g=h===l,_=g?u:s,y=yt(yt(yt({},c),f),{},{isActive:g,option:_,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(Vt,lp({className:"recharts-bar-rectangle"},Th(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(C1,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return F.createElement(uo,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var _=g.t,y=o.map(function(w,v){var E=h&&h[v];if(E){var S=Fs(E.x,w.x),R=Fs(E.y,w.y),A=Fs(E.width,w.width),x=Fs(E.height,w.height);return yt(yt({},w),{},{x:S(_),y:R(_),width:A(_),height:x(_)})}if(s==="horizontal"){var b=Fs(0,w.height),I=b(_);return yt(yt({},w),{},{y:w.y+w.height-I,height:I})}var C=Fs(0,w.width),M=C(_);return yt(yt({},w),{},{width:M})});return F.createElement(Vt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!GE(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Oe(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=Kse(u,Wse);if(!f)return null;var g=yt(yt(yt(yt(yt({},h),{},{fill:"#eee"},f),l),Th(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return F.createElement(C1,lp({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=mr(c,Bm);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,g=function(w,v){var E=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:E,errorVal:Ur(w,v)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return F.createElement(Vt,_,f.map(function(y){return F.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,g=r.isAnimationActive,_=r.background,y=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,v=Ne("recharts-bar",s),E=a&&a.allowDataOverflow,S=l&&l.allowDataOverflow,R=E||S,A=ke(y)?this.id:y;return F.createElement(Vt,{className:v},E||S?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(A)},F.createElement("rect",{x:E?u:u-f/2,y:S?c:c-h/2,width:E?f:f*2,height:S?h:h*2}))):null,F.createElement(Vt,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(A,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,A),(!g||w)&&to.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);h2=Ps;Hi(Ps,"displayName","Bar");Hi(Ps,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hi(Ps,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,g=Pte(r,n);if(!g)return null;var _=e.layout,y=n.type.defaultProps,w=y!==void 0?yt(yt({},y),n.props):n.props,v=w.dataKey,E=w.children,S=w.minPointSize,R=_==="horizontal"?s:o,A=u?R.scale.domain():null,x=$te({numericAxis:R}),b=mr(E,TE),I=f.map(function(C,M){var k,D,N,B,H,G;u?k=Rte(u[c+M],A):(k=Ur(C,v),Array.isArray(k)||(k=[x,k]));var K=zse(S,h2.defaultProps.minPointSize)(k[1],M);if(_==="horizontal"){var U,q=[s.scale(k[0]),s.scale(k[1])],Y=q[0],te=q[1];D=Cx({axis:o,ticks:a,bandSize:i,offset:g.offset,entry:C,index:M}),N=(U=te??Y)!==null&&U!==void 0?U:void 0,B=g.size;var Q=Y-te;if(H=Number.isNaN(Q)?0:Q,G={x:D,y:s.y,width:B,height:s.height},Math.abs(K)>0&&Math.abs(H)<Math.abs(K)){var ue=ur(H||K)*(Math.abs(K)-Math.abs(H));N-=ue,H+=ue}}else{var ye=[o.scale(k[0]),o.scale(k[1])],Ve=ye[0],ze=ye[1];if(D=Ve,N=Cx({axis:s,ticks:l,bandSize:i,offset:g.offset,entry:C,index:M}),B=ze-Ve,H=g.size,G={x:o.x,y:N,width:o.width,height:H},Math.abs(K)>0&&Math.abs(B)<Math.abs(K)){var Jt=ur(B||K)*(Math.abs(K)-Math.abs(B));B+=Jt}}return yt(yt(yt({},C),{},{x:D,y:N,width:B,height:H,value:u?k:k[1],payload:C,background:G},b&&b[M]&&b[M].props),{},{tooltipPayload:[KD(n,C)],tooltipPosition:{x:D+B/2,y:N+H/2}})});return yt({data:I,layout:_},h)});function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function rae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g2(r.key),r)}}function iae(t,e,n){return e&&N1(t.prototype,e),n&&N1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(r){Hm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hm(t,e,n){return e=g2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g2(t){var e=oae(t,"string");return Gc(e)=="symbol"?e:e+""}function oae(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sae=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Cn(u,Ps);return c.reduce(function(g,_){var y=n[_],w=y.orientation,v=y.domain,E=y.padding,S=E===void 0?{}:E,R=y.mirror,A=y.reversed,x="".concat(w).concat(R?"Mirror":""),b,I,C,M,k;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var D=v[1]-v[0],N=1/0,B=y.categoricalDomain.sort(l9);if(B.forEach(function(ye,Ve){Ve>0&&(N=Math.min((ye||0)-(B[Ve-1]||0),N))}),Number.isFinite(N)){var H=N/D,G=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(b=H*G/2),y.padding==="no-gap"){var K=ds(e.barCategoryGap,H*G),U=H*G/2;b=U-K-(U-K)/G*K}}}i==="xAxis"?I=[r.left+(S.left||0)+(b||0),r.left+r.width-(S.right||0)-(b||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(b||0),r.top+r.height-(S.bottom||0)-(b||0)]:I=y.range,A&&(I=[I[1],I[0]]);var q=xte(y,o,h),Y=q.scale,te=q.realScaleType;Y.domain(v).range(I),Cte(Y);var Q=Lte(Y,sr(sr({},y),{},{realScaleType:te}));i==="xAxis"?(k=w==="top"&&!R||w==="bottom"&&R,C=r.left,M=f[x]-k*y.height):i==="yAxis"&&(k=w==="left"&&!R||w==="right"&&R,C=f[x]-k*y.width,M=r.top);var ue=sr(sr(sr({},y),Q),{},{realScaleType:te,x:C,y:M,scale:Y,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ue.bandSize=Yh(ue,Q),!y.hide&&i==="xAxis"?f[x]+=(k?-1:1)*ue.height:y.hide||(f[x]+=(k?-1:1)*ue.width),sr(sr({},g),{},Hm({},_,ue))},{})},y2=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},aae=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return y2({x:n,y:r},{x:i,y:o})},v2=function(){function t(e){rae(this,t),this.scale=e}return iae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Hm(v2,"EPS",1e-4);var YE=function(e){var n=Object.keys(e).reduce(function(r,i){return sr(sr({},r),{},Hm({},i,v2.create(e[i])))},{});return sr(sr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Ase(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return Vse(i,function(o,s){return n[s].isInRange(o)})}})};function lae(t){return(t%180+180)%180}var uae=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=lae(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},cae=fq(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_2=$.createContext(void 0),w2=$.createContext(void 0),E2=$.createContext(void 0),fae=$.createContext({}),T2=$.createContext(void 0),S2=$.createContext(0),b2=$.createContext(0),M1=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=cae(o);return F.createElement(_2.Provider,{value:r},F.createElement(w2.Provider,{value:i},F.createElement(fae.Provider,{value:o},F.createElement(E2.Provider,{value:c},F.createElement(T2.Provider,{value:s},F.createElement(S2.Provider,{value:u},F.createElement(b2.Provider,{value:l},a)))))))},dae=function(){return $.useContext(T2)},A2=function(e){var n=$.useContext(_2);n==null&&ps();var r=n[e];return r==null&&ps(),r},I2=function(e){var n=$.useContext(w2);n==null&&ps();var r=n[e];return r==null&&ps(),r},hae=function(){var e=$.useContext(E2);return e},x2=function(){return $.useContext(b2)},C2=function(){return $.useContext(S2)};function Ka(t){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(t)}function pae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R2(r.key),r)}}function gae(t,e,n){return e&&mae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yae(t,e,n){return e=cp(e),vae(t,P2()?Reflect.construct(e,n||[],cp(t).constructor):e.apply(t,n))}function vae(t,e){if(e&&(Ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ae(t)}function _ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P2=function(){return!!t})()}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}function wae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r_(t,e)}function O1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O1(Object(n),!0).forEach(function(r){XE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XE(t,e,n){return e=R2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R2(t){var e=Eae(t,"string");return Ka(e)=="symbol"?e:e+""}function Eae(t,e){if(Ka(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tae(t,e){return Iae(t)||Aae(t,e)||bae(t,e)||Sae()}function Sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bae(t,e){if(t){if(typeof t=="string")return L1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L1(t,e)}}function L1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Iae(t){if(Array.isArray(t))return t}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(this,arguments)}var xae=function(e,n){var r;return F.isValidElement(e)?r=F.cloneElement(e,n):Ie(e)?r=e(n):r=F.createElement("line",i_({},n,{className:"recharts-reference-line-line"})),r},Cae=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,h=o.width,g=o.height;if(r){var _=u.y,y=e.y.apply(_,{position:s});if(Nr(u,"discard")&&!e.y.isInRange(y))return null;var w=[{x:c+h,y},{x:c,y}];return l==="left"?w.reverse():w}if(n){var v=u.x,E=e.x.apply(v,{position:s});if(Nr(u,"discard")&&!e.x.isInRange(E))return null;var S=[{x:E,y:f+g},{x:E,y:f}];return a==="top"?S.reverse():S}if(i){var R=u.segment,A=R.map(function(x){return e.apply(x,{position:s})});return Nr(u,"discard")&&yse(A,function(x){return!e.isInRange(x)})?null:A}return null};function Pae(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=dae(),c=A2(i),f=I2(o),h=hae();if(!u||!h)return null;ns(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=YE({x:c.scale,y:f.scale}),_=xt(e),y=xt(n),w=r&&r.length===2,v=Cae(g,_,y,w,h,t.position,c.orientation,f.orientation,t);if(!v)return null;var E=Tae(v,2),S=E[0],R=S.x,A=S.y,x=E[1],b=x.x,I=x.y,C=Nr(t,"hidden")?"url(#".concat(u,")"):void 0,M=D1(D1({clipPath:C},Oe(t,!0)),{},{x1:R,y1:A,x2:b,y2:I});return F.createElement(Vt,{className:Ne("recharts-reference-line",a)},xae(s,M),rn.renderCallByParent(t,aae({x1:R,y1:A,x2:b,y2:I})))}var QE=function(t){function e(){return pae(this,e),yae(this,e,arguments)}return wae(e,t),gae(e,[{key:"render",value:function(){return F.createElement(Pae,this.props)}}])}(F.Component);XE(QE,"displayName","ReferenceLine");XE(QE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(this,arguments)}function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function $1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(n),!0).forEach(function(r){Gm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k2(r.key),r)}}function kae(t,e,n){return e&&Nae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mae(t,e,n){return e=fp(e),Oae(t,N2()?Reflect.construct(e,n||[],fp(t).constructor):e.apply(t,n))}function Oae(t,e){if(e&&(Ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dae(t)}function Dae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N2=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fp(t)}function Lae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s_(t,e)}function Gm(t,e,n){return e=k2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k2(t){var e=$ae(t,"string");return Ja(e)=="symbol"?e:e+""}function $ae(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vae=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=YE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Nr(e,"discard")&&!s.isInRange(a)?null:a},zm=function(t){function e(){return Rae(this,e),Mae(this,e,arguments)}return Lae(e,t),kae(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=xt(i),c=xt(o);if(ns(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Vae(this.props);if(!f)return null;var h=f.x,g=f.y,_=this.props,y=_.shape,w=_.className,v=Nr(this.props,"hidden")?"url(#".concat(l,")"):void 0,E=V1(V1({clipPath:v},Oe(this.props,!0)),{},{cx:h,cy:g});return F.createElement(Vt,{className:Ne("recharts-reference-dot",w)},e.renderDot(y,E),rn.renderCallByParent(this.props,{x:h-s,y:g-s,width:2*s,height:2*s}))}}])}(F.Component);Gm(zm,"displayName","ReferenceDot");Gm(zm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gm(zm,"renderDot",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):Ie(t)?n=t(e):n=F.createElement(l2,o_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(this,arguments)}function Ya(t){"@babel/helpers - typeof";return Ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(t)}function U1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(n),!0).forEach(function(r){Wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O2(r.key),r)}}function Bae(t,e,n){return e&&Fae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qae(t,e,n){return e=dp(e),jae(t,M2()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function jae(t,e){if(e&&(Ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hae(t)}function Hae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M2=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function Gae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l_(t,e)}function Wm(t,e,n){return e=O2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O2(t){var e=zae(t,"string");return Ya(e)=="symbol"?e:e+""}function zae(t,e){if(Ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wae=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=YE({x:c.scale,y:f.scale}),g={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},_={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Nr(o,"discard")&&(!h.isInRange(g)||!h.isInRange(_))?null:y2(g,_)},Km=function(t){function e(){return Uae(this,e),qae(this,e,arguments)}return Gae(e,t),Bae(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;ns(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xt(i),h=xt(o),g=xt(s),_=xt(a),y=this.props.shape;if(!f&&!h&&!g&&!_&&!y)return null;var w=Wae(f,h,g,_,this.props);if(!w&&!y)return null;var v=Nr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return F.createElement(Vt,{className:Ne("recharts-reference-area",l)},e.renderRect(y,F1(F1({clipPath:v},Oe(this.props,!0)),w)),rn.renderCallByParent(this.props,w))}}])}(F.Component);Wm(Km,"displayName","ReferenceArea");Wm(Km,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Wm(Km,"renderRect",function(t,e){var n;return F.isValidElement(t)?n=F.cloneElement(t,e):Ie(t)?n=t(e):n=F.createElement(JE,a_({},e,{className:"recharts-reference-area-rect"})),n});function D2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Kae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return uae(r,n)}function Jae(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function hp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Yae(t,e){return D2(t,e+1)}function Xae(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var _=r==null?void 0:r[l];if(_===void 0)return{v:D2(r,u)};var y=l,w,v=function(){return w===void 0&&(w=n(_,y)),w},E=_.coordinate,S=l===0||hp(t,E,v,c,a);S||(l=0,c=s,u+=1),S&&(c=E+t*(v()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(r){Qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qae(t,e,n){return e=Zae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zae(t){var e=ele(t,"string");return zc(e)=="symbol"?e:e+""}function ele(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tle(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var g=o[h],_,y=function(){return _===void 0&&(_=n(g,h)),_};if(h===s-1){var w=t*(g.coordinate+t*y()/2-l);o[h]=g=en(en({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else o[h]=g=en(en({},g),{},{tickCoord:g.coordinate});var v=hp(t,g.tickCoord,y,a,l);v&&(l=g.tickCoord-t*(y()/2+i),o[h]=en(en({},g),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function nle(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=en(en({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=hp(t,c.tickCoord,function(){return f},l,u);g&&(u=c.tickCoord-t*(f/2+i),s[a-1]=en(en({},c),{},{isShow:!0}))}for(var _=o?a-1:a,y=function(E){var S=s[E],R,A=function(){return R===void 0&&(R=n(S,E)),R};if(E===0){var x=t*(S.coordinate-t*A()/2-l);s[E]=S=en(en({},S),{},{tickCoord:x<0?S.coordinate-x*t:S.coordinate})}else s[E]=S=en(en({},S),{},{tickCoord:S.coordinate});var b=hp(t,S.tickCoord,A,l,u);b&&(l=S.tickCoord+t*(A()/2+i),s[E]=en(en({},S),{},{isShow:!0}))},w=0;w<_;w++)y(w);return s}function rle(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ie(l)||hf.isSsr)return Yae(i,typeof l=="number"&&ie(l)?l:0);var h=[],g=a==="top"||a==="bottom"?"width":"height",_=c&&g==="width"?Vu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(S,R){var A=Ie(u)?u(S.value,R):S.value;return g==="width"?Kae(Vu(A,{fontSize:e,letterSpacing:n}),_,f):Vu(A,{fontSize:e,letterSpacing:n})[g]},w=i.length>=2?ur(i[1].coordinate-i[0].coordinate):1,v=Jae(o,w,g);return l==="equidistantPreserveStart"?Xae(w,v,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=nle(w,v,y,i,s,l==="preserveStartEnd"):h=tle(w,v,y,i,s),h.filter(function(E){return E.isShow}))}var ile=["viewBox"],ole=["viewBox"],sle=["ticks"];function Xa(t){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(this,arguments)}function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(n),!0).forEach(function(r){ZE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ly(t,e){if(t==null)return{};var n=ale(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ale(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$2(r.key),r)}}function ule(t,e,n){return e&&j1(t.prototype,e),n&&j1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cle(t,e,n){return e=pp(e),fle(t,L2()?Reflect.construct(e,n||[],pp(t).constructor):e.apply(t,n))}function fle(t,e){if(e&&(Xa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dle(t)}function dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L2=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}function hle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u_(t,e)}function ZE(t,e,n){return e=$2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $2(t){var e=ple(t,"string");return Xa(e)=="symbol"?e:e+""}function ple(t,e){if(Xa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jm=function(t){function e(n){var r;return lle(this,e),r=cle(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return hle(e,t),ule(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Ly(r,ile),a=this.props,l=a.viewBox,u=Ly(a,ole);return!ga(o,l)||!ga(s,u)||!ga(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,g,_,y,w,v,E,S=f?-1:1,R=r.tickSize||c,A=ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=_=r.coordinate,w=s+ +!f*l,y=w-S*R,E=y-S*h,v=A;break;case"left":y=w=r.coordinate,_=o+ +!f*a,g=_-S*R,v=g-S*h,E=A;break;case"right":y=w=r.coordinate,_=o+ +f*a,g=_+S*R,v=g+S*h,E=A;break;default:g=_=r.coordinate,w=s+ +f*l,y=w+S*R,E=y+S*h,v=A;break}return{line:{x1:g,y1:y,x2:_,y2:w},tick:{x:v,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Tt(Tt(Tt({},Oe(this.props,!1)),Oe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Tt(Tt({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var g=+(l==="left"&&!u||l==="right"&&u);f=Tt(Tt({},f),{},{x1:i+g*s,y1:o,x2:i+g*s,y2:o+a})}return F.createElement("line",aa({},f,{className:Ne("recharts-cartesian-axis-line",Wn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,h=a.unit,g=rle(Tt(Tt({},this.props),{},{ticks:r}),i,o),_=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),w=Oe(this.props,!1),v=Oe(c,!1),E=Tt(Tt({},w),{},{fill:"none"},Oe(l,!1)),S=g.map(function(R,A){var x=s.getTickLineCoord(R),b=x.line,I=x.tick,C=Tt(Tt(Tt(Tt({textAnchor:_,verticalAnchor:y},w),{},{stroke:"none",fill:u},v),I),{},{index:A,payload:R,visibleTicksCount:g.length,tickFormatter:f});return F.createElement(Vt,aa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Th(s.props,R,A)),l&&F.createElement("line",aa({},E,b,{className:Ne("recharts-cartesian-axis-tick-line",Wn(l,"className"))})),c&&e.renderTickItem(c,C,"".concat(Ie(f)?f(R.value,A):R.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,g=Ly(f,sle),_=h;return Ie(l)&&(_=h&&h.length>0?l(this.props):l(g)),s<=0||a<=0||!_||!_.length?null:F.createElement(Vt,{className:Ne("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),rn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ne(i.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(r)?s=F.cloneElement(r,Tt(Tt({},i),{},{className:a})):Ie(r)?s=r(Tt(Tt({},i),{},{className:a})):s=F.createElement(Lh,aa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}($.Component);ZE(Jm,"displayName","CartesianAxis");ZE(Jm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function Qa(t){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(t)}function mle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F2(r.key),r)}}function yle(t,e,n){return e&&gle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vle(t,e,n){return e=mp(e),_le(t,V2()?Reflect.construct(e,n||[],mp(t).constructor):e.apply(t,n))}function _le(t,e){if(e&&(Qa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wle(t)}function wle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mp(t)}function Ele(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c_(t,e)}function U2(t,e,n){return e=F2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F2(t){var e=Tle(t,"string");return Qa(e)=="symbol"?e:e+""}function Tle(t,e){if(Qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}function Sle(t){var e=t.xAxisId,n=x2(),r=C2(),i=A2(e);return i==null?null:$.createElement(Jm,f_({},i,{className:Ne("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Yo(s,!0)}}))}var Ym=function(t){function e(){return mle(this,e),vle(this,e,arguments)}return Ele(e,t),yle(e,[{key:"render",value:function(){return $.createElement(Sle,this.props)}}])}($.Component);U2(Ym,"displayName","XAxis");U2(Ym,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Za(t){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}function ble(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ale(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j2(r.key),r)}}function Ile(t,e,n){return e&&Ale(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xle(t,e,n){return e=gp(e),Cle(t,B2()?Reflect.construct(e,n||[],gp(t).constructor):e.apply(t,n))}function Cle(t,e){if(e&&(Za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ple(t)}function Ple(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B2=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gp(t)}function Rle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},d_(t,e)}function q2(t,e,n){return e=j2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j2(t){var e=Nle(t,"string");return Za(e)=="symbol"?e:e+""}function Nle(t,e){if(Za(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}var kle=function(e){var n=e.yAxisId,r=x2(),i=C2(),o=I2(n);return o==null?null:$.createElement(Jm,h_({},o,{className:Ne("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Yo(a,!0)}}))},eT=function(t){function e(){return ble(this,e),xle(this,e,arguments)}return Rle(e,t),Ile(e,[{key:"render",value:function(){return $.createElement(kle,this.props)}}])}($.Component);q2(eT,"displayName","YAxis");q2(eT,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function H1(t){return Lle(t)||Dle(t)||Ole(t)||Mle()}function Mle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ole(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function Dle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lle(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var m_=function(e,n,r,i,o){var s=mr(e,QE),a=mr(e,zm),l=[].concat(H1(s),H1(a)),u=mr(e,Km),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,w){if(w.props[c]===r&&Nr(w.props,"extendDomain")&&ie(w.props[f])){var v=w.props[f];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},h)),u.length){var g="".concat(f,"1"),_="".concat(f,"2");h=u.reduce(function(y,w){if(w.props[c]===r&&Nr(w.props,"extendDomain")&&ie(w.props[g])&&ie(w.props[_])){var v=w.props[g],E=w.props[_];return[Math.min(y[0],v,E),Math.max(y[1],v,E)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,w){return ie(w)?[Math.min(y[0],w),Math.max(y[1],w)]:y},h)),h},H2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,f||l,h),_=n?n+u:u;return l._events[_]?l._events[_].fn?l._events[_]=[l._events[_],g]:l._events[_].push(g):(l._events[_]=g,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,_=new Array(g);h<g;h++)_[h]=f[h].fn;return _},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,g,_){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],v=arguments.length,E,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,h),!0;case 5:return w.fn.call(w.context,c,f,h,g),!0;case 6:return w.fn.call(w.context,c,f,h,g,_),!0}for(S=1,E=new Array(v-1);S<v;S++)E[S-1]=arguments[S];w.fn.apply(w.context,E)}else{var R=w.length,A;for(S=0;S<R;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),v){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,c);break;case 3:w[S].fn.call(w[S].context,c,f);break;case 4:w[S].fn.call(w[S].context,c,f,h);break;default:if(!E)for(A=1,E=new Array(v-1);A<v;A++)E[A-1]=arguments[A];w[S].fn.apply(w[S].context,E)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return s(this,g),this;var _=this._events[g];if(_.fn)_.fn===c&&(!h||_.once)&&(!f||_.context===f)&&s(this,g);else{for(var y=0,w=[],v=_.length;y<v;y++)(_[y].fn!==c||h&&!_[y].once||f&&_[y].context!==f)&&w.push(_[y]);w.length?this._events[g]=w.length===1?w[0]:w:s(this,g)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(H2);var $le=H2.exports;const Vle=Ge($le);var $y=new Vle,Vy="recharts.syncMouseEvents";function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G2(r.key),r)}}function Ble(t,e,n){return e&&Fle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uy(t,e,n){return e=G2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G2(t){var e=qle(t,"string");return Wc(e)=="symbol"?e:e+""}function qle(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jle=function(){function t(){Ule(this,t),Uy(this,"activeIndex",0),Uy(this,"coordinateList",[]),Uy(this,"layout","horizontal")}return Ble(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Hle(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ie(r)&&ie(i))return!0}return!1}function Gle(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function z2(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Gt(e,n,r,i),a=Gt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function zle(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Gt(a,l,u,f),g=Gt(a,l,c,f);r=h.x,i=h.y,o=g.x,s=g.y}else return z2(e);return[{x:r,y:i},{x:o,y:s}]}function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function G1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(n),!0).forEach(function(r){Wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wle(t,e,n){return e=Kle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kle(t){var e=Jle(t,"string");return Kc(e)=="symbol"?e:e+""}function Jle(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yle(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var _,y=Hx;if(h==="ScatterChart")_=s,y=Fie;else if(h==="BarChart")_=Gle(f,s,l,c),y=JE;else if(f==="radial"){var w=z2(s),v=w.cx,E=w.cy,S=w.radius,R=w.startAngle,A=w.endAngle;_={cx:v,cy:E,startAngle:R,endAngle:A,innerRadius:S,outerRadius:S},y=XD}else _={points:zle(f,s,l)},y=Hx;var x=_d(_d(_d(_d({stroke:"#ccc",pointerEvents:"none"},l),_),Oe(g,!1)),{},{payload:a,payloadIndex:u,className:Ne("recharts-tooltip-cursor",g.className)});return $.isValidElement(g)?$.cloneElement(g,x):$.createElement(y,x)}var Xle=["item"],Qle=["children","className","width","height","style","compact","title","desc"];function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(this,arguments)}function z1(t,e){return tue(t)||eue(t,e)||K2(t,e)||Zle()}function Zle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function tue(t){if(Array.isArray(t))return t}function W1(t,e){if(t==null)return{};var n=nue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J2(r.key),r)}}function oue(t,e,n){return e&&iue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sue(t,e,n){return e=yp(e),aue(t,W2()?Reflect.construct(e,n||[],yp(t).constructor):e.apply(t,n))}function aue(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lue(t)}function lue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W2=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yp(t)}function uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g_(t,e)}function g_(t,e){return g_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g_(t,e)}function tl(t){return due(t)||fue(t)||K2(t)||cue()}function cue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K2(t,e){if(t){if(typeof t=="string")return y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(t,e)}}function fue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function due(t){if(Array.isArray(t))return y_(t)}function y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fe(t,e,n){return e=J2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J2(t){var e=hue(t,"string");return el(e)=="symbol"?e:e+""}function hue(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pue={xAxis:["bottom","top"],yAxis:["left","right"]},mue={width:"100%",height:"100%"},Y2={x:0,y:0};function wd(t){return t}var gue=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},yue=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return z(z(z({},i),Gt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return z(z(z({},i),Gt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Y2},Xm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(tl(a),tl(u)):a},[]);return s.length>0?s:e&&e.length&&ie(i)&&ie(o)?e.slice(i,o+1):[]};function X2(t){return t==="number"?[0,"auto"]:void 0}var v_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=Xm(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var g=f===void 0?a:f;h=Xv(g,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(tl(l),[KD(u,h)]):l},[])},J1=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=gue(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Ete(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=v_(e,n,c,f),g=yue(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},vue=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,g=zD(c,o);return r.reduce(function(_,y){var w,v=y.type.defaultProps!==void 0?z(z({},y.type.defaultProps),y.props):y.props,E=v.type,S=v.dataKey,R=v.allowDataOverflow,A=v.allowDuplicatedCategory,x=v.scale,b=v.ticks,I=v.includeHidden,C=v[s];if(_[C])return _;var M=Xm(e.data,{graphicalItems:i.filter(function(Q){var ue,ye=s in Q.props?Q.props[s]:(ue=Q.type.defaultProps)===null||ue===void 0?void 0:ue[s];return ye===C}),dataStartIndex:l,dataEndIndex:u}),k=M.length,D,N,B;Hle(v.domain,R,E)&&(D=V0(v.domain,null,R),g&&(E==="number"||x!=="auto")&&(B=Fu(M,S,"category")));var H=X2(E);if(!D||D.length===0){var G,K=(G=v.domain)!==null&&G!==void 0?G:H;if(S){if(D=Fu(M,S,E),E==="category"&&g){var U=a9(D);A&&U?(N=D,D=op(0,k)):A||(D=Nx(K,D,y).reduce(function(Q,ue){return Q.indexOf(ue)>=0?Q:[].concat(tl(Q),[ue])},[]))}else if(E==="category")A?D=D.filter(function(Q){return Q!==""&&!ke(Q)}):D=Nx(K,D,y).reduce(function(Q,ue){return Q.indexOf(ue)>=0||ue===""||ke(ue)?Q:[].concat(tl(Q),[ue])},[]);else if(E==="number"){var q=Ite(M,i.filter(function(Q){var ue,ye,Ve=s in Q.props?Q.props[s]:(ue=Q.type.defaultProps)===null||ue===void 0?void 0:ue[s],ze="hide"in Q.props?Q.props.hide:(ye=Q.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Ve===C&&(I||!ze)}),S,o,c);q&&(D=q)}g&&(E==="number"||x!=="auto")&&(B=Fu(M,S,"category"))}else g?D=op(0,k):a&&a[C]&&a[C].hasStack&&E==="number"?D=h==="expand"?[0,1]:WD(a[C].stackGroups,l,u):D=GD(M,i.filter(function(Q){var ue=s in Q.props?Q.props[s]:Q.type.defaultProps[s],ye="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ue===C&&(I||!ye)}),E,c,!0);if(E==="number")D=m_(f,D,C,o,b),K&&(D=V0(K,D,R));else if(E==="category"&&K){var Y=K,te=D.every(function(Q){return Y.indexOf(Q)>=0});te&&(D=Y)}}return z(z({},_),{},fe({},C,z(z({},v),{},{axisType:o,domain:D,categoricalDomain:B,duplicateDomain:N,originalDomain:(w=v.domain)!==null&&w!==void 0?w:H,isCategorical:g,layout:c})))},{})},_ue=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Xm(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,_=zD(c,o),y=-1;return r.reduce(function(w,v){var E=v.type.defaultProps!==void 0?z(z({},v.type.defaultProps),v.props):v.props,S=E[s],R=X2("number");if(!w[S]){y++;var A;return _?A=op(0,g):a&&a[S]&&a[S].hasStack?(A=WD(a[S].stackGroups,l,u),A=m_(f,A,S,o)):(A=V0(R,GD(h,r.filter(function(x){var b,I,C=s in x.props?x.props[s]:(b=x.type.defaultProps)===null||b===void 0?void 0:b[s],M="hide"in x.props?x.props.hide:(I=x.type.defaultProps)===null||I===void 0?void 0:I.hide;return C===S&&!M}),"number",c),i.defaultProps.allowDataOverflow),A=m_(f,A,S,o)),z(z({},w),{},fe({},S,z(z({axisType:o},i.defaultProps),{},{hide:!0,orientation:Wn(pue,"".concat(o,".").concat(y%2),null),domain:A,originalDomain:R,isCategorical:_,layout:c})))}return w},{})},wue=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=mr(c,o),g={};return h&&h.length?g=vue(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(g=_ue(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),g},Eue=function(e){var n=js(e),r=Yo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:wE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Yh(n,r)}},Y1=function(e){var n=e.children,r=e.defaultShowTooltip,i=Cn(n,za),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Tue=function(e){return!e||!e.length?!1:e.some(function(n){var r=ti(n&&n.type);return r&&r.indexOf("Bar")>=0})},X1=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Sue=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,h=r.margin||{},g=Cn(f,za),_=Cn(f,ya),y=Object.keys(l).reduce(function(A,x){var b=l[x],I=b.orientation;return!b.mirror&&!b.hide?z(z({},A),{},fe({},I,A[I]+b.width)):A},{left:h.left||0,right:h.right||0}),w=Object.keys(s).reduce(function(A,x){var b=s[x],I=b.orientation;return!b.mirror&&!b.hide?z(z({},A),{},fe({},I,Wn(A,"".concat(I))+b.height)):A},{top:h.top||0,bottom:h.bottom||0}),v=z(z({},w),y),E=v.bottom;g&&(v.bottom+=g.props.height||za.defaultProps.height),_&&n&&(v=bte(v,i,r,n));var S=u-v.left-v.right,R=c-v.top-v.bottom;return z(z({brushBottom:E},v),{},{width:Math.max(S,0),height:Math.max(R,0)})},bue=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Aue=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(v,E){var S=E.graphicalItems,R=E.stackGroups,A=E.offset,x=E.updateId,b=E.dataStartIndex,I=E.dataEndIndex,C=v.barSize,M=v.layout,k=v.barGap,D=v.barCategoryGap,N=v.maxBarSize,B=X1(M),H=B.numericAxisName,G=B.cateAxisName,K=Tue(S),U=[];return S.forEach(function(q,Y){var te=Xm(v.data,{graphicalItems:[q],dataStartIndex:b,dataEndIndex:I}),Q=q.type.defaultProps!==void 0?z(z({},q.type.defaultProps),q.props):q.props,ue=Q.dataKey,ye=Q.maxBarSize,Ve=Q["".concat(H,"Id")],ze=Q["".concat(G,"Id")],Jt={},kt=l.reduce(function(Ln,jr){var Ds=E["".concat(jr.axisType,"Map")],Nf=Q["".concat(jr.axisType,"Id")];Ds&&Ds[Nf]||jr.axisType==="zAxis"||ps();var bi=Ds[Nf];return z(z({},Ln),{},fe(fe({},jr.axisType,bi),"".concat(jr.axisType,"Ticks"),Yo(bi)))},Jt),ne=kt[G],ge=kt["".concat(G,"Ticks")],ve=R&&R[Ve]&&R[Ve].hasStack&&Vte(q,R[Ve].stackGroups),X=ti(q.type).indexOf("Bar")>=0,qe=Yh(ne,ge),Te=[],dt=K&&Tte({barSize:C,stackGroups:R,totalSize:bue(kt,G)});if(X){var rt,Mt,tr=ke(ye)?N:ye,it=(rt=(Mt=Yh(ne,ge,!0))!==null&&Mt!==void 0?Mt:tr)!==null&&rt!==void 0?rt:0;Te=Ste({barGap:k,barCategoryGap:D,bandSize:it!==qe?it:qe,sizeList:dt[ze],maxBarSize:tr}),it!==qe&&(Te=Te.map(function(Ln){return z(z({},Ln),{},{position:z(z({},Ln.position),{},{offset:Ln.position.offset-it/2})})}))}var mt=q&&q.type&&q.type.getComposedData;mt&&U.push({props:z(z({},mt(z(z({},kt),{},{displayedData:te,props:v,dataKey:ue,item:q,bandSize:qe,barPosition:Te,offset:A,stackedData:ve,layout:M,dataStartIndex:b,dataEndIndex:I}))),{},fe(fe(fe({key:q.key||"item-".concat(Y)},H,kt[H]),G,kt[G]),"animationId",x)),childIndex:_9(q,v.children),item:q})}),U},g=function(v,E){var S=v.props,R=v.dataStartIndex,A=v.dataEndIndex,x=v.updateId;if(!AA({props:S}))return null;var b=S.children,I=S.layout,C=S.stackOffset,M=S.data,k=S.reverseStackOrder,D=X1(I),N=D.numericAxisName,B=D.cateAxisName,H=mr(b,r),G=Dte(M,H,"".concat(N,"Id"),"".concat(B,"Id"),C,k),K=l.reduce(function(Q,ue){var ye="".concat(ue.axisType,"Map");return z(z({},Q),{},fe({},ye,wue(S,z(z({},ue),{},{graphicalItems:H,stackGroups:ue.axisType===N&&G,dataStartIndex:R,dataEndIndex:A}))))},{}),U=Sue(z(z({},K),{},{props:S,graphicalItems:H}),E==null?void 0:E.legendBBox);Object.keys(K).forEach(function(Q){K[Q]=c(S,K[Q],U,Q.replace("Map",""),n)});var q=K["".concat(B,"Map")],Y=Eue(q),te=h(S,z(z({},K),{},{dataStartIndex:R,dataEndIndex:A,updateId:x,graphicalItems:H,stackGroups:G,offset:U}));return z(z({formattedGraphicalItems:te,graphicalItems:H,offset:U,stackGroups:G},Y),K)},_=function(w){function v(E){var S,R,A;return rue(this,v),A=sue(this,v,[E]),fe(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fe(A,"accessibilityManager",new jle),fe(A,"handleLegendBBoxUpdate",function(x){if(x){var b=A.state,I=b.dataStartIndex,C=b.dataEndIndex,M=b.updateId;A.setState(z({legendBBox:x},g({props:A.props,dataStartIndex:I,dataEndIndex:C,updateId:M},z(z({},A.state),{},{legendBBox:x}))))}}),fe(A,"handleReceiveSyncEvent",function(x,b,I){if(A.props.syncId===x){if(I===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(b)}}),fe(A,"handleBrushChange",function(x){var b=x.startIndex,I=x.endIndex;if(b!==A.state.dataStartIndex||I!==A.state.dataEndIndex){var C=A.state.updateId;A.setState(function(){return z({dataStartIndex:b,dataEndIndex:I},g({props:A.props,dataStartIndex:b,dataEndIndex:I,updateId:C},A.state))}),A.triggerSyncEvent({dataStartIndex:b,dataEndIndex:I})}}),fe(A,"handleMouseEnter",function(x){var b=A.getMouseInfo(x);if(b){var I=z(z({},b),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var C=A.props.onMouseEnter;Ie(C)&&C(I,x)}}),fe(A,"triggeredAfterMouseMove",function(x){var b=A.getMouseInfo(x),I=b?z(z({},b),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var C=A.props.onMouseMove;Ie(C)&&C(I,x)}),fe(A,"handleItemMouseEnter",function(x){A.setState(function(){return{isTooltipActive:!0,activeItem:x,activePayload:x.tooltipPayload,activeCoordinate:x.tooltipPosition||{x:x.cx,y:x.cy}}})}),fe(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),fe(A,"handleMouseMove",function(x){x.persist(),A.throttleTriggeredAfterMouseMove(x)}),fe(A,"handleMouseLeave",function(x){A.throttleTriggeredAfterMouseMove.cancel();var b={isTooltipActive:!1};A.setState(b),A.triggerSyncEvent(b);var I=A.props.onMouseLeave;Ie(I)&&I(b,x)}),fe(A,"handleOuterEvent",function(x){var b=v9(x),I=Wn(A.props,"".concat(b));if(b&&Ie(I)){var C,M;/.*touch.*/i.test(b)?M=A.getMouseInfo(x.changedTouches[0]):M=A.getMouseInfo(x),I((C=M)!==null&&C!==void 0?C:{},x)}}),fe(A,"handleClick",function(x){var b=A.getMouseInfo(x);if(b){var I=z(z({},b),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var C=A.props.onClick;Ie(C)&&C(I,x)}}),fe(A,"handleMouseDown",function(x){var b=A.props.onMouseDown;if(Ie(b)){var I=A.getMouseInfo(x);b(I,x)}}),fe(A,"handleMouseUp",function(x){var b=A.props.onMouseUp;if(Ie(b)){var I=A.getMouseInfo(x);b(I,x)}}),fe(A,"handleTouchMove",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(x.changedTouches[0])}),fe(A,"handleTouchStart",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&A.handleMouseDown(x.changedTouches[0])}),fe(A,"handleTouchEnd",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&A.handleMouseUp(x.changedTouches[0])}),fe(A,"handleDoubleClick",function(x){var b=A.props.onDoubleClick;if(Ie(b)){var I=A.getMouseInfo(x);b(I,x)}}),fe(A,"handleContextMenu",function(x){var b=A.props.onContextMenu;if(Ie(b)){var I=A.getMouseInfo(x);b(I,x)}}),fe(A,"triggerSyncEvent",function(x){A.props.syncId!==void 0&&$y.emit(Vy,A.props.syncId,x,A.eventEmitterSymbol)}),fe(A,"applySyncEvent",function(x){var b=A.props,I=b.layout,C=b.syncMethod,M=A.state.updateId,k=x.dataStartIndex,D=x.dataEndIndex;if(x.dataStartIndex!==void 0||x.dataEndIndex!==void 0)A.setState(z({dataStartIndex:k,dataEndIndex:D},g({props:A.props,dataStartIndex:k,dataEndIndex:D,updateId:M},A.state)));else if(x.activeTooltipIndex!==void 0){var N=x.chartX,B=x.chartY,H=x.activeTooltipIndex,G=A.state,K=G.offset,U=G.tooltipTicks;if(!K)return;if(typeof C=="function")H=C(U,x);else if(C==="value"){H=-1;for(var q=0;q<U.length;q++)if(U[q].value===x.activeLabel){H=q;break}}var Y=z(z({},K),{},{x:K.left,y:K.top}),te=Math.min(N,Y.x+Y.width),Q=Math.min(B,Y.y+Y.height),ue=U[H]&&U[H].value,ye=v_(A.state,A.props.data,H),Ve=U[H]?{x:I==="horizontal"?U[H].coordinate:te,y:I==="horizontal"?Q:U[H].coordinate}:Y2;A.setState(z(z({},x),{},{activeLabel:ue,activeCoordinate:Ve,activePayload:ye,activeTooltipIndex:H}))}else A.setState(x)}),fe(A,"renderCursor",function(x){var b,I=A.state,C=I.isTooltipActive,M=I.activeCoordinate,k=I.activePayload,D=I.offset,N=I.activeTooltipIndex,B=I.tooltipAxisBandSize,H=A.getTooltipEventType(),G=(b=x.props.active)!==null&&b!==void 0?b:C,K=A.props.layout,U=x.key||"_recharts-cursor";return F.createElement(Yle,{key:U,activeCoordinate:M,activePayload:k,activeTooltipIndex:N,chartName:n,element:x,isActive:G,layout:K,offset:D,tooltipAxisBandSize:B,tooltipEventType:H})}),fe(A,"renderPolarAxis",function(x,b,I){var C=Wn(x,"type.axisType"),M=Wn(A.state,"".concat(C,"Map")),k=x.type.defaultProps,D=k!==void 0?z(z({},k),x.props):x.props,N=M&&M[D["".concat(C,"Id")]];return $.cloneElement(x,z(z({},N),{},{className:Ne(C,N.className),key:x.key||"".concat(b,"-").concat(I),ticks:Yo(N,!0)}))}),fe(A,"renderPolarGrid",function(x){var b=x.props,I=b.radialLines,C=b.polarAngles,M=b.polarRadius,k=A.state,D=k.radiusAxisMap,N=k.angleAxisMap,B=js(D),H=js(N),G=H.cx,K=H.cy,U=H.innerRadius,q=H.outerRadius;return $.cloneElement(x,{polarAngles:Array.isArray(C)?C:Yo(H,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(M)?M:Yo(B,!0).map(function(Y){return Y.coordinate}),cx:G,cy:K,innerRadius:U,outerRadius:q,key:x.key||"polar-grid",radialLines:I})}),fe(A,"renderLegend",function(){var x=A.state.formattedGraphicalItems,b=A.props,I=b.children,C=b.width,M=b.height,k=A.props.margin||{},D=C-(k.left||0)-(k.right||0),N=jD({children:I,formattedGraphicalItems:x,legendWidth:D,legendContent:u});if(!N)return null;var B=N.item,H=W1(N,Xle);return $.cloneElement(B,z(z({},H),{},{chartWidth:C,chartHeight:M,margin:k,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),fe(A,"renderTooltip",function(){var x,b=A.props,I=b.children,C=b.accessibilityLayer,M=Cn(I,br);if(!M)return null;var k=A.state,D=k.isTooltipActive,N=k.activeCoordinate,B=k.activePayload,H=k.activeLabel,G=k.offset,K=(x=M.props.active)!==null&&x!==void 0?x:D;return $.cloneElement(M,{viewBox:z(z({},G),{},{x:G.left,y:G.top}),active:K,label:H,payload:K?B:[],coordinate:N,accessibilityLayer:C})}),fe(A,"renderBrush",function(x){var b=A.props,I=b.margin,C=b.data,M=A.state,k=M.offset,D=M.dataStartIndex,N=M.dataEndIndex,B=M.updateId;return $.cloneElement(x,{key:x.key||"_recharts-brush",onChange:md(A.handleBrushChange,x.props.onChange),data:C,x:ie(x.props.x)?x.props.x:k.left,y:ie(x.props.y)?x.props.y:k.top+k.height+k.brushBottom-(I.bottom||0),width:ie(x.props.width)?x.props.width:k.width,startIndex:D,endIndex:N,updateId:"brush-".concat(B)})}),fe(A,"renderReferenceElement",function(x,b,I){if(!x)return null;var C=A,M=C.clipPathId,k=A.state,D=k.xAxisMap,N=k.yAxisMap,B=k.offset,H=x.type.defaultProps||{},G=x.props,K=G.xAxisId,U=K===void 0?H.xAxisId:K,q=G.yAxisId,Y=q===void 0?H.yAxisId:q;return $.cloneElement(x,{key:x.key||"".concat(b,"-").concat(I),xAxis:D[U],yAxis:N[Y],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:M})}),fe(A,"renderActivePoints",function(x){var b=x.item,I=x.activePoint,C=x.basePoint,M=x.childIndex,k=x.isRange,D=[],N=b.props.key,B=b.item.type.defaultProps!==void 0?z(z({},b.item.type.defaultProps),b.item.props):b.item.props,H=B.activeDot,G=B.dataKey,K=z(z({index:M,dataKey:G,cx:I.x,cy:I.y,r:4,fill:KE(b.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Oe(H,!1)),Eh(H));return D.push(v.renderActiveDot(H,K,"".concat(N,"-activePoint-").concat(M))),C?D.push(v.renderActiveDot(H,z(z({},K),{},{cx:C.x,cy:C.y}),"".concat(N,"-basePoint-").concat(M))):k&&D.push(null),D}),fe(A,"renderGraphicChild",function(x,b,I){var C=A.filterFormatItem(x,b,I);if(!C)return null;var M=A.getTooltipEventType(),k=A.state,D=k.isTooltipActive,N=k.tooltipAxis,B=k.activeTooltipIndex,H=k.activeLabel,G=A.props.children,K=Cn(G,br),U=C.props,q=U.points,Y=U.isRange,te=U.baseLine,Q=C.item.type.defaultProps!==void 0?z(z({},C.item.type.defaultProps),C.item.props):C.item.props,ue=Q.activeDot,ye=Q.hide,Ve=Q.activeBar,ze=Q.activeShape,Jt=!!(!ye&&D&&K&&(ue||Ve||ze)),kt={};M!=="axis"&&K&&K.props.trigger==="click"?kt={onClick:md(A.handleItemMouseEnter,x.props.onClick)}:M!=="axis"&&(kt={onMouseLeave:md(A.handleItemMouseLeave,x.props.onMouseLeave),onMouseEnter:md(A.handleItemMouseEnter,x.props.onMouseEnter)});var ne=$.cloneElement(x,z(z({},C.props),kt));function ge(jr){return typeof N.dataKey=="function"?N.dataKey(jr.payload):null}if(Jt)if(B>=0){var ve,X;if(N.dataKey&&!N.allowDuplicatedCategory){var qe=typeof N.dataKey=="function"?ge:"payload.".concat(N.dataKey.toString());ve=Xv(q,qe,H),X=Y&&te&&Xv(te,qe,H)}else ve=q==null?void 0:q[B],X=Y&&te&&te[B];if(ze||Ve){var Te=x.props.activeIndex!==void 0?x.props.activeIndex:B;return[$.cloneElement(x,z(z(z({},C.props),kt),{},{activeIndex:Te})),null,null]}if(!ke(ve))return[ne].concat(tl(A.renderActivePoints({item:C,activePoint:ve,basePoint:X,childIndex:B,isRange:Y})))}else{var dt,rt=(dt=A.getItemByXY(A.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:ne},Mt=rt.graphicalItem,tr=Mt.item,it=tr===void 0?x:tr,mt=Mt.childIndex,Ln=z(z(z({},C.props),kt),{},{activeIndex:mt});return[$.cloneElement(it,Ln),null,null]}return Y?[ne,null,null]:[ne,null]}),fe(A,"renderCustomized",function(x,b,I){return $.cloneElement(x,z(z({key:"recharts-customized-".concat(I)},A.props),A.state))}),fe(A,"renderMap",{CartesianGrid:{handler:wd,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:wd},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:wd},YAxis:{handler:wd},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((S=E.id)!==null&&S!==void 0?S:Sm("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=jO(A.triggeredAfterMouseMove,(R=E.throttleDelay)!==null&&R!==void 0?R:1e3/60),A.state={},A}return uue(v,w),oue(v,[{key:"componentDidMount",value:function(){var S,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,R=S.children,A=S.data,x=S.height,b=S.layout,I=Cn(R,br);if(I){var C=I.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,k=v_(this.state,A,C,M),D=this.state.tooltipTicks[C].coordinate,N=(this.state.offset.top+x)/2,B=b==="horizontal",H=B?{x:D,y:N}:{y:D,x:N},G=this.state.formattedGraphicalItems.find(function(U){var q=U.item;return q.type.name==="Scatter"});G&&(H=z(z({},H),G.props.points[C].tooltipPosition),k=G.props.points[C].tooltipPayload);var K={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:M,activePayload:k,activeCoordinate:H};this.setState(K),this.renderCursor(I),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var A,x;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(S){Zv([Cn(S.children,br)],[Cn(this.props.children,br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Cn(this.props.children,br);if(S&&typeof S.props.shared=="boolean"){var R=S.props.shared?"axis":"item";return a.indexOf(R)>=0?R:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var R=this.container,A=R.getBoundingClientRect(),x=WY(A),b={chartX:Math.round(S.pageX-x.left),chartY:Math.round(S.pageY-x.top)},I=A.width/R.offsetWidth||1,C=this.inRange(b.chartX,b.chartY,I);if(!C)return null;var M=this.state,k=M.xAxisMap,D=M.yAxisMap,N=this.getTooltipEventType(),B=J1(this.state,this.props.data,this.props.layout,C);if(N!=="axis"&&k&&D){var H=js(k).scale,G=js(D).scale,K=H&&H.invert?H.invert(b.chartX):null,U=G&&G.invert?G.invert(b.chartY):null;return z(z({},b),{},{xValue:K,yValue:U},B)}return B?z(z({},b),B):null}},{key:"inRange",value:function(S,R){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,b=S/A,I=R/A;if(x==="horizontal"||x==="vertical"){var C=this.state.offset,M=b>=C.left&&b<=C.left+C.width&&I>=C.top&&I<=C.top+C.height;return M?{x:b,y:I}:null}var k=this.state,D=k.angleAxisMap,N=k.radiusAxisMap;if(D&&N){var B=js(D);return Ox({x:b,y:I},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,R=this.getTooltipEventType(),A=Cn(S,br),x={};A&&R==="axis"&&(A.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var b=Eh(this.props,this.handleOuterEvent);return z(z({},b),x)}},{key:"addListener",value:function(){$y.on(Vy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$y.removeListener(Vy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,R,A){for(var x=this.state.formattedGraphicalItems,b=0,I=x.length;b<I;b++){var C=x[b];if(C.item===S||C.props.key===S.key||R===ti(C.item.type)&&A===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,R=this.state.offset,A=R.left,x=R.top,b=R.height,I=R.width;return F.createElement("defs",null,F.createElement("clipPath",{id:S},F.createElement("rect",{x:A,y:x,height:b,width:I})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(R,A){var x=z1(A,2),b=x[0],I=x[1];return z(z({},R),{},fe({},b,I.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(R,A){var x=z1(A,2),b=x[0],I=x[1];return z(z({},R),{},fe({},b,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[S])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(S){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[S])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(S){var R=this.state,A=R.formattedGraphicalItems,x=R.activeItem;if(A&&A.length)for(var b=0,I=A.length;b<I;b++){var C=A[b],M=C.props,k=C.item,D=k.type.defaultProps!==void 0?z(z({},k.type.defaultProps),k.props):k.props,N=ti(k.type);if(N==="Bar"){var B=(M.data||[]).find(function(U){return Rie(S,U)});if(B)return{graphicalItem:C,payload:B}}else if(N==="RadialBar"){var H=(M.data||[]).find(function(U){return Ox(S,U)});if(H)return{graphicalItem:C,payload:H}}else if(qm(C,x)||jm(C,x)||qc(C,x)){var G=Moe({graphicalItem:C,activeTooltipItem:x,itemData:D.data}),K=D.activeIndex===void 0?G:D.activeIndex;return{graphicalItem:z(z({},C),{},{childIndex:K}),payload:qc(C,x)?D.data[G]:C.props.data[G]}}}return null}},{key:"render",value:function(){var S=this;if(!AA(this))return null;var R=this.props,A=R.children,x=R.className,b=R.width,I=R.height,C=R.style,M=R.compact,k=R.title,D=R.desc,N=W1(R,Qle),B=Oe(N,!1);if(M)return F.createElement(M1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(t0,la({},B,{width:b,height:I,title:k,desc:D}),this.renderClipPath(),xA(A,this.renderMap)));if(this.props.accessibilityLayer){var H,G;B.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,B.role=(G=this.props.role)!==null&&G!==void 0?G:"application",B.onKeyDown=function(U){S.accessibilityManager.keyboardEvent(U)},B.onFocus=function(){S.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return F.createElement(M1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",la({className:Ne("recharts-wrapper",x),style:z({position:"relative",cursor:"default",width:b,height:I},C)},K,{ref:function(q){S.container=q}}),F.createElement(t0,la({},B,{width:b,height:I,title:k,desc:D,style:mue}),this.renderClipPath(),xA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);fe(_,"displayName",n),fe(_,"defaultProps",z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fe(_,"getDerivedStateFromProps",function(w,v){var E=w.dataKey,S=w.data,R=w.children,A=w.width,x=w.height,b=w.layout,I=w.stackOffset,C=w.margin,M=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var D=Y1(w);return z(z(z({},D),{},{updateId:0},g(z(z({props:w},D),{},{updateId:0}),v)),{},{prevDataKey:E,prevData:S,prevWidth:A,prevHeight:x,prevLayout:b,prevStackOffset:I,prevMargin:C,prevChildren:R})}if(E!==v.prevDataKey||S!==v.prevData||A!==v.prevWidth||x!==v.prevHeight||b!==v.prevLayout||I!==v.prevStackOffset||!ga(C,v.prevMargin)){var N=Y1(w),B={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},H=z(z({},J1(v,S,b)),{},{updateId:v.updateId+1}),G=z(z(z({},N),B),H);return z(z(z({},G),g(z({props:w},G),v)),{},{prevDataKey:E,prevData:S,prevWidth:A,prevHeight:x,prevLayout:b,prevStackOffset:I,prevMargin:C,prevChildren:R})}if(!Zv(R,v.prevChildren)){var K,U,q,Y,te=Cn(R,za),Q=te&&(K=(U=te.props)===null||U===void 0?void 0:U.startIndex)!==null&&K!==void 0?K:M,ue=te&&(q=(Y=te.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&q!==void 0?q:k,ye=Q!==M||ue!==k,Ve=!ke(S),ze=Ve&&!ye?v.updateId:v.updateId+1;return z(z({updateId:ze},g(z(z({props:w},v),{},{updateId:ze,dataStartIndex:Q,dataEndIndex:ue}),v)),{},{prevChildren:R,dataStartIndex:Q,dataEndIndex:ue})}return null}),fe(_,"renderActiveDot",function(w,v,E){var S;return $.isValidElement(w)?S=$.cloneElement(w,v):Ie(w)?S=w(v):S=F.createElement(l2,v),F.createElement(Vt,{className:"recharts-active-dot",key:E},S)});var y=$.forwardRef(function(v,E){return F.createElement(_,la({},v,{ref:E}))});return y.displayName=_.displayName,y},Iue=Aue({chartName:"BarChart",GraphicalChild:Ps,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ym},{axisType:"yAxis",AxisComp:eT}],formatAxisMap:sae});const Zt={XS:"XS",S:"S",M:"M",L:"L",OTHER:"Other"},xue=({data:t})=>{const[e,n]=$.useState("all"),r=$.useMemo(()=>{if(e==="all")return t.items;const a=t.bundles.find(l=>l.id===e);return a?t.items.filter(l=>a.itemIds.includes(l.id)):[]},[t.items,e,t.bundles]),i=$.useMemo(()=>r.reduce((a,l)=>a+Object.values(l.stock).reduce((u,c)=>u+c,0),0),[r]),o=$.useMemo(()=>{const a={[Zt.XS]:0,[Zt.S]:0,[Zt.M]:0,[Zt.L]:0,[Zt.OTHER]:0};return r.forEach(l=>{Object.entries(l.stock).forEach(([u,c])=>{u in a&&(a[u]+=c)})}),Object.entries(a).map(([l,u])=>({name:l,value:u}))},[r]),s=["#86efac","#22c55e","#15803d","#14532d","#166534"];return O.jsxs("div",{className:"p-4 pb-24 space-y-6",children:[O.jsx("header",{className:"mb-2 flex justify-between items-center",children:O.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"YSQUARE"})}),O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[O.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[O.jsx(h3,{size:16,className:"text-brand-600"}),O.jsx("span",{className:"font-bold text-gray-700 text-sm",children:""})]}),O.jsxs("div",{className:"relative",children:[O.jsxs("select",{value:e,onChange:a=>n(a.target.value),className:"w-full appearance-none bg-gray-50 border border-gray-200 text-gray-800 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-brand-500 font-medium text-sm transition-all",children:[O.jsx("option",{value:"all",children:" "}),O.jsx("option",{disabled:!0,children:""}),t.bundles.map(a=>O.jsxs("option",{value:a.id,children:[" ",a.name]},a.id))]}),O.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:O.jsx("svg",{className:"fill-current h-4 w-4",viewBox:"0 0 20 20",children:O.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[O.jsxs("div",{className:"bg-gradient-to-br from-brand-500 to-brand-700 p-4 rounded-2xl shadow-lg shadow-brand-200 text-white",children:[O.jsx("span",{className:"text-xs text-brand-100 opacity-80",children:e==="all"?"":""}),O.jsx("span",{className:"text-4xl font-bold mt-1 block",children:i}),O.jsxs("span",{className:"text-xs text-brand-100 mt-2 block opacity-60",children:[" ",r.length," "]})]}),O.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col justify-center",children:[O.jsx("span",{className:"text-xs text-gray-400",children:""}),O.jsx("span",{className:"text-3xl font-bold text-gray-800 mt-1 block",children:t.bundles.length}),O.jsx("span",{className:"text-xs text-gray-400 mt-2 block",children:""})]})]}),O.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[O.jsx("div",{className:"flex justify-between items-center mb-6",children:O.jsx("h3",{className:"text-sm font-bold text-gray-800",children:e==="all"?"":""})}),O.jsx("div",{className:"h-56 w-full",children:O.jsx(FY,{width:"100%",height:"100%",children:O.jsxs(Iue,{data:o,margin:{top:20,right:0,left:0,bottom:0},children:[O.jsx(Ym,{dataKey:"name",tick:{fontSize:11,fill:"#6b7280"},stroke:"#e5e7eb",axisLine:!1,tickLine:!1,dy:10}),O.jsx(br,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),O.jsxs(Ps,{dataKey:"value",radius:[6,6,6,6],children:[o.map((a,l)=>O.jsx(TE,{fill:s[l%s.length]},`cell-${l}`)),O.jsx(to,{dataKey:"value",position:"top",fill:"#374151",fontSize:12,fontWeight:"bold",formatter:a=>a>0?a:""})]})]})})})]})]})},Cue=()=>{};var Q1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Pue=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Z2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,s||(h=64)),r.push(n[c],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pue(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new Rue;const h=o<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nue=function(t){const e=Q2(t);return Z2.encodeByteArray(e,!0)},vp=function(t){return Nue(t).replace(/\./g,"")},eL=function(t){try{return Z2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mue=()=>kue().__FIREBASE_DEFAULTS__,Oue=()=>{if(typeof process>"u"||typeof Q1>"u")return;const t=Q1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Due=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eL(t[1]);return e&&JSON.parse(e)},Qm=()=>{try{return Cue()||Mue()||Oue()||Due()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tL=t=>{var e,n;return(n=(e=Qm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Lue=t=>{const e=tL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nL=()=>{var t;return(t=Qm())==null?void 0:t.config},rL=t=>{var e;return(e=Qm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vue(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[vp(JSON.stringify(n)),vp(JSON.stringify(s)),""].join(".")}const qu={};function Uue(){const t={prod:[],emulator:[]};for(const e of Object.keys(qu))qu[e]?t.emulator.push(e):t.prod.push(e);return t}function Fue(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Z1=!1;function oL(t,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||qu[t]===e||qu[t]||Z1)return;qu[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=Uue().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Z1=!0,s()},h}function c(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Fue(r),g=n("text"),_=document.getElementById(g)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),E=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),c(w,y);const R=u();l(E,v),S.append(E,_,w,R),document.body.appendChild(S)}o?(_.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function que(){var e;const t=(e=Qm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jue(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hue(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gue(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zue(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Wue(){return!que()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kue(){try{return typeof indexedDB=="object"}catch{return!1}}function Jue(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yue="FirebaseError";class Ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Yue,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vf.prototype.create)}}class vf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Xue(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ei(i,a,r)}}function Xue(t,e){return t.replace(Que,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Que=/\{\$([^}]+)}/g;function Zue(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ms(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(eC(o)&&eC(s)){if(!ms(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Su(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function bu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ece(t,e){const n=new tce(t,e);return n.subscribe.bind(n)}class tce{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nce(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fy),i.error===void 0&&(i.error=Fy),i.complete===void 0&&(i.complete=Fy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nce(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $ue;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oce(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ice(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ice(t){return t===jo?void 0:t}function oce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const ace={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},lce=Se.INFO,uce={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},cce=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uce[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tT{constructor(e){this.name=e,this._logLevel=lce,this._logHandler=cce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ace[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const fce=(t,e)=>e.some(n=>t instanceof n);let tC,nC;function dce(){return tC||(tC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hce(){return nC||(nC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sL=new WeakMap,__=new WeakMap,aL=new WeakMap,By=new WeakMap,nT=new WeakMap;function pce(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(no(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sL.set(n,t)}).catch(()=>{}),nT.set(e,t),e}function mce(t){if(__.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});__.set(t,e)}let w_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return __.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return no(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gce(t){w_=t(w_)}function yce(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qy(this),e,...n);return aL.set(r,e.sort?e.sort():[e]),no(r)}:hce().includes(t)?function(...e){return t.apply(qy(this),e),no(sL.get(this))}:function(...e){return no(t.apply(qy(this),e))}}function vce(t){return typeof t=="function"?yce(t):(t instanceof IDBTransaction&&mce(t),fce(t,dce())?new Proxy(t,w_):t)}function no(t){if(t instanceof IDBRequest)return pce(t);if(By.has(t))return By.get(t);const e=vce(t);return e!==t&&(By.set(t,e),nT.set(e,t)),e}const qy=t=>nT.get(t);function _ce(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=no(s);return r&&s.addEventListener("upgradeneeded",l=>{r(no(s.result),l.oldVersion,l.newVersion,no(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wce=["get","getKey","getAll","getAllKeys","count"],Ece=["put","add","delete","clear"],jy=new Map;function rC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jy.get(e))return jy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ece.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wce.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return jy.set(e,o),o}gce(t=>({...t,get:(e,n,r)=>rC(e,n)||t.get(e,n,r),has:(e,n)=>!!rC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sce(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sce(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const E_="@firebase/app",iC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new tT("@firebase/app"),bce="@firebase/app-compat",Ace="@firebase/analytics-compat",Ice="@firebase/analytics",xce="@firebase/app-check-compat",Cce="@firebase/app-check",Pce="@firebase/auth",Rce="@firebase/auth-compat",Nce="@firebase/database",kce="@firebase/data-connect",Mce="@firebase/database-compat",Oce="@firebase/functions",Dce="@firebase/functions-compat",Lce="@firebase/installations",$ce="@firebase/installations-compat",Vce="@firebase/messaging",Uce="@firebase/messaging-compat",Fce="@firebase/performance",Bce="@firebase/performance-compat",qce="@firebase/remote-config",jce="@firebase/remote-config-compat",Hce="@firebase/storage",Gce="@firebase/storage-compat",zce="@firebase/firestore",Wce="@firebase/ai",Kce="@firebase/firestore-compat",Jce="firebase",Yce="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="[DEFAULT]",Xce={[E_]:"fire-core",[bce]:"fire-core-compat",[Ice]:"fire-analytics",[Ace]:"fire-analytics-compat",[Cce]:"fire-app-check",[xce]:"fire-app-check-compat",[Pce]:"fire-auth",[Rce]:"fire-auth-compat",[Nce]:"fire-rtdb",[kce]:"fire-data-connect",[Mce]:"fire-rtdb-compat",[Oce]:"fire-fn",[Dce]:"fire-fn-compat",[Lce]:"fire-iid",[$ce]:"fire-iid-compat",[Vce]:"fire-fcm",[Uce]:"fire-fcm-compat",[Fce]:"fire-perf",[Bce]:"fire-perf-compat",[qce]:"fire-rc",[jce]:"fire-rc-compat",[Hce]:"fire-gcs",[Gce]:"fire-gcs-compat",[zce]:"fire-fst",[Kce]:"fire-fst-compat",[Wce]:"fire-vertex","fire-js":"fire-js",[Jce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=new Map,Qce=new Map,S_=new Map;function oC(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nl(t){const e=t.name;if(S_.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;S_.set(e,t);for(const n of _p.values())oC(n,t);for(const n of Qce.values())oC(n,t);return!0}function rT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ro=new vf("app","Firebase",Zce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class efe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=Yce;function lL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:T_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ro.create("bad-app-name",{appName:String(i)});if(n||(n=nL()),!n)throw ro.create("no-options");const o=_p.get(i);if(o){if(ms(n,o.options)&&ms(r,o.config))return o;throw ro.create("duplicate-app",{appName:i})}const s=new sce(i);for(const l of S_.values())s.addComponent(l);const a=new efe(n,r,s);return _p.set(i,a),a}function uL(t=T_){const e=_p.get(t);if(!e&&t===T_&&nL())return lL();if(!e)throw ro.create("no-app",{appName:t});return e}function io(t,e,n){let r=Xce[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(s.join(" "));return}nl(new gs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tfe="firebase-heartbeat-database",nfe=1,Jc="firebase-heartbeat-store";let Hy=null;function cL(){return Hy||(Hy=_ce(tfe,nfe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ro.create("idb-open",{originalErrorMessage:t.message})})),Hy}async function rfe(t){try{const n=(await cL()).transaction(Jc),r=await n.objectStore(Jc).get(fL(t));return await n.done,r}catch(e){if(e instanceof Ei)di.warn(e.message);else{const n=ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function sC(t,e){try{const r=(await cL()).transaction(Jc,"readwrite");await r.objectStore(Jc).put(e,fL(t)),await r.done}catch(n){if(n instanceof Ei)di.warn(n.message);else{const r=ro.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(r.message)}}}function fL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ife=1024,ofe=30;class sfe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lfe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>ofe){const s=ufe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aC(),{heartbeatsToSend:r,unsentEntries:i}=afe(this._heartbeatsCache.heartbeats),o=vp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return di.warn(n),""}}}function aC(){return new Date().toISOString().substring(0,10)}function afe(t,e=ife){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),lC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lfe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kue()?Jue().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rfe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lC(t){return vp(JSON.stringify({version:2,heartbeats:t})).length}function ufe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cfe(t){nl(new gs("platform-logger",e=>new Tce(e),"PRIVATE")),nl(new gs("heartbeat",e=>new sfe(e),"PRIVATE")),io(E_,iC,t),io(E_,iC,"esm2020"),io("fire-js","")}cfe("");var uC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,dL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function C(){}C.prototype=I.prototype,b.F=I.prototype,b.prototype=new C,b.prototype.constructor=b,b.D=function(M,k,D){for(var N=Array(arguments.length-2),B=2;B<arguments.length;B++)N[B-2]=arguments[B];return I.prototype[k].apply(M,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,I,C){C||(C=0);const M=Array(16);if(typeof I=="string")for(var k=0;k<16;++k)M[k]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(k=0;k<16;++k)M[k]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=b.g[0],C=b.g[1],k=b.g[2];let D=b.g[3],N;N=I+(D^C&(k^D))+M[0]+3614090360&4294967295,I=C+(N<<7&4294967295|N>>>25),N=D+(k^I&(C^k))+M[1]+3905402710&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(C^D&(I^C))+M[2]+606105819&4294967295,k=D+(N<<17&4294967295|N>>>15),N=C+(I^k&(D^I))+M[3]+3250441966&4294967295,C=k+(N<<22&4294967295|N>>>10),N=I+(D^C&(k^D))+M[4]+4118548399&4294967295,I=C+(N<<7&4294967295|N>>>25),N=D+(k^I&(C^k))+M[5]+1200080426&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(C^D&(I^C))+M[6]+2821735955&4294967295,k=D+(N<<17&4294967295|N>>>15),N=C+(I^k&(D^I))+M[7]+4249261313&4294967295,C=k+(N<<22&4294967295|N>>>10),N=I+(D^C&(k^D))+M[8]+1770035416&4294967295,I=C+(N<<7&4294967295|N>>>25),N=D+(k^I&(C^k))+M[9]+2336552879&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(C^D&(I^C))+M[10]+4294925233&4294967295,k=D+(N<<17&4294967295|N>>>15),N=C+(I^k&(D^I))+M[11]+2304563134&4294967295,C=k+(N<<22&4294967295|N>>>10),N=I+(D^C&(k^D))+M[12]+1804603682&4294967295,I=C+(N<<7&4294967295|N>>>25),N=D+(k^I&(C^k))+M[13]+4254626195&4294967295,D=I+(N<<12&4294967295|N>>>20),N=k+(C^D&(I^C))+M[14]+2792965006&4294967295,k=D+(N<<17&4294967295|N>>>15),N=C+(I^k&(D^I))+M[15]+1236535329&4294967295,C=k+(N<<22&4294967295|N>>>10),N=I+(k^D&(C^k))+M[1]+4129170786&4294967295,I=C+(N<<5&4294967295|N>>>27),N=D+(C^k&(I^C))+M[6]+3225465664&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^C&(D^I))+M[11]+643717713&4294967295,k=D+(N<<14&4294967295|N>>>18),N=C+(D^I&(k^D))+M[0]+3921069994&4294967295,C=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(C^k))+M[5]+3593408605&4294967295,I=C+(N<<5&4294967295|N>>>27),N=D+(C^k&(I^C))+M[10]+38016083&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^C&(D^I))+M[15]+3634488961&4294967295,k=D+(N<<14&4294967295|N>>>18),N=C+(D^I&(k^D))+M[4]+3889429448&4294967295,C=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(C^k))+M[9]+568446438&4294967295,I=C+(N<<5&4294967295|N>>>27),N=D+(C^k&(I^C))+M[14]+3275163606&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^C&(D^I))+M[3]+4107603335&4294967295,k=D+(N<<14&4294967295|N>>>18),N=C+(D^I&(k^D))+M[8]+1163531501&4294967295,C=k+(N<<20&4294967295|N>>>12),N=I+(k^D&(C^k))+M[13]+2850285829&4294967295,I=C+(N<<5&4294967295|N>>>27),N=D+(C^k&(I^C))+M[2]+4243563512&4294967295,D=I+(N<<9&4294967295|N>>>23),N=k+(I^C&(D^I))+M[7]+1735328473&4294967295,k=D+(N<<14&4294967295|N>>>18),N=C+(D^I&(k^D))+M[12]+2368359562&4294967295,C=k+(N<<20&4294967295|N>>>12),N=I+(C^k^D)+M[5]+4294588738&4294967295,I=C+(N<<4&4294967295|N>>>28),N=D+(I^C^k)+M[8]+2272392833&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^C)+M[11]+1839030562&4294967295,k=D+(N<<16&4294967295|N>>>16),N=C+(k^D^I)+M[14]+4259657740&4294967295,C=k+(N<<23&4294967295|N>>>9),N=I+(C^k^D)+M[1]+2763975236&4294967295,I=C+(N<<4&4294967295|N>>>28),N=D+(I^C^k)+M[4]+1272893353&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^C)+M[7]+4139469664&4294967295,k=D+(N<<16&4294967295|N>>>16),N=C+(k^D^I)+M[10]+3200236656&4294967295,C=k+(N<<23&4294967295|N>>>9),N=I+(C^k^D)+M[13]+681279174&4294967295,I=C+(N<<4&4294967295|N>>>28),N=D+(I^C^k)+M[0]+3936430074&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^C)+M[3]+3572445317&4294967295,k=D+(N<<16&4294967295|N>>>16),N=C+(k^D^I)+M[6]+76029189&4294967295,C=k+(N<<23&4294967295|N>>>9),N=I+(C^k^D)+M[9]+3654602809&4294967295,I=C+(N<<4&4294967295|N>>>28),N=D+(I^C^k)+M[12]+3873151461&4294967295,D=I+(N<<11&4294967295|N>>>21),N=k+(D^I^C)+M[15]+530742520&4294967295,k=D+(N<<16&4294967295|N>>>16),N=C+(k^D^I)+M[2]+3299628645&4294967295,C=k+(N<<23&4294967295|N>>>9),N=I+(k^(C|~D))+M[0]+4096336452&4294967295,I=C+(N<<6&4294967295|N>>>26),N=D+(C^(I|~k))+M[7]+1126891415&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~C))+M[14]+2878612391&4294967295,k=D+(N<<15&4294967295|N>>>17),N=C+(D^(k|~I))+M[5]+4237533241&4294967295,C=k+(N<<21&4294967295|N>>>11),N=I+(k^(C|~D))+M[12]+1700485571&4294967295,I=C+(N<<6&4294967295|N>>>26),N=D+(C^(I|~k))+M[3]+2399980690&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~C))+M[10]+4293915773&4294967295,k=D+(N<<15&4294967295|N>>>17),N=C+(D^(k|~I))+M[1]+2240044497&4294967295,C=k+(N<<21&4294967295|N>>>11),N=I+(k^(C|~D))+M[8]+1873313359&4294967295,I=C+(N<<6&4294967295|N>>>26),N=D+(C^(I|~k))+M[15]+4264355552&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~C))+M[6]+2734768916&4294967295,k=D+(N<<15&4294967295|N>>>17),N=C+(D^(k|~I))+M[13]+1309151649&4294967295,C=k+(N<<21&4294967295|N>>>11),N=I+(k^(C|~D))+M[4]+4149444226&4294967295,I=C+(N<<6&4294967295|N>>>26),N=D+(C^(I|~k))+M[11]+3174756917&4294967295,D=I+(N<<10&4294967295|N>>>22),N=k+(I^(D|~C))+M[2]+718787259&4294967295,k=D+(N<<15&4294967295|N>>>17),N=C+(D^(k|~I))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.v=function(b,I){I===void 0&&(I=b.length);const C=I-this.blockSize,M=this.C;let k=this.h,D=0;for(;D<I;){if(k==0)for(;D<=C;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<I;)if(M[k++]=b.charCodeAt(D++),k==this.blockSize){i(this,M),k=0;break}}else for(;D<I;)if(M[k++]=b[D++],k==this.blockSize){i(this,M),k=0;break}}this.h=k,this.o+=I},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;I=this.o*8;for(var C=b.length-8;C<b.length;++C)b[C]=I&255,I/=256;for(this.v(b),b=Array(16),I=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)b[I++]=this.g[C]>>>M&255;return b};function o(b,I){var C=a;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=I(b)}function s(b,I){this.h=I;const C=[];let M=!0;for(let k=b.length-1;k>=0;k--){const D=b[k]|0;M&&D==I||(C[k]=D,M=!1)}this.g=C}var a={};function l(b){return-128<=b&&b<128?o(b,function(I){return new s([I|0],I<0?-1:0)}):new s([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return w(u(-b));const I=[];let C=1;for(let M=0;b>=C;M++)I[M]=b/C|0,C*=4294967296;return new s(I,0)}function c(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return w(c(b.substring(1),I));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(I,8));let M=f;for(let D=0;D<b.length;D+=8){var k=Math.min(8,b.length-D);const N=parseInt(b.substring(D,D+k),I);k<8?(k=u(Math.pow(I,k)),M=M.j(k).add(u(N))):(M=M.j(C),M=M.add(u(N)))}return M}var f=l(0),h=l(1),g=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-w(this).m();let b=0,I=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);b+=(M>=0?M:4294967296+M)*I,I*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(y(this))return"-"+w(this).toString(b);const I=u(Math.pow(b,6));var C=this;let M="";for(;;){const k=R(C,I).g;C=v(C,k.j(I));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(b);if(C=k,_(C))return D+M;for(;D.length<6;)D="0"+D;M=D+M}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(let I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=v(this,b),y(b)?-1:_(b)?0:1};function w(b){const I=b.g.length,C=[];for(let M=0;M<I;M++)C[M]=~b.g[M];return new s(C,~b.h).add(h)}t.abs=function(){return y(this)?w(this):this},t.add=function(b){const I=Math.max(this.g.length,b.g.length),C=[];let M=0;for(let k=0;k<=I;k++){let D=M+(this.i(k)&65535)+(b.i(k)&65535),N=(D>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);M=N>>>16,D&=65535,N&=65535,C[k]=N<<16|D}return new s(C,C[C.length-1]&-2147483648?-1:0)};function v(b,I){return b.add(w(I))}t.j=function(b){if(_(this)||_(b))return f;if(y(this))return y(b)?w(this).j(w(b)):w(w(this).j(b));if(y(b))return w(this.j(w(b)));if(this.l(g)<0&&b.l(g)<0)return u(this.m()*b.m());const I=this.g.length+b.g.length,C=[];for(var M=0;M<2*I;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let k=0;k<b.g.length;k++){const D=this.i(M)>>>16,N=this.i(M)&65535,B=b.i(k)>>>16,H=b.i(k)&65535;C[2*M+2*k]+=N*H,E(C,2*M+2*k),C[2*M+2*k+1]+=D*H,E(C,2*M+2*k+1),C[2*M+2*k+1]+=N*B,E(C,2*M+2*k+1),C[2*M+2*k+2]+=D*B,E(C,2*M+2*k+2)}for(b=0;b<I;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=I;b<2*I;b++)C[b]=0;return new s(C,0)};function E(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function S(b,I){this.g=b,this.h=I}function R(b,I){if(_(I))throw Error("division by zero");if(_(b))return new S(f,f);if(y(b))return I=R(w(b),I),new S(w(I.g),w(I.h));if(y(I))return I=R(b,w(I)),new S(w(I.g),I.h);if(b.g.length>30){if(y(b)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var C=h,M=I;M.l(b)<=0;)C=A(C),M=A(M);var k=x(C,1),D=x(M,1);for(M=x(M,2),C=x(C,2);!_(M);){var N=D.add(M);N.l(b)<=0&&(k=k.add(C),D=N),M=x(M,1),C=x(C,1)}return I=v(b,k.j(I)),new S(k,I)}for(k=f;b.l(I)>=0;){for(C=Math.max(1,Math.floor(b.m()/I.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),D=u(C),N=D.j(I);y(N)||N.l(b)>0;)C-=M,D=u(C),N=D.j(I);_(D)&&(D=h),k=k.add(D),b=v(b,N)}return new S(k,b)}t.B=function(b){return R(this,b).h},t.and=function(b){const I=Math.max(this.g.length,b.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)&b.i(M);return new s(C,this.h&b.h)},t.or=function(b){const I=Math.max(this.g.length,b.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)|b.i(M);return new s(C,this.h|b.h)},t.xor=function(b){const I=Math.max(this.g.length,b.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)^b.i(M);return new s(C,this.h^b.h)};function A(b){const I=b.g.length+1,C=[];for(let M=0;M<I;M++)C[M]=b.i(M)<<1|b.i(M-1)>>>31;return new s(C,b.h)}function x(b,I){const C=I>>5;I%=32;const M=b.g.length-C,k=[];for(let D=0;D<M;D++)k[D]=I>0?b.i(D+C)>>>I|b.i(D+C+1)<<32-I:b.i(D+C);return new s(k,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dL=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,oo=s}).apply(typeof uC<"u"?uC:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hL,Au,pL,Ud,b_,mL,gL,yL;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var T=0;T<m.length;++T){var P=m[T];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var P=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var V=m[L];if(!(V in P))break e;P=P[V]}m=m[m.length-1],L=P[m],T=T(L),T!=L&&T!=null&&e(P,m,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(T){var P=[],L;for(L in T)Object.prototype.hasOwnProperty.call(T,L)&&P.push([L,T[L]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function l(m,T,P){return m.call.apply(m.bind,arguments)}function u(m,T,P){return u=l,u.apply(null,arguments)}function c(m,T){var P=Array.prototype.slice.call(arguments,1);return function(){var L=P.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function f(m,T){function P(){}P.prototype=T.prototype,m.Z=T.prototype,m.prototype=new P,m.prototype.constructor=m,m.Ob=function(L,V,j){for(var ee=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)ee[_e-2]=arguments[_e];return T.prototype[V].apply(L,ee)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function g(m){const T=m.length;if(T>0){const P=Array(T);for(let L=0;L<T;L++)P[L]=m[L];return P}return[]}function _(m,T){for(let L=1;L<arguments.length;L++){const V=arguments[L];var P=typeof V;if(P=P!="object"?P:V?Array.isArray(V)?"array":P:"null",P=="array"||P=="object"&&typeof V.length=="number"){P=m.length||0;const j=V.length||0;m.length=P+j;for(let ee=0;ee<j;ee++)m[P+ee]=V[ee]}else m.push(V)}}class y{constructor(T,P){this.i=T,this.j=P,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function w(m){s.setTimeout(()=>{throw m},0)}function v(){var m=b;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class E{constructor(){this.h=this.g=null}add(T,P){const L=S.get();L.set(T,P),this.h?this.h.next=L:this.g=L,this.h=L}}var S=new y(()=>new R,m=>m.reset());class R{constructor(){this.next=this.g=this.h=null}set(T,P){this.h=T,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let A,x=!1,b=new E,I=()=>{const m=Promise.resolve(void 0);A=()=>{m.then(C)}};function C(){for(var m;m=v();){try{m.h.call(m.g)}catch(P){w(P)}var T=S;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}x=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const P=()=>{};s.addEventListener("test",P,T),s.removeEventListener("test",P,T)}catch{}return m}();function N(m){return/^[\s\xa0]*$/.test(m)}function B(m,T){k.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}f(B,k),B.prototype.init=function(m,T){const P=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(P=="mouseover"?T=m.fromElement:P=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var H="closure_listenable_"+(Math.random()*1e6|0),G=0;function K(m,T,P,L,V){this.listener=m,this.proxy=null,this.src=T,this.type=P,this.capture=!!L,this.ha=V,this.key=++G,this.da=this.fa=!1}function U(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function q(m,T,P){for(const L in m)T.call(P,m[L],L,m)}function Y(m,T){for(const P in m)T.call(void 0,m[P],P,m)}function te(m){const T={};for(const P in m)T[P]=m[P];return T}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(m,T){let P,L;for(let V=1;V<arguments.length;V++){L=arguments[V];for(P in L)m[P]=L[P];for(let j=0;j<Q.length;j++)P=Q[j],Object.prototype.hasOwnProperty.call(L,P)&&(m[P]=L[P])}}function ye(m){this.src=m,this.g={},this.h=0}ye.prototype.add=function(m,T,P,L,V){const j=m.toString();m=this.g[j],m||(m=this.g[j]=[],this.h++);const ee=ze(m,T,L,V);return ee>-1?(T=m[ee],P||(T.fa=!1)):(T=new K(T,this.src,j,!!L,V),T.fa=P,m.push(T)),T};function Ve(m,T){const P=T.type;if(P in m.g){var L=m.g[P],V=Array.prototype.indexOf.call(L,T,void 0),j;(j=V>=0)&&Array.prototype.splice.call(L,V,1),j&&(U(T),m.g[P].length==0&&(delete m.g[P],m.h--))}}function ze(m,T,P,L){for(let V=0;V<m.length;++V){const j=m[V];if(!j.da&&j.listener==T&&j.capture==!!P&&j.ha==L)return V}return-1}var Jt="closure_lm_"+(Math.random()*1e6|0),kt={};function ne(m,T,P,L,V){if(Array.isArray(T)){for(let j=0;j<T.length;j++)ne(m,T[j],P,L,V);return null}return P=tr(P),m&&m[H]?m.J(T,P,a(L)?!!L.capture:!1,V):ge(m,T,P,!1,L,V)}function ge(m,T,P,L,V,j){if(!T)throw Error("Invalid event type");const ee=a(V)?!!V.capture:!!V;let _e=rt(m);if(_e||(m[Jt]=_e=new ye(m)),P=_e.add(T,P,L,ee,j),P.proxy)return P;if(L=ve(),P.proxy=L,L.src=m,L.listener=P,m.addEventListener)D||(V=ee),V===void 0&&(V=!1),m.addEventListener(T.toString(),L,V);else if(m.attachEvent)m.attachEvent(Te(T.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ve(){function m(P){return T.call(m.src,m.listener,P)}const T=dt;return m}function X(m,T,P,L,V){if(Array.isArray(T))for(var j=0;j<T.length;j++)X(m,T[j],P,L,V);else L=a(L)?!!L.capture:!!L,P=tr(P),m&&m[H]?(m=m.i,j=String(T).toString(),j in m.g&&(T=m.g[j],P=ze(T,P,L,V),P>-1&&(U(T[P]),Array.prototype.splice.call(T,P,1),T.length==0&&(delete m.g[j],m.h--)))):m&&(m=rt(m))&&(T=m.g[T.toString()],m=-1,T&&(m=ze(T,P,L,V)),(P=m>-1?T[m]:null)&&qe(P))}function qe(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[H])Ve(T.i,m);else{var P=m.type,L=m.proxy;T.removeEventListener?T.removeEventListener(P,L,m.capture):T.detachEvent?T.detachEvent(Te(P),L):T.addListener&&T.removeListener&&T.removeListener(L),(P=rt(T))?(Ve(P,m),P.h==0&&(P.src=null,T[Jt]=null)):U(m)}}}function Te(m){return m in kt?kt[m]:kt[m]="on"+m}function dt(m,T){if(m.da)m=!0;else{T=new B(T,this);const P=m.listener,L=m.ha||m.src;m.fa&&qe(m),m=P.call(L,T)}return m}function rt(m){return m=m[Jt],m instanceof ye?m:null}var Mt="__closure_events_fn_"+(Math.random()*1e9>>>0);function tr(m){return typeof m=="function"?m:(m[Mt]||(m[Mt]=function(T){return m.handleEvent(T)}),m[Mt])}function it(){M.call(this),this.i=new ye(this),this.M=this,this.G=null}f(it,M),it.prototype[H]=!0,it.prototype.removeEventListener=function(m,T,P,L){X(this,m,T,P,L)};function mt(m,T){var P,L=m.G;if(L)for(P=[];L;L=L.G)P.push(L);if(m=m.M,L=T.type||T,typeof T=="string")T=new k(T,m);else if(T instanceof k)T.target=T.target||m;else{var V=T;T=new k(L,m),ue(T,V)}V=!0;let j,ee;if(P)for(ee=P.length-1;ee>=0;ee--)j=T.g=P[ee],V=Ln(j,L,!0,T)&&V;if(j=T.g=m,V=Ln(j,L,!0,T)&&V,V=Ln(j,L,!1,T)&&V,P)for(ee=0;ee<P.length;ee++)j=T.g=P[ee],V=Ln(j,L,!1,T)&&V}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const P=m.g[T];for(let L=0;L<P.length;L++)U(P[L]);delete m.g[T],m.h--}}this.G=null},it.prototype.J=function(m,T,P,L){return this.i.add(String(m),T,!1,P,L)},it.prototype.K=function(m,T,P,L){return this.i.add(String(m),T,!0,P,L)};function Ln(m,T,P,L){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let V=!0;for(let j=0;j<T.length;++j){const ee=T[j];if(ee&&!ee.da&&ee.capture==P){const _e=ee.listener,Et=ee.ha||ee.src;ee.fa&&Ve(m.i,ee),V=_e.call(Et,L)!==!1&&V}}return V&&!L.defaultPrevented}function jr(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=u(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:s.setTimeout(m,T||0)}function Ds(m){m.g=jr(()=>{m.g=null,m.i&&(m.i=!1,Ds(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Nf extends M{constructor(T,P){super(),this.m=T,this.l=P,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ds(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(m){M.call(this),this.h=m,this.g={}}f(bi,M);var ZT=[];function eS(m){q(m.g,function(T,P){this.g.hasOwnProperty(P)&&qe(T)},m),m.g={}}bi.prototype.N=function(){bi.Z.N.call(this),eS(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tg=s.JSON.stringify,sU=s.JSON.parse,aU=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function tS(){}function nS(){}var $l={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Sg(){k.call(this,"d")}f(Sg,k);function bg(){k.call(this,"c")}f(bg,k);var No={},rS=null;function kf(){return rS=rS||new it}No.Ia="serverreachability";function iS(m){k.call(this,No.Ia,m)}f(iS,k);function Vl(m){const T=kf();mt(T,new iS(T))}No.STAT_EVENT="statevent";function oS(m,T){k.call(this,No.STAT_EVENT,m),this.stat=T}f(oS,k);function un(m){const T=kf();mt(T,new oS(T,m))}No.Ja="timingevent";function sS(m,T){k.call(this,No.Ja,m),this.size=T}f(sS,k);function Ul(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},T)}function Fl(){this.g=!0}Fl.prototype.ua=function(){this.g=!1};function lU(m,T,P,L,V,j){m.info(function(){if(m.g)if(j){var ee="",_e=j.split("&");for(let Fe=0;Fe<_e.length;Fe++){var Et=_e[Fe].split("=");if(Et.length>1){const Ot=Et[0];Et=Et[1];const Er=Ot.split("_");ee=Er.length>=2&&Er[1]=="type"?ee+(Ot+"="+Et+"&"):ee+(Ot+"=redacted&")}}}else ee=null;else ee=j;return"XMLHTTP REQ ("+L+") [attempt "+V+"]: "+T+`
`+P+`
`+ee})}function uU(m,T,P,L,V,j,ee){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+V+"]: "+T+`
`+P+`
`+j+" "+ee})}function Ls(m,T,P,L){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+fU(m,P)+(L?" "+L:"")})}function cU(m,T){m.info(function(){return"TIMEOUT: "+T})}Fl.prototype.info=function(){};function fU(m,T){if(!m.g)return T;if(!T)return null;try{const j=JSON.parse(T);if(j){for(m=0;m<j.length;m++)if(Array.isArray(j[m])){var P=j[m];if(!(P.length<2)){var L=P[1];if(Array.isArray(L)&&!(L.length<1)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(let ee=1;ee<L.length;ee++)L[ee]=""}}}}return Tg(j)}catch{return T}}var Mf={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},aS={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},lS;function Ag(){}f(Ag,tS),Ag.prototype.g=function(){return new XMLHttpRequest},lS=new Ag;function Bl(m){return encodeURIComponent(String(m))}function dU(m){var T=1;m=m.split(":");const P=[];for(;T>0&&m.length;)P.push(m.shift()),T--;return m.length&&P.push(m.join(":")),P}function Ai(m,T,P,L){this.j=m,this.i=T,this.l=P,this.S=L||1,this.V=new bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new uS}function uS(){this.i=null,this.g="",this.h=!1}var cS={},Ig={};function xg(m,T,P){m.M=1,m.A=Df(wr(T)),m.u=P,m.R=!0,fS(m,null)}function fS(m,T){m.F=Date.now(),Of(m),m.B=wr(m.A);var P=m.B,L=m.S;Array.isArray(L)||(L=[String(L)]),bS(P.i,"t",L),m.C=0,P=m.j.L,m.h=new uS,m.g=qS(m.j,P?T:null,!m.u),m.P>0&&(m.O=new Nf(u(m.Y,m,m.g),m.P)),T=m.V,P=m.g,L=m.ba;var V="readystatechange";Array.isArray(V)||(V&&(ZT[0]=V.toString()),V=ZT);for(let j=0;j<V.length;j++){const ee=ne(P,V[j],L||T.handleEvent,!1,T.h||T);if(!ee)break;T.g[ee.key]=ee}T=m.J?te(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Vl(),lU(m.i,m.v,m.B,m.l,m.S,m.u)}Ai.prototype.ba=function(m){m=m.target;const T=this.O;T&&Ci(m)==3?T.j():this.Y(m)},Ai.prototype.Y=function(m){try{if(m==this.g)e:{const _e=Ci(this.g),Et=this.g.ya(),Fe=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||NS(this.g)))){this.K||_e!=4||Et==7||(Et==8||Fe<=0?Vl(3):Vl(2)),Cg(this);var T=this.g.ca();this.X=T;var P=hU(this);if(this.o=T==200,uU(this.i,this.v,this.B,this.l,this.S,_e,T),this.o){if(this.U&&!this.L){t:{if(this.g){var L,V=this.g;if((L=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(L)){var j=L;break t}}j=null}if(m=j)Ls(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pg(this,m);else{this.o=!1,this.m=3,un(12),ko(this),ql(this);break e}}if(this.R){m=!0;let Ot;for(;!this.K&&this.C<P.length;)if(Ot=pU(this,P),Ot==Ig){_e==4&&(this.m=4,un(14),m=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==cS){this.m=4,un(15),Ls(this.i,this.l,P,"[Invalid Chunk]"),m=!1;break}else Ls(this.i,this.l,Ot,null),Pg(this,Ot);if(dS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||P.length!=0||this.h.h||(this.m=1,un(16),m=!1),this.o=this.o&&m,!m)Ls(this.i,this.l,P,"[Invalid Chunked Response]"),ko(this),ql(this);else if(P.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),$g(ee),ee.P=!0,un(11))}}else Ls(this.i,this.l,P,null),Pg(this,P);_e==4&&ko(this),this.o&&!this.K&&(_e==4?VS(this.j,this):(this.o=!1,Of(this)))}else CU(this.g),T==400&&P.indexOf("Unknown SID")>0?(this.m=3,un(12)):(this.m=0,un(13)),ko(this),ql(this)}}}catch{}finally{}};function hU(m){if(!dS(m))return m.g.la();const T=NS(m.g);if(T==="")return"";let P="";const L=T.length,V=Ci(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ko(m),ql(m),"";m.h.i=new s.TextDecoder}for(let j=0;j<L;j++)m.h.h=!0,P+=m.h.i.decode(T[j],{stream:!(V&&j==L-1)});return T.length=0,m.h.g+=P,m.C=0,m.h.g}function dS(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function pU(m,T){var P=m.C,L=T.indexOf(`
`,P);return L==-1?Ig:(P=Number(T.substring(P,L)),isNaN(P)?cS:(L+=1,L+P>T.length?Ig:(T=T.slice(L,L+P),m.C=L+P,T)))}Ai.prototype.cancel=function(){this.K=!0,ko(this)};function Of(m){m.T=Date.now()+m.H,hS(m,m.H)}function hS(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Ul(u(m.aa,m),T)}function Cg(m){m.D&&(s.clearTimeout(m.D),m.D=null)}Ai.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(cU(this.i,this.B),this.M!=2&&(Vl(),un(17)),ko(this),this.m=2,ql(this)):hS(this,this.T-m)};function ql(m){m.j.I==0||m.K||VS(m.j,m)}function ko(m){Cg(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,eS(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function Pg(m,T){try{var P=m.j;if(P.I!=0&&(P.g==m||Rg(P.h,m))){if(!m.L&&Rg(P.h,m)&&P.I==3){try{var L=P.Ba.g.parse(T)}catch{L=null}if(Array.isArray(L)&&L.length==3){var V=L;if(V[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<m.F)Ff(P),Vf(P);else break e;Lg(P),un(18)}}else P.xa=V[1],0<P.xa-P.K&&V[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Ul(u(P.Va,P),6e3));gS(P.h)<=1&&P.ta&&(P.ta=void 0)}else Oo(P,11)}else if((m.L||P.g==m)&&Ff(P),!N(T))for(V=P.Ba.g.parse(T),T=0;T<V.length;T++){let Fe=V[T];const Ot=Fe[0];if(!(Ot<=P.K))if(P.K=Ot,Fe=Fe[1],P.I==2)if(Fe[0]=="c"){P.M=Fe[1],P.ba=Fe[2];const Er=Fe[3];Er!=null&&(P.ka=Er,P.j.info("VER="+P.ka));const Do=Fe[4];Do!=null&&(P.za=Do,P.j.info("SVER="+P.za));const Pi=Fe[5];Pi!=null&&typeof Pi=="number"&&Pi>0&&(L=1.5*Pi,P.O=L,P.j.info("backChannelRequestTimeoutMs_="+L)),L=P;const Ri=m.g;if(Ri){const qf=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qf){var j=L.h;j.g||qf.indexOf("spdy")==-1&&qf.indexOf("quic")==-1&&qf.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ng(j,j.h),j.h=null))}if(L.G){const Vg=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Vg&&(L.wa=Vg,We(L.J,L.G,Vg))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-m.F,P.j.info("Handshake RTT: "+P.T+"ms")),L=P;var ee=m;if(L.na=BS(L,L.L?L.ba:null,L.W),ee.L){yS(L.h,ee);var _e=ee,Et=L.O;Et&&(_e.H=Et),_e.D&&(Cg(_e),Of(_e)),L.g=ee}else LS(L);P.i.length>0&&Uf(P)}else Fe[0]!="stop"&&Fe[0]!="close"||Oo(P,7);else P.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Oo(P,7):Dg(P):Fe[0]!="noop"&&P.l&&P.l.qa(Fe),P.A=0)}}Vl(4)}catch{}}var mU=class{constructor(m,T){this.g=m,this.map=T}};function pS(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function gS(m){return m.h?1:m.g?m.g.size:0}function Rg(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Ng(m,T){m.g?m.g.add(T):m.h=T}function yS(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}pS.prototype.cancel=function(){if(this.i=vS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function vS(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const P of m.g.values())T=T.concat(P.G);return T}return g(m.i)}var _S=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gU(m,T){if(m){m=m.split("&");for(let P=0;P<m.length;P++){const L=m[P].indexOf("=");let V,j=null;L>=0?(V=m[P].substring(0,L),j=m[P].substring(L+1)):V=m[P],T(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ii(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof Ii?(this.l=m.l,jl(this,m.j),this.o=m.o,this.g=m.g,Hl(this,m.u),this.h=m.h,kg(this,AS(m.i)),this.m=m.m):m&&(T=String(m).match(_S))?(this.l=!1,jl(this,T[1]||"",!0),this.o=Gl(T[2]||""),this.g=Gl(T[3]||"",!0),Hl(this,T[4]),this.h=Gl(T[5]||"",!0),kg(this,T[6]||"",!0),this.m=Gl(T[7]||"")):(this.l=!1,this.i=new Wl(null,this.l))}Ii.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(zl(T,wS,!0),":");var P=this.g;return(P||T=="file")&&(m.push("//"),(T=this.o)&&m.push(zl(T,wS,!0),"@"),m.push(Bl(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&m.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&m.push("/"),m.push(zl(P,P.charAt(0)=="/"?_U:vU,!0))),(P=this.i.toString())&&m.push("?",P),(P=this.m)&&m.push("#",zl(P,EU)),m.join("")},Ii.prototype.resolve=function(m){const T=wr(this);let P=!!m.j;P?jl(T,m.j):P=!!m.o,P?T.o=m.o:P=!!m.g,P?T.g=m.g:P=m.u!=null;var L=m.h;if(P)Hl(T,m.u);else if(P=!!m.h){if(L.charAt(0)!="/")if(this.g&&!this.h)L="/"+L;else{var V=T.h.lastIndexOf("/");V!=-1&&(L=T.h.slice(0,V+1)+L)}if(V=L,V==".."||V==".")L="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){L=V.lastIndexOf("/",0)==0,V=V.split("/");const j=[];for(let ee=0;ee<V.length;){const _e=V[ee++];_e=="."?L&&ee==V.length&&j.push(""):_e==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),L&&ee==V.length&&j.push("")):(j.push(_e),L=!0)}L=j.join("/")}else L=V}return P?T.h=L:P=m.i.toString()!=="",P?kg(T,AS(m.i)):P=!!m.m,P&&(T.m=m.m),T};function wr(m){return new Ii(m)}function jl(m,T,P){m.j=P?Gl(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Hl(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function kg(m,T,P){T instanceof Wl?(m.i=T,TU(m.i,m.l)):(P||(T=zl(T,wU)),m.i=new Wl(T,m.l))}function We(m,T,P){m.i.set(T,P)}function Df(m){return We(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Gl(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function zl(m,T,P){return typeof m=="string"?(m=encodeURI(m).replace(T,yU),P&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function yU(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var wS=/[#\/\?@]/g,vU=/[#\?:]/g,_U=/[#\?]/g,wU=/[#\?@]/g,EU=/#/g;function Wl(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Mo(m){m.g||(m.g=new Map,m.h=0,m.i&&gU(m.i,function(T,P){m.add(decodeURIComponent(T.replace(/\+/g," ")),P)}))}t=Wl.prototype,t.add=function(m,T){Mo(this),this.i=null,m=$s(this,m);let P=this.g.get(m);return P||this.g.set(m,P=[]),P.push(T),this.h+=1,this};function ES(m,T){Mo(m),T=$s(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function TS(m,T){return Mo(m),T=$s(m,T),m.g.has(T)}t.forEach=function(m,T){Mo(this),this.g.forEach(function(P,L){P.forEach(function(V){m.call(T,V,L,this)},this)},this)};function SS(m,T){Mo(m);let P=[];if(typeof T=="string")TS(m,T)&&(P=P.concat(m.g.get($s(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)P=P.concat(m[T]);return P}t.set=function(m,T){return Mo(this),this.i=null,m=$s(this,m),TS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=SS(this,m),m.length>0?String(m[0]):T):T};function bS(m,T,P){ES(m,T),P.length>0&&(m.i=null,m.g.set($s(m,T),g(P)),m.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let L=0;L<T.length;L++){var P=T[L];const V=Bl(P);P=SS(this,P);for(let j=0;j<P.length;j++){let ee=V;P[j]!==""&&(ee+="="+Bl(P[j])),m.push(ee)}}return this.i=m.join("&")};function AS(m){const T=new Wl;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function $s(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function TU(m,T){T&&!m.j&&(Mo(m),m.i=null,m.g.forEach(function(P,L){const V=L.toLowerCase();L!=V&&(ES(this,L),bS(this,V,P))},m)),m.j=T}function SU(m,T){const P=new Fl;if(s.Image){const L=new Image;L.onload=c(xi,P,"TestLoadImage: loaded",!0,T,L),L.onerror=c(xi,P,"TestLoadImage: error",!1,T,L),L.onabort=c(xi,P,"TestLoadImage: abort",!1,T,L),L.ontimeout=c(xi,P,"TestLoadImage: timeout",!1,T,L),s.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else T(!1)}function bU(m,T){const P=new Fl,L=new AbortController,V=setTimeout(()=>{L.abort(),xi(P,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:L.signal}).then(j=>{clearTimeout(V),j.ok?xi(P,"TestPingServer: ok",!0,T):xi(P,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(V),xi(P,"TestPingServer: error",!1,T)})}function xi(m,T,P,L,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),L(P)}catch{}}function AU(){this.g=new aU}function Mg(m){this.i=m.Sb||null,this.h=m.ab||!1}f(Mg,tS),Mg.prototype.g=function(){return new Lf(this.i,this.h)};function Lf(m,T){it.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Lf,it),t=Lf.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Jl(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||s).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Jl(this)),this.g&&(this.readyState=3,Jl(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;IS(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function IS(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?Kl(this):Jl(this),this.readyState==3&&IS(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Kl(this))},t.Na=function(m){this.g&&(this.response=m,Kl(this))},t.ga=function(){this.g&&Kl(this)};function Kl(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Jl(m)}t.setRequestHeader=function(m,T){this.A.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var P=T.next();!P.done;)P=P.value,m.push(P[0]+": "+P[1]),P=T.next();return m.join(`\r
`)};function Jl(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Lf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function xS(m){let T="";return q(m,function(P,L){T+=L,T+=":",T+=P,T+=`\r
`}),T}function Og(m,T,P){e:{for(L in P){var L=!1;break e}L=!0}L||(P=xS(P),typeof m=="string"?P!=null&&Bl(P):We(m,T,P))}function ut(m){it.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(ut,it);var IU=/^https?$/i,xU=["POST","PUT"];t=ut.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,T,P,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():lS.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(j){CS(this,j);return}if(m=P||"",P=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var V in L)P.set(V,L[V]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const j of L.keys())P.set(j,L.get(j));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(P.keys()).find(j=>j.toLowerCase()=="content-type"),V=s.FormData&&m instanceof s.FormData,!(Array.prototype.indexOf.call(xU,T,void 0)>=0)||L||V||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ee]of P)this.g.setRequestHeader(j,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(j){CS(this,j)}};function CS(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,PS(m),$f(m)}function PS(m){m.A||(m.A=!0,mt(m,"complete"),mt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,mt(this,"complete"),mt(this,"abort"),$f(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$f(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?RS(this):this.Xa())},t.Xa=function(){RS(this)};function RS(m){if(m.h&&typeof o<"u"){if(m.v&&Ci(m)==4)setTimeout(m.Ca.bind(m),0);else if(mt(m,"readystatechange"),Ci(m)==4){m.h=!1;try{const j=m.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var P;if(!(P=T)){var L;if(L=j===0){let ee=String(m.D).match(_S)[1]||null;!ee&&s.self&&s.self.location&&(ee=s.self.location.protocol.slice(0,-1)),L=!IU.test(ee?ee.toLowerCase():"")}P=L}if(P)mt(m,"complete"),mt(m,"success");else{m.o=6;try{var V=Ci(m)>2?m.g.statusText:""}catch{V=""}m.l=V+" ["+m.ca()+"]",PS(m)}}finally{$f(m)}}}}function $f(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const P=m.g;m.g=null,T||mt(m,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ci(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),sU(T)}};function NS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function CU(m){const T={};m=(m.g&&Ci(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(N(m[L]))continue;var P=dU(m[L]);const V=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const j=T[V]||[];T[V]=j,j.push(P)}Y(T,function(L){return L.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yl(m,T,P){return P&&P.internalChannelParams&&P.internalChannelParams[m]||T}function kS(m){this.za=0,this.i=[],this.j=new Fl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yl("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yl("baseRetryDelayMs",5e3,m),this.Za=Yl("retryDelaySeedMs",1e4,m),this.Ta=Yl("forwardChannelMaxRetries",2,m),this.va=Yl("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new pS(m&&m.concurrentRequestLimit),this.Ba=new AU,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=kS.prototype,t.ka=8,t.I=1,t.connect=function(m,T,P,L){un(0),this.W=m,this.H=T||{},P&&L!==void 0&&(this.H.OSID=P,this.H.OAID=L),this.F=this.X,this.J=BS(this,null,this.W),Uf(this)};function Dg(m){if(MS(m),m.I==3){var T=m.V++,P=wr(m.J);if(We(P,"SID",m.M),We(P,"RID",T),We(P,"TYPE","terminate"),Xl(m,P),T=new Ai(m,m.j,T),T.M=2,T.A=Df(wr(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(T.A.toString(),"")}catch{}!P&&s.Image&&(new Image().src=T.A,P=!0),P||(T.g=qS(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Of(T)}FS(m)}function Vf(m){m.g&&($g(m),m.g.cancel(),m.g=null)}function MS(m){Vf(m),m.v&&(s.clearTimeout(m.v),m.v=null),Ff(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&s.clearTimeout(m.m),m.m=null)}function Uf(m){if(!mS(m.h)&&!m.m){m.m=!0;var T=m.Ea;A||I(),x||(A(),x=!0),b.add(T,m),m.D=0}}function PU(m,T){return gS(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Ul(u(m.Ea,m,T),US(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const V=new Ai(this,this.j,m);let j=this.o;if(this.U&&(j?(j=te(j),ue(j,this.U)):j=this.U),this.u!==null||this.R||(V.J=j,j=null),this.S)e:{for(var T=0,P=0;P<this.i.length;P++){t:{var L=this.i[P];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(T+=L,T>4096){T=P;break e}if(T===4096||P===this.i.length-1){T=P+1;break e}}T=1e3}else T=1e3;T=DS(this,V,T),P=wr(this.J),We(P,"RID",m),We(P,"CVER",22),this.G&&We(P,"X-HTTP-Session-Id",this.G),Xl(this,P),j&&(this.R?T="headers="+Bl(xS(j))+"&"+T:this.u&&Og(P,this.u,j)),Ng(this.h,V),this.Ra&&We(P,"TYPE","init"),this.S?(We(P,"$req",T),We(P,"SID","null"),V.U=!0,xg(V,P,null)):xg(V,P,T),this.I=2}}else this.I==3&&(m?OS(this,m):this.i.length==0||mS(this.h)||OS(this))};function OS(m,T){var P;T?P=T.l:P=m.V++;const L=wr(m.J);We(L,"SID",m.M),We(L,"RID",P),We(L,"AID",m.K),Xl(m,L),m.u&&m.o&&Og(L,m.u,m.o),P=new Ai(m,m.j,P,m.D+1),m.u===null&&(P.J=m.o),T&&(m.i=T.G.concat(m.i)),T=DS(m,P,1e3),P.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Ng(m.h,P),xg(P,L,T)}function Xl(m,T){m.H&&q(m.H,function(P,L){We(T,L,P)}),m.l&&q({},function(P,L){We(T,L,P)})}function DS(m,T,P){P=Math.min(m.i.length,P);const L=m.l?u(m.l.Ka,m.l,m):null;e:{var V=m.i;let _e=-1;for(;;){const Et=["count="+P];_e==-1?P>0?(_e=V[0].g,Et.push("ofs="+_e)):_e=0:Et.push("ofs="+_e);let Fe=!0;for(let Ot=0;Ot<P;Ot++){var j=V[Ot].g;const Er=V[Ot].map;if(j-=_e,j<0)_e=Math.max(0,V[Ot].g-100),Fe=!1;else try{j="req"+j+"_"||"";try{var ee=Er instanceof Map?Er:Object.entries(Er);for(const[Do,Pi]of ee){let Ri=Pi;a(Pi)&&(Ri=Tg(Pi)),Et.push(j+Do+"="+encodeURIComponent(Ri))}}catch(Do){throw Et.push(j+"type="+encodeURIComponent("_badmap")),Do}}catch{L&&L(Er)}}if(Fe){ee=Et.join("&");break e}}ee=void 0}return m=m.i.splice(0,P),T.G=m,ee}function LS(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;A||I(),x||(A(),x=!0),b.add(T,m),m.A=0}}function Lg(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Ul(u(m.Da,m),US(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,$S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Ul(u(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,un(10),Vf(this),$S(this))};function $g(m){m.B!=null&&(s.clearTimeout(m.B),m.B=null)}function $S(m){m.g=new Ai(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=wr(m.na);We(T,"RID","rpc"),We(T,"SID",m.M),We(T,"AID",m.K),We(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&We(T,"TO",m.ia),We(T,"TYPE","xmlhttp"),Xl(m,T),m.u&&m.o&&Og(T,m.u,m.o),m.O&&(m.g.H=m.O);var P=m.g;m=m.ba,P.M=1,P.A=Df(wr(T)),P.u=null,P.R=!0,fS(P,m)}t.Va=function(){this.C!=null&&(this.C=null,Vf(this),Lg(this),un(19))};function Ff(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function VS(m,T){var P=null;if(m.g==T){Ff(m),$g(m),m.g=null;var L=2}else if(Rg(m.h,T))P=T.G,yS(m.h,T),L=1;else return;if(m.I!=0){if(T.o)if(L==1){P=T.u?T.u.length:0,T=Date.now()-T.F;var V=m.D;L=kf(),mt(L,new sS(L,P)),Uf(m)}else LS(m);else if(V=T.m,V==3||V==0&&T.X>0||!(L==1&&PU(m,T)||L==2&&Lg(m)))switch(P&&P.length>0&&(T=m.h,T.i=T.i.concat(P)),V){case 1:Oo(m,5);break;case 4:Oo(m,10);break;case 3:Oo(m,6);break;default:Oo(m,2)}}}function US(m,T){let P=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(P*=2),P*T}function Oo(m,T){if(m.j.info("Error code "+T),T==2){var P=u(m.bb,m),L=m.Ua;const V=!L;L=new Ii(L||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||jl(L,"https"),Df(L),V?SU(L.toString(),P):bU(L.toString(),P)}else un(2);m.I=0,m.l&&m.l.pa(T),FS(m),MS(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function FS(m){if(m.I=0,m.ja=[],m.l){const T=vS(m.h);(T.length!=0||m.i.length!=0)&&(_(m.ja,T),_(m.ja,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.oa()}}function BS(m,T,P){var L=P instanceof Ii?wr(P):new Ii(P);if(L.g!="")T&&(L.g=T+"."+L.g),Hl(L,L.u);else{var V=s.location;L=V.protocol,T=T?T+"."+V.hostname:V.hostname,V=+V.port;const j=new Ii(null);L&&jl(j,L),T&&(j.g=T),V&&Hl(j,V),P&&(j.h=P),L=j}return P=m.G,T=m.wa,P&&T&&We(L,P,T),We(L,"VER",m.ka),Xl(m,L),L}function qS(m,T,P){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new ut(new Mg({ab:P})):new ut(m.ma),T.Fa(m.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jS(){}t=jS.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Bf(){}Bf.prototype.g=function(m,T){return new An(m,T)};function An(m,T){it.call(this),this.g=new kS(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!N(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!N(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Vs(this)}f(An,it),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Dg(this.g)},An.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var P={};P.__data__=m,m=P}else this.v&&(P={},P.__data__=Tg(m),m=P);T.i.push(new mU(T.Ya++,m)),T.I==3&&Uf(T)},An.prototype.N=function(){this.g.l=null,delete this.j,Dg(this.g),delete this.g,An.Z.N.call(this)};function HS(m){Sg.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const P in T){m=P;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}f(HS,Sg);function GS(){bg.call(this),this.status=1}f(GS,bg);function Vs(m){this.g=m}f(Vs,jS),Vs.prototype.ra=function(){mt(this.g,"a")},Vs.prototype.qa=function(m){mt(this.g,new HS(m))},Vs.prototype.pa=function(m){mt(this.g,new GS)},Vs.prototype.oa=function(){mt(this.g,"b")},Bf.prototype.createWebChannel=Bf.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,yL=function(){return new Bf},gL=function(){return kf()},mL=No,b_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mf.NO_ERROR=0,Mf.TIMEOUT=8,Mf.HTTP_ERROR=6,Ud=Mf,aS.COMPLETE="complete",pL=aS,nS.EventType=$l,$l.OPEN="a",$l.CLOSE="b",$l.ERROR="c",$l.MESSAGE="d",it.prototype.listen=it.prototype.J,Au=nS,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,hL=ut}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const cC="@firebase/firestore",fC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new tT("@firebase/firestore");function Hs(){return ys.logLevel}function oe(t,...e){if(ys.logLevel<=Se.DEBUG){const n=e.map(iT);ys.debug(`Firestore (${Cl}): ${t}`,...n)}}function hi(t,...e){if(ys.logLevel<=Se.ERROR){const n=e.map(iT);ys.error(`Firestore (${Cl}): ${t}`,...n)}}function rl(t,...e){if(ys.logLevel<=Se.WARN){const n=e.map(iT);ys.warn(`Firestore (${Cl}): ${t}`,...n)}}function iT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,vL(t,r,n)}function vL(t,e,n){let r=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hi(r),new Error(r)}function De(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||vL(e,i,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ffe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class dfe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hfe{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ri,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ri)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new _L(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class pfe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mfe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pfe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gfe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){De(this.o===void 0,3512);const r=o=>{o.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yfe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yfe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function A_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Gy(i)===Gy(o)?be(i,o):Gy(i)?1:-1}return be(t.length,e.length)}const vfe=55296,_fe=57343;function Gy(t){const e=t.charCodeAt(0);return e>=vfe&&e<=_fe}function il(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&he(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ar.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return be(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),i=Ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):A_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oo.fromString(e.substring(4,e.length-2))}}class Qe extends Ar{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const wfe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Ar{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return wfe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hC}static keyField(){return new Ht([hC])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Qe.fromString(e))}static fromName(e){return new ce(Qe.fromString(e).popFirst(5))}static empty(){return new ce(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Efe(t,e,n,r){if(e===!0&&r===!0)throw new le(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pC(t){if(!ce.isDocumentKey(t))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mC(t){if(ce.isDocumentKey(t))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function EL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function sT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he(12329,{type:typeof t})}function co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sT(t);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){const n={typeString:t};return e&&(n.value=e),n}function wf(t,e){if(!EL(t))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=-62135596800,yC=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yC);return new Ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gC)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yC}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wf(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:_t("string",Ze._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Ze(0,0))}static max(){return new pe(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=-1;function Tfe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new fo(i,ce.empty(),e)}function Sfe(t){return new fo(t.readTime,t.key,Yc)}class fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fo(pe.min(),ce.empty(),Yc)}static max(){return new fo(pe.max(),ce.empty(),Yc)}}function bfe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ife{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==Afe)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new W((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function xfe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=-1;function eg(t){return t==null}function wp(t){return t===0&&1/t==-1/0}function Cfe(t){return typeof t=="number"&&Number.isInteger(t)&&!wp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="";function Pfe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vC(e)),e=Rfe(t.get(n),e);return vC(e)}function Rfe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case TL:n+="";break;default:n+=o}}return n}function vC(t){return t+TL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Td(this.root,e,this.comparator,!1)}getReverseIterator(){return new Td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Td(this.root,e,this.comparator,!0)}}class Td{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=o??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wC(this.data.getIterator())}getIteratorFrom(e){return new wC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class wC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new cr([])}unionWith(e){let n=new Rt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bL("Invalid base64 string: "+o):o}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const Nfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(t){if(De(!!t,39018),typeof t=="string"){let e=0;const n=Nfe.exec(t);if(De(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="server_timestamp",IL="__type__",xL="__previous_value__",CL="__local_write_time__";function lT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IL])==null?void 0:r.stringValue)===AL}function tg(t){const e=t.mapValue.fields[xL];return lT(e)?tg(e):e}function Xc(t){const e=ho(t.mapValue.fields[CL].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kfe{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Ep="(default)";class Qc{constructor(e,n){this.projectId=e,this.database=n||Ep}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database===Ep}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="__type__",Mfe="__max__",Sd={mapValue:{}},RL="__vector__",Tp="value";function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lT(t)?4:Dfe(t)?9007199254740991:Ofe(t)?10:11:he(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ho(i.timestampValue),a=ho(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return po(i.bytesValue).isEqual(po(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ht(i.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ht(i.integerValue)===ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ht(i.doubleValue),a=ht(o.doubleValue);return s===a?wp(s)===wp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return il(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(_C(s)!==_C(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Fr(s[l],a[l])))return!1;return!0}(t,e);default:return he(52216,{left:t})}}function Zc(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function ol(t,e){if(t===e)return 0;const n=mo(t),r=mo(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ht(o.integerValue||o.doubleValue),l=ht(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return EC(t.timestampValue,e.timestampValue);case 4:return EC(Xc(t),Xc(e));case 5:return A_(t.stringValue,e.stringValue);case 6:return function(o,s){const a=po(o),l=po(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=be(a[u],l[u]);if(c!==0)return c}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=be(ht(o.latitude),ht(s.latitude));return a!==0?a:be(ht(o.longitude),ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var h,g,_,y;const a=o.fields||{},l=s.fields||{},u=(h=a[Tp])==null?void 0:h.arrayValue,c=(g=l[Tp])==null?void 0:g.arrayValue,f=be(((_=u==null?void 0:u.values)==null?void 0:_.length)||0,((y=c==null?void 0:c.values)==null?void 0:y.length)||0);return f!==0?f:TC(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Sd.mapValue&&s===Sd.mapValue)return 0;if(o===Sd.mapValue)return 1;if(s===Sd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=A_(l[f],c[f]);if(h!==0)return h;const g=ol(a[l[f]],u[c[f]]);if(g!==0)return g}return be(l.length,c.length)}(t.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function EC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=ho(t),r=ho(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function TC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ol(n[i],r[i]);if(o)return o}return be(n.length,r.length)}function sl(t){return I_(t)}function I_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ho(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=I_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${I_(n.fields[s])}`;return i+"}"}(t.mapValue):he(61005,{value:t})}function Fd(t){switch(mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tg(t);return e?16+Fd(e):16;case 5:return 2*t.stringValue.length;case 6:return po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Fd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Rs(r.fields,(o,s)=>{i+=o.length+Fd(s)}),i}(t.mapValue);default:throw he(13486,{value:t})}}function x_(t){return!!t&&"integerValue"in t}function uT(t){return!!t&&"arrayValue"in t}function SC(t){return!!t&&"nullValue"in t}function bC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bd(t){return!!t&&"mapValue"in t}function Ofe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PL])==null?void 0:r.stringValue)===RL}function ju(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ju(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ju(t.arrayValue.values[n]);return e}return{...t}}function Dfe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Mfe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ju(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ju(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new qn(ju(this.value))}}function NL(t){const e=[];return Rs(t.fields,(n,r)=>{const i=new Ht([n]);if(Bd(r)){const o=NL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new on(e,0,pe.min(),pe.min(),pe.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,pe.min(),pe.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,pe.min(),pe.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.position=e,this.inclusive=n}}function AC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ce.comparator(ce.fromName(s.referenceValue),n.key):r=ol(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function IC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lfe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{}class At extends kL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vfe(e,n,r):n==="array-contains"?new Bfe(e,r):n==="in"?new qfe(e,r):n==="not-in"?new jfe(e,r):n==="array-contains-any"?new Hfe(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ufe(e,r):new Ffe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ol(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends kL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Br(e,n)}matches(e){return ML(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ML(t){return t.op==="and"}function OL(t){return $fe(t)&&ML(t)}function $fe(t){for(const e of t.filters)if(e instanceof Br)return!1;return!0}function C_(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(OL(t))return t.filters.map(e=>C_(e)).join(",");{const e=t.filters.map(n=>C_(n)).join(",");return`${t.op}(${e})`}}function DL(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(t,e):t instanceof Br?function(r,i){return i instanceof Br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&DL(s,i.filters[a]),!0):!1}(t,e):void he(19439)}function LL(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`}(t):t instanceof Br?function(n){return n.op.toString()+" {"+n.getFilters().map(LL).join(" ,")+"}"}(t):"Filter"}class Vfe extends At{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ufe extends At{constructor(e,n){super(e,"in",n),this.keys=$L("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ffe extends At{constructor(e,n){super(e,"not-in",n),this.keys=$L("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $L(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class Bfe extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uT(n)&&Zc(n.arrayValue,this.value)}}class qfe extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zc(this.value.arrayValue,n)}}class jfe extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zc(this.value.arrayValue,n)}}class Hfe extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function xC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Gfe(t,e,n,r,i,o,s)}function cT(t){const e=me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>C_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),eg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sl(r)).join(",")),e.Te=n}return e.Te}function fT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lfe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IC(t.startAt,e.startAt)&&IC(t.endAt,e.endAt)}function P_(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zfe(t,e,n,r,i,o,s,a){return new ng(t,e,n,r,i,o,s,a)}function dT(t){return new ng(t)}function CC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Wfe(t){return t.collectionGroup!==null}function Hu(t){const e=me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Rt(Ht.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new bp(o,r))}),n.has(Ht.keyField().canonicalString())||e.Ie.push(new bp(Ht.keyField(),r))}return e.Ie}function kr(t){const e=me(t);return e.Ee||(e.Ee=Kfe(e,Hu(t))),e.Ee}function Kfe(t,e){if(t.limitType==="F")return xC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new bp(i.field,o)});const n=t.endAt?new Sp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sp(t.startAt.position,t.startAt.inclusive):null;return xC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function R_(t,e,n){return new ng(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rg(t,e){return fT(kr(t),kr(e))&&t.limitType===e.limitType}function VL(t){return`${cT(kr(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LL(i)).join(", ")}]`),eg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>sl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>sl(i)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function ig(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ce.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Hu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=AC(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Hu(r),i)||r.endAt&&!function(s,a,l){const u=AC(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Hu(r),i))}(t,e)}function Jfe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UL(t){return(e,n)=>{let r=!1;for(const i of Hu(t)){const o=Yfe(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Yfe(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ol(l,u):he(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return SL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xfe=new lt(ce.comparator);function pi(){return Xfe}const FL=new lt(ce.comparator);function Iu(...t){let e=FL;for(const n of t)e=e.insert(n.key,n);return e}function BL(t){let e=FL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xo(){return Gu()}function qL(){return Gu()}function Gu(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const Qfe=new lt(ce.comparator),Zfe=new Rt(ce.comparator);function Ae(...t){let e=Zfe;for(const n of t)e=e.add(n);return e}const ede=new Rt(be);function tde(){return ede}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wp(e)?"-0":e}}function jL(t){return{integerValue:""+t}}function nde(t,e){return Cfe(e)?jL(e):hT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this._=void 0}}function rde(t,e,n){return t instanceof Ap?function(i,o){const s={fields:{[IL]:{stringValue:AL},[CL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lT(o)&&(o=tg(o)),o&&(s.fields[xL]=o),{mapValue:s}}(n,e):t instanceof ef?GL(t,e):t instanceof tf?zL(t,e):function(i,o){const s=HL(i,o),a=PC(s)+PC(i.Ae);return x_(s)&&x_(i.Ae)?jL(a):hT(i.serializer,a)}(t,e)}function ide(t,e,n){return t instanceof ef?GL(t,e):t instanceof tf?zL(t,e):n}function HL(t,e){return t instanceof Ip?function(r){return x_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ap extends og{}class ef extends og{constructor(e){super(),this.elements=e}}function GL(t,e){const n=WL(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class tf extends og{constructor(e){super(),this.elements=e}}function zL(t,e){let n=WL(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class Ip extends og{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function PC(t){return ht(t.integerValue||t.doubleValue)}function WL(t){return uT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ode(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ef&&i instanceof ef||r instanceof tf&&i instanceof tf?il(r.elements,i.elements,Fr):r instanceof Ip&&i instanceof Ip?Fr(r.Ae,i.Ae):r instanceof Ap&&i instanceof Ap}(t.transform,e.transform)}class sde{constructor(e,n){this.version=e,this.transformResults=n}}class Mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sg{}function KL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YL(t.key,Mr.none()):new Ef(t.key,t.data,Mr.none());{const n=t.data,r=qn.empty();let i=new Rt(Ht.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ks(t.key,r,new cr(i.toArray()),Mr.none())}}function ade(t,e,n){t instanceof Ef?function(i,o,s){const a=i.value.clone(),l=NC(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ks?function(i,o,s){if(!qd(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=NC(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(JL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function zu(t,e,n,r){return t instanceof Ef?function(o,s,a,l){if(!qd(o.precondition,s))return a;const u=o.value.clone(),c=kC(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ks?function(o,s,a,l){if(!qd(o.precondition,s))return a;const u=kC(o.fieldTransforms,l,s),c=s.data;return c.setAll(JL(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return qd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function lde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=HL(r.transform,i||null);o!=null&&(n===null&&(n=qn.empty()),n.set(r.field,o))}return n||null}function RC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&il(r,i,(o,s)=>ode(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ef extends sg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ks extends sg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NC(t,e,n){const r=new Map;De(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,ide(s,a,n[i]))}return r}function kC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,rde(o,s,e))}return r}class YL extends sg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ude extends sg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cde{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ade(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qL();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=KL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(n,r)=>RC(n,r))&&il(this.baseMutations,e.baseMutations,(n,r)=>RC(n,r))}}class pT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Qfe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new pT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fde{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dde{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,xe;function hde(t){switch(t){case J.OK:return he(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return he(15467,{code:t})}}function XL(t){if(t===void 0)return hi("GRPC error has no .code"),J.UNKNOWN;switch(t){case gt.OK:return J.OK;case gt.CANCELLED:return J.CANCELLED;case gt.UNKNOWN:return J.UNKNOWN;case gt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case gt.INTERNAL:return J.INTERNAL;case gt.UNAVAILABLE:return J.UNAVAILABLE;case gt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case gt.NOT_FOUND:return J.NOT_FOUND;case gt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case gt.ABORTED:return J.ABORTED;case gt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case gt.DATA_LOSS:return J.DATA_LOSS;default:return he(39323,{code:t})}}(xe=gt||(gt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pde(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mde=new oo([4294967295,4294967295],0);function MC(t){const e=pde().encode(t),n=new dL;return n.update(e),new Uint8Array(n.digest())}function OC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oo([n,r],0),new oo([i,o],0)]}class mT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xu(`Invalid padding: ${n}`);if(r<0)throw new xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(oo.fromNumber(r)));return i.compare(mde)===1&&(i=new oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=MC(e),[r,i]=OC(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new mT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=MC(e),[r,i]=OC(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ag(pe.min(),i,new lt(be),pi(),Ae())}}class Tf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tf(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class QL{constructor(e,n){this.targetId=e,this.Ce=n}}class ZL{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DC{constructor(){this.ve=0,this.Fe=LC(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ae(),n=Ae(),r=Ae();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he(38017,{changeType:o})}}),new Tf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=LC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gde{constructor(e){this.Ge=e,this.ze=new Map,this.je=pi(),this.Je=bd(),this.He=bd(),this.Ye=new lt(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(P_(o))if(r===0){const s=new ce(o.path);this.et(n,s,on.newNoDocument(s,pe.min()))}else De(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=po(r).toUint8Array()}catch(l){if(l instanceof bL)return rl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new mT(s,i,o)}catch(l){return rl(l instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&P_(a.target)){const l=new ce(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,on.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=Ae();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new ag(e,n,this.Ye,this.je,r);return this.je=pi(),this.Je=bd(),this.He=bd(),this.Ye=new lt(be),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new DC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Rt(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Rt(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new DC),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bd(){return new lt(ce.comparator)}function LC(){return new lt(ce.comparator)}const yde={asc:"ASCENDING",desc:"DESCENDING"},vde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_de={and:"AND",or:"OR"};class wde{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function N_(t,e){return t.useProto3Json||eg(e)?e:{value:e}}function xp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ede(t,e){return xp(t,e.toTimestamp())}function Or(t){return De(!!t,49232),pe.fromTimestamp(function(n){const r=ho(n);return new Ze(r.seconds,r.nanos)}(t))}function gT(t,e){return k_(t,e).canonicalString()}function k_(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t$(t){const e=Qe.fromString(t);return De(s$(e),10190,{key:e.toString()}),e}function M_(t,e){return gT(t.databaseId,e.path)}function zy(t,e){const n=t$(e);if(n.get(1)!==t.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(r$(n))}function n$(t,e){return gT(t.databaseId,e)}function Tde(t){const e=t$(t);return e.length===4?Qe.emptyPath():r$(e)}function O_(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r$(t){return De(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $C(t,e,n){return{name:M_(t,e),fields:n.value.mapValue.fields}}function Sde(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(De(c===void 0||typeof c=="string",58123),Kt.fromBase64String(c||"")):(De(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?J.UNKNOWN:XL(u.code);return new le(c,u.message||"")}(s);n=new ZL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zy(t,r.document.name),o=Or(r.document.updateTime),s=r.document.createTime?Or(r.document.createTime):pe.min(),a=new qn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new jd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zy(t,r.document),o=r.readTime?Or(r.readTime):pe.min(),s=on.newNoDocument(i,o),a=r.removedTargetIds||[];n=new jd([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zy(t,r.document),o=r.removedTargetIds||[];n=new jd([],o,i,null)}else{if(!("filter"in e))return he(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new dde(i,o),a=r.targetId;n=new QL(a,s)}}return n}function bde(t,e){let n;if(e instanceof Ef)n={update:$C(t,e.key,e.value)};else if(e instanceof YL)n={delete:M_(t,e.key)};else if(e instanceof ks)n={update:$C(t,e.key,e.data),updateMask:Mde(e.fieldMask)};else{if(!(e instanceof ude))return he(16599,{Vt:e.type});n={verify:M_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ap)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ef)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ip)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw he(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Ede(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he(27497)}(t,e.precondition)),n}function Ade(t,e){return t&&t.length>0?(De(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Or(i.updateTime):Or(o);return s.isEqual(pe.min())&&(s=Or(o)),new sde(s,i.transformResults||[])}(n,e))):[]}function Ide(t,e){return{documents:[n$(t,e.path)]}}function xde(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=n$(t,i);const o=function(u){if(u.length!==0)return o$(Br.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:zs(h.field),direction:Rde(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=N_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function Cde(t){let e=Tde(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=i$(f);return h instanceof Br&&OL(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(_){return new bp(Ws(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,eg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,g=f.values||[];return new Sp(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,g=f.values||[];return new Sp(g,h)}(n.endAt)),zfe(e,i,s,o,a,"F",l,u)}function Pde(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ws(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ws(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ws(n.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ws(n.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(t):t.fieldFilter!==void 0?function(n){return At.create(Ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Br.create(n.compositeFilter.filters.map(r=>i$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(t):he(30097,{filter:t})}function Rde(t){return yde[t]}function Nde(t){return vde[t]}function kde(t){return _de[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return Ht.fromServerFormat(t.fieldPath)}function o$(t){return t instanceof At?function(n){if(n.op==="=="){if(bC(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(SC(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bC(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(SC(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:Nde(n.op),value:n.value}}}(t):t instanceof Br?function(n){const r=n.getFilters().map(i=>o$(i));return r.length===1?r[0]:{compositeFilter:{op:kde(n.op),filters:r}}}(t):he(54877,{filter:t})}function Mde(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function s$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,i,o=pe.min(),s=pe.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ode{constructor(e){this.yt=e}}function Dde(t){const e=Cde({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?R_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(){this.Cn=new $de}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(fo.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class $de{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a$=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(a$,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="LruGarbageCollector",Vde=1048576;function FC([t,e],[n,r]){const i=be(t,n);return i===0?be(e,r):i}class Ude{constructor(e){this.Ir=e,this.buffer=new Rt(FC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();FC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Fde{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(UC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?oe(UC,"Ignoring IndexedDB error during garbage collection: ",n):await Pl(n)}await this.Vr(3e5)})}}class Bde{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Zm.ce);const r=new Ude(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(VC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VC):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Hs()<=Se.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function qde(t,e){return new Bde(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jde{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hde{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gde{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zu(r.mutation,i,cr.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=Xo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Iu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=pi();const s=Gu(),a=function(){return Gu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ks)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),zu(c.mutation,u,c.mutation.getFieldMask(),Ze.now())):s.set(u.key,cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new Hde(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Gu();let i=new lt((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||cr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ae()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=qL();c.forEach(h=>{if(!o.has(h)){const g=KL(n.get(h),r.get(h));g!==null&&f.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return W.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Wfe(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):W.resolve(Xo());let a=Yc,l=o;return s.next(u=>W.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?W.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ae())).next(c=>({batchId:a,changes:BL(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Iu();return this.indexManager.getCollectionParents(e,o).next(a=>W.forEach(a,l=>{const u=function(f,h){return new ng(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,on.newInvalidDocument(c)))});let a=Iu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&zu(c.mutation,u,cr.empty(),Ze.now()),ig(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zde{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Dde(i.bundledQuery),readTime:Or(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wde{constructor(){this.overlays=new lt(ce.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xo();return W.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=Xo(),o=n.length+1,s=new ce(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Xo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Xo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return W.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new fde(n,r));let o=this.qr.get(n);o===void 0&&(o=Ae(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kde{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.Qr=new Rt(Lt.$r),this.Ur=new Rt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ce(new Qe([])),r=new Lt(n,e),i=new Lt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ce(new Qe([])),r=new Lt(n,e),i=new Lt(n,e+1);let o=Ae();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Lt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ce.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jde{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(Lt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cde(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(s)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?aT:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(be);return n.forEach(i=>{const o=new Lt(i,0),s=new Lt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ce.isDocumentKey(o)||(o=o.child(""));const s=new Lt(new ce(o),0);let a=new Rt(be);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),W.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(n.mutations,i=>{const o=new Lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Lt(n,0),i=this.Zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yde{constructor(e){this.ri=e,this.docs=function(){return new lt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=pi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=pi();const s=n.path,a=new ce(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||bfe(Sfe(c),r)<=0||(i.has(c.key)||ig(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,n,r,i){he(9500)}ii(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Xde(this)}getSize(e){return W.resolve(this.size)}}class Xde extends jde{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qde{constructor(e){this.persistence=e,this.si=new Ns(n=>cT(n),fT),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new yT,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new al(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(o).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,n){this.ui={},this.overlays={},this.ci=new Zm(0),this.li=!1,this.li=!0,this.hi=new Kde,this.referenceDelegate=e(this),this.Pi=new Qde(this),this.indexManager=new Lde,this.remoteDocumentCache=function(i){return new Yde(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Ode(n),this.Ii=new zde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wde,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Jde(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new Zde(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return W.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Zde extends Ife{constructor(e){super(),this.currentSequenceNumber=e}}class vT{constructor(e){this.persistence=e,this.Ri=new yT,this.Vi=null}static mi(e){return new vT(e)}get fi(){if(this.Vi)return this.Vi;throw he(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,r=>{const i=ce.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Cp{constructor(e,n){this.persistence=e,this.pi=new Ns(r=>Pfe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=qde(this,n)}static mi(e,n){return new Cp(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return W.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?W.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fd(e.data.value)),n}br(e,n,r){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return W.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ae(),i=Ae();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _T(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ehe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class the{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Wue()?8:xfe(ln())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new ehe;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Hs()<=Se.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Hs()<=Se.DEBUG&&oe("QueryEngine","Query:",Gs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Hs()<=Se.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):W.resolve())}ys(e,n){if(CC(n))return W.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=R_(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ae(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,R_(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return CC(n)||i.isEqual(pe.min())?W.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?W.resolve(null):(Hs()<=Se.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gs(n)),this.vs(e,s,n,Tfe(i,Yc)).next(a=>a))})}Ds(e,n){let r=new Rt(UL(e));return n.forEach((i,o)=>{ig(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Hs()<=Se.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.ps.getDocumentsMatchingQuery(e,n,fo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="LocalStore",nhe=3e8;class rhe{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new lt(be),this.xs=new Ns(o=>cT(o),fT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gde(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function ihe(t,e,n,r){return new rhe(t,e,n,r)}async function u$(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ae();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function ohe(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let g=W.resolve();return h.forEach(_=>{g=g.next(()=>c.getEntry(l,_)).next(y=>{const w=u.docVersions.get(_);De(w!==null,48541),y.version.compareTo(w)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function c$(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function she(t,e){const n=me(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,f)));let g=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Kt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(f,g),function(y,w,v){return y.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=nhe?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,g,c)&&a.push(n.Pi.updateTargetData(o,g))});let l=pi(),u=Ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(ahe(o,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(pe.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return W.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function ahe(t,e,n){let r=Ae(),i=Ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=pi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):oe(wT,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function lhe(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=aT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uhe(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,W.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Gi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function D_(t,e,n){const r=me(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Rl(s))throw s;oe(wT,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function BC(t,e,n){const r=me(t);let i=pe.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=me(l),h=f.xs.get(c);return h!==void 0?W.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,c)}(r,s,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:pe.min(),n?o:Ae())).next(a=>(che(r,Jfe(e),a),{documents:a,Qs:o})))}function che(t,e,n){let r=t.Os.get(e)||pe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class qC{constructor(){this.activeTargetIds=tde()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fhe{constructor(){this.Mo=new qC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dhe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="ConnectivityMonitor";class HC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(jC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(jC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function L_(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="RestConnection",hhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class phe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ep?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=L_(),a=this.zo(e,n.toUriEncodedString());oe(Wy,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=Il(u);return this.Jo(e,a,l,r,c).then(f=>(oe(Wy,`Received RPC '${e}' ${s}: `,f),f),f=>{throw rl(Wy,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=hhe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mhe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class ghe extends phe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=L_();return new Promise((a,l)=>{const u=new hL;u.setWithCredentials(!0),u.listenOnce(pL.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ud.NO_ERROR:const f=u.getResponseJson();oe(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Ud.TIMEOUT:oe(Qt,`RPC '${e}' ${s} timed out`),l(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const h=u.getStatus();if(oe(Qt,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const y=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(E)>=0?E:J.UNKNOWN}(_.status);l(new le(y,_.message))}else l(new le(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new le(J.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{oe(Qt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);oe(Qt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=L_(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yL(),a=gL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");oe(Qt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);this.I_(f);let h=!1,g=!1;const _=new mhe({Yo:w=>{g?oe(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(oe(Qt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),oe(Qt,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Zo:()=>f.close()}),y=(w,v,E)=>{w.listen(v,S=>{try{E(S)}catch(R){setTimeout(()=>{throw R},0)}})};return y(f,Au.EventType.OPEN,()=>{g||(oe(Qt,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),y(f,Au.EventType.CLOSE,()=>{g||(g=!0,oe(Qt,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(f))}),y(f,Au.EventType.ERROR,w=>{g||(g=!0,rl(Qt,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),_.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))}),y(f,Au.EventType.MESSAGE,w=>{var v;if(!g){const E=w.data[0];De(!!E,16349);const S=E,R=(S==null?void 0:S.error)||((v=S[0])==null?void 0:v.error);if(R){oe(Qt,`RPC '${e}' stream ${i} received error:`,R);const A=R.status;let x=function(C){const M=gt[C];if(M!==void 0)return XL(M)}(A),b=R.message;x===void 0&&(x=J.INTERNAL,b="Unknown error status: "+A+" with message "+R.message),g=!0,_.a_(new le(x,b)),f.close()}else oe(Qt,`RPC '${e}' stream ${i} received:`,E),_.u_(E)}}),y(a,mL.STAT_EVENT,w=>{w.stat===b_.PROXY?oe(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===b_.NOPROXY&&oe(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ky(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){return new wde(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="PersistentStream";class d${constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f$(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new le(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(GC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(oe(GC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yhe extends d${constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Sde(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?Or(s.readTime):pe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=O_(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=P_(l)?{documents:Ide(o,l)}:{query:xde(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=e$(o,s.resumeToken);const u=N_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=xp(o,s.snapshotVersion.toTimestamp());const u=N_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Pde(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=O_(this.serializer),n.removeTarget=e,this.q_(n)}}class vhe extends d${constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ade(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=O_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bde(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _he{}class whe extends _he{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,k_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(J.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,k_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(J.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Ehe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="RemoteStore";class The{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ms(this)&&(oe(vs,"Restarting streams for network reachability change."),await async function(l){const u=me(l);u.Ea.add(4),await Sf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await ug(u)}(this))})}),this.Ra=new Ehe(r,i)}}async function ug(t){if(Ms(t))for(const e of t.da)await e(!0)}async function Sf(t){for(const e of t.da)await e(!1)}function h$(t,e){const n=me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),bT(n)?ST(n):Nl(n).O_()&&TT(n,e))}function ET(t,e){const n=me(t),r=Nl(n);n.Ia.delete(e),r.O_()&&p$(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ms(n)&&n.Ra.set("Unknown"))}function TT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(t).Y_(e)}function p$(t,e){t.Va.Ue(e),Nl(t).Z_(e)}function ST(t){t.Va=new gde({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Nl(t).start(),t.Ra.ua()}function bT(t){return Ms(t)&&!Nl(t).x_()&&t.Ia.size>0}function Ms(t){return me(t).Ea.size===0}function m$(t){t.Va=void 0}async function She(t){t.Ra.set("Online")}async function bhe(t){t.Ia.forEach((e,n)=>{TT(t,e)})}async function Ahe(t,e){m$(t),bT(t)?(t.Ra.ha(e),ST(t)):t.Ra.set("Unknown")}async function Ihe(t,e,n){if(t.Ra.set("Online"),e instanceof ZL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){oe(vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pp(t,r)}else if(e instanceof jd?t.Va.Ze(e):e instanceof QL?t.Va.st(e):t.Va.tt(e),!n.isEqual(pe.min()))try{const r=await c$(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Kt.EMPTY_BYTE_STRING,c.snapshotVersion)),p$(o,l);const f=new Gi(c.target,l,u,c.sequenceNumber);TT(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe(vs,"Failed to raise snapshot:",r),await Pp(t,r)}}async function Pp(t,e,n){if(!Rl(e))throw e;t.Ea.add(1),await Sf(t),t.Ra.set("Offline"),n||(n=()=>c$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe(vs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ug(t)})}function g$(t,e){return e().catch(n=>Pp(t,n,e))}async function cg(t){const e=me(t),n=go(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:aT;for(;xhe(e);)try{const i=await lhe(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Che(e,i)}catch(i){await Pp(e,i)}y$(e)&&v$(e)}function xhe(t){return Ms(t)&&t.Ta.length<10}function Che(t,e){t.Ta.push(e);const n=go(t);n.O_()&&n.X_&&n.ea(e.mutations)}function y$(t){return Ms(t)&&!go(t).x_()&&t.Ta.length>0}function v$(t){go(t).start()}async function Phe(t){go(t).ra()}async function Rhe(t){const e=go(t);for(const n of t.Ta)e.ea(n.mutations)}async function Nhe(t,e,n){const r=t.Ta.shift(),i=pT.from(r,e,n);await g$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cg(t)}async function khe(t,e){e&&go(t).X_&&await async function(r,i){if(function(s){return hde(s)&&s!==J.ABORTED}(i.code)){const o=r.Ta.shift();go(r).B_(),await g$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await cg(r)}}(t,e),y$(t)&&v$(t)}async function zC(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),oe(vs,"RemoteStore received new credentials");const r=Ms(n);n.Ea.add(3),await Sf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ug(n)}async function Mhe(t,e){const n=me(t);e?(n.Ea.delete(2),await ug(n)):e||(n.Ea.add(2),await Sf(n),n.Ra.set("Unknown"))}function Nl(t){return t.ma||(t.ma=function(n,r,i){const o=me(n);return o.sa(),new yhe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:She.bind(null,t),t_:bhe.bind(null,t),r_:Ahe.bind(null,t),H_:Ihe.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),bT(t)?ST(t):t.Ra.set("Unknown")):(await t.ma.stop(),m$(t))})),t.ma}function go(t){return t.fa||(t.fa=function(n,r,i){const o=me(n);return o.sa(),new vhe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Phe.bind(null,t),r_:khe.bind(null,t),ta:Rhe.bind(null,t),na:Nhe.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await cg(t)):(await t.fa.stop(),t.Ta.length>0&&(oe(vs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new AT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IT(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Rl(t))return new le(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{static emptySet(e){return new wa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Iu(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.ga=new lt(ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ll{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ll(e,n,wa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ohe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Dhe{constructor(){this.queries=KC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=me(n),o=i.queries;i.queries=KC(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new le(J.ABORTED,"Firestore shutting down"))}}function KC(){return new Ns(t=>VL(t),rg)}async function _$(t,e){const n=me(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new Ohe,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=IT(s,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&xT(n)}async function w$(t,e){const n=me(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lhe(t,e){const n=me(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&xT(n)}function $he(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function xT(t){t.Ca.forEach(e=>{e.next()})}var $_,JC;(JC=$_||($_={})).Ma="default",JC.Cache="cache";class E${constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.key=e}}class S${constructor(e){this.key=e}}class Vhe{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ae(),this.mutatedKeys=Ae(),this.eu=UL(e),this.tu=new wa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new WC,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),g=ig(this.query,f)?f:null,_=!!h&&this.mutatedKeys.has(h.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;h&&g?h.data.isEqual(g.data)?_!==y&&(r.track({type:3,doc:g}),w=!0):this.su(h,g)||(r.track({type:2,doc:g}),w=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),w=!0):h&&!g&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(g?(s=s.add(g),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(g,_){const y=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Rt:w})}};return y(g)-y(_)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new ll(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new S$(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new T$(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const CT="SyncEngine";class Uhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Fhe{constructor(e){this.key=e,this.hu=!1}}class Bhe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ns(a=>VL(a),rg),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ce.comparator),this.Au=new Map,this.Ru=new yT,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qhe(t,e,n=!0){const r=P$(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await b$(r,e,n,!0),i}async function jhe(t,e){const n=P$(t);await b$(n,e,!0,!1)}async function b$(t,e,n,r){const i=await uhe(t.localStore,kr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Hhe(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&h$(t.remoteStore,i),a}async function Hhe(t,e,n,r,i){t.pu=(f,h,g)=>async function(y,w,v,E){let S=w.view.ru(v);S.Cs&&(S=await BC(y.localStore,w.query,!1).then(({documents:b})=>w.view.ru(b,S)));const R=E&&E.targetChanges.get(w.targetId),A=E&&E.targetMismatches.get(w.targetId)!=null,x=w.view.applyChanges(S,y.isPrimaryClient,R,A);return XC(y,w.targetId,x.au),x.snapshot}(t,f,h,g);const o=await BC(t.localStore,e,!0),s=new Vhe(e,o.Qs),a=s.ru(o.documents),l=Tf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);XC(t,n,u.au);const c=new Uhe(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Ghe(t,e,n){const r=me(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!rg(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await D_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ET(r.remoteStore,i.targetId),V_(r,i.targetId)}).catch(Pl)):(V_(r,i.targetId),await D_(r.localStore,i.targetId,!0))}async function zhe(t,e){const n=me(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ET(n.remoteStore,r.targetId))}async function Whe(t,e,n){const r=epe(t);try{const i=await function(s,a){const l=me(s),u=Ze.now(),c=a.reduce((g,_)=>g.add(_.key),Ae());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=pi(),y=Ae();return l.Ns.getEntries(g,c).next(w=>{_=w,_.forEach((v,E)=>{E.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(w=>{f=w;const v=[];for(const E of a){const S=lde(E,f.get(E.key).overlayedDocument);S!=null&&v.push(new ks(E.key,S,NL(S.value.mapValue),Mr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,v,a)}).next(w=>{h=w;const v=w.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,w.batchId,v)})}).then(()=>({batchId:h.batchId,changes:BL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Vu[s.currentUser.toKey()];u||(u=new lt(be)),u=u.insert(a,l),s.Vu[s.currentUser.toKey()]=u}(r,i.batchId,n),await bf(r,i.changes),await cg(r.remoteStore)}catch(i){const o=IT(i,"Failed to persist write");n.reject(o)}}async function A$(t,e){const n=me(t);try{const r=await she(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?De(s.hu,14607):i.removedDocuments.size>0&&(De(s.hu,42227),s.hu=!1))}),await bf(n,r,e)}catch(r){await Pl(r)}}function YC(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=me(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&xT(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Khe(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new lt(ce.comparator);s=s.insert(o,on.newNoDocument(o,pe.min()));const a=Ae().add(o),l=new ag(pe.min(),new Map,new lt(be),s,a);await A$(r,l),r.du=r.du.remove(o),r.Au.delete(e),PT(r)}else await D_(r.localStore,e,!1).then(()=>V_(r,e,n)).catch(Pl)}async function Jhe(t,e){const n=me(t),r=e.batch.batchId;try{const i=await ohe(n.localStore,e);x$(n,r,null),I$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bf(n,i)}catch(i){await Pl(i)}}async function Yhe(t,e,n){const r=me(t);try{const i=await function(s,a){const l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(De(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);x$(r,e,n),I$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bf(r,i)}catch(i){await Pl(i)}}function I$(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function x$(t,e,n){const r=me(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function V_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||C$(t,r)})}function C$(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ET(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),PT(t))}function XC(t,e,n){for(const r of n)r instanceof T$?(t.Ru.addReference(r.key,e),Xhe(t,r)):r instanceof S$?(oe(CT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||C$(t,r.key)):he(19791,{wu:r})}function Xhe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(oe(CT,"New document in limbo: "+n),t.Eu.add(r),PT(t))}function PT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ce(Qe.fromString(e)),r=t.fu.next();t.Au.set(r,new Fhe(n)),t.du=t.du.insert(n,r),h$(t.remoteStore,new Gi(kr(dT(n.path)),r,"TargetPurposeLimboResolution",Zm.ce))}}async function bf(t,e,n){const r=me(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=_T.As(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=me(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(u,h=>W.forEach(h.Es,g=>c.persistence.referenceDelegate.addReference(f,h.targetId,g)).next(()=>W.forEach(h.ds,g=>c.persistence.referenceDelegate.removeReference(f,h.targetId,g)))))}catch(f){if(!Rl(f))throw f;oe(wT,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const g=c.Ms.get(h),_=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(_);c.Ms=c.Ms.insert(h,y)}}}(r.localStore,o))}async function Qhe(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){oe(CT,"User change. New user:",e.toKey());const r=await u$(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new le(J.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bf(n,r.Ls)}}function Zhe(t,e){const n=me(t),r=n.Au.get(e);if(r&&r.hu)return Ae().add(r.key);{let i=Ae();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function P$(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=A$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zhe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Khe.bind(null,e),e.Pu.H_=Lhe.bind(null,e.eventManager),e.Pu.yu=$he.bind(null,e.eventManager),e}function epe(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yhe.bind(null,e),e}class Rp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ihe(this.persistence,new the,e.initialUser,this.serializer)}Cu(e){return new l$(vT.mi,this.serializer)}Du(e){return new fhe}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rp.provider={build:()=>new Rp};class tpe extends Rp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){De(this.persistence.referenceDelegate instanceof Cp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Fde(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new l$(r=>Cp.mi(r,n),this.serializer)}}class U_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qhe.bind(null,this.syncEngine),await Mhe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Dhe}()}createDatastore(e){const n=lg(e.databaseInfo.databaseId),r=function(o){return new ghe(o)}(e.databaseInfo);return function(o,s,a,l){return new whe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new The(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>YC(this.syncEngine,n,0),function(){return HC.v()?new HC:new dhe}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new Bhe(i,o,s,a,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=me(i);oe(vs,"RemoteStore shutting down."),o.Ea.add(5),await Sf(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}U_.provider={build:()=>new U_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="FirestoreClient";class npe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=oT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{oe(yo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe(yo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jy(t,e){t.asyncQueue.verifyOperationInProgress(),oe(yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await u$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function QC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rpe(t);oe(yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zC(e.remoteStore,i)),t._onlineComponents=e}async function rpe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe(yo,"Using user provided OfflineComponentProvider");try{await Jy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;rl("Error using user provided cache. Falling back to memory cache: "+n),await Jy(t,new Rp)}}else oe(yo,"Using default OfflineComponentProvider"),await Jy(t,new tpe(void 0));return t._offlineComponents}async function N$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe(yo,"Using user provided OnlineComponentProvider"),await QC(t,t._uninitializedComponentsProvider._online)):(oe(yo,"Using default OnlineComponentProvider"),await QC(t,new U_))),t._onlineComponents}function ipe(t){return N$(t).then(e=>e.syncEngine)}async function k$(t){const e=await N$(t),n=e.eventManager;return n.onListen=qhe.bind(null,e.syncEngine),n.onUnlisten=Ghe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zhe.bind(null,e.syncEngine),n}function ope(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new R$({next:h=>{c.Nu(),s.enqueueAndForget(()=>w$(o,f));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new E$(dT(a.path),c,{includeMetadataChanges:!0,qa:!0});return _$(o,f)}(await k$(t),t.asyncQueue,e,n,r)),r.promise}function spe(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new R$({next:h=>{c.Nu(),s.enqueueAndForget(()=>w$(o,f)),h.fromCache&&l.source==="server"?u.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new E$(a,c,{includeMetadataChanges:!0,qa:!0});return _$(o,f)}(await k$(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$="firestore.googleapis.com",eP=!0;class tP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O$,this.ssl=eP}else this.host=e.host,this.ssl=e.ssl??eP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=a$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vde)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Efe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ffe;switch(r.type){case"firstParty":return new mfe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ZC.get(n);r&&(oe("ComponentProvider","Removing Datastore"),ZC.delete(n),r.terminate())}(this),Promise.resolve()}}function ape(t,e,n,r={}){var u;t=co(t,fg);const i=Il(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(iL(`https://${a}`),oL("Firestore",!0)),o.host!==O$&&o.host!==a&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!ms(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=tn.MOCK_USER;else{c=Vue(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new tn(h)}t._authCredentials=new dfe(new _L(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dg(this.firestore,e,this._query)}}class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wf(n,Ct._jsonSchema))return new Ct(e,r||null,new ce(Qe.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:_t("string",Ct._jsonSchemaVersion),referencePath:_t("string")};class so extends dg{constructor(e,n,r){super(e,n,dT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ce(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function F_(t,e,...n){if(t=Tn(t),wL("collection","path",e),t instanceof fg){const r=Qe.fromString(e,...n);return mC(r),new so(t,null,r)}{if(!(t instanceof Ct||t instanceof so))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return mC(r),new so(t.firestore,null,r)}}function kl(t,e,...n){if(t=Tn(t),arguments.length===1&&(e=oT.newId()),wL("doc","path",e),t instanceof fg){const r=Qe.fromString(e,...n);return pC(r),new Ct(t,null,new ce(r))}{if(!(t instanceof Ct||t instanceof so))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return pC(r),new Ct(t.firestore,t instanceof so?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="AsyncQueue";class rP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f$(this,"async_queue_retry"),this._c=()=>{const r=Ky();r&&oe(nP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ri;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;oe(nP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",iP(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=AT.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&he(47125,{Pc:iP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Af extends fg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rP(e),this._firestoreClient=void 0,await e}}}function lpe(t,e){const n=typeof t=="object"?t:uL(),r=typeof t=="string"?t:Ep,i=rT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Lue("firestore");o&&ape(i,...o)}return i}function RT(t){if(t._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||upe(t),t._firestoreClient}function upe(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,c){return new kfe(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,M$(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new npe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(Kt.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wf(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:_t("string",jn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(wf(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:_t("string",Dr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wf(e,Lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Lr(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lr._jsonSchemaVersion="firestore/vectorValue/1.0",Lr._jsonSchema={type:_t("string",Lr._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cpe=/^__.*__$/;class fpe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ef(e,this.data,n,this.fieldTransforms)}}function L$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{Ac:t})}}class kT{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Np(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(L$(this.Ac)&&cpe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dpe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lg(e)}Cc(e,n,r,i=!1){return new kT({Ac:e,methodName:n,Dc:r,path:Ht.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $$(t){const e=t._freezeSettings(),n=lg(t._databaseId);return new dpe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V$(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);q$("Data must be an object, but it was:",s,r);const a=F$(r,s);let l,u;if(o.merge)l=new cr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=hpe(e,f,n);if(!s.contains(h))throw new le(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);mpe(c,h)||c.push(h)}l=new cr(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new fpe(new qn(a),l,u)}function U$(t,e){if(B$(t=Tn(t)))return q$("Unsupported field value:",e,t),F$(t,e);if(t instanceof D$)return function(r,i){if(!L$(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=U$(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nde(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ze.fromDate(r);return{timestampValue:xp(i.serializer,o)}}if(r instanceof Ze){const o=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xp(i.serializer,o)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:e$(i.serializer,r._byteString)};if(r instanceof Ct){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lr)return function(s,a){return{mapValue:{fields:{[PL]:{stringValue:RL},[Tp]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return hT(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${sT(r)}`)}(t,e)}function F$(t,e){const n={};return SL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(t,(r,i)=>{const o=U$(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function B$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Dr||t instanceof jn||t instanceof Ct||t instanceof D$||t instanceof Lr)}function q$(t,e,n){if(!B$(n)||!EL(n)){const r=sT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function hpe(t,e,n){if((e=Tn(e))instanceof NT)return e._internalPath;if(typeof e=="string")return j$(t,e);throw Np("Field path arguments must be of type string or ",t,!1,void 0,n)}const ppe=new RegExp("[~\\*/\\[\\]]");function j$(t,e,n){if(e.search(ppe)>=0)throw Np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new NT(...e.split("."))._internalPath}catch{throw Np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Np(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new le(J.INVALID_ARGUMENT,a+t+l)}function mpe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(G$("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gpe extends H${data(){return super.data()}}function G$(t,e){return typeof e=="string"?j$(t,e):e instanceof NT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ype(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vpe{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Rs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Tp].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>ht(s.doubleValue));return new Lr(n)}convertGeoPoint(e){return new Dr(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const n=ho(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);De(s$(r),9688,{name:e});const i=new Qc(r.get(1),r.get(3)),o=new ce(r.popFirst(5));return i.isEqual(n)||hi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class os extends H${constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(G$("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=os._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}os._jsonSchemaVersion="firestore/documentSnapshot/1.0",os._jsonSchema={type:_t("string",os._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class Hd extends os{data(e={}){return super.data(e)}}class Ea{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hd(this._firestore,this._userDataWriter,r.key,r,new Cu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Hd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Hd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:_pe(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _pe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){t=co(t,Ct);const e=co(t.firestore,Af);return ope(RT(e),t._key).then(n=>Tpe(e,t,n))}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:_t("string",Ea._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class W$ extends vpe{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function wpe(t){t=co(t,dg);const e=co(t.firestore,Af),n=RT(e),r=new W$(e);return ype(t._query),spe(n,t._query).then(i=>new Ea(e,r,t,i))}function B_(t,e,n){t=co(t,Ct);const r=co(t.firestore,Af),i=z$(t.converter,e);return K$(r,[V$($$(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mr.none())])}function Epe(t,e){const n=co(t.firestore,Af),r=kl(t),i=z$(t.converter,e);return K$(n,[V$($$(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function K$(t,e){return function(r,i){const o=new ri;return r.asyncQueue.enqueueAndForget(async()=>Whe(await ipe(r),i,o)),o.promise}(RT(t),e)}function Tpe(t,e,n){const r=n.docs.get(e._key),i=new W$(t);return new os(t,i,e._key,r,new Cu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Cl=i})(xl),nl(new gs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Af(new hfe(r.getProvider("auth-internal")),new gfe(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),io(cC,fC,e),io(cC,fC,"esm2020")})();var Spe="firebase",bpe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(Spe,bpe,"app");function J$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ape=J$,Y$=new vf("auth","Firebase",J$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=new tT("@firebase/auth");function Ipe(t,...e){kp.logLevel<=Se.WARN&&kp.warn(`Auth (${xl}): ${t}`,...e)}function Gd(t,...e){kp.logLevel<=Se.ERROR&&kp.error(`Auth (${xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw DT(t,...e)}function gr(t,...e){return DT(t,...e)}function OT(t,e,n){const r={...Ape(),[e]:n};return new vf("auth","Firebase",r).create(e,{appName:t.name})}function ii(t){return OT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xpe(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),OT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function DT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y$.create(t,...e)}function de(t,e,...n){if(!t)throw DT(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gd(e),new Error(e)}function mi(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Cpe(){return oP()==="http:"||oP()==="https:"}function oP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ppe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cpe()||Hue()||"connection"in navigator)?navigator.onLine:!0}function Rpe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=Bue()||Gue()}get(){return Ppe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Npe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kpe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Mpe=new If(3e4,6e4);function Io(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function xo(t,e,n,r,i={}){return Q$(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=_f({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return jue()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Il(t.emulatorConfig.host)&&(u.credentials="include"),X$.fetch()(await Z$(t,t.config.apiHost,n,a),u)})}async function Q$(t,e,n){t._canInitEmulator=!1;const r={...Npe,...e};try{const i=new Dpe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Id(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Id(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Id(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw OT(t,c,u);Qn(t,c)}}catch(i){if(i instanceof Ei)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function xf(t,e,n,r,i={}){const o=await xo(t,e,n,r,i);return"mfaPendingCredential"in o&&Qn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Z$(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?LT(t.config,i):`${t.config.apiScheme}://${i}`;return kpe.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Ope(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dpe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),Mpe.get())})}}function Id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}function sP(t){return t!==void 0&&t.enterprise!==void 0}class Lpe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ope(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $pe(t,e){return xo(t,"GET","/v2/recaptchaConfig",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vpe(t,e){return xo(t,"POST","/v1/accounts:delete",e)}async function Mp(t,e){return xo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Upe(t,e=!1){const n=Tn(t),r=await n.getIdToken(e),i=$T(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Wu(Yy(i.auth_time)),issuedAtTime:Wu(Yy(i.iat)),expirationTime:Wu(Yy(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Yy(t){return Number(t)*1e3}function $T(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gd("JWT malformed, contained fewer than 3 sections"),null;try{const i=eL(n);return i?JSON.parse(i):(Gd("Failed to decode base64 JWT payload"),null)}catch(i){return Gd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aP(t){const e=$T(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ei&&Fpe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Fpe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bpe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t){var f;const e=t.auth,n=await t.getIdToken(),r=await nf(t,Mp(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?eV(i.providerUserInfo):[],s=jpe(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new j_(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function qpe(t){const e=Tn(t);await Op(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jpe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eV(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hpe(t,e){const n=await Q$(t,{},async()=>{const r=_f({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await Z$(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Il(t.emulatorConfig.host)&&(l.credentials="include"),X$.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Gpe(t,e){return xo(t,"POST","/v2/accounts:revokeToken",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=aP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Hpe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ta;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Bpe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new j_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await nf(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Upe(this,e)}reload(){return qpe(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Op(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await nf(this,Vpe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:g,providerData:_,stsTokenManager:y}=n;de(f&&y,e,"internal-error");const w=Ta.fromJSON(this.name,y);de(typeof f=="string",e,"internal-error"),ki(r,e.name),ki(i,e.name),de(typeof h=="boolean",e,"internal-error"),de(typeof g=="boolean",e,"internal-error"),ki(o,e.name),ki(s,e.name),ki(a,e.name),ki(l,e.name),ki(u,e.name),ki(c,e.name);const v=new fr({uid:f,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:g,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:w,createdAt:u,lastLoginAt:c});return _&&Array.isArray(_)&&(v.providerData=_.map(E=>({...E}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ta;i.updateFromServerResponse(n);const o=new fr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Op(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?eV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ta;a.updateFromIdToken(r);const l=new fr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new j_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new Map;function Zr(t){mi(t instanceof Function,"Expected a class definition");let e=lP.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tV.type="NONE";const uP=tV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t,e,n){return`firebase:${t}:${e}:${n}`}class Sa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=zd(this.userKey,i.apiKey,o),this.fullPersistenceKey=zd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mp(this.auth,{idToken:e}).catch(()=>{});return n?fr._fromGetAccountInfoResponse(this.auth,n,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sa(Zr(uP),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Zr(uP);const s=zd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let f;if(typeof c=="string"){const h=await Mp(e,{idToken:c}).catch(()=>{});if(!h)break;f=await fr._fromGetAccountInfoResponse(e,h,c)}else f=fr._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Sa(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Sa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aV(e))return"Blackberry";if(lV(e))return"Webos";if(rV(e))return"Safari";if((e.includes("chrome/")||iV(e))&&!e.includes("edge/"))return"Chrome";if(sV(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nV(t=ln()){return/firefox\//i.test(t)}function rV(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iV(t=ln()){return/crios\//i.test(t)}function oV(t=ln()){return/iemobile/i.test(t)}function sV(t=ln()){return/android/i.test(t)}function aV(t=ln()){return/blackberry/i.test(t)}function lV(t=ln()){return/webos/i.test(t)}function VT(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zpe(t=ln()){var e;return VT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Wpe(){return zue()&&document.documentMode===10}function uV(t=ln()){return VT(t)||sV(t)||lV(t)||aV(t)||/windows phone/i.test(t)||oV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e=[]){let n;switch(t){case"Browser":n=cP(ln());break;case"Worker":n=`${cP(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kpe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jpe(t,e={}){return xo(t,"GET","/v2/passwordPolicy",Io(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ype=6;class Xpe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ype,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qpe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fP(this),this.idTokenSubscription=new fP(this),this.beforeStateQueue=new Kpe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Sa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mp(this,{idToken:e}),r=await fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Rn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Op(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Rpe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(ii(this));const n=e?Tn(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Jpe(this),n=new Xpe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Gpe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Sa.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Ipe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Co(t){return Tn(t)}class fP{constructor(e){this.auth=e,this.observer=null,this.addObserver=ece(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zpe(t){hg=t}function fV(t){return hg.loadJS(t)}function eme(){return hg.recaptchaEnterpriseScript}function tme(){return hg.gapiScript}function nme(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rme{constructor(){this.enterprise=new ime}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ime{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ome="recaptcha-enterprise",dV="NO_RECAPTCHA";class sme{constructor(e){this.type=ome,this.auth=Co(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{$pe(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Lpe(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;sP(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(dV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rme().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&sP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=eme();l.length!==0&&(l+=a),fV(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function dP(t,e,n,r=!1,i=!1){const o=new sme(t);let s;if(i)s=dV;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function H_(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await dP(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await dP(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ame(t,e){const n=rT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ms(o,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function lme(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ume(t,e,n){const r=Co(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=hV(e),{host:s,port:a}=cme(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(ms(u,r.config.emulator)&&ms(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Il(s)?(iL(`${o}//${s}${l}`),oL("Auth",!0)):fme()}function hV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cme(t){const e=hV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:hP(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:hP(s)}}}function hP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fme(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function dme(t,e){return xo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hme(t,e){return xf(t,"POST","/v1/accounts:signInWithPassword",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pme(t,e){return xf(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}async function mme(t,e){return xf(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends UT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H_(e,n,"signInWithPassword",hme);case"emailLink":return pme(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H_(e,r,"signUpPassword",dme);case"emailLink":return mme(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t,e){return xf(t,"POST","/v1/accounts:signInWithIdp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gme="http://localhost";class _s extends UT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new _s(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ba(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ba(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ba(e,n)}buildRequest(){const e={requestUri:gme,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_f(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yme(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vme(t){const e=Su(bu(t)).link,n=e?Su(bu(e)).deep_link_id:null,r=Su(bu(t)).deep_link_id;return(r?Su(bu(r)).link:null)||r||n||e||t}class FT{constructor(e){const n=Su(bu(e)),r=n.apiKey??null,i=n.oobCode??null,o=yme(n.mode??null);de(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=vme(e);try{return new FT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.providerId=Ml.PROVIDER_ID}static credential(e,n){return rf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=FT.parseLink(n);return de(r,"argument-error"),rf._fromEmailAndCode(e,r.code,r.tenantId)}}Ml.PROVIDER_ID="password";Ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Cf{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Cf{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Cf{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fi.credential(n,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _me(t,e){return xf(t,"POST","/v1/accounts:signUp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await fr._fromIdTokenResponse(e,r,i),s=pP(r);return new ws({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pP(r);return new ws({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends Ei{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dp(e,n,r,i)}}function pV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dp._fromErrorAndOperation(t,o,e,r):o})}async function wme(t,e,n=!1){const r=await nf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ws._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eme(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(ii(r));const i="reauthenticate";try{const o=await nf(t,pV(r,i,e,t),n);de(o.idToken,r,"internal-error");const s=$T(o.idToken);de(s,r,"internal-error");const{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),ws._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e,n=!1){if(Rn(t.app))return Promise.reject(ii(t));const r="signIn",i=await pV(t,r,e),o=await ws._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Tme(t,e){return mV(Co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t){const e=Co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Sme(t,e,n){if(Rn(t.app))return Promise.reject(ii(t));const r=Co(t),s=await H_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_me).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gV(t),l}),a=await ws._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function bme(t,e,n){return Rn(t.app)?Promise.reject(ii(t)):Tme(Tn(t),Ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gV(t),r})}function Ame(t,e,n,r){return Tn(t).onIdTokenChanged(e,n,r)}function Ime(t,e,n){return Tn(t).beforeAuthStateChanged(e,n)}function xme(t,e,n,r){return Tn(t).onAuthStateChanged(e,n,r)}function Cme(t){return Tn(t).signOut()}const Lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lp,"1"),this.storage.removeItem(Lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pme=1e3,Rme=10;class vV extends yV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Wpe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Rme):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Pme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vV.type="LOCAL";const Nme=vV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V extends yV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_V.type="SESSION";const wV=_V;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kme(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await kme(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mme{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=qT("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function Ome(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function Dme(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lme(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $me(){return EV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="firebaseLocalStorageDb",Vme=1,$p="firebaseLocalStorage",SV="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mg(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function Ume(){const t=indexedDB.deleteDatabase(TV);return new Pf(t).toPromise()}function G_(){const t=indexedDB.open(TV,Vme);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($p,{keyPath:SV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($p)?e(r):(r.close(),await Ume(),e(await G_()))})})}async function mP(t,e,n){const r=mg(t,!0).put({[SV]:e,value:n});return new Pf(r).toPromise()}async function Fme(t,e){const n=mg(t,!1).get(e),r=await new Pf(n).toPromise();return r===void 0?null:r.value}function gP(t,e){const n=mg(t,!0).delete(e);return new Pf(n).toPromise()}const Bme=800,qme=3;class bV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qme)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pg._getInstance($me()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Dme(),!this.activeServiceWorker)return;this.sender=new Mme(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lme()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G_();return await mP(e,Lp,"1"),await gP(e,Lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Fme(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=mg(i,!1).getAll();return new Pf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bV.type="LOCAL";const jme=bV;new If(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t,e){return e?Zr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends UT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hme(t){return mV(t.auth,new jT(t),t.bypassAuthState)}function Gme(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),Eme(n,new jT(t),t.bypassAuthState)}async function zme(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),wme(n,new jT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hme;case"linkViaPopup":case"linkViaRedirect":return zme;case"reauthViaPopup":case"reauthViaRedirect":return Gme;default:Qn(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wme=new If(2e3,1e4);async function Kme(t,e,n){if(Rn(t.app))return Promise.reject(gr(t,"operation-not-supported-in-this-environment"));const r=Co(t);xpe(t,e,BT);const i=AV(r,n);return new Qo(r,"signInViaPopup",e,i).executeNotNull()}class Qo extends IV{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=qT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Wme.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jme="pendingRedirect",Wd=new Map;class Yme extends IV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wd.get(this.auth._key());if(!e){try{const r=await Xme(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xme(t,e){const n=ege(e),r=Zme(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Qme(t,e){Wd.set(t._key(),e)}function Zme(t){return Zr(t._redirectPersistence)}function ege(t){return zd(Jme,t.config.apiKey,t.name)}async function tge(t,e,n=!1){if(Rn(t.app))return Promise.reject(ii(t));const r=Co(t),i=AV(r,e),s=await new Yme(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nge=10*60*1e3;class rge{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ige(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xV(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nge&&this.cachedEventUids.clear(),this.cachedEventUids.has(yP(e))}saveEventToCache(e){this.cachedEventUids.add(yP(e)),this.lastProcessedEventTime=Date.now()}}function yP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ige(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oge(t,e={}){return xo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sge=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,age=/^https?/;async function lge(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oge(t);for(const n of e)try{if(uge(n))return}catch{}Qn(t,"unauthorized-domain")}function uge(t){const e=q_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!age.test(n))return!1;if(sge.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cge=new If(3e4,6e4);function vP(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fge(t){return new Promise((e,n)=>{var i,o,s;function r(){vP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vP(),n(gr(t,"network-request-failed"))},timeout:cge.get()})}if((o=(i=$r().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=$r().gapi)!=null&&s.load)r();else{const a=nme("iframefcb");return $r()[a]=()=>{gapi.load?r():n(gr(t,"network-request-failed"))},fV(`${tme()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function dge(t){return Kd=Kd||fge(t),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hge=new If(5e3,15e3),pge="__/auth/iframe",mge="emulator/auth/iframe",gge={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yge=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vge(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?LT(e,mge):`https://${t.config.authDomain}/${pge}`,r={apiKey:e.apiKey,appName:t.name,v:xl},i=yge.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_f(r).slice(1)}`}async function _ge(t){const e=await dge(t),n=$r().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:vge(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gge,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=gr(t,"network-request-failed"),a=$r().setTimeout(()=>{o(s)},hge.get());function l(){$r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ege=500,Tge=600,Sge="_blank",bge="http://localhost";class _P{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Age(t,e,n,r=Ege,i=Tge){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...wge,width:r.toString(),height:i.toString(),top:o,left:s},u=ln().toLowerCase();n&&(a=iV(u)?Sge:n),nV(u)&&(e=e||bge,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[g,_])=>`${h}${g}=${_},`,"");if(zpe(u)&&a!=="_self")return Ige(e||"",a),new _P(null);const f=window.open(e||"",a,c);de(f,t,"popup-blocked");try{f.focus()}catch{}return new _P(f)}function Ige(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xge="__/auth/handler",Cge="emulator/auth/handler",Pge=encodeURIComponent("fac");async function wP(t,e,n,r,i,o){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xl,eventId:i};if(e instanceof BT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Zue(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Cf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Pge}=${encodeURIComponent(l)}`:"";return`${Rge(t)}?${_f(a).slice(1)}${u}`}function Rge({config:t}){return t.emulator?LT(t,Cge):`https://${t.authDomain}/${xge}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="webStorageSupport";class Nge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wV,this._completeRedirectFn=tge,this._overrideRedirectResult=Qme}async _openPopup(e,n,r,i){var s;mi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await wP(e,n,r,q_(),i);return Age(e,o,qT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await wP(e,n,r,q_(),i);return Ome(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(mi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _ge(e),r=new rge(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xy,{type:Xy},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[Xy];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lge(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uV()||rV()||VT()}}const kge=Nge;var EP="@firebase/auth",TP="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dge(t){nl(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cV(t)},u=new Qpe(r,i,o,l);return lme(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nl(new gs("auth-internal",e=>{const n=Co(e.getProvider("auth").getImmediate());return(r=>new Mge(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(EP,TP,Oge(t)),io(EP,TP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lge=5*60,$ge=rL("authIdTokenMaxAge")||Lge;let SP=null;const Vge=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$ge)return;const i=n==null?void 0:n.token;SP!==i&&(SP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Uge(t=uL()){const e=rT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ame(t,{popupRedirectResolver:kge,persistence:[jme,Nme,wV]}),r=rL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Vge(o.toString());Ime(n,s,()=>s(n.currentUser)),Ame(n,a=>s(a))}}const i=tL("auth");return i&&ume(n,`http://${i}`),n}function Fge(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Zpe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=gr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Fge().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dge("Browser");const Bge={apiKey:"AIzaSyCRgEDVu_nwd7k9Qv2uOkz9Gj-5inf0Txw",authDomain:"westock-app-89672.firebaseapp.com",projectId:"westock-app-89672",storageBucket:"westock-app-89672.firebasestorage.app",messagingSenderId:"206494601184",appId:"1:206494601184:web:a26a8b899f6307de00a585"},CV=lL(Bge),gu=Uge(CV),qge=new Wr,Es=lpe(CV),Rf="we_stock_data_v1",gg="we_stock_pin";let vo=null;const jge=async t=>{vo=t,t&&await Hge()},bP=()=>({items:[],bundles:[]}),Hge=async()=>{if(vo)try{const t=kl(Es,"users",vo.uid),e=await MT(t);if(e.exists()){const n=e.data();console.log(""),localStorage.setItem(Rf,JSON.stringify(n)),window.location.reload()}else{const n=bn();(n.items.length>0||n.bundles.length>0)&&(console.log(""),await HT())}}catch(t){console.error("Sync Error:",t)}},HT=async()=>{if(!vo)return;const t=bn();try{await B_(kl(Es,"users",vo.uid),t),console.log("")}catch(e){throw console.error("Upload Error:",e),e}},Gge=async t=>{if(!vo)throw new Error("");if(t==="up")await HT();else{const e=kl(Es,"users",vo.uid),n=await MT(e);if(n.exists())localStorage.setItem(Rf,JSON.stringify(n.data())),window.location.reload();else throw new Error(" ()")}},bn=()=>{try{const t=localStorage.getItem(Rf);return t?JSON.parse(t):bP()}catch{return bP()}},Po=t=>{try{return localStorage.setItem(Rf,JSON.stringify(t)),vo&&HT(),!0}catch(e){return(e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&alert(" "),!1}},zge=t=>{const e=bn();return e.items.unshift(t),Po(e)},Wge=t=>{const e=bn(),n=e.items.findIndex(r=>r.id===t.id);return n!==-1&&(e.items[n]=t),Po(e)},AP=t=>bn().items.find(e=>e.id===t),Kge=t=>{const e=bn();return e.items=e.items.filter(n=>n.id!==t),e.bundles=e.bundles.map(n=>({...n,itemIds:n.itemIds.filter(r=>r!==t)})),Po(e),e},Jge=t=>{const e=bn();return e.bundles.unshift(t),Po(e),e},Yge=t=>{const e=bn(),n=e.bundles.findIndex(r=>r.id===t.id);return n!==-1&&(e.bundles[n]=t),Po(e)},IP=t=>bn().bundles.find(e=>e.id===t),Xge=t=>{const e=bn();return e.bundles=e.bundles.filter(n=>n.id!==t),Po(e),e},Qge=t=>localStorage.setItem(gg,t),Zge=t=>localStorage.getItem(gg)===t,PV=()=>!!localStorage.getItem(gg),eye=()=>localStorage.removeItem(gg),tye=()=>{try{return((localStorage.getItem(Rf)||"").length*2/1024/1024).toFixed(2)+" MB"}catch{return""}},nye=()=>{const t=new Blob([JSON.stringify(bn(),null,2)],{type:"application/json"}),e=document.createElement("a");e.href=URL.createObjectURL(t),e.download="westock_backup.json",e.click()},rye=t=>{try{return Po(JSON.parse(t)),!0}catch{return!1}},iye=async t=>{const e=bn(),n=e.bundles.find(i=>i.id===t);if(!n)return"";const r=e.items.filter(i=>n.itemIds.includes(i.id));try{const i=await Epe(F_(Es,"shared_bundles"),{type:"westock_share_v2",bundle:n,itemCount:r.length,createdAt:new Date().toISOString()}),o=r.map(async s=>{const a=kl(F_(Es,"shared_bundles",i.id,"items"));if(new TextEncoder().encode(JSON.stringify(s)).length>1e6){const{imageUrl:u,...c}=s,f={...c,note:(c.note||"")+" []"};return B_(a,f)}return B_(a,s)});return await Promise.all(o),`WS-${i.id}`}catch(i){return console.error("Share upload failed:",i),""}},oye=async t=>{if(!t.startsWith("WS-"))return!1;const e=t.replace("WS-","");try{const n=kl(Es,"shared_bundles",e),r=await MT(n);if(!r.exists())return!1;const i=r.data();let o=[];i.type==="westock_share_v2"?(await wpe(F_(Es,"shared_bundles",e,"items"))).forEach(l=>{o.push(l.data())}):o=i.items||[];const s=bn();return o.forEach(a=>{s.items.some(l=>l.id===a.id)||s.items.unshift(a)}),i.bundle&&!s.bundles.some(a=>a.id===i.bundle.id)&&s.bundles.unshift(i.bundle),Po(s),!0}catch(n){return console.error(n),!1}},sye=({data:t,refreshData:e})=>{const n=hl(),[r,i]=$.useState(""),o=t.items.filter(u=>u.name.toLowerCase().includes(r.toLowerCase())||u.category.toLowerCase().includes(r.toLowerCase())),s=(u,c)=>{u.stopPropagation(),window.confirm("")&&(Kge(c),e())},a=u=>{n(`/add-item?id=${u}`)},l=u=>Object.values(u.stock).reduce((c,f)=>c+f,0);return O.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[O.jsxs("div",{className:"bg-white px-4 pt-4 pb-2 sticky top-0 z-10 shadow-sm",children:[O.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:""}),O.jsxs("div",{className:"relative",children:[O.jsx(xM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),O.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-gray-100 text-gray-800 rounded-lg pl-10 pr-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all",value:r,onChange:u=>i(u.target.value)})]})]}),O.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:o.length===0?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[O.jsx(fA,{size:48,className:"mb-4 opacity-20"}),O.jsx("p",{children:""})]}):o.map(u=>O.jsxs("div",{onClick:()=>a(u.id),className:"bg-white p-3 rounded-xl shadow-sm border border-gray-100 flex gap-3 relative group active:scale-[0.99] transition-transform cursor-pointer",children:[O.jsx("div",{className:"w-20 h-20 rounded-lg bg-gray-100 flex-shrink-0 overflow-hidden relative",children:u.imageUrl?O.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-full h-full object-cover"}):O.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:O.jsx(fA,{size:24})})}),O.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-0.5",children:[O.jsxs("div",{className:"flex justify-between items-start",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-gray-900 truncate pr-2 text-sm leading-tight",children:u.name}),O.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[O.jsx("span",{className:"text-[10px] text-gray-500 bg-gray-50 px-1.5 py-0.5 rounded",children:u.category}),u.location&&O.jsxs("span",{className:"flex items-center text-[10px] text-gray-400",children:[O.jsx(AM,{size:10,className:"mr-0.5"})," ",u.location]})]})]}),O.jsx("button",{onClick:c=>s(c,u.id),className:"p-1.5 text-gray-300 hover:text-red-500",children:O.jsx(CM,{size:16})})]}),O.jsxs("div",{className:"flex items-end justify-between mt-2",children:[O.jsx("div",{className:"flex gap-1 overflow-hidden",children:Object.entries(u.stock).map(([c,f])=>f>0&&O.jsxs("span",{className:"text-[10px] font-mono text-gray-500 bg-gray-50 px-1 rounded",children:[c,":",f]},c))}),O.jsxs("div",{className:"text-sm font-bold text-brand-600 bg-brand-50 px-2 py-0.5 rounded-full",children:["x",l(u)]})]})]})]},u.id))}),O.jsx("button",{onClick:()=>n("/add-item"),className:"fixed bottom-20 right-4 w-14 h-14 bg-brand-600 text-white rounded-full shadow-lg shadow-brand-500/30 flex items-center justify-center hover:bg-brand-700 active:scale-95 transition-all z-20",children:O.jsx(IM,{size:28})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aye,lye;function uye(){return{geminiUrl:aye,vertexUrl:lye}}function cye(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=uye();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ti{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(o+1),n[u])}else for(const u of l)p(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];p(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>d(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function fye(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}z_(t,i,o,0,s)}}function z_(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])z_(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);p(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&z_(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dye(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function hye(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response","generateVideoResponse"]);return s!=null&&p(e,["response"],mye(s)),e}function pye(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],gye(s)),e}function mye(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>yye(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function gye(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>vye(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function yye(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],bye(n)),e}function vye(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],Aye(n)),e}function _ye(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function wye(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function Eye(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],Tye(s)),e}function Tye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function RV(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],Sye(s)),e}function Sye(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function bye(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],GT(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Aye(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],GT(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xP;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xP||(xP={}));var CP;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(CP||(CP={}));var PP;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(PP||(PP={}));var dr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(dr||(dr={}));var RP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RP||(RP={}));var NP;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(NP||(NP={}));var kP;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(kP||(kP={}));var MP;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(MP||(MP={}));var OP;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(OP||(OP={}));var DP;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(DP||(DP={}));var LP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(LP||(LP={}));var $P;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})($P||($P={}));var VP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(VP||(VP={}));var UP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(UP||(UP={}));var FP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(FP||(FP={}));var BP;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(BP||(BP={}));var qP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(qP||(qP={}));var jP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(jP||(jP={}));var HP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(HP||(HP={}));var Vp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Vp||(Vp={}));var GP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(GP||(GP={}));var zP;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zP||(zP={}));var WP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(WP||(WP={}));var W_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(W_||(W_={}));var KP;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(KP||(KP={}));var JP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(JP||(JP={}));var YP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(YP||(YP={}));var XP;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(XP||(XP={}));var QP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(QP||(QP={}));var ZP;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ZP||(ZP={}));var eR;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(eR||(eR={}));var tR;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(tR||(tR={}));var nR;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(nR||(nR={}));var rR;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(rR||(rR={}));var iR;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(iR||(iR={}));var oR;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(oR||(oR={}));var sR;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sR||(sR={}));var aR;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(aR||(aR={}));var lR;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(lR||(lR={}));var uR;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(uR||(uR={}));var cR;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(cR||(cR={}));var fR;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fR||(fR={}));var dR;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(dR||(dR={}));var hR;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(hR||(hR={}));var pR;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(pR||(pR={}));var mR;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(mR||(mR={}));var gR;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(gR||(gR={}));var yR;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(yR||(yR={}));var vR;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vR||(vR={}));var _R;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_R||(_R={}));var wR;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(wR||(wR={}));var ER;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ER||(ER={}));var TR;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(TR||(TR={}));var SR;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(SR||(SR={}));var ua;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ua||(ua={}));class K_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class yu{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[g,_]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(_!==null||_!==void 0)&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&(g!==null||g!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class bR{}class AR{}class Iye{}class xye{}class Cye{}class Pye{}class IR{}class xR{}class CR{}class Rye{}class Up{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Up;let i;const o=e;return n?i=pye(o):i=hye(o),Object.assign(r,i),r}}class PR{}class RR{}class NR{}class Nye{}class kye{}class Mye{}class zT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new zT,o=Eye(e);return Object.assign(r,o),r}}class Oye{}class Dye{}class Lye{}class kR{}class $ye{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Vye{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class WT{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new WT,o=RV(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Re(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function NV(t,e){const n=Re(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function kV(t){return Array.isArray(t)?t.map(e=>Fp(e)):[Fp(t)]}function Fp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function MV(t){const e=Fp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function OV(t){const e=Fp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function MR(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function DV(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>MR(e)):[MR(t)]}function J_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function OR(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function DR(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function sn(t){if(t==null)throw new Error("ContentUnion is required");return J_(t)?t:{role:"user",parts:DV(t)}}function KT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=sn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=sn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>sn(n)):[sn(e)]}function Kn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(OR(t)||DR(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[sn(t)]}const e=[],n=[],r=J_(t[0]);for(const i of t){const o=J_(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(OR(i)||DR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:DV(n)}),e}function Uye(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(dr).includes(n[0].toUpperCase())?n[0].toUpperCase():dr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(dr).includes(r.toUpperCase())?r.toUpperCase():dr.TYPE_UNSPECIFIED})}}function Aa(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Uye(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(dr).includes(a.toUpperCase())?a.toUpperCase():dr.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Aa(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(Aa(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=Aa(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function JT(t){return Aa(t)}function YT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function XT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ol(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Aa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Aa(e.response));return t}function Dl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Fye(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Si(t,e){if(typeof e!="string")throw new Error("name must be a string");return Fye(t,e,"cachedContents")}function LV(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ro(t){return GT(t)}function Bye(t){return t!=null&&typeof t=="object"&&"name"in t}function qye(t){return t!=null&&typeof t=="object"&&"video"in t}function jye(t){return t!=null&&typeof t=="object"&&"uri"in t}function $V(t){var e;let n;if(Bye(t)&&(n=t.name),!(jye(t)&&(n=t.uri,n===void 0))&&!(qye(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function VV(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function UV(t){for(const e of["models","tunedModels","publisherModels"])if(Hye(t,e))return t[e];return[]}function Hye(t,e){return t!==null&&typeof t=="object"&&e in t}function Gye(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function zye(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Gye(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function FV(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Wye(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function BV(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ll(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function qV(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kye(t){const e={},n=d(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Cve(s))),p(e,["inlinedResponses"],o)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["inlinedEmbedContentResponses"],o)}return e}function Jye(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Yye(t){const e={},n=d(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Jd(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&p(e,["state"],qV(i));const o=d(t,["metadata","createTime"]);o!=null&&p(e,["createTime"],o);const s=d(t,["metadata","endTime"]);s!=null&&p(e,["endTime"],s);const a=d(t,["metadata","updateTime"]);a!=null&&p(e,["updateTime"],a);const l=d(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&p(e,["dest"],Kye(BV(u))),e}function Y_(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],qV(i));const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["createTime"]);s!=null&&p(e,["createTime"],s);const a=d(t,["startTime"]);a!=null&&p(e,["startTime"],a);const l=d(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&p(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&p(e,["src"],Xye(f));const h=d(t,["outputConfig"]);h!=null&&p(e,["dest"],Jye(BV(h)));const g=d(t,["completionStats"]);return g!=null&&p(e,["completionStats"],g),e}function Xye(t){const e={},n=d(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function Qye(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>xve(t,s))),p(n,["requests","requests"],o)}return n}function Zye(t){const e={},n=d(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function eve(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function tve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ll(t,r)),n}function nve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ll(t,r)),n}function rve(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],ive(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const a=d(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const l=d(t,["index"]);l!=null&&p(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],f),e}function ive(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function jV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Dve(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function ove(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function sve(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],Yye(Wye(i))),n}function LR(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],Qye(t,FV(t,i)));const o=d(e,["config"]);return o!=null&&ove(o,n),n}function ave(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],Re(t,r));const i=d(e,["src"]);i!=null&&p(n,["inputConfig"],Zye(FV(t,i)));const o=d(e,["config"]);return o!=null&&sve(o,n),n}function lve(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function uve(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],gve(t,i));const o=d(e,["config"]);return o!=null&&lve(o,n),n}function cve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ll(t,r)),n}function fve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ll(t,r)),n}function dve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function hve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function pve(t,e){const n={},r=d(e,["contents"]);if(r!=null){let o=KT(t,r);Array.isArray(o)&&(o=o.map(s=>s)),p(n,["requests[]","request","content"],o)}const i=d(e,["config"]);return i!=null&&(p(n,["_self"],mve(i,n)),fye(n,{"requests[].*":"requests[].request.*"})),n}function mve(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gve(t,e){const n={},r=d(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],pve(t,i)),n}function yve(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function vve(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _ve(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wve(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],jV(sn(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&p(r,["topP"],s);const a=d(e,["topK"]);a!=null&&p(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=d(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const _=d(e,["frequencyPenalty"]);_!=null&&p(r,["frequencyPenalty"],_);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],JT(v));const E=d(e,["responseJsonSchema"]);if(E!=null&&p(r,["responseJsonSchema"],E),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(N=>Lve(N))),p(n,["safetySettings"],D)}const R=d(e,["tools"]);if(n!==void 0&&R!=null){let D=Dl(R);Array.isArray(D)&&(D=D.map(N=>Vve(Ol(N)))),p(n,["tools"],D)}const A=d(e,["toolConfig"]);if(n!==void 0&&A!=null&&p(n,["toolConfig"],$ve(A)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=d(e,["cachedContent"]);n!==void 0&&x!=null&&p(n,["cachedContent"],Si(t,x));const b=d(e,["responseModalities"]);b!=null&&p(r,["responseModalities"],b);const I=d(e,["mediaResolution"]);I!=null&&p(r,["mediaResolution"],I);const C=d(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],YT(C)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=d(e,["thinkingConfig"]);M!=null&&p(r,["thinkingConfig"],M);const k=d(e,["imageConfig"]);return k!=null&&p(r,["imageConfig"],Ive(k)),r}function Eve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>rve(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&p(e,["responseId"],s);const a=d(t,["usageMetadata"]);return a!=null&&p(e,["usageMetadata"],a),e}function Tve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ll(t,r)),n}function Sve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Ll(t,r)),n}function bve(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function Ave(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function Ive(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xve(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["request","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let a=Kn(i);Array.isArray(a)&&(a=a.map(l=>jV(l))),p(n,["request","contents"],a)}const o=d(e,["metadata"]);o!=null&&p(n,["metadata"],o);const s=d(e,["config"]);return s!=null&&p(n,["request","generationConfig"],wve(t,s,d(n,["request"],{}))),n}function Cve(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],Eve(n));const r=d(t,["error"]);return r!=null&&p(e,["error"],r),e}function Pve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Rve(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const o=d(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function Nve(t){const e={},n=d(t,["config"]);return n!=null&&Pve(n,e),e}function kve(t){const e={},n=d(t,["config"]);return n!=null&&Rve(n,e),e}function Mve(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Jd(s))),p(e,["batchJobs"],o)}return e}function Ove(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Y_(s))),p(e,["batchJobs"],o)}return e}function Dve(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],yve(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],vve(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],eve(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function Lve(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function $ve(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],_ve(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Vve(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],bve(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],Ave(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(gi||(gi={}));class Os{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uve extends Ti{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Os(gi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=LR(this.apiClient,e),r=n._url,i=re("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const g=f.request;g.systemInstruction=h,f.request=g}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ave(this.apiClient,e);return a=re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Y_(c))}else{const u=LR(this.apiClient,e);return a=re("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Jd(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=uve(this.apiClient,e);return o=re("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Jd(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Sve(this.apiClient,e);return a=re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Y_(c))}else{const u=Tve(this.apiClient,e);return a=re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Jd(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=nve(this.apiClient,e);s=re("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=tve(this.apiClient,e);s=re("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=kve(e);return a=re("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Ove(c),h=new kR;return Object.assign(h,f),h})}else{const u=Nve(e);return a=re("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Mve(c),h=new kR;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=fve(this.apiClient,e);return a=re("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>hve(c))}else{const u=cve(this.apiClient,e);return a=re("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>dve(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fve(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function $R(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>u0e(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Bve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let c=Kn(s);Array.isArray(c)&&(c=c.map(f=>$R(f))),p(e,["contents"],c)}const a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&p(e,["systemInstruction"],$R(sn(a)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>f0e(f))),p(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],c0e(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function qve(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const o=d(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let f=Kn(s);Array.isArray(f)&&(f=f.map(h=>h)),p(e,["contents"],f)}const a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&p(e,["systemInstruction"],sn(a));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>d0e(h))),p(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],u);const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function jve(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],NV(t,r));const i=d(e,["config"]);return i!=null&&Bve(i,n),n}function Hve(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],NV(t,r));const i=d(e,["config"]);return i!=null&&qve(i,n),n}function Gve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Si(t,r)),n}function zve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Si(t,r)),n}function Wve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Kve(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Jve(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Yve(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Xve(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qve(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const a=d(t,["responseJsonSchema"]);return a!=null&&p(e,["responseJsonSchema"],a),e}function Zve(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Si(t,r)),n}function e0e(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],Si(t,r)),n}function t0e(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function n0e(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function r0e(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function i0e(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function o0e(t){const e={},n=d(t,["config"]);return n!=null&&r0e(n,e),e}function s0e(t){const e={},n=d(t,["config"]);return n!=null&&i0e(n,e),e}function a0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["cachedContents"],o)}return e}function l0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["cachedContents"],o)}return e}function u0e(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],Jve(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],Yve(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],Fve(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function c0e(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],Xve(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function f0e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],t0e(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],n0e(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function d0e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Qve(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=d(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],a);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function h0e(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function p0e(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function m0e(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Si(t,r));const i=d(e,["config"]);return i!=null&&h0e(i,n),n}function g0e(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],Si(t,r));const i=d(e,["config"]);return i!=null&&p0e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y0e extends Ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Os(gi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Hve(this.apiClient,e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=jve(this.apiClient,e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=e0e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Zve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=zve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Kve(c),h=new RR;return Object.assign(h,f),h})}else{const u=Gve(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=Wve(c),h=new RR;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=g0e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=m0e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=s0e(e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=l0e(c),h=new NR;return Object.assign(h,f),h})}else{const u=o0e(e);return a=re("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=a0e(c),h=new NR;return Object.assign(h,f),h})}}}function VR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function Ia(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,f)}}function a(g,_){r[g]&&(i[g]=function(y){return new Promise(function(w,v){o.push([g,y,w,v])>1||l(g,y)})},_&&(i[g]=_(i[g])))}function l(g,_){try{u(r[g](_))}catch(y){h(o[0][3],y)}}function u(g){g.value instanceof Ye?Promise.resolve(g.value.v).then(c,f):h(o[0][2],g)}function c(g){l("next",g)}function f(g){l("throw",g)}function h(g,_){g(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Ku(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof VR=="function"?VR(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v0e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:HV(n)}function HV(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function _0e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function UR(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!HV(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class w0e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new E0e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class E0e{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),_0e(o)}async sendMessage(e){var n;await this.sendPromise;const r=sn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(f))!==null&&a!==void 0?a:[]);const g=u?[u]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=sn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?UR(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Ia(this,arguments,function*(){var s,a,l,u;const c=[];try{for(var f=!0,h=Ku(e),g;g=yield Ye(h.next()),s=g.done,!s;f=!0){u=g.value,f=!1;const _=u;if(v0e(_)){const y=(i=(r=_.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&c.push(y)}yield yield Ye(_)}}catch(_){a={error:_}}finally{try{!f&&!s&&(l=h.return)&&(yield Ye(l.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...UR(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yg extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,yg.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T0e(t){const e={},n=d(t,["file"]);return n!=null&&p(e,["file"],n),e}function S0e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function b0e(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],$V(n)),e}function A0e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function I0e(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],$V(n)),e}function x0e(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function C0e(t){const e={},n=d(t,["config"]);return n!=null&&x0e(n,e),e}function P0e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R0e extends Ti{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Os(gi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=C0e(e);return o=re("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=P0e(l),c=new Oye;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=T0e(e);return o=re("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=S0e(l),c=new Dye;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=I0e(e);return o=re("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=b0e(e);return o=re("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=A0e(l),c=new Lye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yd(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function N0e(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>W0e(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function k0e(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function M0e(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O0e(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const a=d(t,["responseJsonSchema"]);return a!=null&&p(e,["responseJsonSchema"],a),e}function D0e(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const s=d(t,["enableAffectiveDialog"]);s!=null&&p(e,["enableAffectiveDialog"],s);const a=d(t,["frequencyPenalty"]);a!=null&&p(e,["frequencyPenalty"],a);const l=d(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&p(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=d(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const _=d(t,["responseModalities"]);_!=null&&p(e,["responseModalities"],_);const y=d(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const w=d(t,["routingConfig"]);w!=null&&p(e,["routingConfig"],w);const v=d(t,["seed"]);v!=null&&p(e,["seed"],v);const E=d(t,["speechConfig"]);E!=null&&p(e,["speechConfig"],GV(E));const S=d(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const R=d(t,["temperature"]);R!=null&&p(e,["temperature"],R);const A=d(t,["thinkingConfig"]);A!=null&&p(e,["thinkingConfig"],A);const x=d(t,["topK"]);x!=null&&p(e,["topK"],x);const b=d(t,["topP"]);if(b!=null&&p(e,["topP"],b),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function L0e(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function $0e(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function V0e(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],XT(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&p(e,["setup","systemInstruction"],N0e(sn(_)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let x=Dl(y);Array.isArray(x)&&(x=x.map(b=>J0e(Ol(b)))),p(e,["setup","tools"],x)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],K0e(w));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const E=d(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],E);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const R=d(t,["contextWindowCompression"]);e!==void 0&&R!=null&&p(e,["setup","contextWindowCompression"],R);const A=d(t,["proactivity"]);return e!==void 0&&A!=null&&p(e,["setup","proactivity"],A),n}function U0e(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],D0e(r));const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],GV(XT(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&p(e,["setup","systemInstruction"],sn(_));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let x=Dl(y);Array.isArray(x)&&(x=x.map(b=>Y0e(Ol(b)))),p(e,["setup","tools"],x)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],w);const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const E=d(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],E);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const R=d(t,["contextWindowCompression"]);e!==void 0&&R!=null&&p(e,["setup","contextWindowCompression"],R);const A=d(t,["proactivity"]);return e!==void 0&&A!=null&&p(e,["setup","proactivity"],A),n}function F0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],V0e(i,n)),n}function B0e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],U0e(i,n)),n}function q0e(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],n),e}function j0e(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["weightedPrompts"],r)}return e}function H0e(t){const e={},n=d(t,["media"]);if(n!=null){let u=kV(n);Array.isArray(u)&&(u=u.map(c=>Yd(c))),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],Yd(OV(r)));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],Yd(MV(o)));const s=d(t,["text"]);s!=null&&p(e,["text"],s);const a=d(t,["activityStart"]);a!=null&&p(e,["activityStart"],a);const l=d(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function G0e(t){const e={},n=d(t,["media"]);if(n!=null){let u=kV(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],OV(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const o=d(t,["video"]);o!=null&&p(e,["video"],MV(o));const s=d(t,["text"]);s!=null&&p(e,["text"],s);const a=d(t,["activityStart"]);a!=null&&p(e,["activityStart"],a);const l=d(t,["activityEnd"]);return l!=null&&p(e,["activityEnd"],l),e}function z0e(t){const e={},n=d(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],n);const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],r);const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],i);const o=d(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],o);const s=d(t,["usageMetadata"]);s!=null&&p(e,["usageMetadata"],X0e(s));const a=d(t,["goAway"]);a!=null&&p(e,["goAway"],a);const l=d(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],l),e}function W0e(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],k0e(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],M0e(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],Yd(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function K0e(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GV(t){const e={},n=d(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=d(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function J0e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],L0e(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],$0e(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function Y0e(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>O0e(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=d(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],a);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function X0e(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const o=d(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const s=d(t,["thoughtsTokenCount"]);s!=null&&p(e,["thoughtsTokenCount"],s);const a=d(t,["totalTokenCount"]);a!=null&&p(e,["totalTokenCount"],a);const l=d(t,["promptTokensDetails"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(_=>_)),p(e,["promptTokensDetails"],g)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(_=>_)),p(e,["cacheTokensDetails"],g)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(_=>_)),p(e,["responseTokensDetails"],g)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(_=>_)),p(e,["toolUsePromptTokensDetails"],g)}const h=d(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q0e(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Z0e(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],e_e(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const o=d(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const a=d(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const l=d(t,["index"]);l!=null&&p(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&p(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>g)),p(e,["safetyRatings"],h)}const f=d(t,["urlContextMetadata"]);return f!=null&&p(e,["urlContextMetadata"],f),e}function e_e(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(e,["citations"],r)}return e}function t_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let o=Kn(i);Array.isArray(o)&&(o=o.map(s=>s)),p(n,["contents"],o)}return n}function n_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["tokensInfo"],i)}return e}function r_e(t){const e={},n=d(t,["values"]);n!=null&&p(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&p(e,["statistics"],i_e(r)),e}function i_e(t){const e={},n=d(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function vg(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hwe(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function o_e(t){const e={},n=d(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function s_e(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function a_e(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],sn(r));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>YV(a))),p(e,["tools"],s)}const o=d(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],Q_e(o)),n}function l_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=Kn(i);Array.isArray(s)&&(s=s.map(a=>vg(a))),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&s_e(o),n}function u_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=Kn(i);Array.isArray(s)&&(s=s.map(a=>a)),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&a_e(o,n),n}function c_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function f_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function d_e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function h_e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function p_e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function m_e(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function g_e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);e!==void 0&&a!=null&&p(e,["parameters","guidanceScale"],a);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=d(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&p(e,["parameters","outputOptions","mimeType"],_);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const v=d(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const E=d(t,["editMode"]);e!==void 0&&E!=null&&p(e,["parameters","editMode"],E);const S=d(t,["baseSteps"]);return e!==void 0&&S!=null&&p(e,["parameters","editConfig","baseSteps"],S),n}function y_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>_we(l))),p(n,["instances[0]","referenceImages"],a)}const s=d(e,["config"]);return s!=null&&g_e(s,n),n}function v_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_g(o))),p(e,["generatedImages"],i)}return e}function __e(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const o=d(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function w_e(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const o=d(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const s=d(t,["mimeType"]);e!==void 0&&s!=null&&p(e,["instances[]","mimeType"],s);const a=d(t,["autoTruncate"]);return e!==void 0&&a!=null&&p(e,["parameters","autoTruncate"],a),n}function E_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let a=KT(t,i);Array.isArray(a)&&(a=a.map(l=>l)),p(n,["requests[]","content"],a)}const o=d(e,["config"]);o!=null&&__e(o,n);const s=d(e,["model"]);return s!==void 0&&p(n,["requests[]","model"],Re(t,s)),n}function T_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=KT(t,i);Array.isArray(s)&&(s=s.map(a=>a)),p(n,["instances[]","content"],s)}const o=d(e,["config"]);return o!=null&&w_e(o,n),n}function S_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function b_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>r_e(s))),p(e,["embeddings"],o)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],i),e}function A_e(t){const e={},n=d(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function I_e(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function x_e(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function C_e(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function P_e(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const a=d(t,["responseJsonSchema"]);return a!=null&&p(e,["responseJsonSchema"],a),e}function R_e(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],vg(sn(i)));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&p(r,["topP"],s);const a=d(e,["topK"]);a!=null&&p(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=d(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const _=d(e,["frequencyPenalty"]);_!=null&&p(r,["frequencyPenalty"],_);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],JT(v));const E=d(e,["responseJsonSchema"]);if(E!=null&&p(r,["responseJsonSchema"],E),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(N=>wwe(N))),p(n,["safetySettings"],D)}const R=d(e,["tools"]);if(n!==void 0&&R!=null){let D=Dl(R);Array.isArray(D)&&(D=D.map(N=>xwe(Ol(N)))),p(n,["tools"],D)}const A=d(e,["toolConfig"]);if(n!==void 0&&A!=null&&p(n,["toolConfig"],Iwe(A)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=d(e,["cachedContent"]);n!==void 0&&x!=null&&p(n,["cachedContent"],Si(t,x));const b=d(e,["responseModalities"]);b!=null&&p(r,["responseModalities"],b);const I=d(e,["mediaResolution"]);I!=null&&p(r,["mediaResolution"],I);const C=d(e,["speechConfig"]);if(C!=null&&p(r,["speechConfig"],YT(C)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=d(e,["thinkingConfig"]);M!=null&&p(r,["thinkingConfig"],M);const k=d(e,["imageConfig"]);return k!=null&&p(r,["imageConfig"],rwe(k)),r}function N_e(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],sn(i));const o=d(e,["temperature"]);o!=null&&p(r,["temperature"],o);const s=d(e,["topP"]);s!=null&&p(r,["topP"],s);const a=d(e,["topK"]);a!=null&&p(r,["topK"],a);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const g=d(e,["presencePenalty"]);g!=null&&p(r,["presencePenalty"],g);const _=d(e,["frequencyPenalty"]);_!=null&&p(r,["frequencyPenalty"],_);const y=d(e,["seed"]);y!=null&&p(r,["seed"],y);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&p(r,["responseSchema"],JT(v));const E=d(e,["responseJsonSchema"]);E!=null&&p(r,["responseJsonSchema"],E);const S=d(e,["routingConfig"]);S!=null&&p(r,["routingConfig"],S);const R=d(e,["modelSelectionConfig"]);R!=null&&p(r,["modelConfig"],R);const A=d(e,["safetySettings"]);if(n!==void 0&&A!=null){let G=A;Array.isArray(G)&&(G=G.map(K=>K)),p(n,["safetySettings"],G)}const x=d(e,["tools"]);if(n!==void 0&&x!=null){let G=Dl(x);Array.isArray(G)&&(G=G.map(K=>YV(Ol(K)))),p(n,["tools"],G)}const b=d(e,["toolConfig"]);n!==void 0&&b!=null&&p(n,["toolConfig"],b);const I=d(e,["labels"]);n!==void 0&&I!=null&&p(n,["labels"],I);const C=d(e,["cachedContent"]);n!==void 0&&C!=null&&p(n,["cachedContent"],Si(t,C));const M=d(e,["responseModalities"]);M!=null&&p(r,["responseModalities"],M);const k=d(e,["mediaResolution"]);k!=null&&p(r,["mediaResolution"],k);const D=d(e,["speechConfig"]);D!=null&&p(r,["speechConfig"],JV(YT(D)));const N=d(e,["audioTimestamp"]);N!=null&&p(r,["audioTimestamp"],N);const B=d(e,["thinkingConfig"]);B!=null&&p(r,["thinkingConfig"],B);const H=d(e,["imageConfig"]);return H!=null&&p(r,["imageConfig"],iwe(H)),r}function FR(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=Kn(i);Array.isArray(s)&&(s=s.map(a=>vg(a))),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],R_e(t,o,n)),n}function BR(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["contents"]);if(i!=null){let s=Kn(i);Array.isArray(s)&&(s=s.map(a=>a)),p(n,["contents"],s)}const o=d(e,["config"]);return o!=null&&p(n,["generationConfig"],N_e(t,o,n)),n}function qR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Z0e(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&p(e,["responseId"],s);const a=d(t,["usageMetadata"]);return a!=null&&p(e,["usageMetadata"],a),e}function jR(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),p(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&p(e,["createTime"],i);const o=d(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const s=d(t,["promptFeedback"]);s!=null&&p(e,["promptFeedback"],s);const a=d(t,["responseId"]);a!=null&&p(e,["responseId"],a);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function k_e(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const o=d(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const a=d(t,["personGeneration"]);e!==void 0&&a!=null&&p(e,["parameters","personGeneration"],a);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=d(t,["imageSize"]);if(e!==void 0&&g!=null&&p(e,["parameters","sampleImageSize"],g),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function M_e(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const o=d(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&p(e,["parameters","aspectRatio"],s);const a=d(t,["guidanceScale"]);e!==void 0&&a!=null&&p(e,["parameters","guidanceScale"],a);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const g=d(t,["language"]);e!==void 0&&g!=null&&p(e,["parameters","language"],g);const _=d(t,["outputMimeType"]);e!==void 0&&_!=null&&p(e,["parameters","outputOptions","mimeType"],_);const y=d(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const v=d(t,["labels"]);e!==void 0&&v!=null&&p(e,["labels"],v);const E=d(t,["imageSize"]);e!==void 0&&E!=null&&p(e,["parameters","sampleImageSize"],E);const S=d(t,["enhancePrompt"]);return e!==void 0&&S!=null&&p(e,["parameters","enhancePrompt"],S),n}function O_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&k_e(o,n),n}function D_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["config"]);return o!=null&&M_e(o,n),n}function L_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>K_e(s))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],WV(i)),e}function $_e(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>_g(s))),p(e,["generatedImages"],o)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],KV(i)),e}function V_e(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=d(t,["resolution"]);e!==void 0&&s!=null&&p(e,["parameters","resolution"],s);const a=d(t,["personGeneration"]);if(e!==void 0&&a!=null&&p(e,["parameters","personGeneration"],a),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=d(t,["lastFrame"]);e!==void 0&&c!=null&&p(e,["instances[0]","lastFrame"],wg(c));const f=d(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Fwe(g))),p(e,["instances[0]","referenceImages"],h)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function U_e(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const o=d(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const s=d(t,["durationSeconds"]);e!==void 0&&s!=null&&p(e,["parameters","durationSeconds"],s);const a=d(t,["seed"]);e!==void 0&&a!=null&&p(e,["parameters","seed"],a);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&p(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const g=d(t,["enhancePrompt"]);e!==void 0&&g!=null&&p(e,["parameters","enhancePrompt"],g);const _=d(t,["generateAudio"]);e!==void 0&&_!=null&&p(e,["parameters","generateAudio"],_);const y=d(t,["lastFrame"]);e!==void 0&&y!=null&&p(e,["instances[0]","lastFrame"],_r(y));const w=d(t,["referenceImages"]);if(e!==void 0&&w!=null){let S=w;Array.isArray(S)&&(S=S.map(R=>Bwe(R))),p(e,["instances[0]","referenceImages"],S)}const v=d(t,["mask"]);e!==void 0&&v!=null&&p(e,["instances[0]","mask"],Uwe(v));const E=d(t,["compressionQuality"]);return e!==void 0&&E!=null&&p(e,["parameters","compressionQuality"],E),n}function F_e(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response","generateVideoResponse"]);return s!=null&&p(e,["response"],H_e(s)),e}function B_e(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],G_e(s)),e}function q_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],wg(o));const s=d(e,["video"]);s!=null&&p(n,["instances[0]","video"],XV(s));const a=d(e,["source"]);a!=null&&z_e(a,n);const l=d(e,["config"]);return l!=null&&V_e(l,n),n}function j_e(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const o=d(e,["image"]);o!=null&&p(n,["instances[0]","image"],_r(o));const s=d(e,["video"]);s!=null&&p(n,["instances[0]","video"],QV(s));const a=d(e,["source"]);a!=null&&W_e(a,n);const l=d(e,["config"]);return l!=null&&U_e(l,n),n}function H_e(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Y_e(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function G_e(t){const e={},n=d(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>X_e(s))),p(e,["generatedVideos"],o)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function z_e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],wg(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],XV(o)),n}function W_e(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],_r(i));const o=d(t,["video"]);return e!==void 0&&o!=null&&p(e,["instances[0]","video"],QV(o)),n}function K_e(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],owe(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],WV(i)),e}function _g(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],zV(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&p(e,["safetyAttributes"],KV(i));const o=d(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function J_e(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["mask"],zV(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(e,["labels"],i)}return e}function Y_e(t){const e={},n=d(t,["video"]);return n!=null&&p(e,["video"],$we(n)),e}function X_e(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],Vwe(n)),e}function Q_e(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&p(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&p(e,["audioTimestamp"],i);const o=d(t,["candidateCount"]);o!=null&&p(e,["candidateCount"],o);const s=d(t,["enableAffectiveDialog"]);s!=null&&p(e,["enableAffectiveDialog"],s);const a=d(t,["frequencyPenalty"]);a!=null&&p(e,["frequencyPenalty"],a);const l=d(t,["logprobs"]);l!=null&&p(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&p(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&p(e,["presencePenalty"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(e,["responseLogprobs"],h);const g=d(t,["responseMimeType"]);g!=null&&p(e,["responseMimeType"],g);const _=d(t,["responseModalities"]);_!=null&&p(e,["responseModalities"],_);const y=d(t,["responseSchema"]);y!=null&&p(e,["responseSchema"],y);const w=d(t,["routingConfig"]);w!=null&&p(e,["routingConfig"],w);const v=d(t,["seed"]);v!=null&&p(e,["seed"],v);const E=d(t,["speechConfig"]);E!=null&&p(e,["speechConfig"],JV(E));const S=d(t,["stopSequences"]);S!=null&&p(e,["stopSequences"],S);const R=d(t,["temperature"]);R!=null&&p(e,["temperature"],R);const A=d(t,["thinkingConfig"]);A!=null&&p(e,["thinkingConfig"],A);const x=d(t,["topK"]);x!=null&&p(e,["topK"],x);const b=d(t,["topP"]);if(b!=null&&p(e,["topP"],b),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Z_e(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function ewe(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],Re(t,r)),n}function twe(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function nwe(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function rwe(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function iwe(t){const e={},n=d(t,["aspectRatio"]);n!=null&&p(e,["aspectRatio"],n);const r=d(t,["imageSize"]);r!=null&&p(e,["imageSize"],r);const i=d(t,["outputMimeType"]);i!=null&&p(e,["imageOutputOptions","mimeType"],i);const o=d(t,["outputCompressionQuality"]);return o!=null&&p(e,["imageOutputOptions","compressionQuality"],o),e}function owe(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Ro(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function zV(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],Ro(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function wg(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Ro(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function _r(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Ro(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function swe(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const s=d(e,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const a=d(e,["queryBase"]);return n!==void 0&&a!=null&&p(n,["_url","models_url"],VV(t,a)),r}function awe(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const o=d(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const s=d(e,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const a=d(e,["queryBase"]);return n!==void 0&&a!=null&&p(n,["_url","models_url"],VV(t,a)),r}function lwe(t,e){const n={},r=d(e,["config"]);return r!=null&&swe(t,r,n),n}function uwe(t,e){const n={},r=d(e,["config"]);return r!=null&&awe(t,r,n),n}function cwe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=UV(i);Array.isArray(o)&&(o=o.map(s=>X_(s))),p(e,["models"],o)}return e}function fwe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let o=UV(i);Array.isArray(o)&&(o=o.map(s=>Q_(s))),p(e,["models"],o)}return e}function dwe(t){const e={},n=d(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function X_(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["version"]);o!=null&&p(e,["version"],o);const s=d(t,["_self"]);s!=null&&p(e,["tunedModelInfo"],Cwe(s));const a=d(t,["inputTokenLimit"]);a!=null&&p(e,["inputTokenLimit"],a);const l=d(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);u!=null&&p(e,["supportedActions"],u);const c=d(t,["temperature"]);c!=null&&p(e,["temperature"],c);const f=d(t,["maxTemperature"]);f!=null&&p(e,["maxTemperature"],f);const h=d(t,["topP"]);h!=null&&p(e,["topP"],h);const g=d(t,["topK"]);g!=null&&p(e,["topK"],g);const _=d(t,["thinking"]);return _!=null&&p(e,["thinking"],_),e}function Q_(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const o=d(t,["versionId"]);o!=null&&p(e,["version"],o);const s=d(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>A_e(h))),p(e,["endpoints"],f)}const a=d(t,["labels"]);a!=null&&p(e,["labels"],a);const l=d(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],Pwe(l));const u=d(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["checkpoints"],f)}return e}function hwe(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],I_e(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],x_e(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],Q0e(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function pwe(t){const e={},n=d(t,["productImage"]);return n!=null&&p(e,["image"],_r(n)),e}function mwe(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","baseSteps"],i);const o=d(t,["outputGcsUri"]);e!==void 0&&o!=null&&p(e,["parameters","storageUri"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const a=d(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&p(e,["parameters","safetySetting"],a);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h);const g=d(t,["labels"]);return e!==void 0&&g!=null&&p(e,["labels"],g),n}function gwe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["source"]);i!=null&&vwe(i,n);const o=d(e,["config"]);return o!=null&&mwe(o,n),n}function ywe(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_g(i))),p(e,["generatedImages"],r)}return e}function vwe(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],_r(i));const o=d(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>pwe(a))),p(e,["instances[0]","productImages"],s)}return n}function _we(t){const e={},n=d(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],_r(n));const r=d(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const o=d(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],dwe(o));const s=d(t,["controlImageConfig"]);s!=null&&p(e,["controlImageConfig"],o_e(s));const a=d(t,["styleImageConfig"]);a!=null&&p(e,["styleImageConfig"],a);const l=d(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],l),e}function WV(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function KV(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function wwe(t){const e={},n=d(t,["category"]);if(n!=null&&p(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function Ewe(t){const e={},n=d(t,["image"]);return n!=null&&p(e,["image"],_r(n)),e}function Twe(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const o=d(t,["confidenceThreshold"]);e!==void 0&&o!=null&&p(e,["parameters","confidenceThreshold"],o);const s=d(t,["maskDilation"]);e!==void 0&&s!=null&&p(e,["parameters","maskDilation"],s);const a=d(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&p(e,["parameters","binaryColorThreshold"],a);const l=d(t,["labels"]);return e!==void 0&&l!=null&&p(e,["labels"],l),n}function Swe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["source"]);i!=null&&Awe(i,n);const o=d(e,["config"]);return o!=null&&Twe(o,n),n}function bwe(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>J_e(i))),p(e,["generatedMasks"],r)}return e}function Awe(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],_r(i));const o=d(t,["scribbleImage"]);return e!==void 0&&o!=null&&p(e,["instances[0]","scribble"],Ewe(o)),n}function JV(t){const e={},n=d(t,["languageCode"]);n!=null&&p(e,["languageCode"],n);const r=d(t,["voiceConfig"]);if(r!=null&&p(e,["voiceConfig"],r),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Iwe(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],C_e(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function xwe(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],twe(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],nwe(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}function YV(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>P_e(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearchRetrieval"]);i!=null&&p(e,["googleSearchRetrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&p(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=d(t,["codeExecution"]);s!=null&&p(e,["codeExecution"],s);const a=d(t,["enterpriseWebSearch"]);a!=null&&p(e,["enterpriseWebSearch"],a);const l=d(t,["googleMaps"]);l!=null&&p(e,["googleMaps"],l);const u=d(t,["googleSearch"]);u!=null&&p(e,["googleSearch"],u);const c=d(t,["urlContext"]);return c!=null&&p(e,["urlContext"],c),e}function Cwe(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Pwe(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function Rwe(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function Nwe(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const o=d(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function kwe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],Re(t,r));const i=d(e,["config"]);return i!=null&&Rwe(i,n),n}function Mwe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&Nwe(i,n),n}function Owe(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&p(e,["parameters","safetySetting"],i);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&p(e,["parameters","personGeneration"],o);const s=d(t,["includeRaiReason"]);e!==void 0&&s!=null&&p(e,["parameters","includeRaiReason"],s);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&p(e,["parameters","outputOptions","mimeType"],a);const l=d(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","compressionQuality"],l);const u=d(t,["enhanceInputImage"]);e!==void 0&&u!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=d(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=d(t,["labels"]);e!==void 0&&f!=null&&p(e,["labels"],f);const h=d(t,["numberOfImages"]);e!==void 0&&h!=null&&p(e,["parameters","sampleCount"],h);const g=d(t,["mode"]);return e!==void 0&&g!=null&&p(e,["parameters","mode"],g),n}function Dwe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],Re(t,r));const i=d(e,["image"]);i!=null&&p(n,["instances[0]","image"],_r(i));const o=d(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=d(e,["config"]);return s!=null&&Owe(s,n),n}function Lwe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_g(o))),p(e,["generatedImages"],i)}return e}function $we(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Ro(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function Vwe(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Ro(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Uwe(t){const e={},n=d(t,["image"]);n!=null&&p(e,["_self"],_r(n));const r=d(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function Fwe(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],wg(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function Bwe(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],_r(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function XV(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["encodedVideo"],Ro(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["encoding"],i),e}function QV(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Ro(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qwe="Content-Type",jwe="X-Server-Timeout",Hwe="User-Agent",Z_="x-goog-api-client",Gwe="1.30.0",zwe=`google-genai-sdk/${Gwe}`,Wwe="v1beta1",Kwe="v1beta",HR=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Jwe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Wwe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Kwe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&Ywe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GR(i),new K_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GR(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Ia(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield Ye(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),g=h.status,_=h.code,y=`got status: ${g}. ${JSON.stringify(f)}`;if(_>=400&&_<600)throw new yg({message:y,status:_})}}catch(f){if(f.name==="ApiError")throw f}s+=u;let c=s.match(HR);for(;c;){const f=c[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new K_(h)),s=s.slice(c[0].length),c=s.match(HR)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=zwe+" "+this.clientOptions.userAgentExtra;return e[Hwe]=n,e[Z_]=n,e[qwe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(jwe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=re("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&r.customMetadata&&(f.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(f.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function GR(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new yg({message:i,status:n}):new Error(i)}}function Ywe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xwe="mcp_used/unknown";let Qwe=!1;function ZV(t){for(const e of t)if(Zwe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Qwe}function eU(t){var e;const n=(e=t[Z_])!==null&&e!==void 0?e:"";t[Z_]=(n+` ${Xwe}`).trimStart()}function Zwe(t){return t!==null&&typeof t=="object"&&t instanceof QT}function eEe(t,e=100){return Ia(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield Ye(t.listTools({cursor:r}));for(const s of o.tools)yield yield Ye(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class QT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new QT(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Ku(eEe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),zye(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tEe(t,e,n){const r=new Vye;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class nEe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=oEe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},g=this.apiClient,_={onopen:h,onmessage:S=>{tEe(g,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},y=this.webSocketFactory.create(l,iEe(s),_);y.connect(),await c;const E={setup:{model:Re(this.apiClient,e.model)}};return y.send(JSON.stringify(E)),new rEe(y,this.apiClient)}}class rEe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=j0e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=q0e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ua.PLAY)}pause(){this.sendPlaybackControl(ua.PAUSE)}stop(){this.sendPlaybackControl(ua.STOP)}resetContext(){this.sendPlaybackControl(ua.RESET_CONTEXT)}close(){this.conn.close()}}function iEe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function oEe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sEe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aEe(t,e,n){const r=new $ye;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=z0e(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class lEe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new nEe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&ZV(e.config.tools)&&eU(f);const h=dEe(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c);else{const C=this.apiClient.getApiKey();let M="BidiGenerateContent",k="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",k="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${k}=${C}`}let g=()=>{};const _=new Promise(C=>{g=C}),y=e.callbacks,w=function(){var C;(C=y==null?void 0:y.onopen)===null||C===void 0||C.call(y),g({})},v=this.apiClient,E={onopen:w,onmessage:C=>{aEe(v,y.onmessage,C)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(C){}},S=this.webSocketFactory.create(c,fEe(h),E);S.connect(),await _;let R=Re(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const C=this.apiClient.getProject(),M=this.apiClient.getLocation();R=`projects/${C}/locations/${M}/`+R}let A={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vp.AUDIO]}:e.config.responseModalities=[Vp.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const x=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],b=[];for(const C of x)if(this.isCallableTool(C)){const M=C;b.push(await M.tool())}else b.push(C);b.length>0&&(e.config.tools=b);const I={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=B0e(this.apiClient,I):A=F0e(this.apiClient,I),delete A.config,S.send(JSON.stringify(A)),new cEe(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const uEe={turnComplete:!0};class cEe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Kn(n.turns),e.isVertexAI()||(r=r.map(i=>vg(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(sEe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},uEe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:G0e(e)}:n={realtimeInput:H0e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function fEe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function dEe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zR=10;function WR(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(xa(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function xa(t){return"callTool"in t&&typeof t.callTool=="function"}function hEe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>xa(i)))!==null&&r!==void 0?r:!1}function KR(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(xa(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function JR(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pEe extends Ti{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hEe(n)||WR(n.config))return await this.generateContentInternal(l);const u=KR(n);if(u.length>0){const y=u.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,f;const h=Kn(l.contents),g=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:zR;let _=0;for(;_<g&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,w=[];for(const v of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(xa(v)){const S=await v.callTool(c.functionCalls);w.push(...S)}_++,f={role:"user",parts:w},l.contents=Kn(l.contents),l.contents.push(y),l.contents.push(f),JR(l.config)&&(h.push(y),h.push(f))}return JR(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),WR(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=KR(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Os(gi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>xa(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&ZV(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),eU(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(xa(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:zR;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){var h,g;return Ia(this,arguments,function*(){for(var _,y,w,v;a<o;){s&&(a++,s=!1);const A=yield Ye(u.processParamsMaybeAddMcpUsage(f)),x=yield Ye(u.generateContentStreamInternal(A)),b=[],I=[];try{for(var E=!0,S=(y=void 0,Ku(x)),R;R=yield Ye(S.next()),_=R.done,!_;E=!0){v=R.value,E=!1;const C=v;if(yield yield Ye(C),C.candidates&&(!((h=C.candidates[0])===null||h===void 0)&&h.content)){I.push(C.candidates[0].content);for(const M of(g=C.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(a<o&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(M.functionCall.name)){const k=yield Ye(c.get(M.functionCall.name).callTool([M.functionCall]));b.push(...k)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(C){y={error:C}}finally{try{!E&&!_&&(w=S.return)&&(yield Ye(w.call(S)))}finally{if(y)throw y.error}}if(b.length>0){s=!0;const C=new yu;C.candidates=[{content:{role:"user",parts:b}}],yield yield Ye(C);const M=[];M.push(...I),M.push({role:"user",parts:b});const k=Kn(f.contents).concat(M);f.contents=k}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=BR(this.apiClient,e);return a=re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=jR(c),h=new yu;return Object.assign(h,f),h})}else{const u=FR(this.apiClient,e);return a=re("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=qR(c),h=new yu;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=BR(this.apiClient,e);return a=re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return Ia(this,arguments,function*(){var h,g,_,y;try{for(var w=!0,v=Ku(f),E;E=yield Ye(v.next()),h=E.done,!h;w=!0){y=E.value,w=!1;const S=y,R=jR(yield Ye(S.json()));R.sdkHttpResponse={headers:S.headers};const A=new yu;Object.assign(A,R),yield yield Ye(A)}}catch(S){g={error:S}}finally{try{!w&&!h&&(_=v.return)&&(yield Ye(_.call(v)))}finally{if(g)throw g.error}}})})}else{const u=FR(this.apiClient,e);return a=re("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return Ia(this,arguments,function*(){var h,g,_,y;try{for(var w=!0,v=Ku(f),E;E=yield Ye(v.next()),h=E.done,!h;w=!0){y=E.value,w=!1;const S=y,R=qR(yield Ye(S.json()));R.sdkHttpResponse={headers:S.headers};const A=new yu;Object.assign(A,R),yield yield Ye(A)}}catch(S){g={error:S}}finally{try{!w&&!h&&(_=v.return)&&(yield Ye(_.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=T_e(this.apiClient,e);return a=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=b_e(c),h=new bR;return Object.assign(h,f),h})}else{const u=E_e(this.apiClient,e);return a=re("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=S_e(c),h=new bR;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=D_e(this.apiClient,e);return a=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=$_e(c),h=new AR;return Object.assign(h,f),h})}else{const u=O_e(this.apiClient,e);return a=re("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=L_e(c),h=new AR;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=y_e(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=v_e(l),c=new Iye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Dwe(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Lwe(l),c=new xye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=gwe(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=ywe(l),c=new Cye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Swe(this.apiClient,e);return o=re("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=bwe(l),c=new Pye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ewe(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Q_(c))}else{const u=Z_e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>X_(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=uwe(this.apiClient,e);return a=re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=fwe(c),h=new IR;return Object.assign(h,f),h})}else{const u=lwe(this.apiClient,e);return a=re("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=cwe(c),h=new IR;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Mwe(this.apiClient,e);return a=re("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Q_(c))}else{const u=kwe(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>X_(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=h_e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=m_e(c),h=new xR;return Object.assign(h,f),h})}else{const u=d_e(this.apiClient,e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=p_e(c),h=new xR;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=u_e(this.apiClient,e);return a=re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=f_e(c),h=new CR;return Object.assign(h,f),h})}else{const u=l_e(this.apiClient,e);return a=re("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=c_e(c),h=new CR;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=t_e(this.apiClient,e);return o=re("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=n_e(l),c=new Rye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=j_e(this.apiClient,e);return a=re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=B_e(c),h=new Up;return Object.assign(h,f),h})}else{const u=q_e(this.apiClient,e);return a=re("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=F_e(c),h=new Up;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mEe extends Ti{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=wye(e);return a=re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=_ye(e);return a=re("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=dye(e);return o=re("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gEe(t){const e={},n=d(t,["data"]);if(n!=null&&p(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function yEe(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>IEe(o))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function vEe(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=d(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const s=d(e,["uses"]);n!==void 0&&s!=null&&p(n,["uses"],s);const a=d(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&p(n,["bidiGenerateContentSetup"],AEe(t,a));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function _Ee(t,e){const n={},r=d(e,["config"]);return r!=null&&p(n,["config"],vEe(t,r,n)),n}function wEe(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function EEe(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);if(i!=null&&p(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function TEe(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&p(e,["enableWidget"],n),e}function SEe(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],n),e}function bEe(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const o=d(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const s=d(t,["topP"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topP"],s);const a=d(t,["topK"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","topK"],a);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],XT(f));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],h);const g=d(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=d(t,["systemInstruction"]);e!==void 0&&_!=null&&p(e,["setup","systemInstruction"],yEe(sn(_)));const y=d(t,["tools"]);if(e!==void 0&&y!=null){let x=Dl(y);Array.isArray(x)&&(x=x.map(b=>CEe(Ol(b)))),p(e,["setup","tools"],x)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],xEe(w));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&p(e,["setup","inputAudioTranscription"],v);const E=d(t,["outputAudioTranscription"]);e!==void 0&&E!=null&&p(e,["setup","outputAudioTranscription"],E);const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],S);const R=d(t,["contextWindowCompression"]);e!==void 0&&R!=null&&p(e,["setup","contextWindowCompression"],R);const A=d(t,["proactivity"]);return e!==void 0&&A!=null&&p(e,["setup","proactivity"],A),n}function AEe(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],Re(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],bEe(i,n)),n}function IEe(t){const e={},n=d(t,["mediaResolution"]);n!=null&&p(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&p(e,["executableCode"],i);const o=d(t,["fileData"]);o!=null&&p(e,["fileData"],wEe(o));const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],EEe(s));const a=d(t,["functionResponse"]);a!=null&&p(e,["functionResponse"],a);const l=d(t,["inlineData"]);l!=null&&p(e,["inlineData"],gEe(l));const u=d(t,["text"]);u!=null&&p(e,["text"],u);const c=d(t,["thought"]);c!=null&&p(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&p(e,["thoughtSignature"],f);const h=d(t,["videoMetadata"]);return h!=null&&p(e,["videoMetadata"],h),e}function xEe(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function CEe(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f)),p(e,["functionDeclarations"],c)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const i=d(t,["computerUse"]);i!=null&&p(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&p(e,["fileSearch"],o);const s=d(t,["codeExecution"]);if(s!=null&&p(e,["codeExecution"],s),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["googleMaps"]);a!=null&&p(e,["googleMaps"],TEe(a));const l=d(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],SEe(l));const u=d(t,["urlContext"]);return u!=null&&p(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PEe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function REe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=PEe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class NEe extends Ti{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=_Ee(this.apiClient,e);o=re("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=REe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kEe(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),n}function MEe(t){const e={},n=d(t,["config"]);return n!=null&&kEe(n,e),e}function OEe(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function DEe(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&OEe(r,e),e}function LEe(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function $Ee(t,e){const n={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["customMetadata"],o)}const i=d(t,["chunkingConfig"]);return e!==void 0&&i!=null&&p(e,["chunkingConfig"],i),n}function VEe(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const o=d(t,["error"]);o!=null&&p(e,["error"],o);const s=d(t,["response"]);return s!=null&&p(e,["response"],FEe(s)),e}function UEe(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=d(t,["fileName"]);r!=null&&p(e,["fileName"],r);const i=d(t,["config"]);return i!=null&&$Ee(i,e),e}function FEe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&p(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&p(e,["documentName"],i),e}function BEe(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function qEe(t){const e={},n=d(t,["config"]);return n!=null&&BEe(n,e),e}function jEe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["fileSearchStores"],o)}return e}function HEe(t,e){const n={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const i=d(t,["displayName"]);e!==void 0&&i!=null&&p(e,["displayName"],i);const o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),p(e,["customMetadata"],a)}const s=d(t,["chunkingConfig"]);return e!==void 0&&s!=null&&p(e,["chunkingConfig"],s),n}function GEe(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&p(e,["_url","file_search_store_name"],n);const r=d(t,["config"]);return r!=null&&HEe(r,e),e}function zEe(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WEe(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),n}function KEe(t){const e={},n=d(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&WEe(r,e),e}function JEe(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function YEe(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function XEe(t){const e={},n=d(t,["parent"]);n!=null&&p(e,["_url","parent"],n);const r=d(t,["config"]);return r!=null&&YEe(r,e),e}function QEe(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),p(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZEe extends Ti{constructor(e){super(),this.apiClient=e,this.list=async n=>new Os(gi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=JEe(e);return o=re("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=KEe(e);i=re("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=XEe(e);return o=re("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=QEe(l),c=new Nye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eTe extends Ti{constructor(e,n=new ZEe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Os(gi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=MEe(e);return o=re("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=LEe(e);return o=re("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=DEe(e);i=re("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qEe(e);return o=re("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=jEe(l),c=new kye;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=GEe(e);return o=re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=zEe(l),c=new Mye;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=UEe(e);return o=re("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=VEe(l),c=new zT;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tTe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function nTe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function rTe(t,e,n){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&p(e,["displayName"],i),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);if(s!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=d(t,["batchSize"]);e!==void 0&&a!=null&&p(e,["tuningTask","hyperparameters","batchSize"],a);const l=d(t,["learningRate"]);if(e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","learningRate"],l),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function iTe(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=d(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec"],YR(g))}else if(i==="PREFERENCE_TUNING"){const g=d(t,["validationDataset"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec"],YR(g))}const o=d(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&p(e,["tunedModelDisplayName"],o);const s=d(t,["description"]);e!==void 0&&s!=null&&p(e,["description"],s);let a=d(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const g=d(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(a==="PREFERENCE_TUNING"){const g=d(t,["epochCount"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=d(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(l==="PREFERENCE_TUNING"){const g=d(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=d(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(u==="PREFERENCE_TUNING"){const g=d(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=d(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(c==="PREFERENCE_TUNING"){const g=d(t,["adapterSize"]);e!==void 0&&g!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=d(t,["labels"]);e!==void 0&&f!=null&&p(e,["labels"],f);const h=d(t,["beta"]);return e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function oTe(t,e){const n={},r=d(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&gTe(o);const s=d(t,["config"]);return s!=null&&rTe(s,n),n}function sTe(t,e){const n={},r=d(t,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(t,["trainingDataset"]);o!=null&&yTe(o,n,e);const s=d(t,["config"]);return s!=null&&iTe(s,n,e),n}function aTe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function lTe(t,e){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],r),n}function uTe(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),r}function cTe(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&p(e,["_query","pageSize"],i);const o=d(t,["pageToken"]);e!==void 0&&o!=null&&p(e,["_query","pageToken"],o);const s=d(t,["filter"]);return e!==void 0&&s!=null&&p(e,["_query","filter"],s),r}function fTe(t,e){const n={},r=d(t,["config"]);return r!=null&&uTe(r,n),n}function dTe(t,e){const n={},r=d(t,["config"]);return r!=null&&cTe(r,n),n}function hTe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>tU(a))),p(n,["tuningJobs"],s)}return n}function pTe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>ew(a))),p(n,["tuningJobs"],s)}return n}function mTe(t,e){const n={},r=d(t,["name"]);r!=null&&p(n,["model"],r);const i=d(t,["name"]);return i!=null&&p(n,["endpoint"],i),n}function gTe(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function yTe(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function tU(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["state"]);o!=null&&p(n,["state"],LV(o));const s=d(t,["createTime"]);s!=null&&p(n,["createTime"],s);const a=d(t,["tuningTask","startTime"]);a!=null&&p(n,["startTime"],a);const l=d(t,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["description"]);c!=null&&p(n,["description"],c);const f=d(t,["baseModel"]);f!=null&&p(n,["baseModel"],f);const h=d(t,["_self"]);return h!=null&&p(n,["tunedModel"],mTe(h)),n}function ew(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["state"]);o!=null&&p(n,["state"],LV(o));const s=d(t,["createTime"]);s!=null&&p(n,["createTime"],s);const a=d(t,["startTime"]);a!=null&&p(n,["startTime"],a);const l=d(t,["endTime"]);l!=null&&p(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(t,["error"]);c!=null&&p(n,["error"],c);const f=d(t,["description"]);f!=null&&p(n,["description"],f);const h=d(t,["baseModel"]);h!=null&&p(n,["baseModel"],h);const g=d(t,["tunedModel"]);g!=null&&p(n,["tunedModel"],g);const _=d(t,["preTunedModel"]);_!=null&&p(n,["preTunedModel"],_);const y=d(t,["supervisedTuningSpec"]);y!=null&&p(n,["supervisedTuningSpec"],y);const w=d(t,["preferenceOptimizationSpec"]);w!=null&&p(n,["preferenceOptimizationSpec"],w);const v=d(t,["tuningDataStats"]);v!=null&&p(n,["tuningDataStats"],v);const E=d(t,["encryptionSpec"]);E!=null&&p(n,["encryptionSpec"],E);const S=d(t,["partnerModelTuningSpec"]);S!=null&&p(n,["partnerModelTuningSpec"],S);const R=d(t,["customBaseModel"]);R!=null&&p(n,["customBaseModel"],R);const A=d(t,["experiment"]);A!=null&&p(n,["experiment"],A);const x=d(t,["labels"]);x!=null&&p(n,["labels"],x);const b=d(t,["outputUri"]);b!=null&&p(n,["outputUri"],b);const I=d(t,["pipelineJob"]);I!=null&&p(n,["pipelineJob"],I);const C=d(t,["serviceAccount"]);C!=null&&p(n,["serviceAccount"],C);const M=d(t,["tunedModelDisplayName"]);M!=null&&p(n,["tunedModelDisplayName"],M);const k=d(t,["veoTuningSpec"]);return k!=null&&p(n,["veoTuningSpec"],k),n}function vTe(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&p(n,["name"],i);const o=d(t,["metadata"]);o!=null&&p(n,["metadata"],o);const s=d(t,["done"]);s!=null&&p(n,["done"],s);const a=d(t,["error"]);return a!=null&&p(n,["error"],a),n}function YR(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _Te extends Ti{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Os(gi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:W_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=lTe(e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>ew(c))}else{const u=aTe(e);return a=re("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>tU(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=dTe(e);return a=re("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=pTe(c),h=new PR;return Object.assign(h,f),h})}else{const u=fTe(e);return a=re("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=hTe(c),h=new PR;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=nTe(e);s=re("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=tTe(e);s=re("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=sTe(e,e);return o=re("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>ew(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=oTe(e);return o=re("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>vTe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wTe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ETe=1024*1024*8,TTe=3,STe=1e3,bTe=2,Bp="x-goog-upload-status";async function ATe(t,e,n){var r;const i=await nU(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Bp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function ITe(t,e,n){var r;const i=await nU(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Bp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=RV(o),a=new WT;return Object.assign(a,s),a}async function nU(t,e,n){var r,i;let o=0,s=0,a=new K_(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(ETe,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,h=STe;for(;f<TTe&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Bp]));)f++,await CTe(h),h=h*bTe;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Bp])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function xTe(t){return{size:t.size,type:t.type}}function CTe(t){return new Promise(e=>setTimeout(e,t))}class PTe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ATe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ITe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xTe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RTe{create(e,n,r){return new NTe(e,n,r)}}class NTe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XR="x-goog-api-key";class kTe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(XR)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(XR,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MTe="gl-node/";class OTe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=cye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new kTe(this.apiKey);this.apiClient=new Jwe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:MTe+"web",uploader:new PTe,downloader:new wTe}),this.models=new pEe(this.apiClient),this.live=new lEe(this.apiClient,i,new RTe),this.batches=new Uve(this.apiClient),this.chats=new w0e(this.models,this.apiClient),this.caches=new y0e(this.apiClient),this.files=new R0e(this.apiClient),this.operations=new mEe(this.apiClient),this.authTokens=new NEe(this.apiClient),this.tunings=new _Te(this.apiClient),this.fileSearchStores=new eTe(this.apiClient)}}const DTe=new OTe({apiKey:"AIzaSyAM29gXXeHXgQSAF9JQu19wVUD2HOUD3ko"}),LTe=(t,e=600,n=.6)=>new Promise((r,i)=>{const o=new FileReader;o.readAsDataURL(t),o.onload=s=>{var l;const a=new Image;a.src=(l=s.target)==null?void 0:l.result,a.onload=()=>{const u=Math.min(a.width,a.height),c=(a.width-u)/2,f=(a.height-u)/2,h=document.createElement("canvas");h.width=e,h.height=e;const g=h.getContext("2d");if(!g){i(new Error("Canvas context missing"));return}g.drawImage(a,c,f,u,u,0,0,e,e);const _=h.toDataURL("image/jpeg",n);r(_)},a.onerror=u=>i(u)},o.onerror=s=>i(s)}),$Te=async(t,e)=>{try{const r=(await DTe.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[{inlineData:{data:t,mimeType:e}},{text:`You are an inventory manager for 'YSQUARE Bijoux'. 
            Your task is to identify this exact product from the official website.
            
            Steps:
            1. Use Google Search to find this product image on 'site:ysquarebijoux.com'.
            2. If you find a match, use the EXACT product name from the website (e.g., "18K Gold Plated Chunky Hoop Earrings").
            3. If no exact match is found on the website, generate a descriptive name following the brand style (Material + Shape + Type).
            4. Determine the category (Necklace, Earrings, Ring, Bracelet, Accessory).

            Return the result in JSON format.`}]},config:{tools:[{googleSearch:{}}],responseMimeType:"application/json",responseSchema:{type:dr.OBJECT,properties:{name:{type:dr.STRING,description:"The exact product name from the website"},category:{type:dr.STRING}},required:["name","category"]}}})).text;if(!r)throw new Error("No response from AI");const i=r.replace(/```json|```/g,"").trim();return JSON.parse(i)}catch(n){return console.error("Gemini Analysis Error:",n),{name:"",category:""}}},VTe=({message:t,type:e,onClose:n})=>{$.useEffect(()=>{const s=setTimeout(n,3e3);return()=>clearTimeout(s)},[n]);const r={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",info:"bg-blue-50 border-blue-200 text-blue-800"},o={success:TM,error:r3,info:p3}[e];return O.jsxs("div",{className:`fixed top-4 left-4 right-4 z-[100] flex items-start p-4 rounded-xl shadow-lg border animate-[slideIn_0.3s_ease-out] ${r[e]}`,children:[O.jsx(o,{className:"w-5 h-5 mt-0.5 mr-3 flex-shrink-0"}),O.jsx("p",{className:"flex-1 text-sm font-medium",children:t}),O.jsx("button",{onClick:n,className:"ml-2 text-current opacity-60 hover:opacity-100",children:O.jsx(Yv,{size:18})}),O.jsx("style",{children:`
        @keyframes slideIn {
          from { transform: translateY(-100%); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
      `})]})},rU=$.createContext(void 0),UTe=({children:t})=>{const[e,n]=$.useState(null),r=(i,o)=>{n({message:i,type:o})};return O.jsxs(rU.Provider,{value:{showToast:r},children:[t,e&&O.jsx(VTe,{message:e.message,type:e.type,onClose:()=>n(null)})]})},Eg=()=>{const t=$.useContext(rU);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},FTe=({refreshData:t})=>{const e=hl(),[n]=wM(),r=n.get("id"),{showToast:i}=Eg(),o=$.useRef(null),[s,a]=$.useState(""),[l,u]=$.useState(""),[c,f]=$.useState(""),[h,g]=$.useState(""),[_,y]=$.useState(null),[w,v]=$.useState(!1),[E,S]=$.useState(null),[R,A]=$.useState(!1),[x,b]=$.useState({[Zt.XS]:0,[Zt.S]:0,[Zt.M]:0,[Zt.L]:0,[Zt.OTHER]:0}),I=[" A","","",""];$.useEffect(()=>{if(r){const N=AP(r);N&&(a(N.name),u(N.category),f(N.location||""),g(N.note||""),y(N.imageUrl||null),b(N.stock))}},[r]);const C=()=>{navigator.vibrate&&navigator.vibrate(10)},M=async N=>{var H;const B=(H=N.target.files)==null?void 0:H[0];if(B){S(null),C();try{const G=await LTe(B,600,.6);y(G);{v(!0);const K=G.split(",")[1];try{const U=await $Te(K,"image/jpeg");a(U.name),u(U.category),C(),i("AI ","success")}catch{S("AI "),i("AI ","info")}finally{v(!1)}}}catch{i("","error")}}},k=(N,B)=>{b(H=>{const G=Math.max(0,H[N]+B);return G!==H[N]&&C(),{...H,[N]:G}})},D=()=>{var H;if(!s){i("","error");return}const N={id:r||Date.now().toString(),name:s,category:l||"",imageUrl:_||void 0,stock:x,location:c||"",note:h,createdAt:r&&((H=AP(r))==null?void 0:H.createdAt)||Date.now()};let B=!1;r?(B=Wge(N),B&&i("","success")):(B=zge(N),B&&i("","success")),B&&(navigator.vibrate&&navigator.vibrate(50),t(),R&&!r?(a(""),b({[Zt.XS]:0,[Zt.S]:0,[Zt.M]:0,[Zt.L]:0,[Zt.OTHER]:0}),g(""),y(null),window.scrollTo(0,0)):e("/inventory"))};return O.jsxs("div",{className:"min-h-screen bg-gray-50 pb-safe-area",children:[O.jsxs("div",{className:"bg-white px-4 py-3 sticky top-0 flex items-center justify-between shadow-sm z-10",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-gray-600",children:O.jsx(EM,{size:24})}),O.jsx("h1",{className:"text-lg font-bold ml-2",children:r?"":""})]}),!r&&O.jsxs("button",{onClick:()=>A(!R),className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full border ${R?"bg-brand-50 border-brand-200 text-brand-700":"bg-gray-50 border-gray-200 text-gray-500"}`,children:[O.jsx(S3,{size:12}),""]})]}),O.jsxs("div",{className:"p-4 space-y-6 pb-24",children:[O.jsxs("div",{className:"flex flex-col items-center",children:[O.jsxs("div",{onClick:()=>{var N;return(N=o.current)==null?void 0:N.click()},className:`w-40 h-40 bg-gray-100 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center cursor-pointer overflow-hidden relative shadow-sm ${E?"border-red-300":"border-gray-300"}`,children:[_?O.jsx("img",{src:_,alt:"Preview",className:"w-full h-full object-cover"}):O.jsxs(O.Fragment,{children:[O.jsx(b3,{size:32,className:"text-gray-400 mb-1 opacity-50"}),O.jsx("span",{className:"text-xs text-gray-400",children:""}),O.jsx("span",{className:"text-[10px] text-gray-300 mt-1",children:""})]}),w&&O.jsx("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center text-white backdrop-blur-sm",children:O.jsx(Kv,{className:"animate-spin mb-2"})})]}),O.jsx("input",{ref:o,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:M})]}),O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),O.jsxs("div",{className:"relative",children:[O.jsx("input",{type:"text",value:s,onChange:N=>a(N.target.value),placeholder:"T",className:"w-full border-b border-gray-200 py-2 focus:border-brand-500 focus:outline-none bg-transparent font-medium"}),w&&O.jsx(I3,{className:"absolute right-0 top-2 text-brand-400 animate-pulse",size:16})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),O.jsx("input",{type:"text",value:l,onChange:N=>u(N.target.value),placeholder:"",className:"w-full border-b border-gray-200 py-2 focus:border-brand-500 focus:outline-none bg-transparent"})]})]}),O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[O.jsxs("div",{className:"flex justify-between items-center mb-4",children:[O.jsx("h3",{className:"text-sm font-medium text-gray-700",children:""}),O.jsxs("span",{className:"text-xs text-gray-400 bg-gray-50 px-2 py-0.5 rounded",children:[": ",Object.values(x).reduce((N,B)=>N+B,0)]})]}),O.jsx("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:Object.values(Zt).map(N=>O.jsxs("div",{className:"flex items-center justify-between border-b border-gray-50 pb-2",children:[O.jsx("span",{className:"text-gray-600 font-medium text-sm w-8",children:N}),O.jsxs("div",{className:"flex items-center",children:[O.jsx("button",{onClick:()=>k(N,-1),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-l text-gray-600 active:bg-gray-200",children:"-"}),O.jsx("input",{type:"number",value:x[N],readOnly:!0,className:"w-10 text-center bg-gray-50 h-8 font-bold text-gray-800 text-sm"}),O.jsx("button",{onClick:()=>k(N,1),className:"w-8 h-8 flex items-center justify-center bg-brand-500 text-white rounded-r active:bg-brand-600",children:"+"})]})]},N))})]}),O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm space-y-4",children:[O.jsxs("div",{children:[O.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[O.jsx(AM,{size:16,className:"mr-1 text-gray-500"})," "]}),O.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:I.map(N=>O.jsx("button",{onClick:()=>f(N),className:`text-xs px-2 py-1 rounded-full border ${c===N?"bg-brand-50 border-brand-200 text-brand-700":"bg-gray-50 border-gray-200 text-gray-600"}`,children:N},N))}),O.jsx("input",{type:"text",value:c,onChange:N=>f(N.target.value),placeholder:"",className:"w-full border-b border-gray-200 py-1 text-sm focus:border-brand-500 focus:outline-none"})]}),O.jsxs("div",{children:[O.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[O.jsx(d3,{size:16,className:"mr-1 text-gray-500"})," "]}),O.jsx("textarea",{value:h,onChange:N=>g(N.target.value),placeholder:"...",rows:1,className:"w-full border-b border-gray-200 py-1 text-sm focus:border-brand-500 focus:outline-none resize-none"})]})]})]}),O.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t z-20 flex gap-3",children:[R&&!r&&O.jsx("div",{className:"flex-1 bg-gray-100 text-gray-400 font-bold py-3.5 rounded-xl flex items-center justify-center text-sm",children:""}),O.jsx("button",{onClick:D,className:"flex-[2] bg-brand-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-brand-500/20 active:scale-[0.98] transition-all",children:r?"":R?"":""})]})]})},BTe=({data:t,refreshData:e})=>{const n=hl(),{showToast:r}=Eg(),[i,o]=$.useState(null),[s,a]=$.useState(!1),[l,u]=$.useState(!1),[c,f]=$.useState(""),[h,g]=$.useState(!1),_=A=>A.slice(0,3).map(x=>{var b;return(b=t.items.find(I=>I.id===x))==null?void 0:b.imageUrl}),y=(A,x)=>{A.stopPropagation(),window.confirm("")&&(Xge(x),e())},w=(A,x)=>{A.stopPropagation(),n(`/create-bundle?id=${x}`)},v=async(A,x)=>{A.stopPropagation(),a(!0);try{const b=await iye(x);b?o(b):r("","error")}catch{r("","error")}finally{a(!1)}},E=async()=>{if(!c.trim()){r("","error");return}const A=c.trim();g(!0);try{await oye(A)?(r("","success"),e(),u(!1),f("")):r("","error")}catch{r("","error")}finally{g(!1)}},S=async()=>{try{const A=await navigator.clipboard.readText();A?f(A):r("","info")}catch{r("","error")}},R=A=>{let x=0;return A.forEach(b=>{const I=t.items.find(C=>C.id===b);I&&(x+=Object.values(I.stock).reduce((C,M)=>C+M,0))}),{styles:A.length,pieces:x}};return O.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[s&&O.jsx("div",{className:"fixed inset-0 bg-black/30 z-[60] flex items-center justify-center backdrop-blur-sm",children:O.jsxs("div",{className:"bg-white px-6 py-4 rounded-xl shadow-xl flex items-center gap-3",children:[O.jsx(Kv,{className:"animate-spin text-brand-600"}),O.jsx("span",{className:"font-bold text-gray-700",children:"..."})]})}),O.jsxs("div",{className:"bg-white px-4 pt-4 pb-4 sticky top-0 z-10 shadow-sm flex justify-between items-center",children:[O.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),O.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-1 text-xs font-bold text-brand-600 bg-brand-50 px-3 py-1.5 rounded-full border border-brand-100 active:bg-brand-100",children:[O.jsx(cA,{size:14})," "]})]}),O.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-24",children:t.bundles.length===0?O.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[O.jsx(SM,{size:48,className:"mb-4 opacity-20"}),O.jsx("p",{children:""})]}):t.bundles.map(A=>{const x=_(A.itemIds),{styles:b,pieces:I}=R(A.itemIds);return O.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 active:bg-gray-50 transition-colors cursor-pointer group",children:[O.jsxs("div",{className:"flex justify-between items-start mb-3",children:[O.jsxs("div",{children:[O.jsx("h3",{className:"font-bold text-gray-900",children:A.name}),O.jsx("p",{className:"text-xs text-gray-500 mt-1",children:A.description||""})]}),O.jsxs("div",{className:"flex gap-1",children:[O.jsx("button",{onClick:C=>w(C,A.id),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"",children:O.jsx(E3,{size:16})}),O.jsx("button",{onClick:C=>v(C,A.id),className:"p-1.5 text-gray-400 hover:text-brand-600 hover:bg-brand-50 rounded-full transition-colors",title:"",children:O.jsx(Jv,{size:16})}),O.jsx("button",{onClick:C=>y(C,A.id),className:"p-1.5 text-gray-300 hover:text-red-500",children:O.jsx(CM,{size:16})})]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("div",{className:"flex -space-x-2",children:[x.map((C,M)=>O.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-gray-200 overflow-hidden",children:C?O.jsx("img",{src:C,alt:"",className:"w-full h-full object-cover"}):O.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-300",children:O.jsx("span",{className:"text-[8px]",children:""})})},M)),b>3&&O.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-gray-100 flex items-center justify-center text-xs font-bold text-gray-500",children:["+",b-3]})]}),O.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[" ",O.jsx("span",{className:"font-bold text-gray-600",children:b}),"  ",O.jsx("span",{className:"font-bold text-brand-600",children:I})," "]})]})]},A.id)})}),O.jsx("button",{onClick:()=>n("/create-bundle"),className:"fixed bottom-20 right-4 w-14 h-14 bg-brand-600 text-white rounded-full shadow-lg shadow-brand-500/30 flex items-center justify-center hover:bg-brand-700 active:scale-95 transition-all z-20",children:O.jsx(IM,{size:28})}),i&&O.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-6 backdrop-blur-sm animate-[fadeIn_0.2s_ease-out]",children:O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-[scaleIn_0.2s_ease-out]",children:[O.jsxs("div",{className:"bg-brand-600 p-4 flex justify-between items-center",children:[O.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[O.jsx(Jv,{size:20})," "]}),O.jsx("button",{onClick:()=>o(null),className:"text-white/80 hover:text-white bg-white/10 rounded-full p-1",children:O.jsx(Yv,{size:20})})]}),O.jsxs("div",{className:"p-6",children:[O.jsx("p",{className:"text-sm text-gray-600 mb-3",children:""}),O.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-3 mb-4 relative group",children:O.jsx("div",{className:"w-full py-2 bg-transparent text-xl text-brand-700 font-mono font-bold text-center tracking-wider select-all",children:i})}),O.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(i).then(()=>r("","success"))},className:"w-full bg-brand-600 text-white font-bold py-3 rounded-xl hover:bg-brand-700 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[O.jsx(u3,{size:18})," "]})]})]})}),l&&O.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-6 backdrop-blur-sm animate-[fadeIn_0.2s_ease-out]",children:O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden animate-[scaleIn_0.2s_ease-out]",children:[O.jsxs("div",{className:"bg-brand-600 p-4 flex justify-between items-center",children:[O.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[O.jsx(cA,{size:20})," "]}),O.jsx("button",{onClick:()=>u(!1),className:"text-white/80 hover:text-white bg-white/10 rounded-full p-1",children:O.jsx(Yv,{size:20})})]}),O.jsxs("div",{className:"p-6",children:[O.jsx("p",{className:"text-sm text-gray-600 mb-3",children:" (WS-...)"}),O.jsxs("div",{className:"relative mb-4",children:[O.jsx("textarea",{value:c,onChange:A=>f(A.target.value),placeholder:"...",className:"w-full h-16 bg-gray-50 border border-gray-200 rounded-xl p-3 text-sm text-gray-800 font-mono break-all resize-none focus:outline-none focus:border-brand-500 focus:ring-1 focus:ring-brand-500"}),O.jsxs("button",{onClick:S,className:"absolute bottom-2 right-2 text-[10px] bg-white border border-gray-200 px-2 py-1 rounded-md text-brand-600 font-bold flex items-center gap-1 shadow-sm hover:bg-gray-50",children:[O.jsx(a3,{size:12})," "]})]}),O.jsx("button",{onClick:E,disabled:h,className:"w-full bg-brand-600 text-white font-bold py-3 rounded-xl hover:bg-brand-700 active:scale-[0.98] transition-all flex justify-center",children:h?O.jsx(Kv,{className:"animate-spin"}):""})]})]})})]})},qTe=({data:t,refreshData:e})=>{const n=hl(),[r]=wM(),i=r.get("id"),{showToast:o}=Eg(),[s,a]=$.useState(""),[l,u]=$.useState(""),[c,f]=$.useState(new Set),[h,g]=$.useState("");$.useEffect(()=>{if(i){const v=IP(i);v&&(a(v.name),u(v.description),f(new Set(v.itemIds)))}},[i]);const _=v=>{const E=new Set(c);E.has(v)?E.delete(v):E.add(v),f(E)},y=()=>{var E;if(!s){o("","error");return}if(c.size===0){o("","error");return}const v={id:i||Date.now().toString(),name:s,description:l,itemIds:Array.from(c),createdAt:i&&((E=IP(i))==null?void 0:E.createdAt)||Date.now()};i?(Yge(v),o("","success")):(Jge(v),o("","success")),e(),n("/bundles")},w=t.items.filter(v=>v.name.toLowerCase().includes(h.toLowerCase()));return O.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 pb-safe-area",children:[O.jsxs("div",{className:"bg-white px-4 py-3 shadow-sm z-10",children:[O.jsxs("div",{className:"flex items-center mb-4",children:[O.jsx("button",{onClick:()=>n(-1),className:"p-2 -ml-2 text-gray-600",children:O.jsx(EM,{size:24})}),O.jsx("h1",{className:"text-lg font-bold ml-2",children:i?"":""}),O.jsx("button",{onClick:y,className:"ml-auto text-brand-600 font-bold text-sm px-3 py-1 rounded-full bg-brand-50",children:""})]}),O.jsx("input",{type:"text",placeholder:" (: )",value:s,onChange:v=>a(v.target.value),className:"w-full text-lg font-bold placeholder-gray-300 border-none focus:ring-0 p-0 mb-2"}),O.jsx("input",{type:"text",placeholder:"...",value:l,onChange:v=>u(v.target.value),className:"w-full text-sm text-gray-600 placeholder-gray-300 border-none focus:ring-0 p-0"})]}),O.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[O.jsx("div",{className:"p-4 bg-gray-50 border-b",children:O.jsxs("div",{className:"relative",children:[O.jsx(xM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),O.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-white rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none shadow-sm",value:h,onChange:v=>g(v.target.value)})]})}),O.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:w.map(v=>{const E=c.has(v.id),S=Object.values(v.stock).reduce((R,A)=>R+A,0);return O.jsxs("div",{onClick:()=>_(v.id),className:`flex items-center p-3 rounded-xl border transition-all cursor-pointer ${E?"bg-brand-50 border-brand-200":"bg-white border-gray-100"}`,children:[O.jsx("div",{className:`mr-4 ${E?"text-brand-500":"text-gray-300"}`,children:E?O.jsx(TM,{size:24,fill:"currentColor",className:"text-white bg-brand-500 rounded-full"}):O.jsx(s3,{size:24})}),O.jsx("div",{className:"w-12 h-12 rounded bg-gray-100 mr-3 overflow-hidden",children:v.imageUrl&&O.jsx("img",{src:v.imageUrl,className:"w-full h-full object-cover",alt:""})}),O.jsxs("div",{children:[O.jsx("h4",{className:`font-medium ${E?"text-brand-900":"text-gray-800"}`,children:v.name}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("span",{className:"text-xs text-gray-500",children:v.category}),O.jsxs("span",{className:"text-xs text-brand-600 bg-brand-50 px-1 rounded",children:[": ",S]})]})]})]},v.id)})})]}),O.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4 flex justify-between items-center text-sm font-medium text-gray-600 shadow-lg",children:O.jsxs("span",{children:[" ",c.size," "]})})]})},iU=$.createContext(void 0),jTe=()=>{const t=$.useContext(iU);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},HTe=({children:t})=>{const[e,n]=$.useState(null),[r,i]=$.useState(!0),o=async()=>{try{await Kme(gu,qge)}catch(u){throw console.error(u),u}},s=async(u,c)=>{await Sme(gu,u,c)},a=async(u,c)=>{await bme(gu,u,c)},l=async()=>{await Cme(gu)};return $.useEffect(()=>xme(gu,c=>{n(c),jge(c),i(!1)}),[]),O.jsx(iU.Provider,{value:{currentUser:e,loading:r,login:o,logout:l,signupEmail:s,loginEmail:a},children:!r&&t})},GTe=({refreshData:t})=>{var G,K,U;const{showToast:e}=Eg(),{currentUser:n,login:r,logout:i,loginEmail:o,signupEmail:s}=jTe(),a=$.useRef(null),[l,u]=$.useState(PV()),c=tye(),[f,h]=$.useState(!1),[g,_]=$.useState(!1),[y,w]=$.useState(""),[v,E]=$.useState(""),[S,R]=$.useState(!1),[A,x]=$.useState(!1),b=/MicroMessenger/i.test(navigator.userAgent),I=()=>{nye(),e("","success")},C=()=>{var q;window.confirm(" ")&&((q=a.current)==null||q.click())},M=q=>{var Q;const Y=(Q=q.target.files)==null?void 0:Q[0];if(!Y)return;const te=new FileReader;te.onload=ue=>{var ye;rye((ye=ue.target)==null?void 0:ye.result)?(e("","success"),t&&t()):e("","error"),a.current&&(a.current.value="")},te.readAsText(Y)},k=()=>{if(l)window.confirm("")&&(eye(),u(!1),e("","info"));else{const q=prompt(" 6  PIN ");q&&q.length>=4?(Qge(q),u(!0),e("","success")):q&&e("","error")}},D=async q=>{if(!n){e("","error");return}if(window.confirm(q==="up"?"":"")){x(!0);try{await Gge(q),e("","success")}catch(Y){e(": "+Y.message,"error")}finally{x(!1)}}},N=async()=>{if(b){e("","info");return}try{await r(),h(!1),e("","success")}catch{e("","error")}},B=async q=>{q.preventDefault(),R(!0);try{g?(await s(y,v),e("","success")):(await o(y,v),e("","success")),h(!1)}catch(Y){e(Y.message.includes("auth/invalid-credential")?"":": "+Y.code,"error")}finally{R(!1)}},H=n?n.uid.slice(-6).toUpperCase():"";return O.jsxs("div",{className:"min-h-screen bg-gray-50 pb-safe-area",children:[O.jsxs("div",{className:"bg-gray-900 text-white p-6 pt-10 pb-16 rounded-b-[2.5rem] shadow-sm relative overflow-hidden",children:[O.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[O.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white/20 bg-brand-500 flex items-center justify-center",children:n!=null&&n.photoURL?O.jsx("img",{src:n.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):O.jsx("span",{className:"text-xl font-bold",children:n?(((G=n.displayName)==null?void 0:G[0])||((K=n.email)==null?void 0:K[0])||"U").toUpperCase():""})}),O.jsx("div",{children:n?O.jsxs(O.Fragment,{children:[O.jsx("h1",{className:"text-xl font-bold",children:n.displayName||((U=n.email)==null?void 0:U.split("@")[0])||""}),O.jsxs("p",{className:"text-gray-400 text-xs flex items-center gap-1 mt-1 font-mono bg-white/10 px-2 py-0.5 rounded-full w-fit",children:["ID: ",H," ",O.jsx(l3,{size:10,className:"text-green-400 ml-1"})]})]}):O.jsxs(O.Fragment,{children:[O.jsx("h1",{className:"text-xl font-bold",children:""}),O.jsx("p",{className:"text-gray-400 text-sm",children:""})]})})]}),O.jsx("div",{className:"absolute top-8 right-6",children:n?O.jsx("button",{onClick:i,className:"p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:O.jsx(v3,{size:20})}):O.jsxs("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-brand-600 hover:bg-brand-500 rounded-full text-sm font-bold flex items-center gap-2 transition-colors",children:[O.jsx(y3,{size:16})," "]})})]}),O.jsxs("div",{className:"px-4 -mt-10 space-y-4 pb-24 relative z-20",children:[n&&O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[O.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 flex items-center gap-2",children:[O.jsx(T3,{size:18,className:`text-brand-600 ${A?"animate-spin":""}`}),O.jsx("h2",{className:"font-bold text-gray-800",children:""})]}),O.jsxs("div",{className:"p-4 flex gap-3",children:[O.jsx("button",{onClick:()=>D("up"),className:"flex-1 py-2 bg-gray-50 hover:bg-brand-50 text-brand-700 text-xs font-bold rounded-lg border border-transparent hover:border-brand-200 transition-all",children:"  ()"}),O.jsx("button",{onClick:()=>D("down"),className:"flex-1 py-2 bg-gray-50 hover:bg-blue-50 text-blue-700 text-xs font-bold rounded-lg border border-transparent hover:border-blue-200 transition-all",children:"  ()"})]}),O.jsx("div",{className:"px-4 pb-2 text-[10px] text-gray-400 text-center",children:" ID "})]}),O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[O.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 flex items-center gap-2",children:[O.jsx(A3,{size:18,className:"text-brand-600"}),O.jsx("h2",{className:"font-bold text-gray-800",children:""})]}),O.jsx("div",{className:"p-0",children:O.jsxs("button",{onClick:k,className:"w-full px-4 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${l?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500"}`,children:O.jsx(bM,{size:20})}),O.jsxs("div",{className:"text-left",children:[O.jsx("span",{className:"block text-sm font-bold text-gray-800",children:""}),O.jsx("span",{className:"block text-xs text-gray-500",children:l?" ()":" ()"})]})]}),O.jsx(o3,{size:16,className:"text-gray-300"})]})})]}),O.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[O.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 flex items-center gap-2",children:[O.jsx(c3,{size:18,className:"text-blue-600"}),O.jsx("h2",{className:"font-bold text-gray-800",children:""})]}),O.jsxs("div",{className:"p-4 grid grid-cols-2 gap-4",children:[O.jsxs("button",{onClick:I,className:"flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 rounded-xl p-4 transition-colors",children:[O.jsx(f3,{size:24,className:"text-gray-600 mb-2"}),O.jsx("span",{className:"text-sm font-bold text-gray-800",children:""})]}),O.jsxs("button",{onClick:C,className:"flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 rounded-xl p-4 transition-colors",children:[O.jsx(x3,{size:24,className:"text-gray-600 mb-2"}),O.jsx("span",{className:"text-sm font-bold text-gray-800",children:""})]}),O.jsx("input",{ref:a,type:"file",accept:".json",className:"hidden",onChange:M})]}),O.jsxs("div",{className:"px-4 py-2 bg-gray-50 text-[10px] text-gray-400 text-center",children:[": ",c]})]}),!n&&O.jsxs("div",{className:"p-4 bg-yellow-50 text-yellow-800 text-xs rounded-xl border border-yellow-100 text-center",children:["",O.jsx("br",{}),""]})]}),f&&O.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:O.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-[scaleIn_0.2s_ease-out]",children:[O.jsxs("div",{className:"p-6 pb-0",children:[O.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:g?"":""}),O.jsx("p",{className:"text-sm text-gray-500 mb-6",children:""}),O.jsxs("form",{onSubmit:B,className:"space-y-4",children:[O.jsxs("div",{className:"space-y-1",children:[O.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1",children:""}),O.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl px-3 border border-gray-200 focus-within:border-brand-500 focus-within:ring-1 focus-within:ring-brand-500 transition-all",children:[O.jsx(_3,{size:18,className:"text-gray-400"}),O.jsx("input",{type:"email",required:!0,className:"flex-1 bg-transparent py-3 px-2 outline-none text-sm",placeholder:"name@example.com",value:y,onChange:q=>w(q.target.value)})]})]}),O.jsxs("div",{className:"space-y-1",children:[O.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1",children:""}),O.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl px-3 border border-gray-200 focus-within:border-brand-500 focus-within:ring-1 focus-within:ring-brand-500 transition-all",children:[O.jsx(m3,{size:18,className:"text-gray-400"}),O.jsx("input",{type:"password",required:!0,minLength:6,className:"flex-1 bg-transparent py-3 px-2 outline-none text-sm",placeholder:"6",value:v,onChange:q=>E(q.target.value)})]})]}),O.jsx("button",{type:"submit",disabled:S,className:"w-full bg-brand-600 text-white font-bold py-3 rounded-xl hover:bg-brand-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:S?O.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):g?"":""})]}),O.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs",children:[O.jsx("button",{type:"button",onClick:()=>_(!g),className:"text-brand-600 font-bold hover:underline",children:g?"":""}),O.jsx("button",{type:"button",onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:""})]})]}),O.jsxs("div",{className:"relative my-6",children:[O.jsx("div",{className:"absolute inset-0 flex items-center",children:O.jsx("div",{className:"w-full border-t border-gray-100"})}),O.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:O.jsx("span",{className:"bg-white px-2 text-gray-400",children:""})})]}),O.jsx("div",{className:"p-6 pt-0 bg-gray-50/50",children:O.jsxs("button",{onClick:N,className:`w-full bg-white border border-gray-200 text-gray-700 font-bold py-3 rounded-xl flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors ${b?"opacity-50 cursor-not-allowed":""}`,children:[O.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[O.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),O.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),O.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),O.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google  ",b&&"()"]})})]})})]})},zTe=({onUnlock:t})=>{const[e,n]=$.useState(""),[r,i]=$.useState(!1),o=()=>{Zge(e)?t():(i(!0),n(""),setTimeout(()=>i(!1),500))};return O.jsxs("div",{className:"h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-8",children:[O.jsx("div",{className:"mb-8 p-6 bg-gray-800 rounded-full",children:O.jsx(bM,{size:48,className:"text-brand-500"})}),O.jsx("h2",{className:"text-2xl font-bold mb-8",children:"WeStock "}),O.jsxs("div",{className:"w-full max-w-xs relative",children:[O.jsx("input",{type:"password",value:e,onChange:s=>n(s.target.value),placeholder:"PIN",maxLength:6,className:`w-full bg-gray-800 border-2 ${r?"border-red-500 animate-pulse":"border-gray-700"} rounded-xl px-4 py-4 text-center text-2xl tracking-[0.5em] focus:outline-none focus:border-brand-500`}),O.jsx("button",{onClick:o,className:"absolute right-2 top-2 bottom-2 bg-brand-600 px-4 rounded-lg flex items-center justify-center",children:O.jsx(i3,{})})]})]})},WTe=({children:t})=>{const e=cf(),r=!["/add-item","/create-bundle"].includes(e.pathname);return O.jsxs("div",{className:"font-sans text-gray-900 bg-gray-50 min-h-screen",children:[O.jsx("main",{className:r?"pb-16":"",children:t}),r&&O.jsx(C3,{})]})},KTe=()=>{const[t,e]=$.useState({items:[],bundles:[]}),[n,r]=$.useState(PV()),i=()=>e(bn());return $.useEffect(()=>{i()},[]),n?O.jsx(zTe,{onUnlock:()=>r(!1)}):O.jsx(e3,{children:O.jsx(WTe,{children:O.jsxs(YB,{children:[O.jsx(Uo,{path:"/",element:O.jsx(xue,{data:t})}),O.jsx(Uo,{path:"/inventory",element:O.jsx(sye,{data:t,refreshData:i})}),O.jsx(Uo,{path:"/add-item",element:O.jsx(FTe,{refreshData:i})}),O.jsx(Uo,{path:"/bundles",element:O.jsx(BTe,{data:t,refreshData:i})}),O.jsx(Uo,{path:"/create-bundle",element:O.jsx(qTe,{data:t,refreshData:i})}),O.jsx(Uo,{path:"/share",element:O.jsx(GTe,{refreshData:i})})]})})})},JTe=()=>O.jsx(HTe,{children:O.jsx(UTe,{children:O.jsx(KTe,{})})}),oU=document.getElementById("root");if(!oU)throw new Error("Could not find root element to mount to");const YTe=Qy.createRoot(oU);YTe.render(O.jsx(F.StrictMode,{children:O.jsx(JTe,{})}));
